<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I think there are some problems with connection in Moscow in general.",
                    "corrected": "I think there are some problems with the connection in Moscow in general.",
                    "explanation": "The article 'the' is missing before 'connection' to specify which connection is being referred to.",
                    "context": "In our conversation, I'm trying to identify the issues we're facing. I think there are some problems with the connection in Moscow in general. This is impacting our communication."
                },
                {
                    "original": "However, it's had some problems with connection and currently it isn't working.",
                    "corrected": "However, it has had some problems with the connection and currently it isn't working.",
                    "explanation": "'It's' should be changed to 'it has' to correctly represent the perfect tense; 'the' should precede 'connection.'",
                    "context": "I’m discussing the technical issues I'm experiencing with my equipment. However, it has had some problems with the connection and currently it isn't working. This complicates our internet usage."
                },
                {
                    "original": "That thing happens to stabilize your connection a lot, so I recommend buying it.",
                    "corrected": "That thing helps to stabilize your connection a lot, so I recommend buying it.",
                    "explanation": "The phrase 'happens to stabilize' is awkward; 'helps to stabilize' is more idiomatic.",
                    "context": "I'm explaining the benefits of a LAN cable. That thing helps to stabilize your connection a lot, so I recommend buying it. It will enhance your internet experience."
                },
                {
                    "original": "I have, but it's very bad.",
                    "corrected": "I have one, but it's very bad.",
                    "explanation": "Adding 'one' clarifies that the speaker has a VPN, providing specificity.",
                    "context": "When asked about my VPN availability, I wanted to clarify my situation. I have one, but it's very bad. It doesn't work well enough for our needs."
                },
                {
                    "original": "The second idea, like the I like to just say also, comma, and then the second idea.",
                    "corrected": "For the second idea, I like to say 'also,' and then state the second idea.",
                    "explanation": "The structure is unclear, leading to confusion; proper introduction of ideas is necessary.",
                    "context": "As we structure our essay, clarity is key in our outlining process. For the second idea, I like to say 'also,' and then state the second idea. This helps in organizing our arguments."
                },
                {
                    "original": "Okay, so this is our introduction. This is the plan.",
                    "corrected": "Okay, so this is our introduction and the plan.",
                    "explanation": "Using 'and' instead of 'This is' creates a more fluid connection between the two sentences.",
                    "context": "I want to signal a transition in our writing process. Okay, so this is our introduction and the plan. This sets the stage for what we're about to write."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "more readable by removing maybe redundant on this report.",
                    "corrected": "more readable by removing maybe redundant parts from this report.",
                    "explanation": "The phrase 'redundant on' is incorrect; it should include 'parts from' to clarify what is being removed.",
                    "context": "In our discussion about improving the report, I suggested making it more readable by removing maybe redundant parts from this report. It's important to eliminate unnecessary content for clarity."
                },
                {
                    "original": "Because I know that when we're writing a sentence, we're fully in the sentence.",
                    "corrected": "Because I know that when we're writing a sentence, we're fully focused on that sentence.",
                    "explanation": "The phrase 'in the sentence' is vague; 'focused on' better conveys concentration on the sentence being written.",
                    "context": "When we write, we often become fully focused on that sentence. Because I know that when we're writing a sentence, we're fully focused on that sentence, we might struggle to see the bigger picture."
                },
                {
                    "original": "Maybe some parts of it are redundant if we already mentioned something in the introduction.",
                    "corrected": "Some parts may be redundant if we have already mentioned something in the introduction.",
                    "explanation": "The phrase 'maybe some parts' should be rephrased for clarity as 'some parts may'; 'have' is needed for correct verb tense.",
                    "context": "In reviewing the structure of our essay, I noted that some parts may be redundant if we have already mentioned something in the introduction. This helps streamline our writing."
                },
                {
                    "original": "I really like that. Here you thought about like this him or her about the gender gender neutral pronouns sometimes.",
                    "corrected": "I really like that you considered gender-neutral pronouns, like 'they' instead of 'him or her'.",
                    "explanation": "The phrase 'thought about like this him or her' is awkward; it should specify 'considered gender-neutral pronouns'.",
                    "context": "I really like that you considered gender-neutral pronouns, like 'they' instead of 'him or her'. It's an important aspect of writing inclusively."
                },
                {
                    "original": "What is native people?",
                    "corrected": "What are native people?",
                    "explanation": "'What is native people?' is grammatically incorrect; 'are' should be used for plural nouns.",
                    "context": "In discussing language, someone asked, 'What are native people?' It’s good to understand the correct terminology when addressing this topic."
                },
                {
                    "original": "because that technically will work.",
                    "corrected": "because that will technically work.",
                    "explanation": "The word 'technically' should come after 'will' for proper word order.",
                    "context": "I mentioned that using English in non-native environments can be tricky, and I said that because that will technically work, we can still communicate effectively."
                },
                {
                    "original": "I'm not. What is the grammatical structure of this sentence done like is it.",
                    "corrected": "I'm not sure. What is the grammatical structure of this sentence, like, is it complete?",
                    "explanation": "The phrase 'done like is it' is unclear; it should be rephrased for clarity and coherence.",
                    "context": "When analyzing a sentence, I expressed confusion: 'I'm not sure. What is the grammatical structure of this sentence, like, is it complete?' Clarity is essential in grammar discussions."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I will write that after like all the limitations were removed, people were much eager to go to offline classes.",
                    "corrected": "I will write that after all the limitations were removed, people were much more eager to go to offline classes.",
                    "explanation": "'Much eager' is incorrect; it should be 'much more eager' for proper comparative structure.",
                    "context": "I observed that after all the restrictions were lifted, people seemed very enthusiastic about returning to their offline classes. I will write that after all the limitations were removed, people were much more eager to go to offline classes."
                },
                {
                    "original": "Some people believe. There is an opinion that there is a belief that.",
                    "corrected": "Some people believe. It is believed that.",
                    "explanation": "'There is an opinion that there is a belief that' is unnecessarily repetitive and awkward; more natural phrasing helps convey the idea succinctly.",
                    "context": "I think it’s essential to express opinions clearly while avoiding redundancy. Some people believe. It is believed that."
                },
                {
                    "original": "After the pandemic ended, what did you do? Did your relationship, did your relationships change in any way?",
                    "corrected": "After the pandemic ended, how did your relationships change, if at all?",
                    "explanation": "The repetition of 'did your relationship, did your relationships' is awkward; it should be streamlined for clarity.",
                    "context": "Reflecting on the past, I wonder how relationships evolved post-pandemic. After the pandemic ended, how did your relationships change, if at all?"
                },
                {
                    "original": "We need some, we need a second sentence.",
                    "corrected": "We need a second sentence.",
                    "explanation": "The repetition indicates hesitation and is unnecessary; clarity is better served with a single, definitive statement.",
                    "context": "While drafting, it's crucial to maintain focus and coherence. We need a second sentence."
                },
                {
                    "original": "Did it, did it became weaker or stronger?",
                    "corrected": "Did it become weaker or stronger?",
                    "explanation": "'Did it became' is incorrect; 'did' always requires the base form of the verb, which is 'become.'",
                    "context": "When assessing relationships, it's important to note changes. Did it become weaker or stronger?"
                },
                {
                    "original": "It's easier for them to discuss something offline.",
                    "corrected": "It's easier for them to discuss something in person.",
                    "explanation": "'Discuss something offline' can sound informal and ambiguous; 'in person' clarifies the context.",
                    "context": "We emphasized the differences in communication methods. It's easier for them to discuss something in person."
                },
                {
                    "original": "Like, it should point at those things, but it's better be some fact that proves that because for now it's just an opinion.",
                    "corrected": "It should point to those things, but it’s better if it includes a fact that proves this because for now it's just an opinion.",
                    "explanation": "The phrase 'it's better be' is incorrect; 'it's better if it includes' clarifies and completes the thought grammatically.",
                    "context": "When constructing arguments, backing them with facts is vital. It should point to those things, but it’s better if it includes a fact that proves this."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "To learn the culture because we're talking about specific countries culture.",
                    "corrected": "To learn the culture because we're talking about the culture of specific countries.",
                    "explanation": "The phrase 'specific countries culture' is missing an article and requires a possessive form to clarify the relationship.",
                    "context": "When discussing education, it’s important to specify the cultural context. To learn the culture because we're talking about the culture of specific countries makes it clearer."
                },
                {
                    "original": "To lose bond is just not idiomatic.",
                    "corrected": "To lose a bond is just not idiomatic.",
                    "explanation": "The phrase 'to lose bond' is missing an article. It should include 'a' to refer to a specific bond.",
                    "context": "Relationships change over time, and the language we use should reflect that. To lose a bond is just not idiomatic for what we experience."
                },
                {
                    "original": "Your relationships. Relationships. That sounds awkward.",
                    "corrected": "Your relationships. That sounds awkward.",
                    "explanation": "The repetition of 'Relationships' is unnecessary and disrupts the flow of speech.",
                    "context": "When I reflect on personal connections, I realize the way we talk about them matters. Your relationships can be strengthened, but some phrases sound awkward."
                },
                {
                    "original": "Then the words won't be enough.",
                    "corrected": "Then the words aren't enough.",
                    "explanation": "The incorrect tense 'won't be' suggests a future condition, whereas 'aren't' correctly expresses a current state.",
                    "context": "In expressing my feelings, I’ve learned that simplicity often expresses deeper emotions. Then the words aren't enough to capture the complexity."
                },
                {
                    "original": "The COVID-19 pandemic.",
                    "corrected": "The COVID-19 pandemic.",
                    "explanation": "Although this line is technically correct, it clarifies a point about the context in which COVID-19 is discussed.",
                    "context": "In discussing current events, clarity is vital. The COVID-19 pandemic significantly impacts our communication styles and relationships."
                },
                {
                    "original": "It's a smoother connection. Face to face.",
                    "corrected": "It's a smoother connection face to face.",
                    "explanation": "The phrase should be combined for smoothness and clarity without a period breaking the thought.",
                    "context": "When considering how we interact, I find the nuances of communication fascinating. It's a smoother connection face to face, emphasizing direct engagement."
                },
                {
                    "original": "We can do that technically, but then the sentence would be too short.",
                    "corrected": "We can do that technically, but the sentence would then be too short.",
                    "explanation": "The placement of 'then' should follow 'would' for clearer logical progression.",
                    "context": "In writing, I often grapple with structure and length. We can do that technically, but the sentence would then be too short for detail."
                },
                {
                    "original": "So is a connector the same as however in conclusion, for example.",
                    "corrected": "So is a connector the same as 'however' or 'in conclusion', for example?",
                    "explanation": "The sentence lacks proper punctuation and structure, making it confusing. Quotation marks should also be used for clarity.",
                    "context": "When talking about various connectors in writing, clarity is crucial. So is a connector the same as 'however' or 'in conclusion', for example?"
                },
                {
                    "original": "How do we show that it's a connector?",
                    "corrected": "How do we show that it's a connector like 'however'?",
                    "explanation": "The sentence needs specificity to clarify what kind of connector is being referred to.",
                    "context": "Understanding the function of words in contexts helps in enhancing writing skills. How do we show that it's a connector like 'however'?"
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Connection",
                    "definition": "A relationship or link between two or more things.",
                    "context": {
                        "Context 1": "The connection is more or less stabilized now after switching networks.",
                        "Context 2": "He felt a strong emotional connection with the music during the concert.",
                        "Context 3": "The artist drew inspiration from the connection between nature and urban life."
                    }
                },
                {
                    "word": "Stabilize",
                    "definition": "To make or become steady and secure.",
                    "context": {
                        "Context 1": "The internet connection seems to have stabilized after the adjustment.",
                        "Context 2": "The government worked hard to stabilize the economy during the crisis.",
                        "Context 3": "She used weights to stabilize her posture while performing yoga."
                    }
                },
                {
                    "word": "Prototype",
                    "definition": "An original model on which something is based or formed.",
                    "context": {
                        "Context 1": "The prototype of the essay section needs to be clear and coherent.",
                        "Context 2": "The engineers created a prototype of the new electric car for testing.",
                        "Context 3": "She built a prototype of a gadget to demonstrate her innovative idea."
                    }
                },
                {
                    "word": "VPN (Virtual Private Network)",
                    "definition": "A secure network created over a public network to protect user privacy.",
                    "context": {
                        "Context 1": "Installing a proper VPN on your computer can improve internet security.",
                        "Context 2": "He used a VPN to access restricted content while traveling abroad.",
                        "Context 3": "The company implemented a VPN for remote workers to ensure data security."
                    }
                },
                {
                    "word": "Autocorrect",
                    "definition": "A feature that automatically corrects misspelled words as you type.",
                    "context": {
                        "Context 1": "Relying too much on autocorrect can lead to misunderstandings in your writing.",
                        "Context 2": "She felt embarrassed when autocorrect changed her sweet message to something silly.",
                        "Context 3": "Autocorrect can be both helpful and frustrating, depending on the situation."
                    }
                },
                {
                    "word": "Coherent",
                    "definition": "Logical and consistent; able to be understood clearly.",
                    "context": {
                        "Context 1": "The goal is to write coherent body paragraphs for the essay.",
                        "Context 2": "His speech was coherent, and everyone understood his points clearly.",
                        "Context 3": "A coherent argument is essential for persuading the audience in debates."
                    }
                },
                {
                    "word": "Draft",
                    "definition": "A preliminary version of a piece of writing.",
                    "context": {
                        "Context 1": "I will draft the introduction before moving on to the body paragraphs.",
                        "Context 2": "The author submitted the first draft of her novel to the publisher.",
                        "Context 3": "Writing a draft helps clarify your thoughts before finalizing the text."
                    }
                },
                {
                    "word": "Phrasing",
                    "definition": "The way something is expressed in words.",
                    "context": {
                        "Context 1": "Changing the phrasing can improve clarity in the essay.",
                        "Context 2": "The singer's unique phrasing made the song unforgettable.",
                        "Context 3": "Phrasing your request politely can lead to better responses from others."
                    }
                },
                {
                    "word": "Argument",
                    "definition": "A reason or set of reasons given in support of an idea or opinion.",
                    "context": {
                        "Context 1": "We were discussing how arguments can affect our communication offline.",
                        "Context 2": "Her argument was so compelling that everyone agreed with her point of view.",
                        "Context 3": "In the debate, both sides had strong arguments that kept the audience engaged."
                    }
                },
                {
                    "word": "Drafting",
                    "definition": "The process of creating a preliminary version of a text.",
                    "context": {
                        "Context 1": "We should start drafting the essay soon to meet the deadline.",
                        "Context 2": "Drafting a budget helps you plan your finances effectively.",
                        "Context 3": "He spent hours drafting his speech to ensure it was perfect."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Autocorrect",
                    "fact": "Did you know that the first autocorrect feature was developed in 1975? It was used in word processors, long before smartphones!"
                },
                {
                    "word": "Argument",
                    "fact": "The word 'argument' comes from the Latin 'arguere', which means 'to declare or tell,' often leading to passionate debates!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer get cold?",
                    "answer": "Because it left its Windows open!"
                },
                {
                    "question": "Why did the essay go to therapy?",
                    "answer": "Because it was full of too many complicated paragraphs!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Redundant",
                    "definition": "Not or no longer needed or useful; superfluous.",
                    "context": {
                        "Context 1": "In the lesson, it was suggested that some phrases were redundant and could be removed for clarity.",
                        "Context 2": "He felt that his explanations were often redundant, repeating the same points over and over.",
                        "Context 3": "The new guidelines were considered redundant since the previous ones already covered everything."
                    }
                },
                {
                    "word": "Scope",
                    "definition": "The extent of range or area covered by something.",
                    "context": {
                        "Context 1": "The teacher discussed how it's hard to change scope while focusing on a specific sentence.",
                        "Context 2": "The company's project scope was too broad, making it difficult to manage effectively.",
                        "Context 3": "In a game of hide and seek, the scope of hiding spots can make it easier or harder to win."
                    }
                },
                {
                    "word": "Imperfect",
                    "definition": "Not perfect; having flaws or faults.",
                    "context": {
                        "Context 1": "The lesson emphasized that it's okay to accept imperfections in the first draft of an essay.",
                        "Context 2": "Her artwork was beautiful, even though it was imperfect and had some mistakes.",
                        "Context 3": "He embraced his imperfect cooking skills when he invited friends over for dinner."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something using different words, especially to achieve greater clarity.",
                    "context": {
                        "Context 1": "The teacher suggested paraphrasing parts of the essay to improve clarity.",
                        "Context 2": "To avoid plagiarism, it’s important to paraphrase the information from your sources.",
                        "Context 3": "He had to paraphrase the poem during class to highlight its main ideas."
                    }
                },
                {
                    "word": "Conditional Structure",
                    "definition": "A grammatical structure used to express conditions, often using 'if'.",
                    "context": {
                        "Context 1": "During the lesson, the teacher explained the importance of recognizing conditional structures in sentences.",
                        "Context 2": "Understanding conditional structures can help in formulating effective arguments in essays.",
                        "Context 3": "In programming, conditional structures help the computer decide what action to take."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or illustration of something.",
                    "context": {
                        "Context 1": "The lesson mentioned the importance of providing a clear example to support your argument.",
                        "Context 2": "She used a fun example to explain the complex math problem to her classmates.",
                        "Context 3": "In self-help books, authors often share personal examples to motivate readers."
                    }
                },
                {
                    "word": "Revise",
                    "definition": "To review, alter, or amend, especially written work.",
                    "context": {
                        "Context 1": "The teacher encouraged students to revise their essays after initial drafts.",
                        "Context 2": "Before submitting her report, she decided to revise it for clarity and coherence.",
                        "Context 3": "He revises his music compositions multiple times to get the perfect melody."
                    }
                },
                {
                    "word": "Clarify",
                    "definition": "To make something clearer or easier to understand.",
                    "context": {
                        "Context 1": "The teacher wanted to clarify certain points discussed in the lesson to avoid confusion.",
                        "Context 2": "He needed to clarify his instructions after some of his coworkers appeared confused.",
                        "Context 3": "The scientist was asked to clarify her findings during the press conference."
                    }
                },
                {
                    "word": "Consistency",
                    "definition": "The quality of always behaving or performing in a similar way.",
                    "context": {
                        "Context 1": "The lesson pointed out that consistency is key to ensuring a well-structured essay.",
                        "Context 2": "For a successful diet, consistency in meal choices is essential.",
                        "Context 3": "She admired the consistency of the brand’s message across all advertising platforms."
                    }
                },
                {
                    "word": "Insight",
                    "definition": "The ability to gain an accurate understanding of someone or something.",
                    "context": {
                        "Context 1": "During the discussion, the teacher provided insight into the writing process.",
                        "Context 2": "His insights during the meeting helped the team come up with a better strategy.",
                        "Context 3": "The documentary gave me a great insight into the lives of those in remote communities."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Redundant",
                    "fact": "In English, saying 'ATM machine' is redundant because the 'M' in ATM already stands for 'machine'!"
                },
                {
                    "word": "Paraphrase",
                    "fact": "The longest word you can use without paraphrasing or abbreviation is 'smiles' if you spell it like 's-m-i-l-e-s,' with a mile in between!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the grammar teacher break up with the comma?",
                    "answer": "Because it kept pausing for dramatic effect!"
                },
                {
                    "question": "How does an essay look when it undergoes a makeover?",
                    "answer": "It gets a 'thesis overhaul'!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Online",
                    "definition": "Connected to or available through the internet.",
                    "context": {
                        "Context 1": "We engaged in online learning during the pandemic.",
                        "Context 2": "After a long day, I prefer to unwind by watching online videos.",
                        "Context 3": "The online temperature was very uncomfortable for our outdoor picnic."
                    }
                },
                {
                    "word": "Offline",
                    "definition": "Not connected to or available through the internet.",
                    "context": {
                        "Context 1": "Once the pandemic restrictions lifted, many students were eager to return to offline classes.",
                        "Context 2": "He decided to enjoy his weekend offline by going hiking without his phone.",
                        "Context 3": "The offline location was closed for renovations, so we couldn't visit."
                    }
                },
                {
                    "word": "Communicate",
                    "definition": "To share or exchange information, news, or ideas.",
                    "context": {
                        "Context 1": "During the pandemic, many people had to find new ways to communicate with loved ones.",
                        "Context 2": "Birds communicate by singing and chirping to each other.",
                        "Context 3": "The tree's ability to communicate with other plants is fascinating!"
                    }
                },
                {
                    "word": "Eager",
                    "definition": "Having or showing keen interest or intense desire.",
                    "context": {
                        "Context 1": "Students were eager to meet their classmates after the lockdown.",
                        "Context 2": "She was eager to volunteer at the animal shelter.",
                        "Context 3": "He was eager to find out what surprise awaited him at the party."
                    }
                },
                {
                    "word": "Relationship",
                    "definition": "The way in which two or more people or groups regard and behave toward each other.",
                    "context": {
                        "Context 1": "Many friendships strengthened during the online meetings of the COVID pandemic.",
                        "Context 2": "They have a special relationship built on trust and respect.",
                        "Context 3": "The mathematician had a complicated relationship with numbers since childhood."
                    }
                },
                {
                    "word": "Fact",
                    "definition": "A thing that is known or proved to be true.",
                    "context": {
                        "Context 1": "During the lesson, we discussed facts about online communication.",
                        "Context 2": "It's a fact that the Earth revolves around the Sun.",
                        "Context 3": "The cat's favorite toy was a fact of life for its owner."
                    }
                },
                {
                    "word": "Maintain",
                    "definition": "To keep something in a specified state or condition.",
                    "context": {
                        "Context 1": "The ability to maintain relationships was crucial during the pandemic.",
                        "Context 2": "He tried to maintain his speed while running in the marathon.",
                        "Context 3": "The museum aims to maintain its collection in pristine condition."
                    }
                },
                {
                    "word": "Counterargument",
                    "definition": "An argument or set of reasons put forward to oppose an idea or theory.",
                    "context": {
                        "Context 1": "The lecturer suggested including a counterargument about offline communication in the essay.",
                        "Context 2": "In a debate, presenting a strong counterargument is vital to persuading the audience.",
                        "Context 3": "The counterargument to gravity is that it only works on Earth."
                    }
                },
                {
                    "word": "Discuss",
                    "definition": "To talk about a topic in detail.",
                    "context": {
                        "Context 1": "It was easier for classmates to discuss ideas when they met in person.",
                        "Context 2": "The team met to discuss the project timeline over lunch.",
                        "Context 3": "She likes to discuss the latest trends in fashion at parties."
                    }
                },
                {
                    "word": "Inconsistency",
                    "definition": "The quality of being inconsistent; not compatible or in harmony.",
                    "context": {
                        "Context 1": "The professor pointed out the inconsistencies in their argument during the lesson.",
                        "Context 2": "His inconsistency in attendance raised concerns among the teachers.",
                        "Context 3": "The plot of the movie had so much inconsistency that it confused the viewers."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Online",
                    "fact": "The first email was sent in 1971, and it’s rumored to have been about sending virtual cat memes!"
                },
                {
                    "word": "Communicate",
                    "fact": "Did you know that elephants can communicate using infrasound? That's sound waves below human hearing range!"
                },
                {
                    "word": "Eager",
                    "fact": "In ancient Greece, being 'eager' to eat would summon dinner as the waiters would sprint to help you!"
                }
            ],
            "jokes": [
                {
                    "question": "Why didn’t the computer take its hat off?",
                    "answer": "Because it had a bad case of CAPS LOCK!"
                },
                {
                    "question": "Why did the smartphone break up with the laptop?",
                    "answer": "Because it found someone more current!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Obtain",
                    "definition": "To acquire or secure something.",
                    "context": {
                        "Context 1": "Students must obtain a degree to improve their job prospects.",
                        "Context 2": "The magician tried to obtain a rabbit from his hat, but it was empty.",
                        "Context 3": "She went to the store to obtain ingredients for her famous cake."
                    }
                },
                {
                    "word": "Culture",
                    "definition": "The ideas, customs, and social behavior of a particular people or society.",
                    "context": {
                        "Context 1": "Understanding the culture of a country can help in communication.",
                        "Context 2": "The alien was fascinated by Earth's culture and tried to fit in.",
                        "Context 3": "She studies the culture of dolphins and their social interactions."
                    }
                },
                {
                    "word": "Connect",
                    "definition": "To join or link together.",
                    "context": {
                        "Context 1": "Online communication helps people connect regardless of distance.",
                        "Context 2": "He tried to connect all the pieces of the puzzle, but it was missing a few.",
                        "Context 3": "She wanted to connect the television to the internet to watch her favorite shows."
                    }
                },
                {
                    "word": "Maintain",
                    "definition": "To keep in an existing state or preserve.",
                    "context": {
                        "Context 1": "They work hard to maintain their friendships over long distances.",
                        "Context 2": "He needs to maintain his car regularly to ensure it runs smoothly.",
                        "Context 3": "To maintain a healthy diet, she avoids sugary drinks."
                    }
                },
                {
                    "word": "Inform",
                    "definition": "To provide or communicate information to someone.",
                    "context": {
                        "Context 1": "They will inform you about the changes in the schedule.",
                        "Context 2": "The teacher informed the students to bring their books to class.",
                        "Context 3": "He tried to inform the ghost that it was time to leave the house."
                    }
                },
                {
                    "word": "Relationship",
                    "definition": "The way in which two or more people or groups regard and behave toward each other.",
                    "context": {
                        "Context 1": "Effective communication is crucial for a healthy relationship.",
                        "Context 2": "The cat and the dog developed an unusual relationship despite their differences.",
                        "Context 3": "She prefers to build a meaningful relationship with her plants by talking to them."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "Having a new perspective can help in solving complex problems.",
                        "Context 2": "From their perspective, clouds look like fluffy cotton candy.",
                        "Context 3": "He wrote a book about the perspective of a rock over a thousand years."
                    }
                },
                {
                    "word": "Adjective",
                    "definition": "A word that describes a noun.",
                    "context": {
                        "Context 1": "In the sentence, 'The red apple is sweet,' 'red' is an adjective.",
                        "Context 2": "When he described the weather, he used an adjective to express its beauty.",
                        "Context 3": "The robot tried to learn how to identify adjectives, but it only understood nouns."
                    }
                },
                {
                    "word": "Bond",
                    "definition": "A strong connection or relationship between people.",
                    "context": {
                        "Context 1": "Siblings often have a strong bond that lasts a lifetime.",
                        "Context 2": "The glue will create a bond between the two pieces of wood.",
                        "Context 3": "The superhero formed a bond with the villain when they discovered they both loved puppies."
                    }
                },
                {
                    "word": "Phrasing",
                    "definition": "The way in which something is expressed or worded.",
                    "context": {
                        "Context 1": "The phrasing of the question was confusing for the students.",
                        "Context 2": "His phrasing during the speech captivated the audience.",
                        "Context 3": "She used strange phrasing when trying to explain the concept of time travel to her dog."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Bond",
                    "fact": "Did you know that elephants can form strong bonds and even mourn for lost friends?"
                },
                {
                    "word": "Culture",
                    "fact": "In some cultures, it's customary to greet someone with a kiss on both cheeks, while in others, a handshake is preferred!"
                },
                {
                    "word": "Obtain",
                    "fact": "You've probably heard the phrase, 'You can obtain anything with the right attitude.' But have you tried obtaining a unicorn? That one's tricky!"
                }
            ],
            "jokes": [
                {
                    "question": "Why do history teachers always tell the best stories?",
                    "answer": "Because they know how to connect the dots!"
                },
                {
                    "question": "Why did the student always carry a pencil?",
                    "answer": "In case they needed to draw a line between their relationships!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How’s it going today?"
                },
                {
                    "Person 2": "Pretty good, just enjoying a lazy Saturday. How about you?"
                },
                {
                    "Person 1": "Same here! I actually tried cooking something new earlier."
                },
                {
                    "Person 2": "Oh nice! What did you make?"
                },
                {
                    "Person 1": "I made some homemade tacos. It was a bit of a mess, but they turned out great!"
                },
                {
                    "Person 2": "Sounds delicious! I love tacos. Did you try making the tortillas from scratch?"
                },
                {
                    "Person 1": "I thought about it, but I went with store-bought this time. Maybe next time!"
                },
                {
                    "Person 2": "Good call! Those can be tricky. Did you have any special fillings?"
                },
                {
                    "Person 1": "I went with spicy chicken and all the toppings—avocado, cheese, salsa, you name it."
                },
                {
                    "Person 2": "Wow, that sounds amazing! I might need to copy that."
                },
                {
                    "Person 1": "For sure! You should totally try it. Cooking can be a lot of fun, especially when you’re experimenting."
                },
                {
                    "Person 2": "Definitely! I’ve been meaning to try new recipes. What’s next on your list?"
                },
                {
                    "Person 1": "I’m thinking about trying homemade pasta. How about you?"
                },
                {
                    "Person 2": "That sounds ambitious! I might just stick to baking some cookies for now."
                },
                {
                    "Person 1": "Cookies are always a good choice! What kind are you thinking?"
                },
                {
                    "Person 2": "Probably chocolate chip. Classic, but you can’t go wrong!"
                },
                {
                    "Person 1": "Exactly! I’d love to join you for cookie tasting when you're done."
                },
                {
                    "Person 2": "Absolutely! Let’s plan a little baking day soon."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you been working on your project lately?"
                },
                {
                    "Person 2": "Yeah, I’ve been chipping away at it. It’s taking longer than I thought, though."
                },
                {
                    "Person 1": "I get that. Sometimes, you start with a plan, and then things just grow larger than expected."
                },
                {
                    "Person 2": "Exactly! I thought I had a solid outline, but I keep thinking of new ideas."
                },
                {
                    "Person 1": "New ideas are great but can be overwhelming. Have you considered if you might need to trim some parts?"
                },
                {
                    "Person 2": "For sure! I think once I finish this draft, I'll go back and cut out the duplicates."
                },
                {
                    "Person 1": "That sounds smart. It helps to have a fresh look after finishing everything."
                },
                {
                    "Person 2": "Absolutely! I also need to remember that nothing is set in stone. I can always revise."
                },
                {
                    "Person 1": "Right! It's all about getting your thoughts down first and then refining them."
                },
                {
                    "Person 2": "I like that approach. Just write it out and worry about the details later."
                },
                {
                    "Person 1": "Totally! And don’t stress too much about making it perfect right away."
                },
                {
                    "Person 2": "Thanks for the encouragement! How’s your project coming along?"
                },
                {
                    "Person 1": "It’s going pretty well. I’ve got most of it drafted; just needs a bit of polishing."
                },
                {
                    "Person 2": "Hey, at least you're in the polishing stage. That’s the fun part!"
                },
                {
                    "Person 1": "True! It’s always nice to see it come together."
                },
                {
                    "Person 2": "Yeah! We can do this. Let’s keep each other motivated!"
                },
                {
                    "Person 1": "Definitely! We'll check in regularly and share tips."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you check out that new coffee shop downtown?"
                },
                {
                    "Person 2": "Not yet! Is it any good?"
                },
                {
                    "Person 1": "Yeah, it’s awesome! They have this mocha that’s out of this world."
                },
                {
                    "Person 2": "Nice! I love a good mocha. Do they have any cool pastries too?"
                },
                {
                    "Person 1": "Oh, definitely! Their croissants are super flaky. Perfect with coffee."
                },
                {
                    "Person 2": "Sounds like a great combo! We should go there this weekend."
                },
                {
                    "Person 1": "I’m totally down! Maybe we can bring some board games?"
                },
                {
                    "Person 2": "That would be fun! I haven’t played games in ages."
                },
                {
                    "Person 1": "Me neither! It’ll be a nice change from just hanging out at home."
                },
                {
                    "Person 2": "For sure! Plus, we get to support a local business."
                },
                {
                    "Person 1": "Exactly! I love finding new spots to hang out."
                },
                {
                    "Person 2": "Same here! So, Saturday at 10?"
                },
                {
                    "Person 1": "Sounds like a plan! Can’t wait!"
                },
                {
                    "Person 2": "Me too! I’ll bring my favorite game."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, did you hear about that new coffee shop that just opened downtown?"
                },
                {
                    "Person 2": "No, I didn’t! What’s it called?"
                },
                {
                    "Person 1": "It’s called Brewed Awakenings. I’ve heard they have amazing iced lattes."
                },
                {
                    "Person 2": "Oh nice! I love a good iced latte. Do they have any pastries?"
                },
                {
                    "Person 1": "Yeah, I think they have a bunch of fresh pastries. I heard their croissants are fantastic."
                },
                {
                    "Person 2": "Awesome! We should totally check it out this weekend."
                },
                {
                    "Person 1": "Definitely! Maybe we can grab some pastries and find a nice spot to sit."
                },
                {
                    "Person 2": "Sounds perfect. I could use a relaxing weekend."
                },
                {
                    "Person 1": "Same here! Plus, it’ll be nice to try a new local place."
                },
                {
                    "Person 2": "Exactly! I love supporting local businesses."
                },
                {
                    "Person 1": "For sure. So, Saturday morning?"
                },
                {
                    "Person 2": "Saturday works for me! What time do you want to meet?"
                },
                {
                    "Person 1": "How about 10 AM? That way we can avoid the morning rush."
                },
                {
                    "Person 2": "10 AM sounds great! I’m looking forward to it."
                },
                {
                    "Person 1": "Me too! It’ll be fun to catch up over coffee."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I do not perfectly well, but...",
                    "corrected": "I do not see perfectly well, but...",
                    "explanation": "The verb 'see' is necessary to clarify what is not perceived well.",
                    "context": "I was asked if I could see the screen clearly. I do not see perfectly well, but I will zoom in to help."
                },
                {
                    "original": "It was actually a rather successful idea, until it wasn't.",
                    "corrected": "It was actually a rather successful idea, until it failed.",
                    "explanation": "'Until it wasn't' is vague; 'until it failed' is clearer and more precise.",
                    "context": "My father's project was quite promising. It was actually a rather successful idea, until it failed."
                },
                {
                    "original": "I never wanted anything like this, actually.",
                    "corrected": "I never wanted anything like this.",
                    "explanation": "The word 'actually' is unnecessary and makes the sentence less concise.",
                    "context": "I reflected on my feelings about starting a business. I never wanted anything like this."
                },
                {
                    "original": "I think that is because the internet's possibilities and the information on it is almost endless.",
                    "corrected": "I think that is because the internet's possibilities and the information on it are almost endless.",
                    "explanation": "The subject 'possibilities and the information' is plural, so 'are' should be used instead of 'is'.",
                    "context": "When asked why some find the internet addictive, I shared my thoughts. I think that is because the internet's possibilities and the information on it are almost endless."
                },
                {
                    "original": "if there wasn't internet, if it wasn't for the internet, people would still be a lot more connected.",
                    "corrected": "if there weren't an internet, if it weren't for the internet, people would still be a lot more connected.",
                    "explanation": "The subjunctive mood should be used here; 'weren't' is correct instead of 'wasn't'.",
                    "context": "In discussing a world without the internet, I expressed my opinion. I feel like if there weren't an internet, people would still be a lot more connected."
                },
                {
                    "original": "I hope that most people will be able to use it less, and only when it really matters, then they really need to use it.",
                    "corrected": "I hope that most people will be able to use it less, only when it really matters.",
                    "explanation": "The phrase 'then they really need to use it' is redundant; the sentence is clearer without it.",
                    "context": "I shared my hopes for future internet usage. I hope that most people will be able to use it less, only when it really matters."
                },
                {
                    "original": "What other ways that social media can be used for positive purposes?",
                    "corrected": "What other ways can social media be used for positive purposes?",
                    "explanation": "The structure of the question is incorrect; the verb should precede the subject.",
                    "context": "I was prompted to think about social media's positive uses. What other ways can social media be used for positive purposes?"
                },
                {
                    "original": "to share yourself with the world if you don't overthink it, to share your art, your passions and your ideas.",
                    "corrected": "to share yourself with the world if you don't overthink it, and to share your art, your passions, and your ideas.",
                    "explanation": "The conjunction 'and' is needed to connect the two actions more clearly.",
                    "context": "I discussed the positive aspects of social media. It can be a great way to share yourself with the world if you don't overthink it, and to share your art, your passions, and your ideas."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I did the reports.",
                    "corrected": "I did the report.",
                    "explanation": "The speaker should use the singular 'report' since they are likely referring to a specific task.",
                    "context": "At home, I focused on completing the assignments you gave me. I did the report. I found it helpful to compare my work with your examples."
                },
                {
                    "original": "Like, what would you say? Like, the boss does not really care about... Whether it's the same or not the same, they care about only the highlights.",
                    "corrected": "Like, what would you say? The boss does not really care about whether it's the same or not; they only care about the highlights.",
                    "explanation": "The phrase 'not the same' should be restructured for clarity, and 'only' should be used instead of 'about only.'",
                    "context": "When discussing how to present data, I asked what the boss would want to know. The boss does not really care about whether it's the same or not; they only care about the highlights."
                },
                {
                    "original": "I hate data.",
                    "corrected": "I dislike data.",
                    "explanation": "'Hate' is too strong in this context; 'dislike' is more appropriate for a less intense expression of aversion.",
                    "context": "While analyzing the data, I expressed my feelings about it. I dislike data. It often feels overwhelming and confusing."
                },
                {
                    "original": "Like, I could be called, for example, a freelance teacher.",
                    "corrected": "For example, I could be called a freelance teacher.",
                    "explanation": "The phrase 'like' is unnecessary and informal; 'for example' is clearer and more appropriate.",
                    "context": "When discussing job titles, I clarified my situation. For example, I could be called a freelance teacher. This contrasts with those working in traditional schools."
                },
                {
                    "original": "If you work in a private language center, you work in a private company.",
                    "corrected": "If you work in a private language center, you are working for a private company.",
                    "explanation": "The verb tense should be consistent; 'are working' is more appropriate for ongoing situations.",
                    "context": "I was explaining different employment types. If you work in a private language center, you are working for a private company. This highlights the distinction from government jobs."
                },
                {
                    "original": "The only thing we can say that, okay, a quite big percentage of those who earn 75,000 or more, quite a big percentage in this sector, but comparatively, but much, much fewer people, the percentage is much fewer of people who earn 75,000 or more and are employed in private companies.",
                    "corrected": "The only thing we can say is that a quite big percentage of those who earn 75,000 or more are in this sector, but comparatively, there are many fewer people who earn 75,000 or more and are employed in private companies.",
                    "explanation": "The sentence structure is convoluted and needs simplification for clarity. 'Much fewer' should be 'many fewer.'",
                    "context": "While analyzing salary data, I made a comparison. The only thing we can say is that a quite big percentage of those who earn 75,000 or more are in this sector, but comparatively, there are many fewer people who earn 75,000 or more and are employed in private companies."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "the percentage of those who secured a high paying job in the government sector is much higher than those in private companies.",
                    "corrected": "the percentage of those who secured a high-paying job in the government sector is much higher than that of those in private companies.",
                    "explanation": "The phrase 'high paying' should be hyphenated as 'high-paying' because it is a compound adjective describing 'job.' Additionally, 'than that of' is needed for clarity and grammatical correctness.",
                    "context": "When comparing job sectors, I noted that the percentage of those who secured a high-paying job in the government sector is much higher than that of those in private companies. This indicates a significant disparity in salary expectations."
                },
                {
                    "original": "the number of those who have a salary of a hundred dollars plus is lower than the government sector.",
                    "corrected": "the number of those who have a salary of a hundred thousand dollars plus is lower than that in the government sector.",
                    "explanation": "The phrase 'a hundred dollars' is incorrect; it should be 'a hundred thousand dollars' to match the context of high salaries. Also, 'than that in' is more appropriate for comparison.",
                    "context": "I mentioned that the number of those who have a salary of a hundred thousand dollars plus is lower than that in the government sector. This highlights the differences in salary distribution across sectors."
                },
                {
                    "original": "we don't know what is a well-paying job, what is a low-paying job.",
                    "corrected": "we don't know what a well-paying job is or what a low-paying job is.",
                    "explanation": "The structure of the sentence is awkward; it should be rephrased for clarity. Using 'what a well-paying job is' maintains parallel structure.",
                    "context": "In our discussion, I pointed out that we don't know what a well-paying job is or what a low-paying job is. This uncertainty complicates our analysis of salary data."
                },
                {
                    "original": "if you don't like salaries, if you don't really understand percentages, you can focus more on the pie chart.",
                    "corrected": "if you don't like discussing salaries or if you don't really understand percentages, you can focus more on the pie chart.",
                    "explanation": "The phrase 'if you don't like salaries' should be expanded for clarity; 'discussing salaries' makes it clearer what is being referred to.",
                    "context": "I suggested that if you don't like discussing salaries or if you don't really understand percentages, you can focus more on the pie chart. This might make the data easier to interpret."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Comprehensive",
                    "definition": "Including all or nearly all elements or aspects of something.",
                    "context": {
                        "Context 1": "The teacher emphasized the need for a comprehensive understanding of the topic.",
                        "Context 2": "The comprehensive menu at the restaurant offered dishes from various cuisines.",
                        "Context 3": "To be comprehensive in your research, you should consider multiple sources."
                    }
                },
                {
                    "word": "Passion project",
                    "definition": "A project undertaken for personal satisfaction rather than for financial gain.",
                    "context": {
                        "Context 1": "His movie projector design was a passion project that he dedicated years to.",
                        "Context 2": "She started a passion project to create a community garden in her neighborhood.",
                        "Context 3": "The musician’s album was a passion project that reflected his personal experiences."
                    }
                },
                {
                    "word": "Stressful",
                    "definition": "Causing mental or emotional stress.",
                    "context": {
                        "Context 1": "Starting a business can be a very stressful endeavor.",
                        "Context 2": "The stressful nature of the job made him reconsider his career choices.",
                        "Context 3": "Planning a wedding can be just as stressful as starting a new job."
                    }
                },
                {
                    "word": "Reliable",
                    "definition": "Consistently good in quality or performance; able to be trusted.",
                    "context": {
                        "Context 1": "Wikipedia can be a reliable source of information if cross-referenced.",
                        "Context 2": "He is known for being a reliable friend who always keeps his promises.",
                        "Context 3": "The weather forecast is usually reliable, but it can change quickly."
                    }
                },
                {
                    "word": "Curious",
                    "definition": "Eager to know or learn something.",
                    "context": {
                        "Context 1": "Her curious nature led her to explore various topics on Wikipedia.",
                        "Context 2": "The curious cat kept peeking into the box to see what was inside.",
                        "Context 3": "Curious about the world, he decided to travel to different countries."
                    }
                },
                {
                    "word": "Addictive",
                    "definition": "Causing or likely to cause someone to become addicted.",
                    "context": {
                        "Context 1": "The internet can be addictive, making it easy to lose track of time.",
                        "Context 2": "Many video games are designed to be addictive to keep players engaged.",
                        "Context 3": "Chocolate can be addictive for those who love sweets."
                    }
                },
                {
                    "word": "Mindlessly",
                    "definition": "In a way that shows a lack of thought or consideration.",
                    "context": {
                        "Context 1": "Scrolling through social media mindlessly can waste a lot of time.",
                        "Context 2": "He mindlessly ate popcorn while watching the movie, not even realizing how much he had consumed.",
                        "Context 3": "She mindlessly followed the crowd without thinking about her own choices."
                    }
                },
                {
                    "word": "Community",
                    "definition": "A group of people living in the same place or having a particular characteristic in common.",
                    "context": {
                        "Context 1": "Building a community around shared interests can be very rewarding.",
                        "Context 2": "The local community came together to support the charity event.",
                        "Context 3": "Online communities can connect people from all over the world."
                    }
                },
                {
                    "word": "Like-minded",
                    "definition": "Having similar interests, opinions, or goals.",
                    "context": {
                        "Context 1": "Social media can help you find like-minded individuals who share your passions.",
                        "Context 2": "The club was formed for like-minded people who enjoy hiking.",
                        "Context 3": "Finding like-minded friends can make a big difference in your social life."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement of and relations between the parts or elements of something complex.",
                    "context": {
                        "Context 1": "It's important to have a clear structure in your answers during the exam.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "She created a structure for her essay to ensure it flowed logically."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Wikipedia",
                    "fact": "Wikipedia is so vast that if it were a book, it would be over 2 million pages long!"
                },
                {
                    "word": "Addictive",
                    "fact": "Did you know that chocolate is scientifically proven to be addictive? It releases feel-good chemicals in the brain!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of stress!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "When analyzing the data, it's important to look at it from the perspective of the employees.",
                        "Context 2": "From her perspective, the movie was a masterpiece, but others disagreed.",
                        "Context 3": "The artist painted the landscape from a unique perspective that captivated viewers."
                    }
                },
                {
                    "word": "Freelance",
                    "definition": "Working for oneself rather than for an employer, often on a project basis.",
                    "context": {
                        "Context 1": "As a freelance teacher, she sets her own hours and chooses her clients.",
                        "Context 2": "He decided to freelance as a graphic designer after leaving his corporate job.",
                        "Context 3": "The freelance chef prepared a special dinner for a private event."
                    }
                },
                {
                    "word": "Data",
                    "definition": "Facts and statistics collected for reference or analysis.",
                    "context": {
                        "Context 1": "The data showed that government sector workers generally earn more than those in private companies.",
                        "Context 2": "She gathered data on local wildlife for her biology project.",
                        "Context 3": "The data from the weather station indicated a significant drop in temperature."
                    }
                },
                {
                    "word": "Salary",
                    "definition": "A fixed regular payment, typically paid on a monthly or biweekly basis, made by an employer to an employee.",
                    "context": {
                        "Context 1": "The report highlighted the average salary of anthropology graduates in different sectors.",
                        "Context 2": "He was thrilled to receive a salary increase after his performance review.",
                        "Context 3": "Many people consider job satisfaction more important than salary."
                    }
                },
                {
                    "word": "Percentage",
                    "definition": "A rate, number, or amount in each hundred.",
                    "context": {
                        "Context 1": "The percentage of freelancers earning above a certain salary is quite low.",
                        "Context 2": "She calculated the percentage of students who passed the exam.",
                        "Context 3": "A large percentage of the population prefers coffee over tea."
                    }
                },
                {
                    "word": "Highlight",
                    "definition": "An outstanding part of an event or period.",
                    "context": {
                        "Context 1": "The highlights of the report included the highest salary brackets.",
                        "Context 2": "The highlight of her vacation was the trip to the Grand Canyon.",
                        "Context 3": "He always highlights the important points in his notes for easier review."
                    }
                },
                {
                    "word": "Relevant",
                    "definition": "Closely connected or appropriate to what is being done or considered.",
                    "context": {
                        "Context 1": "Your example would be very relevant here if you give it on time.",
                        "Context 2": "The teacher asked for relevant examples to illustrate the lesson.",
                        "Context 3": "He found the article relevant to his research on climate change."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern; a model.",
                    "context": {
                        "Context 1": "Can you provide an example of how to interpret the data?",
                        "Context 2": "She used a historical example to explain her point.",
                        "Context 3": "The teacher gave an example of a successful project to inspire students."
                    }
                },
                {
                    "word": "Challenge",
                    "definition": "A call to take part in a contest or competition, especially a duel.",
                    "context": {
                        "Context 1": "The challenge of understanding the data can be daunting for many.",
                        "Context 2": "He accepted the challenge to run a marathon.",
                        "Context 3": "The puzzle presented a challenge that took hours to solve."
                    }
                },
                {
                    "word": "Community",
                    "definition": "A group of people living in the same place or having a particular characteristic in common.",
                    "context": {
                        "Context 1": "Building community with like-minded people can enhance your social life.",
                        "Context 2": "The local community came together to support the charity event.",
                        "Context 3": "Online gaming communities often form around shared interests."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Freelance",
                    "fact": "Did you know that the term 'freelance' originated from medieval knights who offered their services to the highest bidder?"
                },
                {
                    "word": "Data",
                    "fact": "In the digital age, the amount of data created every day is equivalent to about 2.5 quintillion bytes, enough to fill 10 million Blu-ray discs!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes from its past!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Percentage",
                    "definition": "A fraction or ratio expressed as a part of 100.",
                    "context": {
                        "Context 1": "The percentage of people in the government sector earning over $75,000 is 80%.",
                        "Context 2": "The teacher asked the students to calculate the percentage of correct answers on their tests.",
                        "Context 3": "In a pie chart, each slice represents a percentage of the whole."
                    }
                },
                {
                    "word": "Salary",
                    "definition": "A fixed regular payment, typically paid on a monthly or biweekly basis, made by an employer to an employee.",
                    "context": {
                        "Context 1": "Many people aspire to earn a higher salary in their careers.",
                        "Context 2": "The salary of a professional athlete can be millions of dollars per year.",
                        "Context 3": "She decided to negotiate her salary before accepting the job offer."
                    }
                },
                {
                    "word": "Striking",
                    "definition": "Attracting attention by reason of being unusual, extraordinary, or remarkable.",
                    "context": {
                        "Context 1": "There is a striking difference between the salaries in the government and private sectors.",
                        "Context 2": "The painting had a striking use of color that captivated everyone who saw it.",
                        "Context 3": "His striking personality made him the center of attention at the party."
                    }
                },
                {
                    "word": "Freelance",
                    "definition": "Working for oneself rather than for an employer, often on a project basis.",
                    "context": {
                        "Context 1": "Freelance consultants can set their own hours and choose their clients.",
                        "Context 2": "She decided to freelance as a graphic designer after leaving her full-time job.",
                        "Context 3": "Freelance writers often juggle multiple projects at once."
                    }
                },
                {
                    "word": "Prototype",
                    "definition": "An early sample or model built to test a concept or process.",
                    "context": {
                        "Context 1": "The team created a prototype of the app to gather user feedback.",
                        "Context 2": "He built a prototype of his invention to showcase at the science fair.",
                        "Context 3": "The car manufacturer released a prototype to demonstrate the new technology."
                    }
                },
                {
                    "word": "Consultant",
                    "definition": "A person who provides expert advice professionally.",
                    "context": {
                        "Context 1": "The company hired a consultant to improve their marketing strategy.",
                        "Context 2": "As a financial consultant, he helps clients manage their investments.",
                        "Context 3": "She worked as a consultant for various non-profit organizations."
                    }
                },
                {
                    "word": "Data",
                    "definition": "Facts and statistics collected for reference or analysis.",
                    "context": {
                        "Context 1": "The data showed a clear trend in salary differences between sectors.",
                        "Context 2": "Scientists rely on data to support their research findings.",
                        "Context 3": "The data from the survey was analyzed to understand customer preferences."
                    }
                },
                {
                    "word": "Low-paying",
                    "definition": "Referring to a job or position that offers a salary below the average or expected amount.",
                    "context": {
                        "Context 1": "Many people are stuck in low-paying jobs with little opportunity for advancement.",
                        "Context 2": "She decided to leave her low-paying job to pursue her passion.",
                        "Context 3": "Low-paying positions often struggle to attract qualified candidates."
                    }
                },
                {
                    "word": "Well-paying",
                    "definition": "Referring to a job or position that offers a salary above the average or expected amount.",
                    "context": {
                        "Context 1": "He was thrilled to land a well-paying job right out of college.",
                        "Context 2": "Well-paying careers in technology are in high demand.",
                        "Context 3": "She saved up for years to transition into a well-paying profession."
                    }
                },
                {
                    "word": "Sector",
                    "definition": "A distinct part or branch of a nation's economy or society.",
                    "context": {
                        "Context 1": "The government sector offers more stability compared to the private sector.",
                        "Context 2": "The healthcare sector is rapidly evolving with new technologies.",
                        "Context 3": "Many people are employed in the agricultural sector in rural areas."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Freelance",
                    "fact": "Did you know that the term 'freelance' comes from medieval knights who offered their services for pay? They were called 'free lancers'!"
                },
                {
                    "word": "Prototype",
                    "fact": "The first prototype of the modern bicycle was called the 'Dandy Horse' and had no pedals!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the salary go to therapy?",
                    "answer": "Because it had too many issues with its low self-esteem!"
                },
                {
                    "question": "Why don’t scientists trust atoms?",
                    "answer": "Because they make up everything, including salary statistics!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I heard about it! Have you been there yet?"
                },
                {
                    "Person 1": "I went yesterday! The vibe is super chill, and they have this amazing caramel latte."
                },
                {
                    "Person 2": "Sounds delicious! I love a good caramel latte. How was the atmosphere?"
                },
                {
                    "Person 1": "It was great! They had some local art on the walls, and the music was just right—not too loud."
                },
                {
                    "Person 2": "Nice! I always appreciate a place where I can actually hear myself think."
                },
                {
                    "Person 1": "Exactly! Plus, they have free Wi-Fi. I might start working there instead of my usual spot."
                },
                {
                    "Person 2": "That’s a good idea! A change of scenery can really boost productivity."
                },
                {
                    "Person 1": "For sure! We should go together sometime. I’d love to see what you think."
                },
                {
                    "Person 2": "Absolutely! Let’s plan for this weekend. Maybe Saturday morning?"
                },
                {
                    "Person 1": "Saturday works for me! I’ll bring my laptop, and we can get some work done."
                },
                {
                    "Person 2": "Perfect! And maybe treat ourselves to those lattes afterward."
                },
                {
                    "Person 1": "Deal! I’m looking forward to it."
                },
                {
                    "Person 2": "Me too! It’ll be a nice little break from the usual routine."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh man, I missed it! Who won?"
                },
                {
                    "Person 1": "The home team pulled off a last-minute victory! It was intense!"
                },
                {
                    "Person 2": "No way! I heard it was a close one. What was the final score?"
                },
                {
                    "Person 1": "It ended 3-2. They scored the winning goal in the last minute!"
                },
                {
                    "Person 2": "Wow, that’s exciting! I wish I had seen it. Any standout players?"
                },
                {
                    "Person 1": "Definitely! The forward had a hat trick. He was on fire!"
                },
                {
                    "Person 2": "That’s awesome! I love when players have those kinds of games."
                },
                {
                    "Person 1": "Right? It just makes the whole game more thrilling."
                },
                {
                    "Person 2": "So, what’s next for the team? Any big matches coming up?"
                },
                {
                    "Person 1": "Yeah, they’ve got a tough match against their rivals next week."
                },
                {
                    "Person 2": "Rivalry games are always the best! I’ll have to make sure to watch that one."
                },
                {
                    "Person 1": "For sure! It’s going to be a packed stadium. The atmosphere is electric!"
                },
                {
                    "Person 2": "I can only imagine! Let’s plan to watch it together."
                },
                {
                    "Person 1": "Sounds like a plan! I’ll bring the snacks!"
                },
                {
                    "Person 2": "Perfect! I’ll bring the drinks. Can’t wait!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you see that report about salaries in different sectors?"
                },
                {
                    "Person 2": "Yeah, I did! It's pretty wild how much more people in government jobs make compared to private companies."
                },
                {
                    "Person 1": "Right? I think it said something like 80% of government workers earn over $75,000."
                },
                {
                    "Person 2": "Exactly! And for private companies, it was only 55%. That's a huge difference!"
                },
                {
                    "Person 1": "It really is. I wonder why that gap is so big."
                },
                {
                    "Person 2": "Well, I think a lot of private sector jobs have lower salaries, especially when you look at the percentages of people earning between $50,000 and $75,000."
                },
                {
                    "Person 1": "Yeah, that makes sense. It seems like more people in private companies fall into that range."
                },
                {
                    "Person 2": "Totally! And then you have freelancers, who can make good money, but the numbers are lower compared to government jobs."
                },
                {
                    "Person 1": "So, if you were presenting this data, what would you highlight?"
                },
                {
                    "Person 2": "I’d probably focus on how government jobs generally pay better. That’s a strong point."
                },
                {
                    "Person 1": "For sure! But do you think it’s fair to compare them directly?"
                },
                {
                    "Person 2": "Hmm, that’s a good question. I guess it depends on what you’re looking for in a job."
                },
                {
                    "Person 1": "True! Some people might prefer the stability of government jobs over the potential for higher pay in private companies."
                },
                {
                    "Person 2": "Exactly! It’s all about what fits your lifestyle and goals."
                },
                {
                    "Person 1": "Well, I guess we should keep an eye on these trends. They could affect our job choices in the future."
                },
                {
                    "Person 2": "Definitely! Let’s catch up later to discuss more about it."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
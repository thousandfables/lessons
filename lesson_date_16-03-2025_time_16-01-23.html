<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "Maybe better to write in the statement that maybe not everyone can make right decision in their future life after university.",
                    "corrected": "Maybe it's better to write in the statement that not everyone can make the right decision in their future life after university.",
                    "explanation": "The phrase 'make right decision' is missing the article 'the' before 'right decision.'",
                    "context": "When discussing how to improve the thesis statement, I suggested that it's better to write in the statement that not everyone can make the right decision in their future life after university. This emphasizes the uncertainty many face after graduation."
                },
                {
                    "original": "As a result, they can spend a lot of time on not right specialization.",
                    "corrected": "As a result, they can spend a lot of time on the wrong specialization.",
                    "explanation": "'Not right specialization' should be corrected to 'the wrong specialization' for proper adjective use.",
                    "context": "I explained that if students make poor decisions, they might spend a lot of time on the wrong specialization. This can lead to wasted time and effort in their education."
                },
                {
                    "original": "As a result, they can lose their time and maybe not gradate this university and change it after some period.",
                    "corrected": "As a result, they can lose their time and maybe not graduate from this university and change it after some period.",
                    "explanation": "'Gradate' is incorrect; the correct term is 'graduate.' Additionally, 'from' should be used with 'graduate.'",
                    "context": "I pointed out that students can lose time and possibly not graduate from this university, which may force them to change their course of study later. This highlights the importance of making informed decisions."
                },
                {
                    "original": "I mean, lose time is a goal to study not in the right place.",
                    "corrected": "I mean, losing time is a result of studying in the wrong place.",
                    "explanation": "'Lose time' should be 'losing time,' and 'goal' should be 'result' to convey the intended meaning accurately.",
                    "context": "I was trying to explain that losing time happens when someone studies in the wrong place. This can lead to a lack of focus and ultimately affect their education."
                },
                {
                    "original": "It's like spend time at university.",
                    "corrected": "It's like spending time at university.",
                    "explanation": "'Spend' should be in the gerund form 'spending' to correctly follow the structure of the sentence.",
                    "context": "I was trying to clarify what I meant by losing time. I said it's like spending time at university without gaining anything valuable from it."
                },
                {
                    "original": "Does it look clear enough to you?",
                    "corrected": "Does it look clear to you?",
                    "explanation": "The phrase 'clear enough' is unnecessary; 'clear' suffices for the question being asked.",
                    "context": "I asked if my explanation was clear to ensure that the other person understood the main points. I wanted to confirm that my ideas were communicated effectively."
                },
                {
                    "original": "Plan is not about writing something in full.",
                    "corrected": "The plan is not about writing something in full.",
                    "explanation": "The sentence is missing the article 'the' before 'plan.'",
                    "context": "I emphasized that the plan is not about writing everything in full detail. Instead, it's about summarizing key points to convey the main ideas."
                },
                {
                    "original": "I think yes.",
                    "corrected": "I think so.",
                    "explanation": "'I think yes' is not idiomatic; 'I think so' is the correct expression.",
                    "context": "When asked if I believed the explanation was logical, I responded affirmatively. I wanted to express my agreement clearly."
                },
                {
                    "original": "It's much easier to write an example.",
                    "corrected": "It's much easier to write an example now.",
                    "explanation": "The word 'now' is needed to indicate the current context of the discussion.",
                    "context": "I noted that it's much easier to write an example now that we have clarified the key points. This shows how understanding the main ideas simplifies the writing process."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I need to write example when people are not enough educated, right?",
                    "corrected": "I need to write an example when people are not educated enough, right?",
                    "explanation": "The phrase 'not enough educated' is incorrect; it should be 'not educated enough' to properly modify the adjective.",
                    "context": "I want to illustrate a point about education. I need to write an example when people are not educated enough, right? This will help clarify my argument."
                },
                {
                    "original": "students after school to go to study somewhere, they take exams, but as a result, in the future, a lot of people change their specialization",
                    "corrected": "students after school go to study somewhere, take exams, but as a result, many people change their specialization in the future",
                    "explanation": "The phrase 'to go to study' should be 'go to study' for correct verb usage; 'a lot of people' is better expressed as 'many people' for conciseness.",
                    "context": "In our education system, students after school go to study somewhere, take exams, but as a result, many people change their specialization in the future. This reflects a common trend."
                },
                {
                    "original": "it's not like tradition in our country to have a gap year",
                    "corrected": "it's not a tradition in our country to have a gap year",
                    "explanation": "The phrase 'not like tradition' is incorrect; it should be 'not a tradition' for proper grammatical structure.",
                    "context": "In discussing educational paths, I mentioned that it's not a tradition in our country to have a gap year. This affects how students plan their futures."
                },
                {
                    "original": "you actually increase its length.",
                    "corrected": "you actually increased its length.",
                    "explanation": "The verb tense should be past tense 'increased' to match the context of the discussion.",
                    "context": "While reviewing the examples, I pointed out that you actually increased its length. This was not what we were aiming for."
                },
                {
                    "original": "If you cannot express it in two lines, that means that your idea is either not very clear, or you're using too many words, too many unnecessary words to express it.",
                    "corrected": "If you cannot express it in two lines, it means that your idea is either not very clear or you're using too many unnecessary words.",
                    "explanation": "The phrase 'that means that' can be simplified to 'it means that' for clarity and conciseness.",
                    "context": "I emphasized the importance of brevity in our examples. If you cannot express it in two lines, it means that your idea is either not very clear or you're using too many unnecessary words."
                },
                {
                    "original": "I can use first example if I will talk in next statement like positive side of gap here.",
                    "corrected": "I can use the first example if I talk in the next statement about the positive side of a gap year.",
                    "explanation": "The article 'the' is needed before 'first example,' and 'if I will talk' should be simplified to 'if I talk' for correct conditional structure.",
                    "context": "In discussing examples, I noted that I can use the first example if I talk in the next statement about the positive side of a gap year. This helps balance the argument."
                },
                {
                    "original": "But that doesn't mean that the first one is not good.",
                    "corrected": "But that doesn't mean the first one isn't good.",
                    "explanation": "The phrase 'is not good' can be contracted to 'isn't good' for more natural speech.",
                    "context": "While evaluating examples, I concluded that but that doesn't mean the first one isn't good. Both examples have their merits."
                },
                {
                    "original": "If they can think about future specialization.",
                    "corrected": "If they can think about their future specialization.",
                    "explanation": "The possessive 'their' is needed to clarify whose future specialization is being discussed.",
                    "context": "I mentioned that if they can think about their future specialization, it opens up more possibilities for them. This is an important consideration."
                },
                {
                    "original": "But this example is just not specific enough.",
                    "corrected": "But this example is just not specific.",
                    "explanation": "The phrase 'not specific enough' can be simplified to 'not specific' for clarity.",
                    "context": "In evaluating the examples, I noted that but this example is just not specific. This lack of detail makes it less effective."
                },
                {
                    "original": "Because I also live here, but it's not accessible.",
                    "corrected": "Because I also live here, but it's not easily accessible.",
                    "explanation": "The word 'accessible' should be modified with 'easily' to convey the intended meaning.",
                    "context": "When discussing examples, I explained that because I also live here, but it's not easily accessible. This affects how I relate to the topic."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "You don't work using the knowledge that you received at college.",
                    "corrected": "You don't work using the knowledge that you received in college.",
                    "explanation": "The preposition 'at' should be 'in' when referring to being enrolled in an institution.",
                    "context": "After graduation, many students struggle to find jobs. You don't work using the knowledge that you received in college. This disconnect can be frustrating."
                },
                {
                    "original": "We took one idea and tactically expanded it, developed it.",
                    "corrected": "We took one idea and tactically expanded and developed it.",
                    "explanation": "The conjunction 'and' is needed to connect 'expanded' and 'developed' properly.",
                    "context": "In our discussion, we focused on refining our essay. We took one idea and tactically expanded and developed it. This helped clarify our main points."
                },
                {
                    "original": "Where did you mention university? Next step is high education.",
                    "corrected": "Where did you mention university? The next step is higher education.",
                    "explanation": "'High education' should be 'higher education' to correctly refer to advanced learning.",
                    "context": "As we reviewed the essay structure, I asked about the inclusion of university references. Where did you mention university? The next step is higher education, which is crucial for our argument."
                },
                {
                    "original": "In many, many times.",
                    "corrected": "Many times.",
                    "explanation": "'In many, many times' is incorrect; 'many times' is the correct phrase.",
                    "context": "While discussing the essay, I noted the frequency of certain topics. Many times, we need to ensure these topics are clearly presented."
                },
                {
                    "original": "When people write a lot of information, they don't get lost.",
                    "corrected": "When people write a lot of information, they often get lost.",
                    "explanation": "The phrase should use 'often' to indicate frequency rather than 'don't' which implies the opposite.",
                    "context": "During our lesson, I emphasized the importance of clarity in writing. When people write a lot of information, they often get lost in their thoughts."
                },
                {
                    "original": "If we took the explanation, the first four lines that you wrote, there are a lot of side thoughts, half of them are unnecessary.",
                    "corrected": "If we take the explanation, the first four lines that you wrote, there are a lot of side thoughts; half of them are unnecessary.",
                    "explanation": "The verb tense should be present 'take' instead of past 'took' for consistency in the context.",
                    "context": "I reviewed the student's explanation critically. If we take the explanation, the first four lines that you wrote, there are a lot of side thoughts; half of them are unnecessary."
                },
                {
                    "original": "Although there's no answer about because they leave themselves, they don't want to study.",
                    "corrected": "Although there's no answer as to why they leave, they don't want to study.",
                    "explanation": "The phrase 'about because' is incorrect; it should be 'as to why' for clarity.",
                    "context": "In discussing student motivation, I pointed out a key issue. Although there's no answer as to why they leave, they don't want to study, which complicates their future."
                },
                {
                    "original": "The task is to write for the second part, exactly the same plan first, and then write the whole essay about this topic.",
                    "corrected": "The task is to write for the second part, following exactly the same plan first, and then write the whole essay about this topic.",
                    "explanation": "The phrase 'exactly the same plan first' needs 'following' for clarity and grammatical correctness.",
                    "context": "As we wrapped up the lesson, I outlined the next steps. The task is to write for the second part, following exactly the same plan first, and then write the whole essay about this topic."
                },
                {
                    "original": "You know, if we haven't yet practiced ID generation stage, once you get to describing data, like trends, data, the graph, they go down, that's crazy.",
                    "corrected": "You know, if we haven't yet practiced the ID generation stage, once you get to describing data, like trends and graphs, they go down; that's crazy.",
                    "explanation": "The phrase 'the ID generation stage' needs 'the' for specificity, and 'data, the graph' should be 'trends and graphs' for clarity.",
                    "context": "In discussing the writing process, I highlighted the importance of practice. You know, if we haven't yet practiced the ID generation stage, once you get to describing data, like trends and graphs, they go down; that's crazy."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Thesis Statement",
                    "definition": "A statement that summarizes the main point or claim of an essay or research paper.",
                    "context": {
                        "Context 1": "The thesis statement clearly outlines the argument that the author will support throughout the paper.",
                        "Context 2": "In a debate, the thesis statement serves as the foundation for the speaker's position.",
                        "Context 3": "A strong thesis statement can make or break a college application essay."
                    }
                },
                {
                    "word": "Keywords",
                    "definition": "Words or phrases that capture the essential meaning of a text.",
                    "context": {
                        "Context 1": "Highlighting keywords in your notes can help you remember important concepts.",
                        "Context 2": "The detective found keywords in the suspect's diary that led to a breakthrough in the case.",
                        "Context 3": "In cooking, the keywords for a recipe might include 'sauté,' 'boil,' and 'bake.'"
                    }
                },
                {
                    "word": "Analyze",
                    "definition": "To examine something in detail to understand it better or draw conclusions.",
                    "context": {
                        "Context 1": "We need to analyze the data before making any decisions about the project.",
                        "Context 2": "The scientist will analyze the samples to determine the chemical composition.",
                        "Context 3": "After watching the movie, they decided to analyze the character development."
                    }
                },
                {
                    "word": "Relevant",
                    "definition": "Closely connected or appropriate to what is being discussed.",
                    "context": {
                        "Context 1": "The professor emphasized the importance of including relevant examples in our essays.",
                        "Context 2": "During the meeting, only relevant topics were discussed to save time.",
                        "Context 3": "The weather forecast was not relevant to the discussion about the new project."
                    }
                },
                {
                    "word": "Specialization",
                    "definition": "A focus on a particular area of study or profession.",
                    "context": {
                        "Context 1": "Choosing a specialization in college can significantly impact your career path.",
                        "Context 2": "The chef's specialization in Italian cuisine made his restaurant very popular.",
                        "Context 3": "In the animal kingdom, specialization can be seen in how different species adapt to their environments."
                    }
                },
                {
                    "word": "Valuable",
                    "definition": "Worth a great deal of money or having great importance.",
                    "context": {
                        "Context 1": "Education is one of the most valuable investments you can make in your future.",
                        "Context 2": "The museum displayed a valuable collection of ancient artifacts.",
                        "Context 3": "Finding a good parking spot in a busy city can be a valuable skill."
                    }
                },
                {
                    "word": "Focus",
                    "definition": "To concentrate attention or effort on a particular task or subject.",
                    "context": {
                        "Context 1": "Students need to focus on their studies to achieve good grades.",
                        "Context 2": "The photographer had to focus the camera to capture the perfect shot.",
                        "Context 3": "During meditation, it's important to focus on your breathing."
                    }
                },
                {
                    "word": "Explanation",
                    "definition": "A statement or account that makes something clear.",
                    "context": {
                        "Context 1": "The teacher provided a clear explanation of the complex topic.",
                        "Context 2": "His explanation of the rules helped everyone understand how to play the game.",
                        "Context 3": "The explanation for why the sky is blue involves the scattering of light."
                    }
                },
                {
                    "word": "Logical",
                    "definition": "Characterized by clear, sound reasoning.",
                    "context": {
                        "Context 1": "Her argument was logical and well-structured, making it easy to follow.",
                        "Context 2": "In a logical world, every action would have a predictable reaction.",
                        "Context 3": "The detective used logical reasoning to solve the mystery."
                    }
                },
                {
                    "word": "Identify",
                    "definition": "To recognize or establish what something is.",
                    "context": {
                        "Context 1": "It's important to identify the main points in your argument.",
                        "Context 2": "The scientist was able to identify the species of the plant using its leaves.",
                        "Context 3": "In a crowded room, it can be hard to identify your friends."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Thesis Statement",
                    "fact": "Did you know that the longest thesis ever written was over 3,000 pages long? Talk about a commitment!"
                },
                {
                    "word": "Analyze",
                    "fact": "In the world of data analysis, there's a joke: 'Why did the statistician bring a ladder? To reach the high data points!'"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Specialization",
                    "definition": "The process of focusing on a particular area of study or work.",
                    "context": {
                        "Context 1": "Many students choose their specialization based on their interests and job prospects.",
                        "Context 2": "The chef's specialization in Italian cuisine made his restaurant very popular.",
                        "Context 3": "After years of general practice, she decided to pursue a specialization in pediatric medicine."
                    }
                },
                {
                    "word": "Gap Year",
                    "definition": "A year taken off from studies, often to travel or work before continuing education.",
                    "context": {
                        "Context 1": "Taking a gap year can provide valuable life experiences before university.",
                        "Context 2": "He spent his gap year volunteering in South America.",
                        "Context 3": "Many students use their gap year to learn new languages and explore different cultures."
                    }
                },
                {
                    "word": "Convincing",
                    "definition": "Capable of causing someone to believe that something is true.",
                    "context": {
                        "Context 1": "The second example was more convincing because it was based on real experiences.",
                        "Context 2": "Her convincing argument won over the entire audience.",
                        "Context 3": "The magician's tricks were so convincing that I almost believed in magic."
                    }
                },
                {
                    "word": "Disadvantage",
                    "definition": "A condition or situation that makes it more difficult to succeed.",
                    "context": {
                        "Context 1": "One disadvantage of not taking a gap year is missing out on personal growth.",
                        "Context 2": "The disadvantage of living in a big city is the high cost of living.",
                        "Context 3": "His lack of experience was a significant disadvantage in the job market."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern used to illustrate a concept.",
                    "context": {
                        "Context 1": "The teacher asked for an example to clarify the lesson.",
                        "Context 2": "She used a famous painting as an example of modern art.",
                        "Context 3": "In math class, the teacher provided an example to show how to solve the equation."
                    }
                },
                {
                    "word": "Persuade",
                    "definition": "To convince someone to do or believe something.",
                    "context": {
                        "Context 1": "He tried to persuade his friends to join him on a gap year.",
                        "Context 2": "The advertisement was designed to persuade consumers to buy the product.",
                        "Context 3": "She used facts and statistics to persuade the committee to approve her proposal."
                    }
                },
                {
                    "word": "Adjust",
                    "definition": "To change or modify something to achieve a desired fit or result.",
                    "context": {
                        "Context 1": "You may need to adjust your example to make it more relevant.",
                        "Context 2": "He had to adjust the settings on his camera for better photos.",
                        "Context 3": "After moving to a new city, she had to adjust to a different lifestyle."
                    }
                },
                {
                    "word": "Focus",
                    "definition": "To concentrate attention or effort on a particular task or subject.",
                    "context": {
                        "Context 1": "It's important to focus on one idea when writing your example.",
                        "Context 2": "She needed to focus on her studies to improve her grades.",
                        "Context 3": "The photographer had to focus the lens to capture the perfect shot."
                    }
                },
                {
                    "word": "Believable",
                    "definition": "Able to be accepted as true or real.",
                    "context": {
                        "Context 1": "The second example was more believable because it was based on common experiences.",
                        "Context 2": "His story was so detailed that it seemed believable.",
                        "Context 3": "The movie's plot was not very believable, which made it less enjoyable."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "Her perspective on the issue changed after she learned more about it.",
                        "Context 2": "From his perspective, the project was a success despite the challenges.",
                        "Context 3": "The artist's unique perspective is what makes her work stand out."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Specialization",
                    "fact": "Did you know that some universities offer bizarre specializations, like 'The Science of Happiness'?"
                },
                {
                    "word": "Gap Year",
                    "fact": "In some countries, taking a gap year is so common that it's almost a rite of passage!"
                },
                {
                    "word": "Convincing",
                    "fact": "The word 'convince' comes from the Latin 'convincere,' which means 'to overcome'—so be careful when trying to convince someone!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Graduate",
                    "definition": "To complete a course of study, especially at a school or university.",
                    "context": {
                        "Context 1": "After four years of hard work, she will graduate from university next month.",
                        "Context 2": "He decided to graduate from high school early to start college sooner.",
                        "Context 3": "The cat seemed to graduate from being a lazy pet to an active hunter."
                    }
                },
                {
                    "word": "Thesis Statement",
                    "definition": "A sentence that summarizes the main point or claim of an essay.",
                    "context": {
                        "Context 1": "The thesis statement clearly outlined the argument of the essay.",
                        "Context 2": "His thesis statement for the science project was about the effects of pollution.",
                        "Context 3": "The thesis statement of her cooking blog is to inspire people to try new recipes."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To restate something using different words, often to clarify meaning.",
                    "context": {
                        "Context 1": "It's important to paraphrase sources in your essay to avoid plagiarism.",
                        "Context 2": "She had to paraphrase the song lyrics to make them appropriate for the school play.",
                        "Context 3": "He decided to paraphrase his friend's joke to make it funnier."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or statement.",
                    "context": {
                        "Context 1": "Understanding the context of the lesson helps clarify the main ideas.",
                        "Context 2": "In the context of the movie, the villain's actions make more sense.",
                        "Context 3": "The context of a recipe can change how you interpret the ingredients."
                    }
                },
                {
                    "word": "Strategic",
                    "definition": "Relating to the identification of long-term or overall aims and interests.",
                    "context": {
                        "Context 1": "A strategic approach to writing can improve the clarity of your essay.",
                        "Context 2": "The chess player made a strategic move to outsmart his opponent.",
                        "Context 3": "She planned a strategic vacation to visit multiple countries in one trip."
                    }
                },
                {
                    "word": "Disadvantage",
                    "definition": "A condition or situation that makes it more difficult to succeed.",
                    "context": {
                        "Context 1": "One disadvantage of not using your degree is limited job opportunities.",
                        "Context 2": "The disadvantage of living in a small town is the lack of entertainment options.",
                        "Context 3": "His height was a disadvantage in basketball, but he excelled in swimming."
                    }
                },
                {
                    "word": "Complement",
                    "definition": "To complete or enhance something by providing additional features.",
                    "context": {
                        "Context 1": "The two ideas complement each other well in the essay.",
                        "Context 2": "The bright colors of the painting complement the dark walls of the room.",
                        "Context 3": "Her skills in cooking complement his expertise in baking."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement of and relations between the parts or elements of something.",
                    "context": {
                        "Context 1": "The structure of the essay is crucial for conveying the main argument.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "He admired the structure of the new roller coaster at the amusement park."
                    }
                },
                {
                    "word": "Focus",
                    "definition": "To concentrate attention or effort on a particular task or subject.",
                    "context": {
                        "Context 1": "It's important to focus on the main points when writing an essay.",
                        "Context 2": "She needed to focus on her studies to improve her grades.",
                        "Context 3": "The photographer had to focus carefully to capture the perfect shot."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern that illustrates a concept or idea.",
                    "context": {
                        "Context 1": "The teacher provided an example to clarify the assignment.",
                        "Context 2": "He used a famous painting as an example of modern art.",
                        "Context 3": "The dog was a perfect example of loyalty and companionship."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Graduate",
                    "fact": "In some countries, students throw their caps in the air when they graduate, but in others, they throw their shoes!"
                },
                {
                    "word": "Thesis Statement",
                    "fact": "The longest thesis ever written was over 3,000 pages long, proving that some students take 'thesis' very seriously!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student eat his homework?",
                    "answer": "Because the teacher said it was a piece of cake!"
                },
                {
                    "question": "What do you call a teacher who never farts in public?",
                    "answer": "A private tutor!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new coffee shop that just opened downtown?"
                },
                {
                    "Person 2": "Yeah, I went there yesterday! The vibe is really nice, and they have some awesome pastries."
                },
                {
                    "Person 1": "Nice! I heard their lattes are amazing. Did you try one?"
                },
                {
                    "Person 2": "I did! It was super creamy and had just the right amount of sweetness. You should definitely check it out."
                },
                {
                    "Person 1": "I will! I love finding new spots. Do they have outdoor seating?"
                },
                {
                    "Person 2": "Yep, they have a cute little patio. Perfect for a sunny day."
                },
                {
                    "Person 1": "Sounds perfect! Maybe we can go together this weekend?"
                },
                {
                    "Person 2": "Absolutely! We can grab some coffee and catch up."
                },
                {
                    "Person 1": "Great! I’ll bring my notebook. I need to plan out some ideas for my project."
                },
                {
                    "Person 2": "Perfect! I can help you brainstorm. Two heads are better than one, right?"
                },
                {
                    "Person 1": "For sure! Plus, a little caffeine boost will help."
                },
                {
                    "Person 2": "Definitely! I’m excited. Let’s make it a plan!"
                },
                {
                    "Person 1": "Awesome! Can’t wait to try that latte."
                },
                {
                    "Person 2": "Me neither! It’s going to be a fun day."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh, totally! What a comeback, right?"
                },
                {
                    "Person 1": "I know! I was on the edge of my seat. I thought they were done for."
                },
                {
                    "Person 2": "Same here! I can't believe they pulled it off in the last few minutes."
                },
                {
                    "Person 1": "Right? And that last-minute goal was insane!"
                },
                {
                    "Person 2": "Absolutely! I jumped up and spilled my popcorn everywhere."
                },
                {
                    "Person 1": "Haha, classic! I was just yelling at the TV."
                },
                {
                    "Person 2": "I feel you! It’s like they can hear us, right?"
                },
                {
                    "Person 1": "Exactly! So, are you going to the next game?"
                },
                {
                    "Person 2": "Definitely! I wouldn’t miss it for the world."
                },
                {
                    "Person 1": "Awesome! Let’s grab some snacks before it starts."
                },
                {
                    "Person 2": "Good idea! I’ll bring the drinks."
                },
                {
                    "Person 1": "Perfect! Can’t wait for the next showdown."
                },
                {
                    "Person 2": "Me too! It’s going to be epic!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you finish that essay for class yet?"
                },
                {
                    "Person 2": "Not yet! I’ve been procrastinating. I just can’t seem to get started."
                },
                {
                    "Person 1": "I totally get that. Sometimes I just stare at the screen for ages."
                },
                {
                    "Person 2": "Right? It’s like my brain just freezes up. What’s your secret to getting it done?"
                },
                {
                    "Person 1": "I usually make an outline first. It helps me organize my thoughts."
                },
                {
                    "Person 2": "That’s smart! I should try that. I always end up writing too much and then get lost."
                },
                {
                    "Person 1": "Yeah, less is more sometimes. Just focus on the main points."
                },
                {
                    "Person 2": "Good advice! I’ll try to keep it simple this time. How about you? What’s your essay about?"
                },
                {
                    "Person 1": "I’m writing about the impact of social media on communication."
                },
                {
                    "Person 2": "That sounds interesting! I bet you have a lot to say about it."
                },
                {
                    "Person 1": "Definitely! I just need to make sure I stay on topic."
                },
                {
                    "Person 2": "Yeah, that’s the challenge. I always end up rambling."
                },
                {
                    "Person 1": "Maybe set a timer? Write for 25 minutes and then take a break."
                },
                {
                    "Person 2": "That’s a great idea! I’ll give it a shot. Thanks for the tip!"
                },
                {
                    "Person 1": "No problem! Let’s check in later and see how we’re doing."
                },
                {
                    "Person 2": "Sounds good! Good luck with your essay!"
                },
                {
                    "Person 1": "You too! We’ve got this!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
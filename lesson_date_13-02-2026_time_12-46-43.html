<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I didn't prepare any things because I will go to my parents and I order the food.",
                    "corrected": "I didn't prepare anything because I will go to my parents and I ordered the food.",
                    "explanation": "The phrase 'any things' is incorrect; it should be 'anything.' Also, verb tense consistency is required: 'order' should be 'ordered.'",
                    "context": "I didn't have much time to get ready for my trip. I didn't prepare anything, because I will go to my parents, and I ordered the food."
                },
                {
                    "original": "I haven't to show my high English level for interviewer.",
                    "corrected": "I don't have to show my high English level for the interviewer.",
                    "explanation": "'Haven't to' is incorrect; it should be 'don't have to.' Additionally, 'for interviewer' needs 'the' for proper grammar.",
                    "context": "I read that for a tourist visa, I don’t have to show my high English level to the interviewer."
                },
                {
                    "original": "I need to handle quite my view outside view, is it correct?",
                    "corrected": "I need to handle my outside view, is it correct?",
                    "explanation": "'Quite' is unnecessary and doesn't fit the context; the phrase should simply refer to 'outside view.'",
                    "context": "I need to handle my appearance better for the interview. I need to manage my outside view, is it correct?"
                },
                {
                    "original": "I will change my plans to visit another country.",
                    "corrected": "I will change my plans to visit another country.",
                    "explanation": "This statement is actually correct; there's no mistake here.",
                    "context": "I'm not afraid because if I'm not getting this visa, I will change my plans to visit another country."
                },
                {
                    "original": "It's a cousin like a father, sister, daughter.",
                    "corrected": "It's a cousin like my father's sister's daughter.",
                    "explanation": "The original phrasing is confusing; clarifying the relationship provides better understanding.",
                    "context": "I have a cousin who's like my father's sister's daughter. It's a cousin."
                },
                {
                    "original": "the grandmother of my niece cannot use internet, I think, maybe because of it.",
                    "corrected": "the grandmother of my niece cannot use the internet, I think, maybe because of that.",
                    "explanation": "Missing article 'the' before 'internet'; 'because of it' is awkward; 'because of that' is more idiomatic.",
                    "context": "I wonder if the grandmother of my niece cannot use the internet, I think, maybe because of that."
                },
                {
                    "original": "And after 7 years of my niece, we will transfer from Astana to Chicago, here, with a portrait of her mother.",
                    "corrected": "And after 7 years, we transferred from Astana to Chicago, with a portrait of her mother.",
                    "explanation": "The use of 'will transfer' is incorrect as it disrupts the past narrative; 'transferred' is the correct past tense.",
                    "context": "They tried to assimilate in America for about 7 years, and after that, we transferred from Astana to Chicago with a portrait of her mother."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "It's really crazy story for me.",
                    "corrected": "It's really a crazy story for me.",
                    "explanation": "The article 'a' is needed before 'crazy story' to indicate it's a singular noun.",
                    "context": "When you send a seven-year-old kid to the plane, it feels surreal. It's really a crazy story for me. I don't know how parents would handle such a situation."
                },
                {
                    "original": "stewards must prepare all documents and steward must transfer to second flight.",
                    "corrected": "stewards must prepare all documents and stewards must transfer to the second flight.",
                    "explanation": "The noun 'stewards' should be pluralized in the second instance to maintain grammatical consistency.",
                    "context": "When considering how children travel alone, I think about the roles of stewards. Stewards must prepare all documents and stewards must transfer to the second flight."
                },
                {
                    "original": "it's complicated situation, complicated conversation with the companies.",
                    "corrected": "it's a complicated situation, a complicated conversation with the companies.",
                    "explanation": "The article 'a' is needed before both 'complicated situation' and 'complicated conversation' to correctly structure the sentence.",
                    "context": "When discussing travel arrangements, I realize the logistics involved. It's a complicated situation, a complicated conversation with the companies."
                },
                {
                    "original": "I bought six bottles of water and save it in my fridge every time I bought.",
                    "corrected": "I bought six bottles of water and saved them in my fridge every time I bought.",
                    "explanation": "The verb tense should change from 'save' to 'saved' for past consistency, and 'it' should be 'them' to correctly refer to 'bottles.'",
                    "context": "When it comes to hydration, I prepare ahead. I bought six bottles of water and saved them in my fridge every time I bought."
                },
                {
                    "original": "I'm like a cat.",
                    "corrected": "I'm like a cat with water.",
                    "explanation": "The phrase lacks clarity; adding 'with water' specifies the speaker's behavior relates to having multiple sources of hydration.",
                    "context": "To stay hydrated, I keep water around. I'm like a cat with water—I have it everywhere I go at home."
                },
                {
                    "original": "I understand lexic because lexic is easy, I think.",
                    "corrected": "I understand vocabulary because vocabulary is easy, I think.",
                    "explanation": "The word 'lexic' is not standard; 'vocabulary' is the correct term in this context.",
                    "context": "While watching fast-paced shows, I find some things easy to grasp. I understand vocabulary because vocabulary is easy, I think."
                },
                {
                    "original": "It's not my type.",
                    "corrected": "It's not my type of humor.",
                    "explanation": "Adding 'of humor' clarifies what 'type' refers to, making the sentence clearer.",
                    "context": "In discussing series, I often reflect on my preferences. It's not my type of humor, which differs from what I enjoy."
                },
                {
                    "original": "a little different type of my humor maybe.",
                    "corrected": "a little different from my type of humor maybe.",
                    "explanation": "The structure needs 'different from' to indicate a comparison correctly.",
                    "context": "When comparing shows, I notice variations in what I find amusing. It's a little different from my type of humor maybe."
                },
                {
                    "original": "Too chaotic maybe?",
                    "corrected": "It might be too chaotic.",
                    "explanation": "Adding 'It might be' improves clarity and structure for the suggestion.",
                    "context": "As I think about the nature of certain cartoons, I ponder their style. It might be too chaotic for my taste."
                },
                {
                    "original": "I've never seen a single Simpsons episode.",
                    "corrected": "I've never seen a single episode of The Simpsons.",
                    "explanation": "The proper noun 'The Simpsons' should precede 'episode' for accurate reference to the show.",
                    "context": "While discussing popular shows, I realize I'm missing out. I've never seen a single episode of The Simpsons."
                },
                {
                    "original": "I see fully, yeah. I saw fully.",
                    "corrected": "I saw the whole thing, yeah.",
                    "explanation": "'I see fully' is informal; 'I saw the whole thing' is a clearer phrase to express complete viewing.",
                    "context": "When talking about the series I’ve completed, I want to clarify. I saw the whole thing, yeah, and enjoyed the experience."
                },
                {
                    "original": "it's a continuous film.",
                    "corrected": "it's a continuous series.",
                    "explanation": "The term 'series' is appropriate when discussing a TV show rather than 'film'.",
                    "context": "I often describe shows compared to movies. It's a continuous series that keeps the plot alive."
                },
                {
                    "original": "I didn't remember how it calls.",
                    "corrected": "I didn't remember what it's called.",
                    "explanation": "The phrase should be 'what it's called' for a correct manner of asking about the name of something.",
                    "context": "There's so much to keep up with, sometimes names slip my mind. I didn't remember what it's called, and it puzzled me."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "It uses quite complicated language.",
                    "corrected": "It uses very complicated language.",
                    "explanation": "'Quite' implies a moderate degree, while 'very' denotes a stronger emphasis appropriate for describing language that is difficult.",
                    "context": "During our discussion about the show, I mentioned that it uses very complicated language. It's a significant barrier for many viewers."
                },
                {
                    "original": "Not quite really complicated.",
                    "corrected": "Not really complicated.",
                    "explanation": "The word 'quite' is redundant here; 'not really' suffices to indicate the degree of complexity.",
                    "context": "I clarified my thoughts and said, 'Not really complicated.' I'm trying to express how difficult the language is."
                },
                {
                    "original": "But after these seasons, I understand, oh, it's so long, long film.",
                    "corrected": "But after those seasons, I realized, oh, it's such a long film.",
                    "explanation": "'These' should be 'those' to refer back to the earlier seasons, and 'I understand' should be changed to 'I realized' for clarity in context.",
                    "context": "I reflected on my viewing experience and said, 'But after those seasons, I realized, oh, it's such a long film.' I was losing interest."
                },
                {
                    "original": "Surgeon film about medical film.",
                    "corrected": "A film about surgeons.",
                    "explanation": "The phrasing is incorrect; specifying 'a film about surgeons' is clearer and grammatically correct.",
                    "context": "I reminisced about my childhood viewing habits, stating, 'I remember a film about surgeons.' It sparked some nostalgia."
                },
                {
                    "original": "Because when I go to my school every time, one hour before when I try to prepare my homework or...",
                    "corrected": "Because I would go to school an hour early to prepare my homework.",
                    "explanation": "The structure is awkward; the sentence should be streamlined for better clarity and flow.",
                    "context": "I explained my routine, saying, 'Because I would go to school an hour early to prepare my homework.' I wanted to emphasize the discipline."
                },
                {
                    "original": "You did your homework. Before school, yeah.",
                    "corrected": "You did your homework before school, right?",
                    "explanation": "The construction lacks proper sentence flow; a clearer confirmation phrase should be utilized.",
                    "context": "I confirmed my understanding, stating, 'You did your homework before school, right?' It was a casual discussion about our habits."
                },
                {
                    "original": "The series name was The Mentalist.",
                    "corrected": "The name of the series was The Mentalist.",
                    "explanation": "The phrasing is awkward; 'The name of the series' is a more natural way to express this thought.",
                    "context": "I mentioned my favorite show by saying, 'The name of the series was The Mentalist.' It was a captivating detective series."
                },
                {
                    "original": "I had like it's I had some fun watching it in English at some point.",
                    "corrected": "I had a lot of fun watching it in English at some point.",
                    "explanation": "The phrase 'I had like it's I had' is confusing and needs simplification; 'I had a lot of fun' is clearer.",
                    "context": "Reflecting on my viewing experience, I said, 'I had a lot of fun watching it in English at some point.' It was a memorable time."
                },
                {
                    "original": "You can like what you can do.",
                    "corrected": "You can do what you like.",
                    "explanation": "The phrase is awkward; it should express intention more directly.",
                    "context": "I encouraged him, saying, 'You can do what you like.' It was a supportive moment in our conversation."
                },
                {
                    "original": "I go to Kinazal.",
                    "corrected": "I go on Kinazal.",
                    "explanation": "The preposition is incorrect; 'on' should be used with platforms or websites.",
                    "context": "I shared my method for finding torrents, stating, 'I go on Kinazal.' It’s a useful site for finding content."
                },
                {
                    "original": "Because when I go to school every time, one hour before when I try to prepare my homework or...",
                    "corrected": "Because I used to go to school an hour early to prepare my homework.",
                    "explanation": "The sentence structure is convoluted; simplifying it improves clarity.",
                    "context": "I unveiled my old study habits, mentioning, 'Because I used to go to school an hour early to prepare my homework.' It helped me manage my time."
                },
                {
                    "original": "But on Kinazal like every torrent you will find it will have an original soundtrack and it will have English.",
                    "corrected": "But on Kinazal, every torrent you find will have the original soundtrack and English subtitles.",
                    "explanation": "The sentence structure is misleading and can be clearer; using 'you find' and properly punctuating improves readability.",
                    "context": "I outlined the benefits of Kinazal, saying, 'But on Kinazal, every torrent you find will have the original soundtrack and English subtitles.' It's essential for language learning."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Prepare",
                    "definition": "To make ready or suitable for a specific purpose.",
                    "context": {
                        "Context 1": "I didn't prepare anything for my trip to Karaganda; I just ordered food.",
                        "Context 2": "She always prepares a speech for her presentations, making sure to practice it multiple times.",
                        "Context 3": "Before the storm arrived, the town prepared by stocking up on supplies."
                    }
                },
                {
                    "word": "Visa",
                    "definition": "An endorsement on a passport that allows the holder to enter, stay, or leave a country.",
                    "context": {
                        "Context 1": "I will go to the US embassy to get my tourist visa.",
                        "Context 2": "Traveling to Europe requires a visa for many nationalities.",
                        "Context 3": "She lost her visa while backpacking through South America."
                    }
                },
                {
                    "word": "Cousin",
                    "definition": "A child of one's uncle or aunt.",
                    "context": {
                        "Context 1": "My cousin is living in America, and I haven't seen her for 20 years.",
                        "Context 2": "At the family reunion, I met my cousin for the first time.",
                        "Context 3": "My cousin is a magician and performs shows all over the country."
                    }
                },
                {
                    "word": "Interview",
                    "definition": "A formal meeting in which one person asks questions to gain information from another.",
                    "context": {
                        "Context 1": "I need to prepare for the interview to get my tourist visa.",
                        "Context 2": "The job interview was challenging but I felt I did well.",
                        "Context 3": "The TV host interviewed the singer about their new album."
                    }
                },
                {
                    "word": "Assimilate",
                    "definition": "To absorb and integrate people, ideas, or culture into a wider society.",
                    "context": {
                        "Context 1": "My cousin tried to assimilate into American culture after moving there.",
                        "Context 2": "The immigrants worked hard to assimilate into their new community.",
                        "Context 3": "Animals often assimilate behaviors from their environment to survive."
                    }
                },
                {
                    "word": "Connect",
                    "definition": "To join together or establish a link.",
                    "context": {
                        "Context 1": "We didn’t have phone connection, so we couldn’t reach each other.",
                        "Context 2": "I need to connect my computer to the Wi-Fi network.",
                        "Context 3": "During the team-building exercise, we worked to connect with our coworkers."
                    }
                },
                {
                    "word": "Appearance",
                    "definition": "The way someone or something looks.",
                    "context": {
                        "Context 1": "I need to handle my appearance for the visa interview.",
                        "Context 2": "Her appearance in the movie was highly praised by critics.",
                        "Context 3": "A person's appearance can often influence first impressions."
                    }
                },
                {
                    "word": "Garbage",
                    "definition": "Waste or refuse; something worthless or of poor quality.",
                    "context": {
                        "Context 1": "She called my food choices garbage when I went home.",
                        "Context 2": "The city has an efficient garbage collection system.",
                        "Context 3": "He considered the old car in the driveway as garbage."
                    }
                },
                {
                    "word": "Calm",
                    "definition": "Not showing or feeling nervousness, anger, or excitement.",
                    "context": {
                        "Context 1": "I need to handle my appearance with calm confidence during the interview.",
                        "Context 2": "She remained calm during the storm, assuring everyone they were safe.",
                        "Context 3": "The yoga class helped me feel calm and centered."
                    }
                },
                {
                    "word": "Transfer",
                    "definition": "To move from one place to another.",
                    "context": {
                        "Context 1": "She transferred from Astana to Chicago when she was younger.",
                        "Context 2": "He had to transfer files from his old computer to the new one.",
                        "Context 3": "The train station offers a transfer service to the airport."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Visa",
                    "fact": "In some countries, you can apply for a visa that allows you to stay until your suitcase gets lost—just kidding!"
                },
                {
                    "word": "Cousin",
                    "fact": "Did you know that in some cultures, it's normal to marry your cousin? Talk about a family reunion!"
                },
                {
                    "word": "Garbage",
                    "fact": "In 1972, a man tried to become famous by digging through garbage cans in search of treasures—it didn’t go as planned!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to the visa interview?",
                    "answer": "Because they heard the questions were on a higher level!"
                },
                {
                    "question": "Why don't scientists trust atoms?",
                    "answer": "Because they make up everything, just like excuses for not preparing for an interview!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Flight attendant",
                    "definition": "A person who serves passengers on board an airplane.",
                    "context": {
                        "Context 1": "The flight attendant ensured that all passengers were comfortable during the flight.",
                        "Context 2": "Every time I fly, I make sure to thank the flight attendant for their service.",
                        "Context 3": "The flight attendant also reminded passengers to fasten their seatbelts."
                    }
                },
                {
                    "word": "Complicated",
                    "definition": "Consisting of many interconnected parts; not easy to analyze or understand.",
                    "context": {
                        "Context 1": "His explanation was so complicated that I couldn't follow it.",
                        "Context 2": "Solving a Rubik's cube can be quite complicated for beginners.",
                        "Context 3": "The rules of the game are complicated, making it challenging to learn at first."
                    }
                },
                {
                    "word": "Dehydrated",
                    "definition": "Having lost a large amount of water from the body; lacking sufficient water.",
                    "context": {
                        "Context 1": "After hiking for several hours, I felt dehydrated and needed to drink water.",
                        "Context 2": "A dehydrated plant will wilt and lose its leaves.",
                        "Context 3": "If you're dehydrated, you might experience dizziness or weakness."
                    }
                },
                {
                    "word": "Humor",
                    "definition": "The quality of being amusing, or a mood of comedic understanding.",
                    "context": {
                        "Context 1": "His sense of humor filled the room with laughter.",
                        "Context 2": "The humor in cartoons often appeals to both children and adults.",
                        "Context 3": "She uses humor to diffuse awkward situations during meetings."
                    }
                },
                {
                    "word": "Picky",
                    "definition": "Difficult to please; very selective about preferences.",
                    "context": {
                        "Context 1": "I'm quite picky when it comes to food; I only eat fresh vegetables.",
                        "Context 2": "He is picky about the movies he watches, preferring only critically acclaimed films.",
                        "Context 3": "As a picky eater, she won't try anything that's green."
                    }
                },
                {
                    "word": "Chaos",
                    "definition": "A state of complete disorder and confusion.",
                    "context": {
                        "Context 1": "The presentation descended into chaos as technical problems arose.",
                        "Context 2": "On Black Friday, the stores often turn into a chaotic battlefield of shoppers.",
                        "Context 3": "The child's room was in chaos, with toys scattered everywhere."
                    }
                },
                {
                    "word": "Series",
                    "definition": "A number of things or events of the same class coming one after another.",
                    "context": {
                        "Context 1": "I started watching a new series on Netflix that I heard good reviews about.",
                        "Context 2": "The series of books captivated young readers everywhere.",
                        "Context 3": "The marathon of the series had fans binge-watching all weekend."
                    }
                },
                {
                    "word": "Criteria",
                    "definition": "Principles or standards by which something may be judged or decided.",
                    "context": {
                        "Context 1": "The scholarship committee has very high criteria for selecting applicants.",
                        "Context 2": "Before hiring, the employer established clear criteria to find the best candidate.",
                        "Context 3": "The selection criteria for the contest were laid out for all participants."
                    }
                },
                {
                    "word": "Intentions",
                    "definition": "Plans or aims that one intends to carry out.",
                    "context": {
                        "Context 1": "She made her intentions clear by speaking honestly about her feelings.",
                        "Context 2": "His intentions for starting a business were rooted in a desire to help others.",
                        "Context 3": "Despite his good intentions, his actions led to misunderstandings."
                    }
                },
                {
                    "word": "Explode",
                    "definition": "To burst or shatter violently without warning, often with noise and force.",
                    "context": {
                        "Context 1": "The soda bottle seemed ready to explode after being shaken too much.",
                        "Context 2": "The volcano is expected to explode, sending ash into the atmosphere.",
                        "Context 3": "He felt like his brain would explode with all the information he needed to learn."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Chaos",
                    "fact": "The word 'chaos' has its origins in Greek mythology, referring to the initial void state before the universe was created!"
                },
                {
                    "word": "Humor",
                    "fact": "Did you know laughter is so contagious that even babies start to imitate others' laughs before they can speak?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the airplane break up with its partner?",
                    "answer": "Because they felt the relationship was just too turbulent!"
                },
                {
                    "question": "Why don’t scientists trust atoms?",
                    "answer": "Because they make up everything!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Complicated",
                    "definition": "Involving many different and confusing parts.",
                    "context": {
                        "Context 1": "The plot of the movie was quite complicated, making it hard to follow.",
                        "Context 2": "Learning to play the violin is complicated; it takes time and practice.",
                        "Context 3": "Building a computer can be complicated if you don’t know the parts."
                    }
                },
                {
                    "word": "Outdated",
                    "definition": "No longer useful or relevant; obsolete.",
                    "context": {
                        "Context 1": "Some of the technology in the show felt outdated, like old-fashioned telephones.",
                        "Context 2": "The school's teaching methods are outdated and need to be updated for modern students.",
                        "Context 3": "Wearing bell-bottom jeans is considered outdated in today’s fashion."
                    }
                },
                {
                    "word": "Rewatch",
                    "definition": "To watch something again.",
                    "context": {
                        "Context 1": "I love to rewatch my favorite series from childhood.",
                        "Context 2": "After finishing the book, she decided to rewatch the movie adaptation.",
                        "Context 3": "He plans to rewatch the documentary to catch details he missed."
                    }
                },
                {
                    "word": "Detective",
                    "definition": "A person whose job is to investigate and solve crimes.",
                    "context": {
                        "Context 1": "The detective in the TV series was brilliant at solving tough cases.",
                        "Context 2": "He dreamed of becoming a detective after watching crime shows as a kid.",
                        "Context 3": "In a funny story, the detective lost his hat while chasing a suspect."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or situation.",
                    "context": {
                        "Context 1": "Each character's background adds depth to the context of the story.",
                        "Context 2": "The context of the conversation helped me understand their feelings.",
                        "Context 3": "Without context, a joke can sometimes fall flat."
                    }
                },
                {
                    "word": "Magician",
                    "definition": "A person who performs magic tricks for entertainment.",
                    "context": {
                        "Context 1": "The magician at the party amazed everyone with his card tricks.",
                        "Context 2": "As a magician, he loved performing in front of large crowds.",
                        "Context 3": "The rabbit in the magician's hat was a classic trick."
                    }
                },
                {
                    "word": "Psychic",
                    "definition": "A person who claims to have a supernatural ability to perceive events in the future or beyond normal sensory contact.",
                    "context": {
                        "Context 1": "The psychic in the show could read people’s minds.",
                        "Context 2": "She visited a psychic who predicted she would travel soon.",
                        "Context 3": "In the comedy skit, the psychic kept getting all their predictions wrong."
                    }
                },
                {
                    "word": "Season",
                    "definition": "A division of something, especially a series of television programs.",
                    "context": {
                        "Context 1": "Each season of the series introduced new challenges for the characters.",
                        "Context 2": "I can't wait for the next season to come out!",
                        "Context 3": "Winter is my favorite season because of the snow and holidays."
                    }
                },
                {
                    "word": "Torrent",
                    "definition": "A file-sharing protocol used for distributing data over the internet.",
                    "context": {
                        "Context 1": "He decided to download the movie using a torrent client.",
                        "Context 2": "Many people use torrents to share large files like games.",
                        "Context 3": "The rain was so heavy that it felt like a torrent falling from the sky."
                    }
                },
                {
                    "word": "Subtitles",
                    "definition": "Text displayed on a screen to provide a translation or transcription of the spoken dialogue.",
                    "context": {
                        "Context 1": "I watch foreign films with subtitles to understand better.",
                        "Context 2": "Subtitles help deaf viewers enjoy movies.",
                        "Context 3": "Some TV shows have funny subtitles that reflect what's happening on-screen."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Psychic",
                    "fact": "Did you know the word 'psychic' comes from the Greek word 'psyche,' meaning 'soul' or 'mind'? A very mind-bending thought!"
                },
                {
                    "word": "Torrent",
                    "fact": "Ironically, the term 'torrent' can also refer to a fast-flowing stream, making it fitting for fast internet downloads!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the magician get kicked off the airplane?",
                    "answer": "Because he kept trying to make the baggage disappear!"
                },
                {
                    "question": "Why don’t we ever tell secrets on a farm?",
                    "answer": "Because the potatoes have eyes and the corn has ears!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you thought about what you want to do on your trip to see your family?"
                },
                {
                    "Person 2": "Not really. I mean, I'm just going to hang out with my parents and order some good food."
                },
                {
                    "Person 1": "Nice! What's on the menu? Anything special?"
                },
                {
                    "Person 2": "I requested some borsch. That's pretty much my big plan so far."
                },
                {
                    "Person 1": "Classic! My mom always asks me what I want for dinner when I'm home. It's like a tradition."
                },
                {
                    "Person 2": "Exactly! I try to be healthy, so I told her to buy me chicken and cottage cheese once."
                },
                {
                    "Person 1": "And what did she say?"
                },
                {
                    "Person 2": "She looked at me like I was crazy! She said I should enjoy real food when I'm visiting."
                },
                {
                    "Person 1": "Haha! That's so true. You gotta eat what normal people eat, right?"
                },
                {
                    "Person 2": "Right! And I’m pretty sure my coach won’t be thrilled about my food choices while I’m there."
                },
                {
                    "Person 1": "So, what’s the plan for getting your visa? It’s a tourist one, right?"
                },
                {
                    "Person 2": "Yep, just a tourist visa. No need for great English skills there."
                },
                {
                    "Person 1": "That’s good! Just be yourself and look presentable."
                },
                {
                    "Person 2": "Exactly! I’ll skip the flashy shoes for the interview."
                },
                {
                    "Person 1": "Smart move! Just be open and honest about everything."
                },
                {
                    "Person 2": "Totally! If it doesn’t work out, I heard Australia is nice this time of year."
                },
                {
                    "Person 1": "That’s true! Plenty of places to visit if the U.S. doesn't work out."
                },
                {
                    "Person 2": "Exactly! Plus, I have family in the U.S. I haven’t seen in 20 years."
                },
                {
                    "Person 1": "Wow! That’s a long time! Do they live far?"
                },
                {
                    "Person 2": "Yeah, they've been living in America this whole time. It's crazy!"
                },
                {
                    "Person 1": "Have they ever visited back home?"
                },
                {
                    "Person 2": "Not once. My cousin’s daughter came over when she was 7, but that was ages ago."
                },
                {
                    "Person 1": "That sounds wild! A 7-year-old traveling alone to a new country?"
                },
                {
                    "Person 2": "I know, right? She had to travel all by herself with nothing but a portrait of her mom."
                },
                {
                    "Person 1": "That's such a unique story! She must have been so brave."
                },
                {
                    "Person 2": "For sure! Can you imagine being that age and going through customs alone?"
                },
                {
                    "Person 1": "It’s a lot for a kid! She probably handled it better than most adults would."
                },
                {
                    "Person 2": "Yeah! And back then, with no cell phones, it must’ve been even more nerve-wracking."
                },
                {
                    "Person 1": "True! It’s impressive how technology has changed travel since then."
                },
                {
                    "Person 2": "Definitely! Kids today have it way easier for sure."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that crazy story from the airport?"
                },
                {
                    "Person 2": "No, what happened?"
                },
                {
                    "Person 1": "So, this seven-year-old was flying alone, and her parents couldn’t even go past the gate to see her off."
                },
                {
                    "Person 2": "Wow, that’s wild! How did they expect her to handle that?"
                },
                {
                    "Person 1": "Exactly! I mean, once she lands in Berlin, who is supposed to look after her?"
                },
                {
                    "Person 2": "Right? I can’t even imagine the anxiety for both the kid and the parents."
                },
                {
                    "Person 1": "And what about the flight attendants? They have to make sure she has everything ready for her connecting flight."
                },
                {
                    "Person 2": "Yeah, it’s definitely a complicated situation. Speaking of flights, what’s that you’re drinking?"
                },
                {
                    "Person 1": "Just water! I'm trying to stay hydrated, you know?"
                },
                {
                    "Person 2": "With that big mug? You’re really committed to it!"
                },
                {
                    "Person 1": "Gotta keep the water balance, haha! I have bottles everywhere in my house."
                },
                {
                    "Person 2": "Same here! I keep a bottle in every room. It's like I’m a water hoarder."
                },
                {
                    "Person 1": "Exactly! Dehydration is a serious threat, especially when you’re busy."
                },
                {
                    "Person 2": "True! By the way, have you watched any good shows lately?"
                },
                {
                    "Person 1": "I tried watching 'Rick and Morty,' but it’s not really my thing."
                },
                {
                    "Person 2": "Really? I thought it was hilarious! What didn’t you like about it?"
                },
                {
                    "Person 1": "I don’t know, the humor just didn’t click with me. I think it’s a bit too chaotic."
                },
                {
                    "Person 2": "I get that! If you want something more straightforward, maybe 'SpongeBob' or something from Nickelodeon would be better."
                },
                {
                    "Person 1": "Yeah, that sounds fun! I loved 'SpongeBob' as a kid."
                },
                {
                    "Person 2": "Totally! It’s just good, silly humor. Speaking of silly, have you seen 'Game of Thrones'?"
                },
                {
                    "Person 1": "I watched a bit in English, but it was tough to follow."
                },
                {
                    "Person 2": "It can be complicated, definitely! But did you like it overall?"
                },
                {
                    "Person 1": "Yeah, I did! Even the prequel, 'House of the Dragon' was great!"
                },
                {
                    "Person 2": "Nice! It seems like everyone has seen it. What did you like the most about it?"
                },
                {
                    "Person 1": "The plot twists! You never know what’s coming next."
                },
                {
                    "Person 2": "For sure! That unpredictability keeps you hooked."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you watched anything interesting recently?"
                },
                {
                    "Person 2": "Not really. I tried watching that new show everyone's talking about, but I couldn't get into it."
                },
                {
                    "Person 1": "Which one? Is it that fantasy series?"
                },
                {
                    "Person 2": "Yeah, it has this super complicated plot with a lot of characters and it takes place in a medieval setting."
                },
                {
                    "Person 1": "Oh, I know which one you're talking about! Those shows can be tough to follow."
                },
                {
                    "Person 2": "Exactly! I miss the simpler stuff like 'Supernatural' or 'The Mentalist.' You ever watch those?"
                },
                {
                    "Person 1": "Yeah! I loved 'Supernatural' back in the day! But I stopped after a few seasons. It got a bit repetitive."
                },
                {
                    "Person 2": "Right? 'The Mentalist' was much better, I think. That guy was just so clever."
                },
                {
                    "Person 1": "Totally! The way he solved those cases was amazing. I kind of want to rewatch it."
                },
                {
                    "Person 2": "Same here! It's cool to look back at shows you enjoyed as a kid."
                },
                {
                    "Person 1": "For sure! Speaking of rewatching, do you think 'Sherlock' is worth checking out?"
                },
                {
                    "Person 2": "It's a bit complex, but it's good if you like detective stories. Just make sure you’re ready to pay attention."
                },
                {
                    "Person 1": "Got it! And what about finding subtitles? You know any good sites?"
                },
                {
                    "Person 2": "Yeah, I've been using Kinazal. They have great subtitles and a lot of options."
                },
                {
                    "Person 1": "Nice! I’ll check that out. Alright, I guess we should catch up again on Monday?"
                },
                {
                    "Person 2": "Sounds good! Enjoy your weekend and happy watching!"
                },
                {
                    "Person 1": "Thanks! You too! Bye!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
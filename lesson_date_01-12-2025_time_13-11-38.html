<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I just need to explain what I write",
                    "corrected": "I just need to explain what I wrote.",
                    "explanation": "The verb tense is incorrect; 'write' should be in the past form 'wrote' to match the context.",
                    "context": "I have been working on my computer science labs. I just need to explain what I wrote in my report from last week's lab."
                },
                {
                    "original": "What like they give you a documentation",
                    "corrected": "What, like, do they give you documentation?",
                    "explanation": "The original sentence is missing proper punctuation and the auxiliary verb; 'do' needs to be added for correct question structure.",
                    "context": "I want to understand the requirements better. What, like, do they give you documentation or guidelines for the tasks?"
                },
                {
                    "original": "But I only did one why",
                    "corrected": "But I only did one. Why?",
                    "explanation": "The sentence lacks proper punctuation and clarity; it should be split into two sentences to convey the thought clearly.",
                    "context": "I've been assigned multiple graphs for analysis. But I only did one. Why? I just couldn't find the time."
                },
                {
                    "original": "I didn't",
                    "corrected": "I didn't do it.",
                    "explanation": "The original is incomplete; it needs a direct object to clarify what was not done.",
                    "context": "I was supposed to prepare a report. I didn't do it because I ran out of time."
                },
                {
                    "original": "That shop that I closed",
                    "corrected": "That shop that I closed.",
                    "explanation": "This sentence lacks clarity and can be misinterpreted; the verb tense needs to ensure the statement is precise.",
                    "context": "In discussions about trade, I mentioned my experience. That shop that I closed had significant trends."
                },
                {
                    "original": "Like from 2011 to 2014 Yeah, I See some fluctuations",
                    "corrected": "Like from 2011 to 2014, I see some fluctuations.",
                    "explanation": "The sentence has inconsistent capitalizations and lacks commas for clarity, making it less formal.",
                    "context": "When analyzing data, I noticed patterns. Like from 2011 to 2014, I see some fluctuations in the numbers."
                },
                {
                    "original": "Like from some point then you go up down up down up down",
                    "corrected": "Like, from some point, then you go up and down.",
                    "explanation": "The phrase 'up down up down up down' is repetitive and informal; it should use 'and' for better flow.",
                    "context": "I was trying to explain the concept of fluctuation. Like, from some point, then you go up and down, showing variability."
                },
                {
                    "original": "let me see what what did you write in your body paragraphs I I",
                    "corrected": "Let me see what you wrote in your body paragraphs.",
                    "explanation": "Repetitive phrasing and incorrect questioning structure lead to confusion; it should be simplified.",
                    "context": "During my review of the student's work, I wanted to clarify their writing. Let me see what you wrote in your body paragraphs."
                },
                {
                    "original": "This was for is it a steady increase after 2015",
                    "corrected": "This was for whether there is a steady increase after 2015.",
                    "explanation": "The original sentence lacks clarity and proper structure; 'whether' should be used to introduce the condition.",
                    "context": "When discussing trends, I wanted to determine the stability of the data. This was for whether there is a steady increase after 2015."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "this is a body paragraph to which are to which should prototype which is mean",
                    "corrected": "this is a body paragraph to which we should prototype, which means",
                    "explanation": "The phrase is unclear due to incorrect grammar and structure; 'are' should be replaced with 'we' and 'which is mean' should be 'which means.'",
                    "context": "When discussing the structure of the body paragraphs, I said this is a body paragraph to which we should prototype, which means it serves a specific function in our writing."
                },
                {
                    "original": "Because there is only one fault and it wasn't so big.",
                    "corrected": "Because there was only one fault and it wasn't so big.",
                    "explanation": "The verb tense is incorrect; 'is' should be 'was' to match the past tense context.",
                    "context": "In analyzing the graph's trends, I mentioned that there was only one fault and it wasn't so big, referring to the data over the previous period."
                },
                {
                    "original": "I wouldn't say that it's stable... or steady.",
                    "corrected": "I wouldn't say that it was stable... or steady.",
                    "explanation": "The verb tense should align; 'it's' is present tense, while the rest of the discussion is in the past context.",
                    "context": "As I evaluated the graph, I noted that I wouldn't say that it was stable or steady, highlighting fluctuations in the data."
                },
                {
                    "original": "If you mean it just decreased you can say steadily decreased.",
                    "corrected": "If you mean it just decreased, you can say it steadily decreased.",
                    "explanation": "The original sentence lacks clarity; 'you can say steadily decreased' needs a subject for clarity.",
                    "context": "When clarifying terminology, I explained that if you're indicating a simple decrease, you can say it steadily decreased, to be more precise."
                },
                {
                    "original": "It is very... It fell again and then until 2017 it stays steady.",
                    "corrected": "It fell again, and then until 2017 it stayed steady.",
                    "explanation": "The present tense 'stays' should be in past tense 'stayed' to match the timeframe being discussed.",
                    "context": "In summarizing the data, I pointed out that it fell again and then until 2017 it stayed steady, emphasizing a period of consistency."
                },
                {
                    "original": "Decline means a drop. Or a trend downward.",
                    "corrected": "Decline means a drop or a downward trend.",
                    "explanation": "The sentence structure can be improved; it's better to combine the two ideas into one complete thought.",
                    "context": "In defining terms, I explained that decline means a drop or a downward trend, providing a clear understanding of the data."
                },
                {
                    "original": "Did it happen in 2015? Fell dramatically.",
                    "corrected": "Did it happen in 2015? It fell dramatically.",
                    "explanation": "The second sentence is a fragment and needs a subject; it should be 'It fell dramatically' to be grammatically correct.",
                    "context": "When reviewing the data, I asked if a decline did happen in 2015 and confirmed that it fell dramatically."
                },
                {
                    "original": "For me for example this is just a decline.",
                    "corrected": "For me, for example, this is just a decline.",
                    "explanation": "The sentence lacks proper punctuation; commas are needed for clarity and flow.",
                    "context": "I expressed my viewpoint by saying that for me, for example, this is just a decline, emphasizing my personal understanding of the term."
                },
                {
                    "original": "You can do that if you want. Okay?",
                    "corrected": "You can do that if you'd like, okay?",
                    "explanation": "The phrase 'if you want' is less formal; 'if you'd like' enhances the tone of the suggestion.",
                    "context": "I reassured the student by saying they can do that if they'd like, okay? Encouraging them to pursue their preferred approach."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "Washing machines used only 90%.",
                    "corrected": "Washing machines were used only 90%.",
                    "explanation": "The verb 'used' needs 'were' to indicate the passive voice.",
                    "context": "I was discussing how often appliances like washing machines were utilized. Washing machines were used only 90%. Most people relied on refrigerators."
                },
                {
                    "original": "What can you draw from it?",
                    "corrected": "What can you conclude from it?",
                    "explanation": "'Draw' is not the correct verb here; 'conclude' fits better in this analytical context.",
                    "context": "In analyzing the data, I'm curious about what observations people can make. What can you conclude from it? It's essential to highlight clear trends."
                },
                {
                    "original": "This is the first thing we said.",
                    "corrected": "This is the first thing we've mentioned.",
                    "explanation": "The present perfect tense is more appropriate here to indicate relevance to the current conversation.",
                    "context": "We've been discussing various trends related to electrical appliances. This is the first thing we've mentioned, which is a significant observation."
                },
                {
                    "original": "In principle, houses with electrical appliances.",
                    "corrected": "In principle, we consider houses with electrical appliances.",
                    "explanation": "The sentence is incomplete; adding 'we consider' provides clarity.",
                    "context": "When evaluating trends, it's important to consider various factors. In principle, we consider houses with electrical appliances to assess their impact."
                },
                {
                    "original": "Is it popular?",
                    "corrected": "Is it considered popular?",
                    "explanation": "The original phrase lacks clarity; adding 'considered' improves the question's specificity.",
                    "context": "Throughout our discussions, we analyze different appliances' popularity. Is it considered popular? It's essential to understand public perception."
                },
                {
                    "original": "A bomb in the refrigerator.",
                    "corrected": "A boom in refrigerator sales.",
                    "explanation": "The word 'bomb' is likely a misunderstanding; 'boom' accurately describes a sudden increase.",
                    "context": "I was referring to significant changes in appliance sales over the years. A boom in refrigerator sales happened as they became more sought after."
                },
                {
                    "original": "In the early 2000s, the refrigerator was not popular.",
                    "corrected": "In the early 2000s, the refrigerator was less popular.",
                    "explanation": "The use of 'not' implies complete unpopularity, which is incorrect; 'less' conveys a decline in popularity.",
                    "context": "During our analysis, we noticed shifts in appliance usage. In the early 2000s, the refrigerator was less popular compared to earlier decades."
                },
                {
                    "original": "In 1940, what happened?",
                    "corrected": "In 1940, what was the trend?",
                    "explanation": "The phrase lacks context; rephrasing as a question about trends clarifies it.",
                    "context": "I was trying to prompt further discussion about significant events related to appliances. In 1940, what was the trend? That's crucial for understanding market changes."
                },
                {
                    "original": "When did they become popular?",
                    "corrected": "When did they first become popular?",
                    "explanation": "Adding 'first' specifies the inquiry about their initial popularity.",
                    "context": "We were reviewing the historical popularity of appliances. When did they first become popular? It's important to pinpoint these milestones."
                },
                {
                    "original": "We can concentrate on only one refrigerator.",
                    "corrected": "We can focus on only one refrigerator.",
                    "explanation": "'Concentrate on' is informal; 'focus on' is more appropriate in this context.",
                    "context": "To streamline our analysis, I suggested simplifying our approach. We can focus on only one refrigerator to better understand its impact."
                },
                {
                    "original": "Do not describe all three graphs.",
                    "corrected": "Let's not describe all three graphs.",
                    "explanation": "Commands can come off as abrupt; using 'let's' makes it more collaborative.",
                    "context": "As we organized our presentation, I encouraged my peers to be succinct. Let's not describe all three graphs to maintain clarity."
                },
                {
                    "original": "A lot of small little vocabulary inconsistencies.",
                    "corrected": "A lot of small vocabulary inconsistencies.",
                    "explanation": "The term 'small little' is redundant; 'small' alone is sufficient.",
                    "context": "I noticed several language challenges we need to address. A lot of small vocabulary inconsistencies have come up as we learn."
                },
                {
                    "original": "Because without it, you will never understand how to do it right.",
                    "corrected": "Because without it, you may struggle to understand how to do it correctly.",
                    "explanation": "Changing 'will never' to 'may struggle' is less absolute and more encouraging.",
                    "context": "I was emphasizing the importance of utilizing tools for learning effectively. Because without it, you may struggle to understand how to do it correctly."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Lab",
                    "definition": "A controlled environment for conducting experiments or tests, often used in science and technology education.",
                    "context": {
                        "Context 1": "In computer science, we work on our labs to apply what we learn in theory.",
                        "Context 2": "The chemistry lab was filled with beakers and Bunsen burners for the students' experiments.",
                        "Context 3": "After school, he went to the lab to create a new app for his phone."
                    }
                },
                {
                    "word": "Code",
                    "definition": "A set of instructions written in a programming language to be executed by a computer.",
                    "context": {
                        "Context 1": "I'm currently writing code for a project in my computer science class.",
                        "Context 2": "He forgot the code to his secret garden gate, and now he can't get in.",
                        "Context 3": "The ancient code on the tablet has baffled historians for centuries."
                    }
                },
                {
                    "word": "Fluctuate",
                    "definition": "To rise and fall irregularly in number or amount; to vary.",
                    "context": {
                        "Context 1": "The data showed that sales tend to fluctuate significantly over the holiday season.",
                        "Context 2": "Her mood can fluctuate from happy to sad in just a few minutes.",
                        "Context 3": "The prices of apples can fluctuate based on the time of year."
                    }
                },
                {
                    "word": "Significant",
                    "definition": "Having meaning or importance; noteworthy.",
                    "context": {
                        "Context 1": "There was a significant improvement in his coding skills after the training.",
                        "Context 2": "The significant change in weather surprised everyone at the picnic.",
                        "Context 3": "A significant number of people attended the concert downtown."
                    }
                },
                {
                    "word": "Peak",
                    "definition": "The highest point or level reached during a particular period.",
                    "context": {
                        "Context 1": "The graph shows a clear peak in sales during the festive season.",
                        "Context 2": "The mountain climbers finally reached the peak after hours of climbing.",
                        "Context 3": "His stress levels hit their peak when the deadline approached."
                    }
                },
                {
                    "word": "Dramatic",
                    "definition": "Sudden and striking; likely to have a strong effect.",
                    "context": {
                        "Context 1": "The company experienced a dramatic increase in profits after the new product launch.",
                        "Context 2": "Her dramatic performance in the school play earned her a standing ovation.",
                        "Context 3": "The weather changes in the mountains can be dramatic, sometimes shifting within hours."
                    }
                },
                {
                    "word": "Stable",
                    "definition": "Firmly fixed; not likely to change or fail.",
                    "context": {
                        "Context 1": "The graph indicated stable growth in the company's revenue over the last year.",
                        "Context 2": "He enjoyed a stable job which allowed him to support his family.",
                        "Context 3": "The stable structure of the bridge has withstood many storms."
                    }
                },
                {
                    "word": "Collaborate",
                    "definition": "To work together with others to achieve a common goal.",
                    "context": {
                        "Context 1": "We need to collaborate on the group project to ensure its success.",
                        "Context 2": "The two artists decided to collaborate on a mural for the community.",
                        "Context 3": "The scientists chose to collaborate to expedite their research on climate change."
                    }
                },
                {
                    "word": "Documentation",
                    "definition": "Written instructional materials or records that provide information.",
                    "context": {
                        "Context 1": "It’s important to read the documentation before starting any coding project.",
                        "Context 2": "The documentation on how to fix the car was missing from the glove compartment.",
                        "Context 3": "For their history project, they used several documents as documentation of their findings."
                    }
                },
                {
                    "word": "Analyze",
                    "definition": "To examine something in detail in order to understand it better or draw conclusions.",
                    "context": {
                        "Context 1": "We need to analyze the data from our surveys to identify trends.",
                        "Context 2": "She loves to analyze the characters in her favorite novels.",
                        "Context 3": "The detective had to analyze the crime scene for any clues."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Code",
                    "fact": "The first computer programmer was Ada Lovelace in the 1800s, and she wrote code for a machine that didn't even exist yet!"
                },
                {
                    "word": "Fluctuate",
                    "fact": "In economics, prices can fluctuate so much that even a light-hearted joke about it could send coffee prices up!"
                },
                {
                    "word": "Dramatic",
                    "fact": "Did you know that 'Dramatic' can also refer to soap operas and their over-the-top cliffhangers?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of unresolved issues!"
                },
                {
                    "question": "Why did the programmer quit his job?",
                    "answer": "Because he didn't get arrays (a raise)!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "body paragraph",
                    "definition": "A main paragraph in an essay that develops one idea or point with details and examples.",
                    "context": {
                        "Context 1": "This body paragraph describes the trend in closures from 2011 to 2018 with specific yearly details.",
                        "Context 2": "In a recipe book, a body paragraph might explain one step of a complex technique with examples.",
                        "Context 3": "During a presentation, each slide can act like a body paragraph by focusing on a single main point."
                    }
                },
                {
                    "word": "prototype",
                    "definition": "An early model or outline of something used to test ideas or structure before making the final version.",
                    "context": {
                        "Context 1": "Let's review your prototypes (outline models) and then explore how each prototype connects to different body paragraphs.",
                        "Context 2": "The design team built a prototype of the chair to test comfort before mass production.",
                        "Context 3": "A writer might use a prototype storyboard to plan the scenes of a short film."
                    }
                },
                {
                    "word": "graph",
                    "definition": "A visual representation of data, usually using lines, bars, or points to show relationships or changes over time.",
                    "context": {
                        "Context 1": "This is a tricky graph because it's hard to see the overall trend across the full period.",
                        "Context 2": "The nutritionist used a pie graph to show the proportion of macronutrients in the meal plan.",
                        "Context 3": "A transit map is a kind of graph that helps you see how different routes connect."
                    }
                },
                {
                    "word": "trend",
                    "definition": "A general direction in which something is developing or changing over a period of time.",
                    "context": {
                        "Context 1": "The general trend from 2014 to 2018 was a steady decline in the number of closures.",
                        "Context 2": "There's a new fashion trend where everyone is wearing bright socks with suits.",
                        "Context 3": "Technology trends show that battery life improvements have slowed in recent years."
                    }
                },
                {
                    "word": "steady / steadily",
                    "definition": "Continuing in a regular, even, and unchanging way; without large swings or sudden changes.",
                    "context": {
                        "Context 1": "You can say the figure steadily decreased if it fell a little each year rather than suddenly.",
                        "Context 2": "The runner maintained a steady pace and finished the marathon without stopping.",
                        "Context 3": "When you heat the soup steadily, it won't boil over."
                    }
                },
                {
                    "word": "sharp (increase / drop)",
                    "definition": "A sudden and large rise or fall in a value over a short time.",
                    "context": {
                        "Context 1": "There was a sharp increase from 2012 to 2014 — the value rose quickly over that short period.",
                        "Context 2": "He felt a sharp pain in his knee after twisting it on the stairs.",
                        "Context 3": "The stock experienced a sharp drop after the unexpected earnings report."
                    }
                },
                {
                    "word": "dramatically / dramatic",
                    "definition": "In a striking or noticeable way; very suddenly or with great effect.",
                    "context": {
                        "Context 1": "The figure fell dramatically in 2012, dropping from roughly 8,000 to around 4,000.",
                        "Context 2": "The actor made a dramatic entrance, arriving under a cloud of fog and music.",
                        "Context 3": "Sales increased dramatically after the product was featured on a popular show."
                    }
                },
                {
                    "word": "fluctuate / fluctuation",
                    "definition": "To change level, strength, or value frequently and irregularly; to go up and down.",
                    "context": {
                        "Context 1": "After the sharp drop in 2015, the values fluctuated until 2017 with several small ups and downs.",
                        "Context 2": "Temperatures can fluctuate wildly in desert regions between day and night.",
                        "Context 3": "My moods seem to fluctuate depending on how much sleep I get."
                    }
                },
                {
                    "word": "decline",
                    "definition": "A decrease or downward movement in amount, quality, or importance; to become smaller or worse.",
                    "context": {
                        "Context 1": "From 2014 to 2018 the figure declined steadily, reaching its lowest point in 2018.",
                        "Context 2": "The castle's condition began to decline after decades without maintenance.",
                        "Context 3": "He declined the invitation because he had another commitment that night."
                    }
                },
                {
                    "word": "figure (in data context)",
                    "definition": "A number, value, or line on a graph that represents data; also used to refer to a specific statistic.",
                    "context": {
                        "Context 1": "The figure (the line on the graph) increased sharply in 2014 according to the chart.",
                        "Context 2": "That figure — eight million — was the population estimate for the city last year.",
                        "Context 3": "She cut a graceful figure on the dance floor at the festival."
                    }
                },
                {
                    "word": "compare / comparison",
                    "definition": "To examine two or more items to note similarities and differences; a statement about how they are similar or different.",
                    "context": {
                        "Context 1": "I wouldn't compare the two graphs here; it's clearer to describe each graph separately.",
                        "Context 2": "When you compare apples and oranges, you should decide which qualities matter most.",
                        "Context 3": "A price comparison website helps you find the best deal on flights."
                    }
                },
                {
                    "word": "roughly",
                    "definition": "Approximately; not exactly but close enough for the current purpose.",
                    "context": {
                        "Context 1": "It began at roughly 8,000 in 2011 and then fell dramatically in 2012.",
                        "Context 2": "The hike is roughly five miles long, depending on which trail you take.",
                        "Context 3": "She earns roughly twice as much as she did five years ago."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "graph",
                    "fact": "The word 'graph' comes from the Greek graphein, meaning 'to write.' Early graphs in the 1800s were sometimes hand-drawn curves with poetic names like 'curve of life.'"
                },
                {
                    "word": "prototype",
                    "fact": "Prototype originally meant 'first type' — and some famous prototypes were surprisingly odd, like the first car prototype that looked more like a horseless carriage with a giant flywheel."
                },
                {
                    "word": "steady",
                    "fact": "In sailing, 'steady' is a real compliment — it means the boat isn't rocking and you're not about to be soaked by a wave. Students wish charts were always that steady!"
                },
                {
                    "word": "fluctuate",
                    "fact": "Fluctuate comes from Latin 'fluctus', which means 'wave.' So when numbers fluctuate, they're basically doing a tiny data-sea dance."
                },
                {
                    "word": "dramatic",
                    "fact": "The word 'dramatic' is related to drama (plays). So if your graph has dramatic swings, it might deserve an Oscar for Best Line Chart."
                },
                {
                    "word": "roughly",
                    "fact": "People often use 'roughly' when they want to sound smart about an estimate. In science, 'roughly' can mean 'close enough unless your grant depends on the exact number.'"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to the data lesson?",
                    "answer": "Because the teacher said the graph had a sharp rise and they wanted to reach the top!"
                },
                {
                    "question": "Why do writers never argue with a prototype?",
                    "answer": "Because it’s only an outline — there’s nothing to fight about yet!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Trend",
                    "definition": "A general direction in which something is developing or changing.",
                    "context": {
                        "Context 1": "Over the years, the trend shows an increase in the number of households with washing machines.",
                        "Context 2": "Fashion trends change every season, reflecting the evolving tastes of consumers.",
                        "Context 3": "She noticed an interesting trend in her garden where roses bloomed earlier every spring."
                    }
                },
                {
                    "word": "Appliance",
                    "definition": "A device or piece of equipment designed to perform a specific task, typically in the home.",
                    "context": {
                        "Context 1": "In 1980, many families started to own multiple appliances like refrigerators and vacuums.",
                        "Context 2": "The latest kitchen appliance is a smart oven that can cook meals automatically.",
                        "Context 3": "He couldn’t decide which appliance to buy: the blender or the juicer."
                    }
                },
                {
                    "word": "Graph",
                    "definition": "A diagram that represents data or information, typically using lines or bars.",
                    "context": {
                        "Context 1": "The lesson included several graphs that illustrated how appliance ownership changed over time.",
                        "Context 2": "She used a graph to show the rising temperatures of the planet over the last century.",
                        "Context 3": "The graph of his bank balance revealed some surprising spending habits."
                    }
                },
                {
                    "word": "Household chore",
                    "definition": "Routine tasks necessary for the upkeep of a home.",
                    "context": {
                        "Context 1": "With the addition of appliances, the time spent on household chores decreased significantly.",
                        "Context 2": "Every Saturday, he made a list of household chores to complete before relaxing.",
                        "Context 3": "Washing the car was his least favorite household chore."
                    }
                },
                {
                    "word": "Breakdown",
                    "definition": "A division into parts for easier analysis or understanding.",
                    "context": {
                        "Context 1": "The discussion included a breakdown of specific appliances used in households.",
                        "Context 2": "The engineer provided a breakdown of the project costs in the meeting.",
                        "Context 3": "After the breakdown of communication, the friends decided to clear up the misunderstandings."
                    }
                },
                {
                    "word": "Popularity",
                    "definition": "The state of being liked, admired, or supported by many people.",
                    "context": {
                        "Context 1": "The popularity of refrigerators surged in the 1960s as more families bought them.",
                        "Context 2": "His popularity as a musician grew after his first album release.",
                        "Context 3": "The popularity of certain foods can vary greatly from one country to another."
                    }
                },
                {
                    "word": "Compare",
                    "definition": "To examine two or more items to determine their similarities or differences.",
                    "context": {
                        "Context 1": "We can compare the charts of washing machine usage over different decades.",
                        "Context 2": "She loves to compare different brands of chocolate to find the best one.",
                        "Context 3": "In math class, we learned how to compare fractions to see which is larger."
                    }
                },
                {
                    "word": "Develop",
                    "definition": "To grow or cause to grow and become more mature, advanced, or elaborate.",
                    "context": {
                        "Context 1": "Over the years, households developed a habit of using more electrical appliances.",
                        "Context 2": "The city plans to develop a new park in the neighborhood.",
                        "Context 3": "He learned to develop his photography skills through practice and workshops."
                    }
                },
                {
                    "word": "Highlight",
                    "definition": "To emphasize or make something stand out.",
                    "context": {
                        "Context 1": "The teacher asked us to highlight the important trends in our assignments.",
                        "Context 2": "At the event, she wanted to highlight the achievements of outstanding students.",
                        "Context 3": "The author highlighted the key themes in her new book during the interview."
                    }
                },
                {
                    "word": "Significant",
                    "definition": "Having meaning; important or noteworthy.",
                    "context": {
                        "Context 1": "The research indicated a significant decrease in household chores with new appliances.",
                        "Context 2": "The historical document contains significant evidence of ancient civilizations.",
                        "Context 3": "She made a significant contribution to the charity organization last year."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Appliance",
                    "fact": "The first electric toaster was invented in 1909 and could toast one side at a time!"
                },
                {
                    "word": "Graph",
                    "fact": "The word 'graph' comes from the Greek word 'grapho,' which means 'to write.' So essentially, graphs are just fancy writings of data!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the washing machine break up with the dryer?",
                    "answer": "Because it felt like it was getting tumbled around too much!"
                },
                {
                    "question": "Why don’t refrigerators ever tell secrets?",
                    "answer": "Because they can’t handle the pressure—someone might crack up!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, did you start working on that computer science project yet?"
                },
                {
                    "Person 2": "Not yet! I'm a bit intimidated. Is it going to be hard?"
                },
                {
                    "Person 1": "I don’t think so. You just need to explain what you code."
                },
                {
                    "Person 2": "I suppose, but coding can be tricky sometimes."
                },
                {
                    "Person 1": "What do you need to code anyway?"
                },
                {
                    "Person 2": "I have to finish some labs. It's mostly tasks they assign to us."
                },
                {
                    "Person 1": "Like what kind of tasks?"
                },
                {
                    "Person 2": "Well, it’s mainly in C language. Just small programs to create."
                },
                {
                    "Person 1": "Got it! So it's not too overwhelming?"
                },
                {
                    "Person 2": "Not really. But we have an exam this Saturday, and I’m trying to wrap everything up."
                },
                {
                    "Person 1": "Right! You mentioned you're flying to Kazakhstan next Wednesday, right?"
                },
                {
                    "Person 2": "Yeah, and my exam's the day after that. So, I need to finish this quickly."
                },
                {
                    "Person 1": "Sounds like you have a lot on your plate! Need help with anything?"
                },
                {
                    "Person 2": "Actually, could you help me check my graphs for the lab?"
                },
                {
                    "Person 1": "Sure! What did you cover last time?"
                },
                {
                    "Person 2": "I did a graph on shop closures, but I think I’m missing a report."
                },
                {
                    "Person 1": "No worries! We can go through it together. What’s first?"
                },
                {
                    "Person 2": "Let’s start with the shop closures. I want to make sure everything looks good."
                },
                {
                    "Person 1": "Sounds like a plan. Let’s tackle it one step at a time!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new show everyone’s talking about?"
                },
                {
                    "Person 2": "Yeah! I just finished the first season! What did you think?"
                },
                {
                    "Person 1": "I loved it! The plot twists were crazy. I didn’t see the last one coming at all!"
                },
                {
                    "Person 2": "I know, right? It really kept me on the edge of my seat. I was hooked!"
                },
                {
                    "Person 1": "Same! I binged it in one weekend. Now I’m just waiting for the next season."
                },
                {
                    "Person 2": "Ugh, the waiting is the worst. Do you have any other shows to watch in the meantime?"
                },
                {
                    "Person 1": "I was thinking about starting that crime documentary series. Have you seen it?"
                },
                {
                    "Person 2": "Oh, I watched it last month! It’s super interesting. You’ll love it!"
                },
                {
                    "Person 1": "Nice! I’ll add it to my list. I need something new to binge."
                },
                {
                    "Person 2": "For sure! And let me know what you think once you start it."
                },
                {
                    "Person 1": "Will do! By the way, have you been to that new café downtown?"
                },
                {
                    "Person 2": "Not yet! I’ve heard good things. Is it worth checking out?"
                },
                {
                    "Person 1": "Definitely! They have the best coffee and pastries."
                },
                {
                    "Person 2": "Sounds perfect! Let’s go this weekend!"
                },
                {
                    "Person 1": "Great idea! Can’t wait to try it with you!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you ever stop to think about how much our homes have changed over the years?"
                },
                {
                    "Person 2": "Yeah, it’s wild! I mean, just look at how many gadgets we have now compared to back in the day."
                },
                {
                    "Person 1": "For sure! Like, can you imagine living without a refrigerator? They’ve been around for a long time, but I bet not many people had them in the early 1900s."
                },
                {
                    "Person 2": "Right? My grandparents still tell stories about iceboxes instead of fridges. It sounds so old-fashioned!"
                },
                {
                    "Person 1": "And the washing machines! I’ve heard that before they became common, people spent hours just doing laundry."
                },
                {
                    "Person 2": "Totally! It’s crazy to think how much time we save with all these appliances. I wouldn't want to go back to hand washing clothes!"
                },
                {
                    "Person 1": "Seriously! I love how convenient everything is now. We can focus on other things instead of chores."
                },
                {
                    "Person 2": "Exactly! And what about vacuum cleaners? They really changed the game for cleaning."
                },
                {
                    "Person 1": "Oh, absolutely! I mean, I can't imagine having to sweep the whole house by hand anymore."
                },
                {
                    "Person 2": "Me neither! It’s amazing how things we take for granted now weren’t even common a few decades ago."
                },
                {
                    "Person 1": "Right? All this tech makes me wonder what we’ll have in the next few years. Maybe smart homes will be even more common?"
                },
                {
                    "Person 2": "I bet! Just the thought of controlling everything from my phone is thrilling!"
                },
                {
                    "Person 1": "Yeah, and just think of how many new trends will pop up. It’s exciting to imagine what’s next!"
                },
                {
                    "Person 2": "For sure! I’m all in for making life easier. Let’s catch up more about this tomorrow!"
                },
                {
                    "Person 1": "Sounds good! Can’t wait to share more ideas."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
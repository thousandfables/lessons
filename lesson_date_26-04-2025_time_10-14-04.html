<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "i thought you froze all right today is saturday right um did you sleep well that's all it's okay that's not enough that's not enough uh what what amount of sleep is enough for you like what's the idea approximately eight hours",
                    "corrected": "I thought you froze. All right, today is Saturday, right? Did you sleep well? That's okay, but it's not enough. What amount of sleep is enough for you? Approximately eight hours.",
                    "explanation": "The original sentence lacks proper punctuation and capitalization, making it difficult to read. Each sentence should start with a capital letter and end with appropriate punctuation.",
                    "context": "I was checking if my connection was stable. I thought you froze. All right, today is Saturday, right? Did you sleep well? That's okay, but it's not enough."
                },
                {
                    "original": "but usually no but i know it's like for common person necessary like minimum to sleep seven hours maximum maybe eight or nine hours",
                    "corrected": "But usually, no. I know it's necessary for a common person to sleep a minimum of seven hours and a maximum of maybe eight or nine hours.",
                    "explanation": "The phrase 'for common person' should be 'for a common person.' Additionally, the sentence structure is awkward and needs clearer punctuation.",
                    "context": "I often think about how much sleep I need. But usually, no. I know it's necessary for a common person to sleep a minimum of seven hours and a maximum of maybe eight or nine hours."
                },
                {
                    "original": "it i think maybe a lot stays when exactly cold outside",
                    "corrected": "I think maybe a lot stays when it's exactly cold outside.",
                    "explanation": "The original sentence is missing the subject 'it' and the contraction 'it's' for clarity. The structure is also awkward.",
                    "context": "We were discussing the weather. I think maybe a lot stays when it's exactly cold outside. The temperature has been quite low lately."
                },
                {
                    "original": "but also one time it was when the ninth of may was all the weather i would say",
                    "corrected": "But also, one time when it was the ninth of May, the weather was all over the place.",
                    "explanation": "The original sentence is confusing and lacks clarity. It should be restructured for better understanding.",
                    "context": "We were reminiscing about past weather conditions. But also, one time when it was the ninth of May, the weather was all over the place."
                },
                {
                    "original": "there is a fancy word for for that it starts with p",
                    "corrected": "There is a fancy word for that; it starts with 'P.'",
                    "explanation": "The repetition of 'for' is unnecessary, and a semicolon or period is needed to separate the two clauses.",
                    "context": "I was trying to recall a specific term related to weather. There is a fancy word for that; it starts with 'P.'"
                },
                {
                    "original": "i even have to or close the curtain a little bit so that sun does not uh so my laptop uh is not does not have a direct sunlight exposure",
                    "corrected": "I even have to close the curtain a little bit so that the sun doesn’t directly expose my laptop to sunlight.",
                    "explanation": "The original sentence is overly complicated and contains unnecessary filler words. It should be simplified for clarity.",
                    "context": "I was talking about managing sunlight while working. I even have to close the curtain a little bit so that the sun doesn’t directly expose my laptop to sunlight."
                },
                {
                    "original": "i took uh why charts uh above because that you sent i couldn't uh write their text that why i did it",
                    "corrected": "I took the charts above because you sent them, but I couldn't write their text, which is why I did it.",
                    "explanation": "The original sentence is fragmented and unclear. It needs restructuring for better flow and clarity.",
                    "context": "I was explaining my homework process. I took the charts above because you sent them, but I couldn't write their text, which is why I did it."
                },
                {
                    "original": "that's why i began but i didn't finish but if take uh fire charts i feel them and i took uh why charts",
                    "corrected": "That's why I began, but I didn't finish. If I take the fire charts, I filled them in, and I took the other charts.",
                    "explanation": "The sentence is confusing and lacks clarity. It should be broken into clearer parts and corrected for grammar.",
                    "context": "I was discussing my progress on the assignment. That's why I began, but I didn't finish. If I take the fire charts, I filled them in, and I took the other charts."
                },
                {
                    "original": "like on on for example 20 or 32 millions uh 2004 was worse and every time added maybe it's not right",
                    "corrected": "For example, in 2004, the figures were around 20 or 32 million, and every time it added, maybe it's not right.",
                    "explanation": "The original sentence is awkward and unclear. It needs better structure and clarity.",
                    "context": "I was trying to explain some data from a chart. For example, in 2004, the figures were around 20 or 32 million, and every time it added, maybe it's not right."
                },
                {
                    "original": "what how i would approach it i think that by birth rate here they mean",
                    "corrected": "How I would approach it is that by birth rate, they mean...",
                    "explanation": "The original sentence is missing punctuation and is awkwardly structured. It needs to be clearer.",
                    "context": "I was sharing my thoughts on interpreting the data. How I would approach it is that by birth rate, they mean..."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "the percentage of died individuals is around...",
                    "corrected": "the percentage of deceased individuals is around...",
                    "explanation": "\"Died\" is not the correct form; \"deceased\" is the appropriate term when referring to people who have passed away.",
                    "context": "In discussing demographic statistics, I mentioned the percentage of individuals who have passed away. The percentage of deceased individuals is around... but I didn't want to dwell on it."
                },
                {
                    "original": "this is a overall, yeah, prototype sentence, right?",
                    "corrected": "this is an overall, yeah, prototype sentence, right?",
                    "explanation": "\"A overall\" is incorrect; it should be \"an overall\" because \"overall\" starts with a vowel sound.",
                    "context": "While reviewing the structure of the writing, I asked if the sentence I was referring to was an overall prototype sentence. This is an overall, yeah, prototype sentence, right?"
                },
                {
                    "original": "we are doing a different thing.",
                    "corrected": "we are doing something different.",
                    "explanation": "The phrase \"doing a different thing\" is awkward; it should be \"doing something different\" for better clarity and idiomatic expression.",
                    "context": "I emphasized the importance of sticking to the data in our report. We are doing something different by including opinions that are not in the graph."
                },
                {
                    "original": "the differences in every year was like 5%.",
                    "corrected": "the differences in every year were like 5%.",
                    "explanation": "The subject \"differences\" is plural, so the verb should be \"were\" instead of \"was.\"",
                    "context": "While trying to explain the trends over the years, I mentioned that the differences in every year were like 5%. This was an important point to clarify."
                },
                {
                    "original": "it is no longer needed to spend money on teachers and to make a composition.",
                    "corrected": "it is no longer necessary to spend money on teachers and to make a composition.",
                    "explanation": "\"Needed\" is not the correct form here; \"necessary\" should be used to convey obligation or requirement.",
                    "context": "In discussing budget priorities, I concluded that it is no longer necessary to spend money on teachers and to make a composition. We need to focus on data instead."
                },
                {
                    "original": "we can say that only spending and expenditure.",
                    "corrected": "we can say that only spending is included in the expenditure.",
                    "explanation": "The original sentence lacks clarity; it should specify that spending is part of the expenditure.",
                    "context": "When discussing financial reports, I pointed out that we can say that only spending is included in the expenditure. This helps clarify the focus of our analysis."
                },
                {
                    "original": "the salary of teachers was from 40 to 50% of the sector.",
                    "corrected": "the salary of teachers accounted for 40 to 50% of the sector.",
                    "explanation": "\"Was from\" is incorrect; it should be \"accounted for\" to indicate the proportion of the salary within the sector.",
                    "context": "In the context of budget allocation, I stated that the salary of teachers accounted for 40 to 50% of the sector. This is a significant figure to consider."
                },
                {
                    "original": "if you say that in 1991 there were so many teachers, in 1981 there were so many teachers, in 2001 there were so many teachers.",
                    "corrected": "if you say that in 1991 there were so many teachers, in 1981 there were fewer teachers, and in 2001 there were even fewer teachers.",
                    "explanation": "The original sentence lacks clarity and comparison; it should specify the trend of teacher numbers over the years.",
                    "context": "While discussing the trends in teacher numbers, I suggested that if you say that in 1991 there were so many teachers, in 1981 there were fewer teachers, and in 2001 there were even fewer teachers, it would be clearer."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "If we just write how many people had in each year, it will be a lot of words.",
                    "corrected": "If we just write how many people there were in each year, it will be a lot of words.",
                    "explanation": "The phrase 'how many people had' is incorrect; it should be 'how many people there were' to properly convey existence.",
                    "context": "We are discussing how to present data effectively. If we just write how many people there were in each year, it will be a lot of words. We need to find a more concise way to present the information."
                },
                {
                    "original": "No, look, in this proposal in Russian everything is good.",
                    "corrected": "No, look, in this proposal in Russian, everything is fine.",
                    "explanation": "'Good' is not the best choice here; 'fine' is more appropriate in this context.",
                    "context": "We are evaluating the clarity of our proposals. No, look, in this proposal in Russian, everything is fine. It effectively communicates the intended message."
                },
                {
                    "original": "If 10% less, it's like this value, which was in 1991.",
                    "corrected": "If it's 10% less, it's like this value that was in 1991.",
                    "explanation": "The phrase 'If 10% less' is incomplete; it should include 'it's' for clarity.",
                    "context": "We are analyzing the data from different years. If it's 10% less, it's like this value that was in 1991. This helps us understand the comparison better."
                },
                {
                    "original": "It should be 450.",
                    "corrected": "It should be 450.",
                    "explanation": "This sentence is actually correct; no changes are needed.",
                    "context": "We are calculating the decrease in value. It should be 450. This is the correct interpretation of the percentage decrease."
                },
                {
                    "original": "How does it all end?",
                    "corrected": "How does it all conclude?",
                    "explanation": "'End' is informal; 'conclude' is more appropriate in this context.",
                    "context": "We are summarizing our findings. How does it all conclude? We need to present a clear summary of our analysis."
                },
                {
                    "original": "It fell by 10%, it means minus 50.",
                    "corrected": "It fell by 10%, which means minus 50.",
                    "explanation": "The phrase lacks a conjunction; 'which' should be used to connect the clauses.",
                    "context": "We are discussing the implications of a decrease. It fell by 10%, which means minus 50. This helps clarify the calculation."
                },
                {
                    "original": "It will be correct to write here in 1991 the share of salary, in the total budget, it did not fall, it fell by 10%.",
                    "corrected": "It will be correct to write that in 1991, the share of salary in the total budget did not fall; it fell by 10%.",
                    "explanation": "The sentence structure is awkward; it should be rephrased for clarity and proper punctuation.",
                    "context": "We are finalizing our report. It will be correct to write that in 1991, the share of salary in the total budget did not fall; it fell by 10%. This makes the information clearer."
                },
                {
                    "original": "In 1981, almost half of the budget was spent.",
                    "corrected": "In 1981, nearly half of the budget was spent.",
                    "explanation": "'Almost' is less formal; 'nearly' is more appropriate in this context.",
                    "context": "We are reviewing budget allocations. In 1981, nearly half of the budget was spent. This sets the stage for our analysis."
                },
                {
                    "original": "Then this percentage was increased by 10%.",
                    "corrected": "Then this percentage increased by 10%.",
                    "explanation": "The phrase 'was increased' is passive; 'increased' is more direct and active.",
                    "context": "We are tracking changes over time. Then this percentage increased by 10%. This shows the growth in budget allocation."
                },
                {
                    "original": "These are 5%.",
                    "corrected": "These are 5 percentage points.",
                    "explanation": "The term '5%' is vague; specifying 'percentage points' clarifies the measurement.",
                    "context": "We are discussing statistical changes. These are 5 percentage points. This distinction is important for accuracy."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Precipitation",
                    "definition": "Any form of water, liquid or solid, that falls from the atmosphere and reaches the ground.",
                    "context": {
                        "Context 1": "The weather report indicated that there would be heavy precipitation, including rain and snow.",
                        "Context 2": "During the summer, precipitation can lead to lush green landscapes.",
                        "Context 3": "The scientist studied precipitation patterns to understand climate change impacts."
                    }
                },
                {
                    "word": "Unified",
                    "definition": "Formed or brought together into a single entity.",
                    "context": {
                        "Context 1": "There is no unified answer for how much sleep each person needs.",
                        "Context 2": "The team worked hard to create a unified strategy for the project.",
                        "Context 3": "The unified front of the community helped them achieve their goals."
                    }
                },
                {
                    "word": "Atmospheric",
                    "definition": "Related to the atmosphere of the Earth or the gases surrounding it.",
                    "context": {
                        "Context 1": "The discussion about weather included various atmospheric conditions.",
                        "Context 2": "Atmospheric pressure affects how we breathe at high altitudes.",
                        "Context 3": "The atmospheric changes were evident as the storm approached."
                    }
                },
                {
                    "word": "Temperature",
                    "definition": "A measure of how hot or cold something is, usually measured in degrees.",
                    "context": {
                        "Context 1": "The temperature outside was only nine degrees, making it feel quite cold.",
                        "Context 2": "The temperature of the soup was perfect for a chilly day.",
                        "Context 3": "He checked the temperature of the oven before baking the cake."
                    }
                },
                {
                    "word": "Flora",
                    "definition": "The plants of a particular region, habitat, or geological period.",
                    "context": {
                        "Context 1": "In spring, the flora around Kaliningrad becomes vibrant with flowers.",
                        "Context 2": "The flora of the rainforest is incredibly diverse and colorful.",
                        "Context 3": "He studied the flora of ancient civilizations to understand their agriculture."
                    }
                },
                {
                    "word": "Exposure",
                    "definition": "The state of being exposed to contact with something.",
                    "context": {
                        "Context 1": "He had to close the curtain to prevent direct sunlight exposure to his laptop.",
                        "Context 2": "Exposure to cold weather can lead to health issues if not managed properly.",
                        "Context 3": "The artist's work gained exposure through a popular gallery."
                    }
                },
                {
                    "word": "Smell",
                    "definition": "The ability to perceive odors or scents through the nose.",
                    "context": {
                        "Context 1": "In spring, the smell of blooming flowers fills the air.",
                        "Context 2": "The smell of fresh bread baking is irresistible.",
                        "Context 3": "He could smell the rain approaching before it started to fall."
                    }
                },
                {
                    "word": "Chart",
                    "definition": "A visual representation of data, often in the form of a graph or table.",
                    "context": {
                        "Context 1": "The lesson involved analyzing different types of charts to understand data.",
                        "Context 2": "She created a chart to track her savings over the year.",
                        "Context 3": "The chart displayed the population growth over the last decade."
                    }
                },
                {
                    "word": "Birth Rate",
                    "definition": "The number of live births per thousand of the population in a given year.",
                    "context": {
                        "Context 1": "The birth rate in England and Wales was discussed during the lesson.",
                        "Context 2": "Countries with high birth rates often face challenges in healthcare.",
                        "Context 3": "The birth rate can significantly impact a nation's economy."
                    }
                },
                {
                    "word": "Death Rate",
                    "definition": "The number of deaths per thousand of the population in a given year.",
                    "context": {
                        "Context 1": "Understanding the death rate is crucial for analyzing population trends.",
                        "Context 2": "The death rate in the region has decreased due to better healthcare.",
                        "Context 3": "Comparing the birth rate and death rate helps in understanding demographic changes."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Precipitation",
                    "fact": "Did you know that the wettest place on Earth, Mawsynram in India, receives about 467 inches of precipitation a year?"
                },
                {
                    "word": "Temperature",
                    "fact": "The hottest temperature ever recorded on Earth was 134°F (56.7°C) in Furnace Creek Ranch, California, in 1913!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the weather report break up with the forecast?",
                    "answer": "Because it found someone more stable!"
                },
                {
                    "question": "What do you call it when it rains cats and dogs?",
                    "answer": "A purr-fect storm!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Expenditure",
                    "definition": "The action of spending funds or the amount spent.",
                    "context": {
                        "Context 1": "The expenditure on education has increased over the years.",
                        "Context 2": "His monthly expenditure on coffee is surprisingly high.",
                        "Context 3": "The government’s expenditure on infrastructure projects is crucial for development."
                    }
                },
                {
                    "word": "Prototype",
                    "definition": "A first or preliminary version of a device or vehicle from which other forms are developed.",
                    "context": {
                        "Context 1": "The prototype of the new smartphone was unveiled at the tech conference.",
                        "Context 2": "She created a prototype of her art installation using cardboard.",
                        "Context 3": "In biology class, we learned about the prototype of the modern human."
                    }
                },
                {
                    "word": "Linking word",
                    "definition": "A word or phrase that connects ideas or sentences.",
                    "context": {
                        "Context 1": "Using a linking word can help improve the flow of your writing.",
                        "Context 2": "In her speech, she used a linking word to transition between topics smoothly.",
                        "Context 3": "The linking word 'however' can indicate a contrast in your argument."
                    }
                },
                {
                    "word": "Vague",
                    "definition": "Not clearly expressed or defined; uncertain.",
                    "context": {
                        "Context 1": "The instructions were vague, making it difficult to complete the task.",
                        "Context 2": "His vague response left everyone confused about his intentions.",
                        "Context 3": "The artist’s painting was intentionally vague, allowing viewers to interpret it in their own way."
                    }
                },
                {
                    "word": "Obscure",
                    "definition": "Not discovered or known about; uncertain.",
                    "context": {
                        "Context 1": "The details of the project were obscure, making it hard to understand.",
                        "Context 2": "He enjoys reading obscure novels that few people have heard of.",
                        "Context 3": "The meaning of the poem was obscure, requiring deep analysis."
                    }
                },
                {
                    "word": "Redundant",
                    "definition": "Not or no longer needed or useful; superfluous.",
                    "context": {
                        "Context 1": "The report was filled with redundant information that could be cut.",
                        "Context 2": "In a well-edited book, redundant phrases are usually removed.",
                        "Context 3": "The redundant machinery in the factory was sold off to save space."
                    }
                },
                {
                    "word": "Achieve",
                    "definition": "To successfully reach a desired objective or result.",
                    "context": {
                        "Context 1": "She worked hard to achieve her goal of becoming a doctor.",
                        "Context 2": "They hope to achieve a new world record in the upcoming event.",
                        "Context 3": "With teamwork, they can achieve great things together."
                    }
                },
                {
                    "word": "Opinion",
                    "definition": "A view or judgment formed about something, not necessarily based on fact or knowledge.",
                    "context": {
                        "Context 1": "It’s important to express your opinion respectfully in discussions.",
                        "Context 2": "His opinion on the movie was quite different from mine.",
                        "Context 3": "The teacher encouraged students to share their opinion on the book."
                    }
                },
                {
                    "word": "Data",
                    "definition": "Facts and statistics collected together for reference or analysis.",
                    "context": {
                        "Context 1": "The data from the survey showed a clear trend in consumer behavior.",
                        "Context 2": "Scientists rely on accurate data to support their research findings.",
                        "Context 3": "The data was presented in a clear and understandable format."
                    }
                },
                {
                    "word": "Percentage",
                    "definition": "A rate, number, or amount in each hundred.",
                    "context": {
                        "Context 1": "The percentage of students passing the exam increased this year.",
                        "Context 2": "She received a percentage of the profits from the sales.",
                        "Context 3": "The percentage of rainfall this month was higher than average."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Expenditure",
                    "fact": "Did you know that the average person spends about 2 years of their life waiting for red lights to turn green?"
                },
                {
                    "word": "Prototype",
                    "fact": "The first prototype of the modern bicycle was called the 'Dandy Horse' and had no pedals!"
                },
                {
                    "word": "Vague",
                    "fact": "The word 'vague' comes from the Latin word 'vagus', which means 'wandering' or 'roaming'!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Percentage",
                    "definition": "A fraction or ratio expressed as a part of 100.",
                    "context": {
                        "Context 1": "In the lesson, we discussed how the percentage of the budget spent changed over the years.",
                        "Context 2": "When baking, you need to measure ingredients in percentage to get the right taste.",
                        "Context 3": "The percentage of students passing the exam increased this year compared to last year."
                    }
                },
                {
                    "word": "Budget",
                    "definition": "An estimate of income and expenditure for a set period of time.",
                    "context": {
                        "Context 1": "The lesson mentioned how the budget was allocated over different years.",
                        "Context 2": "She created a budget for her monthly expenses to save money for a vacation.",
                        "Context 3": "The school’s budget was cut, affecting the number of extracurricular activities available."
                    }
                },
                {
                    "word": "Value",
                    "definition": "The importance, worth, or usefulness of something.",
                    "context": {
                        "Context 1": "We analyzed the value of different percentages in the budget during the lesson.",
                        "Context 2": "The value of friendship is immeasurable and cannot be quantified.",
                        "Context 3": "He found great value in learning new skills, which helped him in his career."
                    }
                },
                {
                    "word": "Proposal",
                    "definition": "A plan or suggestion put forward for consideration.",
                    "context": {
                        "Context 1": "The lesson included a proposal for how to present the data clearly.",
                        "Context 2": "She submitted a proposal for a new project at work to improve efficiency.",
                        "Context 3": "The proposal to build a new park was met with enthusiasm from the community."
                    }
                },
                {
                    "word": "Clarify",
                    "definition": "To make something clear or easier to understand.",
                    "context": {
                        "Context 1": "During the lesson, we needed to clarify the difference between percentage and percentage points.",
                        "Context 2": "The teacher asked the student to clarify their answer to ensure everyone understood.",
                        "Context 3": "He needed to clarify his statement after realizing it was misunderstood."
                    }
                },
                {
                    "word": "Confusion",
                    "definition": "A lack of understanding or uncertainty about something.",
                    "context": {
                        "Context 1": "The lesson highlighted the potential confusion caused by misinterpreting percentages.",
                        "Context 2": "There was confusion at the party when guests arrived at different times.",
                        "Context 3": "Her explanation led to more confusion rather than clarity among the students."
                    }
                },
                {
                    "word": "Logical",
                    "definition": "Of or according to the rules of logic or formal argument.",
                    "context": {
                        "Context 1": "We discussed the logical steps needed to analyze the data in the lesson.",
                        "Context 2": "His logical reasoning helped him solve the complex math problem quickly.",
                        "Context 3": "The plot of the movie was so illogical that it left the audience baffled."
                    }
                },
                {
                    "word": "Specify",
                    "definition": "To state a fact or requirement clearly and precisely.",
                    "context": {
                        "Context 1": "In the lesson, we needed to specify the years when discussing the budget changes.",
                        "Context 2": "The contract did not specify the deadline for the project, leading to delays.",
                        "Context 3": "She asked him to specify his preferences for dinner to make a reservation."
                    }
                },
                {
                    "word": "Decrease",
                    "definition": "To make or become smaller or fewer in size, amount, or degree.",
                    "context": {
                        "Context 1": "The lesson mentioned a decrease in the budget allocation over the years.",
                        "Context 2": "The doctor advised him to decrease his sugar intake for better health.",
                        "Context 3": "There was a noticeable decrease in the number of participants this year."
                    }
                },
                {
                    "word": "Comparison",
                    "definition": "The act of comparing two or more things.",
                    "context": {
                        "Context 1": "We made a comparison of the budget percentages from different years in the lesson.",
                        "Context 2": "The comparison between the two products helped her make a decision.",
                        "Context 3": "In his essay, he drew a comparison between ancient and modern civilizations."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Percentage",
                    "fact": "Did you know that the word 'percentage' comes from the Latin 'per centum,' which means 'by the hundred'?"
                },
                {
                    "word": "Budget",
                    "fact": "In ancient Egypt, the budget was often made with papyrus scrolls, and they were very serious about balancing it—just like today!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                },
                {
                    "question": "Why was the equal sign so humble?",
                    "answer": "Because it knew it wasn't less than or greater than anyone else!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going? Did you sleep well last night?"
                },
                {
                    "Person 2": "Hey! Not really, I only got about six hours. I usually aim for eight."
                },
                {
                    "Person 1": "Yeah, same here. I feel like I need at least seven to function properly."
                },
                {
                    "Person 2": "Right? I read somewhere that the ideal amount of sleep can be different for everyone."
                },
                {
                    "Person 1": "Totally! Some people are fine with just six, while others need nine."
                },
                {
                    "Person 2": "Exactly! I guess it really depends on the person. How's the weather over there?"
                },
                {
                    "Person 1": "It's pretty chilly today, around 50 degrees. How about you?"
                },
                {
                    "Person 2": "It's sunny here! I had to close the curtains because the sun was blinding me."
                },
                {
                    "Person 1": "Nice! I love sunny days. Are the trees starting to bloom where you are?"
                },
                {
                    "Person 2": "Yeah, they are! The cherry blossoms are beautiful right now."
                },
                {
                    "Person 1": "That sounds amazing! I wish I could see them. Do they smell good too?"
                },
                {
                    "Person 2": "Absolutely! It’s such a nice fragrance. Makes me want to go outside."
                },
                {
                    "Person 1": "For sure! I love springtime. It feels like everything is coming back to life."
                },
                {
                    "Person 2": "Exactly! So, what do you want to do this weekend?"
                },
                {
                    "Person 1": "I was thinking about going for a hike if the weather stays nice."
                },
                {
                    "Person 2": "That sounds like a plan! I might join you if I can."
                },
                {
                    "Person 1": "Awesome! Let’s keep an eye on the weather and figure it out."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new documentary on Netflix about the ocean?"
                },
                {
                    "Person 2": "No, I haven't seen it yet. Is it good?"
                },
                {
                    "Person 1": "Yeah, it's really fascinating! They cover everything from coral reefs to deep-sea creatures."
                },
                {
                    "Person 2": "That sounds awesome! I love learning about marine life. Did they talk about climate change too?"
                },
                {
                    "Person 1": "Definitely. They showed how it's affecting sea levels and marine ecosystems. It's pretty eye-opening."
                },
                {
                    "Person 2": "Wow, I can imagine. It’s crazy how much impact we have on the environment."
                },
                {
                    "Person 1": "Right? It makes you think about what we can do to help. I’ve been trying to reduce plastic use."
                },
                {
                    "Person 2": "Same here! I started bringing my own bags to the store and using a reusable water bottle."
                },
                {
                    "Person 1": "That’s great! Every little bit helps, I guess. We should plan a beach cleanup sometime."
                },
                {
                    "Person 2": "Absolutely! I’d love to do that. It would be fun and for a good cause."
                },
                {
                    "Person 1": "Let’s look for some local events. I think there are a few coming up."
                },
                {
                    "Person 2": "Sounds like a plan! I’ll check my schedule and we can coordinate."
                },
                {
                    "Person 1": "Perfect! I’m excited to make a difference together."
                },
                {
                    "Person 2": "Me too! Plus, it’ll be a nice way to spend time outdoors."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch the game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a comeback, right?"
                },
                {
                    "Person 1": "Absolutely! I thought they were done for, but they really pulled it together."
                },
                {
                    "Person 2": "I know! That last-minute goal was insane. I jumped off the couch!"
                },
                {
                    "Person 1": "Same here! I was so nervous. Did you see the ref's call before that goal?"
                },
                {
                    "Person 2": "Yeah, I thought it was a bit questionable. But hey, it worked out in the end!"
                },
                {
                    "Person 1": "For sure! So, are you planning to watch the next game?"
                },
                {
                    "Person 2": "Definitely! I wouldn’t miss it. We should have a watch party!"
                },
                {
                    "Person 1": "That sounds like a blast! I can bring snacks."
                },
                {
                    "Person 2": "Perfect! I’ll grab some drinks. It’ll be fun!"
                },
                {
                    "Person 1": "Awesome! Can’t wait to cheer them on together."
                },
                {
                    "Person 2": "Me too! Let’s hope for another exciting game!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I was helping my dad, granddad.",
                    "corrected": "I was helping my dad and granddad.",
                    "explanation": "The conjunction 'and' is needed to connect the two subjects clearly.",
                    "context": "I went to my summer house and helped my family with some chores. I was helping my dad and granddad. It was tiring, but I did my best."
                },
                {
                    "original": "I collected... I don't know how to say that.",
                    "corrected": "I collected hay.",
                    "explanation": "The speaker hesitated and did not complete the thought clearly, leading to confusion.",
                    "context": "While at the summer house, I had to do some work. I collected hay. It was a bit challenging to express what I was doing."
                },
                {
                    "original": "Not me.",
                    "corrected": "Not for me.",
                    "explanation": "'Not me' is informal and unclear; 'not for me' conveys that the speaker did not want to do the task.",
                    "context": "I helped my granddad with the grass collection. He wanted it to look clean, but it was not for me. I preferred to relax instead."
                },
                {
                    "original": "But only summer.",
                    "corrected": "But only in summer.",
                    "explanation": "The phrase is missing a preposition, making it grammatically incorrect.",
                    "context": "My grandparents have a summer house, but they only stay there during the warm months. They live there only in summer."
                },
                {
                    "original": "It's still holiday.",
                    "corrected": "It's still a holiday.",
                    "explanation": "The article 'a' is needed before 'holiday' to make the sentence grammatically correct.",
                    "context": "Even though I was working at the summer house, I still enjoyed my time off. It's still a holiday for me."
                },
                {
                    "original": "I checked it in my Google Translate.",
                    "corrected": "I checked it with Google Translate.",
                    "explanation": "The preposition 'with' is more appropriate here than 'in' when referring to using a tool.",
                    "context": "After writing my essay, I wanted to ensure it was correct. I checked it with Google Translate to see if there were any mistakes."
                },
                {
                    "original": "Because Google Translate is not an AI.",
                    "corrected": "Because Google Translate is not a true AI.",
                    "explanation": "Adding 'true' clarifies the distinction between basic translation software and advanced AI.",
                    "context": "I discussed the limitations of translation tools. Because Google Translate is not a true AI, it often misses nuances in language."
                },
                {
                    "original": "Because later, when we will work on reports, you will have to ask it to correct your mistakes.",
                    "corrected": "Because later, when we work on reports, you will have to ask it to correct your mistakes.",
                    "explanation": "The use of 'will' is unnecessary in this context; 'when we work' is more natural.",
                    "context": "As we continue our studies, I want to emphasize the importance of using AI tools. Because later, when we work on reports, you will have to ask it to correct your mistakes."
                },
                {
                    "original": "But the amount spent in front of the screen, I wouldn't say that applies only to video games.",
                    "corrected": "But the amount of time spent in front of the screen, I wouldn't say that applies only to video games.",
                    "explanation": "The phrase 'amount spent' is vague; 'amount of time spent' is clearer and more specific.",
                    "context": "During our discussion about reading and gaming, I pointed out some similarities. But the amount of time spent in front of the screen, I wouldn't say that applies only to video games."
                },
                {
                    "original": "If you told it to the person who said, well, video games are actually useful, the person would...",
                    "corrected": "If you told that to a person who said, well, video games are actually useful, they would...",
                    "explanation": "The phrase 'it to the person' is awkward; 'that to a person' is more natural and correct.",
                    "context": "In our debate about the benefits of reading versus gaming, I considered counterarguments. If you told that to a person who said, well, video games are actually useful, they would likely disagree."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "Bed for eyes.",
                    "corrected": "Bad for the eyes.",
                    "explanation": "'Bed' is a typographical error; it should be 'bad' to convey that something is harmful.",
                    "context": "I was discussing the effects of screens on vision. Looking at screens for a long time is bad for the eyes. It's important to take breaks to avoid strain."
                },
                {
                    "original": "What means bogged?",
                    "corrected": "What does 'bogged' mean?",
                    "explanation": "The structure is incorrect; 'What means' should be 'What does... mean?' to form a proper question.",
                    "context": "I was explaining the term 'bogged' in relation to getting lost in complex ideas. What does 'bogged' mean? It refers to being overwhelmed or stuck in something."
                },
                {
                    "original": "It's much easier for us to play a computer game than to read a book.",
                    "corrected": "It's much easier for us to play computer games than to read books.",
                    "explanation": "The plural form 'games' and 'books' should be used for general statements.",
                    "context": "I was comparing the engagement levels of video games and books. It's much easier for us to play computer games than to read books. This reflects how our attention is captured differently."
                },
                {
                    "original": "I'm bad for that.",
                    "corrected": "I'm guilty of that.",
                    "explanation": "'Bad for that' is incorrect; 'guilty of that' is the appropriate phrase to express responsibility.",
                    "context": "I was acknowledging my own habits regarding screen time. I'm guilty of that. I often find myself spending too much time on screens."
                },
                {
                    "original": "Coping bad behavior.",
                    "corrected": "Copying bad behavior.",
                    "explanation": "The word 'coping' is incorrect; it should be 'copying' to indicate imitation.",
                    "context": "I was discussing the influence of media on behavior. Copying bad behavior can lead to negative habits in children. It's crucial to address this issue."
                },
                {
                    "original": "Your explanation should correspond to the title.",
                    "corrected": "Your explanation should correspond with the title.",
                    "explanation": "The preposition 'to' should be 'with' in this context for correct phrasing.",
                    "context": "I was guiding a student on how to structure their writing. Your explanation should correspond with the title. This ensures clarity and relevance."
                },
                {
                    "original": "It's also like incomplete.",
                    "corrected": "It's also somewhat incomplete.",
                    "explanation": "The phrase 'like incomplete' is awkward; 'somewhat incomplete' is more idiomatic.",
                    "context": "I was evaluating a student's work. It's also somewhat incomplete. We need to ensure all points are clearly addressed."
                },
                {
                    "original": "Can we use there with uncountable nouns?",
                    "corrected": "Can we use 'there' with uncountable nouns?",
                    "explanation": "The word 'there' should be enclosed in quotes for clarity as it refers to a specific term.",
                    "context": "I was teaching about countable and uncountable nouns. Can we use 'there' with uncountable nouns? It's important to clarify the rules."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "It's needable.",
                    "corrected": "It's necessary.",
                    "explanation": "\"Needable\" is not a standard English word; the correct term is \"necessary\" to convey the idea of something being required.",
                    "context": "In discussing school uniforms, we talked about their importance in schools. It's necessary for students to have uniforms to maintain discipline and equality."
                },
                {
                    "original": "If family is really poor, they can afford this clothes.",
                    "corrected": "If a family is really poor, they can't afford these clothes.",
                    "explanation": "The sentence incorrectly states that a poor family can afford uniforms; it should indicate that they cannot afford them. Also, 'this clothes' should be 'these clothes' as 'clothes' is plural.",
                    "context": "We were discussing the financial burden of school uniforms on families. If a family is really poor, they can't afford these clothes, which adds stress to their budget."
                },
                {
                    "original": "When some person is saying school uniforms is important, and you're saying not having school uniforms is even more important.",
                    "corrected": "When someone says school uniforms are important, and you argue that not having school uniforms is even more important.",
                    "explanation": "The phrase 'some person' is awkward; 'someone' is more natural. Additionally, 'school uniforms is' should be 'school uniforms are' to match the plural subject.",
                    "context": "We were brainstorming arguments for and against school uniforms. When someone says school uniforms are important, you can argue that not having school uniforms is even more important for student freedom."
                },
                {
                    "original": "Like for example, school uniforms limit students' freedom, something like that.",
                    "corrected": "For example, school uniforms limit students' freedom.",
                    "explanation": "The phrase 'like for example' is redundant; simply starting with 'for example' is sufficient.",
                    "context": "In our discussion about school uniforms, we explored their impact on students. For example, school uniforms limit students' freedom, which can affect their self-expression."
                },
                {
                    "original": "And if they can afford it, then they can afford it.",
                    "corrected": "And if they can afford it, then they can buy other necessities.",
                    "explanation": "The repetition of 'afford it' is unnecessary; the sentence should clarify what they can afford instead.",
                    "context": "We were analyzing the financial implications of school uniforms. If they can afford it, then they can buy other necessities, which is crucial for families on tight budgets."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "something that's really improve your education.",
                    "corrected": "something that really improves your education.",
                    "explanation": "'Really improve' is incorrect; it should be 'really improves' to match the subject 'something.'",
                    "context": "We discussed how spending money on education is important. You can spend it on books or something that really improves your education. This investment can lead to better knowledge and skills."
                },
                {
                    "original": "the final chain is always like people drink sugary drinks.",
                    "corrected": "the final chain is always that people drink sugary drinks.",
                    "explanation": "The phrase 'is always like' is incorrect; it should be 'is always that' to introduce the statement properly.",
                    "context": "When discussing the effects of sugary drinks, I mentioned that the final chain is always that people drink sugary drinks. This leads to various health issues, which we need to address."
                },
                {
                    "original": "Does it cost a lot? They can't wear it on the basis form.",
                    "corrected": "Does it cost a lot? They can't wear it in everyday life.",
                    "explanation": "'On the basis form' is incorrect; it should be 'in everyday life' to convey the intended meaning.",
                    "context": "We were analyzing the practicality of school uniforms. I asked if it costs a lot and noted that they can't wear it in everyday life. This raises questions about the value of such expenses."
                },
                {
                    "original": "Why are we mentioning it in the context of uniform?",
                    "corrected": "Why are we mentioning it in the context of uniforms?",
                    "explanation": "The word 'uniform' should be pluralized to 'uniforms' to match the context of the discussion.",
                    "context": "We were exploring the importance of education versus uniforms. I questioned why we are mentioning it in the context of uniforms. This is crucial for understanding our discussion."
                },
                {
                    "original": "You will develop your brain.",
                    "corrected": "You will develop your mind.",
                    "explanation": "'Develop your brain' is awkward; 'develop your mind' is a more idiomatic expression.",
                    "context": "I emphasized the benefits of investing in education. You will develop your mind through books and courses, which is essential for personal growth."
                },
                {
                    "original": "the same, the home task for Thursday will be the same.",
                    "corrected": "the same, the homework for Thursday will be the same.",
                    "explanation": "'Home task' is less common; 'homework' is the standard term used in educational contexts.",
                    "context": "At the end of the lesson, I summarized our tasks. I mentioned that the homework for Thursday will be the same, ensuring everyone knows what to prepare."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Headphones",
                    "definition": "A device worn on or over the ears to listen to audio without disturbing others.",
                    "context": {
                        "Context 1": "I decided to use my headphones to hear the lesson better.",
                        "Context 2": "He wore his headphones while jogging to enjoy his favorite music.",
                        "Context 3": "The teacher asked the students to take off their headphones during the test."
                    }
                },
                {
                    "word": "Collecting",
                    "definition": "The act of gathering items or materials together.",
                    "context": {
                        "Context 1": "I was collecting hay from the field to help my granddad.",
                        "Context 2": "She enjoys collecting stamps from different countries.",
                        "Context 3": "The artist was collecting inspiration from nature for her next painting."
                    }
                },
                {
                    "word": "Lawn mowing",
                    "definition": "The act of cutting grass in a yard or garden.",
                    "context": {
                        "Context 1": "My granddad was lawn mowing while I collected the cut grass.",
                        "Context 2": "He spends every Saturday lawn mowing his large backyard.",
                        "Context 3": "Lawn mowing can be a relaxing activity for some people."
                    }
                },
                {
                    "word": "Tedious",
                    "definition": "Too long, slow, or dull; tiresome or monotonous.",
                    "context": {
                        "Context 1": "Collecting grass is much more tedious compared to building a bath house.",
                        "Context 2": "The tedious process of assembling furniture took all day.",
                        "Context 3": "He found the lecture on tax laws to be quite tedious."
                    }
                },
                {
                    "word": "Unwind",
                    "definition": "To relax after a period of work or tension.",
                    "context": {
                        "Context 1": "I usually try to unwind at my summer house during the weekends.",
                        "Context 2": "After a long week, she likes to unwind by watching movies.",
                        "Context 3": "Yoga is a great way to unwind and relieve stress."
                    }
                },
                {
                    "word": "Essay",
                    "definition": "A short piece of writing on a particular subject.",
                    "context": {
                        "Context 1": "Did you manage to write the essay for class?",
                        "Context 2": "He spent hours writing an essay about climate change.",
                        "Context 3": "The teacher assigned an essay on the importance of history."
                    }
                },
                {
                    "word": "Translate",
                    "definition": "To express the meaning of (words or text) in another language.",
                    "context": {
                        "Context 1": "I checked my essay using Google Translate.",
                        "Context 2": "She can translate several languages fluently.",
                        "Context 3": "The app helps users translate signs while traveling."
                    }
                },
                {
                    "word": "Algorithm",
                    "definition": "A process or set of rules to be followed in calculations or problem-solving operations.",
                    "context": {
                        "Context 1": "Google Translate uses an outdated algorithm for translations.",
                        "Context 2": "The algorithm for the new app improves user experience.",
                        "Context 3": "Understanding algorithms is essential for computer programming."
                    }
                },
                {
                    "word": "Concept",
                    "definition": "An abstract idea or a general notion.",
                    "context": {
                        "Context 1": "The lesson discussed many concepts related to reading and video games.",
                        "Context 2": "The concept of time travel fascinates many science fiction fans.",
                        "Context 3": "She struggled to grasp the concept of gravity in physics class."
                    }
                },
                {
                    "word": "Idiom",
                    "definition": "A group of words whose meaning is not deducible from the individual words.",
                    "context": {
                        "Context 1": "Google Translate struggles with idiomatic expressions.",
                        "Context 2": "In English, 'kick the bucket' is an idiom meaning to die.",
                        "Context 3": "Learning idioms is essential for understanding native speakers."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Headphones",
                    "fact": "The first headphones were invented in 1910 and were used by telephone operators!"
                },
                {
                    "word": "Tedious",
                    "fact": "The word 'tedious' comes from the Latin 'taedere,' which means 'to be weary of'—so it’s literally a word for being tired of something boring!"
                },
                {
                    "word": "Idiom",
                    "fact": "The idiom 'raining cats and dogs' has no known origin, but it sure paints a funny picture!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of data to process!"
                },
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Bogged",
                    "definition": "To become stuck or overwhelmed, especially in a difficult situation.",
                    "context": {
                        "Context 1": "I got bogged down with too many assignments and couldn't finish any of them.",
                        "Context 2": "The car got bogged in the mud after the heavy rain.",
                        "Context 3": "She felt bogged by the endless questions during the interview."
                    }
                },
                {
                    "word": "Implied",
                    "definition": "Suggested or understood without being directly stated.",
                    "context": {
                        "Context 1": "His tone implied that he was not happy with the decision.",
                        "Context 2": "The teacher implied that there would be a surprise quiz next week.",
                        "Context 3": "The movie's ending implied a sequel was coming."
                    }
                },
                {
                    "word": "Explicitly",
                    "definition": "In a clear and detailed manner, leaving no room for confusion.",
                    "context": {
                        "Context 1": "The instructions explicitly stated that no phones were allowed.",
                        "Context 2": "He explicitly mentioned that he would not attend the meeting.",
                        "Context 3": "The contract explicitly outlines the terms of service."
                    }
                },
                {
                    "word": "Consistent",
                    "definition": "Acting or done in the same way over time, showing no variation.",
                    "context": {
                        "Context 1": "Her performance was consistent throughout the season.",
                        "Context 2": "The weather has been consistent, with sunny days every week.",
                        "Context 3": "He was consistent in his efforts to improve his skills."
                    }
                },
                {
                    "word": "Addiction",
                    "definition": "The state of being enslaved to a habit or practice, often harmful.",
                    "context": {
                        "Context 1": "His addiction to video games affected his school performance.",
                        "Context 2": "She struggled with her addiction to caffeine.",
                        "Context 3": "Addiction to social media can lead to decreased face-to-face interactions."
                    }
                },
                {
                    "word": "Supervision",
                    "definition": "The action of overseeing or managing someone or something.",
                    "context": {
                        "Context 1": "Children need adult supervision when using the internet.",
                        "Context 2": "The project was completed under the supervision of a qualified engineer.",
                        "Context 3": "Supervision is essential in a laboratory to ensure safety."
                    }
                },
                {
                    "word": "Correspond",
                    "definition": "To match or be in agreement with something.",
                    "context": {
                        "Context 1": "The data must correspond with the findings of the study.",
                        "Context 2": "Her actions did not correspond with her words.",
                        "Context 3": "The colors of the painting correspond beautifully with the decor."
                    }
                },
                {
                    "word": "Develop",
                    "definition": "To grow or cause to grow and become more mature or advanced.",
                    "context": {
                        "Context 1": "He needs to develop his argument further to make it convincing.",
                        "Context 2": "The company plans to develop a new product line next year.",
                        "Context 3": "She wants to develop her skills in graphic design."
                    }
                },
                {
                    "word": "Engaging",
                    "definition": "Attractive or interesting; capable of holding attention.",
                    "context": {
                        "Context 1": "The book was so engaging that I couldn't put it down.",
                        "Context 2": "The teacher used engaging activities to keep the students interested.",
                        "Context 3": "The movie had an engaging plot that kept the audience on the edge of their seats."
                    }
                },
                {
                    "word": "Visual Effects",
                    "definition": "Special effects created in the post-production process to enhance the visual experience.",
                    "context": {
                        "Context 1": "The visual effects in the film were stunning and added to the overall experience.",
                        "Context 2": "He studied visual effects in college to pursue a career in filmmaking.",
                        "Context 3": "The video game is known for its impressive visual effects."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Addiction",
                    "fact": "Did you know that some people can be addicted to eating ice cream? It's called 'ice cream addiction' and is a real thing!"
                },
                {
                    "word": "Engaging",
                    "fact": "The word 'engaging' comes from the Latin word 'ingagere,' which means to 'involve' or 'entangle.' So, when something is engaging, it really knows how to wrap you up!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Specific",
                    "definition": "Clearly defined or identified; particular.",
                    "context": {
                        "Context 1": "When I refer to a specific cup, I mean a particular cup that I have in mind.",
                        "Context 2": "The teacher asked for specific examples of how to use articles in sentences.",
                        "Context 3": "He had a specific plan for his vacation, including all the places he wanted to visit."
                    }
                },
                {
                    "word": "Uncountable",
                    "definition": "Not able to be counted; referring to substances or concepts that cannot be quantified.",
                    "context": {
                        "Context 1": "Water is an uncountable noun, so we don't say 'one water.'",
                        "Context 2": "Love is often considered an uncountable feeling that cannot be measured.",
                        "Context 3": "Sand is uncountable, so we refer to it as 'some sand' rather than 'two sands.'"
                    }
                },
                {
                    "word": "Indefinite article",
                    "definition": "A type of article used to refer to a non-specific item, typically 'a' or 'an.'",
                    "context": {
                        "Context 1": "The teacher explained that 'a' is an indefinite article used before singular nouns.",
                        "Context 2": "In the sentence 'I saw a dog,' the indefinite article indicates any dog, not a specific one.",
                        "Context 3": "Using an indefinite article can make your sentence sound more general, like 'a student' instead of 'the student.'"
                    }
                },
                {
                    "word": "Countable",
                    "definition": "Able to be counted; referring to nouns that can be quantified.",
                    "context": {
                        "Context 1": "A child is a countable noun because we can say one child, two children.",
                        "Context 2": "Books are countable; you can have one book or many books on a shelf.",
                        "Context 3": "In the classroom, we have countable supplies like pencils and erasers."
                    }
                },
                {
                    "word": "Pronoun",
                    "definition": "A word that replaces a noun in a sentence, such as he, she, it, or they.",
                    "context": {
                        "Context 1": "In the sentence 'My credit card is new,' 'my' acts as a pronoun replacing the owner.",
                        "Context 2": "She loves to read, and her favorite book is on the table; here, 'she' is a pronoun.",
                        "Context 3": "They went to the park, where they played soccer; 'they' is a pronoun referring to a group."
                    }
                },
                {
                    "word": "Afford",
                    "definition": "To have enough money to pay for something.",
                    "context": {
                        "Context 1": "Some families cannot afford the cost of school uniforms.",
                        "Context 2": "After saving for months, I can finally afford a new laptop.",
                        "Context 3": "He couldn't afford to go on vacation this year due to unexpected expenses."
                    }
                },
                {
                    "word": "Impact",
                    "definition": "The effect or influence of one thing on another.",
                    "context": {
                        "Context 1": "School uniforms can have a positive impact on students' academic performance.",
                        "Context 2": "The impact of climate change is felt worldwide, affecting weather patterns.",
                        "Context 3": "Her speech had a significant impact on the audience, inspiring many to take action."
                    }
                },
                {
                    "word": "Necessary",
                    "definition": "Required to be done, achieved, or present; needed.",
                    "context": {
                        "Context 1": "The discussion centered around whether school uniforms are necessary for students.",
                        "Context 2": "It is necessary to wear a helmet while riding a bike for safety.",
                        "Context 3": "In some cultures, it is necessary to greet elders with respect."
                    }
                },
                {
                    "word": "Cost",
                    "definition": "The amount of money required to purchase something.",
                    "context": {
                        "Context 1": "The cost of school uniforms can be a burden for some families.",
                        "Context 2": "The cost of living in the city is much higher than in rural areas.",
                        "Context 3": "He was surprised by the cost of the concert tickets, which were much more than expected."
                    }
                },
                {
                    "word": "Freedom",
                    "definition": "The power or right to act, speak, or think as one wants.",
                    "context": {
                        "Context 1": "Not having school uniforms can give students more freedom in their clothing choices.",
                        "Context 2": "Freedom of speech is a fundamental right in many democracies.",
                        "Context 3": "The festival celebrated the freedom of artistic expression through various performances."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Afford",
                    "fact": "Did you know that the word 'afford' comes from the Old English 'forðian,' which means 'to further' or 'to advance'? So when you can afford something, you’re really advancing your shopping skills!"
                },
                {
                    "word": "Impact",
                    "fact": "The word 'impact' was originally used in the context of physics to describe the collision of two objects. Now, it’s used for everything from marketing strategies to the latest viral cat videos!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What do you call a teacher who never farts in public?",
                    "answer": "A private tutor!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Uniform",
                    "definition": "A standard set of clothes worn by members of an organization or group.",
                    "context": {
                        "Context 1": "The students were required to wear a uniform to promote equality among them.",
                        "Context 2": "The marching band wore bright uniforms during the parade.",
                        "Context 3": "In the military, uniforms help identify ranks and branches of service."
                    }
                },
                {
                    "word": "Knowledge",
                    "definition": "Information, understanding, or skill obtained from experience or education.",
                    "context": {
                        "Context 1": "Gaining knowledge through books and courses is essential for personal growth.",
                        "Context 2": "The scientist shared her knowledge of climate change at the conference.",
                        "Context 3": "He has a wealth of knowledge about ancient civilizations."
                    }
                },
                {
                    "word": "Impact",
                    "definition": "The strong effect or influence that something has on a situation or person.",
                    "context": {
                        "Context 1": "The impact of sugary drinks on health can lead to serious issues like diabetes.",
                        "Context 2": "The new law will have a significant impact on the environment.",
                        "Context 3": "Her speech had a positive impact on the audience's perception of the issue."
                    }
                },
                {
                    "word": "Budget",
                    "definition": "An estimate of income and expenditure for a set period of time.",
                    "context": {
                        "Context 1": "Creating a budget helps students manage their finances better.",
                        "Context 2": "The family set a budget for their vacation to avoid overspending.",
                        "Context 3": "The company exceeded its budget for the project, leading to financial issues."
                    }
                },
                {
                    "word": "Tutor",
                    "definition": "A private teacher who helps students improve their skills in a specific subject.",
                    "context": {
                        "Context 1": "Hiring a tutor can greatly enhance a student's understanding of difficult subjects.",
                        "Context 2": "The tutor helped her students prepare for their upcoming exams.",
                        "Context 3": "He decided to become a tutor after realizing his passion for teaching."
                    }
                },
                {
                    "word": "Chain",
                    "definition": "A series of connected events or actions.",
                    "context": {
                        "Context 1": "The chain of events leading to the decision was complex and involved many factors.",
                        "Context 2": "He wore a chain around his neck as a fashion statement.",
                        "Context 3": "The restaurant has a chain of locations across the country."
                    }
                },
                {
                    "word": "Concise",
                    "definition": "Giving a lot of information clearly and in a few words; brief but comprehensive.",
                    "context": {
                        "Context 1": "The teacher asked the students to make their arguments more concise.",
                        "Context 2": "Her concise summary of the book helped everyone understand the main points.",
                        "Context 3": "He prefers concise emails that get straight to the point."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "Having a different perspective can help solve problems more effectively.",
                        "Context 2": "From her perspective, the project was a success despite the challenges.",
                        "Context 3": "The artist's unique perspective is reflected in her paintings."
                    }
                },
                {
                    "word": "Expenditure",
                    "definition": "The action of spending funds; an amount of money spent.",
                    "context": {
                        "Context 1": "The school's expenditure on uniforms could be redirected to educational resources.",
                        "Context 2": "The government reported a decrease in public expenditure this year.",
                        "Context 3": "His monthly expenditure on coffee was surprisingly high."
                    }
                },
                {
                    "word": "Develop",
                    "definition": "To grow or cause to grow and become more mature, advanced, or elaborate.",
                    "context": {
                        "Context 1": "Students can develop their skills through practice and education.",
                        "Context 2": "The city plans to develop the waterfront area into a public park.",
                        "Context 3": "She hopes to develop a new app that helps with time management."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Uniform",
                    "fact": "Did you know that in some countries, students wear uniforms that look like superhero costumes? Talk about saving the day!"
                },
                {
                    "word": "Knowledge",
                    "fact": "The phrase 'knowledge is power' was popularized by Sir Francis Bacon, but he never mentioned how much power coffee gives you during study sessions!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                },
                {
                    "question": "Why did the student eat his homework?",
                    "answer": "Because the teacher said it was a piece of cake!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you get a new laptop or something? You look different on video."
                },
                {
                    "Person 2": "Nah, it's the same old one. Just trying out some new headphones."
                },
                {
                    "Person 1": "Oh, they look nice! Do they sound good?"
                },
                {
                    "Person 2": "I think so! I can hear you clearly, at least."
                },
                {
                    "Person 1": "That's good! So, how was your weekend? Did you go anywhere fun?"
                },
                {
                    "Person 2": "Yeah, I went to my family’s summer house. It was nice, but I ended up doing a lot of work."
                },
                {
                    "Person 1": "Oh no! What kind of work?"
                },
                {
                    "Person 2": "I helped my granddad collect hay. It was pretty tiring."
                },
                {
                    "Person 1": "Wow, that sounds like a workout! I thought summer houses were for relaxing."
                },
                {
                    "Person 2": "Right? But my granddad always has projects for me. I did manage to soak up some sun, though."
                },
                {
                    "Person 1": "At least you got some sun! Did you do any fun activities, like fishing or hiking?"
                },
                {
                    "Person 2": "Not really. I was too busy with chores. But I did enjoy the fresh air."
                },
                {
                    "Person 1": "Fresh air is always nice! When did you get back?"
                },
                {
                    "Person 2": "I got back today at 1 AM. So, I'm a bit tired."
                },
                {
                    "Person 1": "Yikes! Did you get enough sleep?"
                },
                {
                    "Person 2": "Yeah, I caught up a bit. I also finished that essay we talked about."
                },
                {
                    "Person 1": "Awesome! Want to go over it together?"
                },
                {
                    "Person 2": "Sure! I think I did well, but I could use a second opinion."
                },
                {
                    "Person 1": "Let’s do it! I’m curious to see what you wrote."
                },
                {
                    "Person 2": "Alright, here it is. The first topic was about reading books versus playing video games."
                },
                {
                    "Person 1": "Sounds interesting! Did you have any strong points?"
                },
                {
                    "Person 2": "I talked about how reading improves vocabulary, while video games don’t."
                },
                {
                    "Person 1": "That’s a solid point! Did you compare the two in detail?"
                },
                {
                    "Person 2": "Yeah, I mentioned how books use more words than games do."
                },
                {
                    "Person 1": "Great! That’ll definitely make your argument stronger."
                },
                {
                    "Person 2": "I hope so! I just want to make sure I covered everything."
                },
                {
                    "Person 1": "Let’s check it out together. I’m sure you did a great job!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you been playing any new video games lately?"
                },
                {
                    "Person 2": "Yeah, I just started this awesome adventure game! The graphics are amazing."
                },
                {
                    "Person 1": "Nice! I love games with great visuals. What’s it about?"
                },
                {
                    "Person 2": "It’s about exploring a fantasy world and solving puzzles. It really pulls you in."
                },
                {
                    "Person 1": "Sounds fun! I’ve been trying to read more, but I keep getting distracted."
                },
                {
                    "Person 2": "I get that! Sometimes I sit down to read and end up scrolling through my phone instead."
                },
                {
                    "Person 1": "Right? I feel like video games are so much more engaging than books these days."
                },
                {
                    "Person 2": "Totally! It’s like they know how to keep our attention with all the action and visuals."
                },
                {
                    "Person 1": "Exactly! I tried reading a book last week, but I couldn’t get past a few pages."
                },
                {
                    "Person 2": "Same here! I think I need to set some limits on my screen time."
                },
                {
                    "Person 1": "That’s a good idea! Maybe we should challenge each other to read more."
                },
                {
                    "Person 2": "I’m in! Let’s set a goal to read at least one chapter a day."
                },
                {
                    "Person 1": "Deal! But first, let me finish this level in my game."
                },
                {
                    "Person 2": "Haha, priorities, right? Let’s start the reading challenge tomorrow!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a finish, right? I was on the edge of my seat!"
                },
                {
                    "Person 1": "Totally! I thought they were going to lose for sure. That last-minute goal was insane!"
                },
                {
                    "Person 2": "I know! And the crowd went wild. It felt like the whole city was holding its breath."
                },
                {
                    "Person 1": "For real! I love how sports can bring everyone together like that."
                },
                {
                    "Person 2": "Absolutely! Speaking of which, are you going to the next game?"
                },
                {
                    "Person 1": "I’m planning to! I got my tickets already. You should come with me!"
                },
                {
                    "Person 2": "Count me in! I wouldn’t miss it for the world."
                },
                {
                    "Person 1": "Awesome! We should grab some food before the game too."
                },
                {
                    "Person 2": "Great idea! There’s that new pizza place nearby. I’ve heard good things."
                },
                {
                    "Person 1": "Perfect! Pizza and a game sounds like a winning combo."
                },
                {
                    "Person 2": "Definitely! I can’t wait. It’s going to be a blast!"
                },
                {
                    "Person 1": "For sure! Let’s make it a plan then."
                },
                {
                    "Person 2": "Absolutely! I’ll see you then!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new bookstore that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I did! I’ve been meaning to check it out. Have you been yet?"
                },
                {
                    "Person 1": "Not yet, but I heard they have a great selection of both new and used books."
                },
                {
                    "Person 2": "That sounds awesome! I love finding hidden gems in used books."
                },
                {
                    "Person 1": "Same here! Plus, it’s nice to support local businesses."
                },
                {
                    "Person 2": "Absolutely! I think I’ll swing by this weekend. Want to join me?"
                },
                {
                    "Person 1": "I’d love to! Maybe we can grab some coffee afterward too?"
                },
                {
                    "Person 2": "Perfect plan! I could use a caffeine boost while I browse."
                },
                {
                    "Person 1": "Right? And who knows, maybe we’ll find some good reads to take home."
                },
                {
                    "Person 2": "For sure! I’m always on the lookout for new authors to try."
                },
                {
                    "Person 1": "Same! I’ve been wanting to read more fiction lately."
                },
                {
                    "Person 2": "Me too! Let’s make it a mini book club outing."
                },
                {
                    "Person 1": "Sounds like a plan! I’ll bring my list of books I want to check out."
                },
                {
                    "Person 2": "Great idea! I’ll see you this weekend then."
                },
                {
                    "Person 1": "Can’t wait! It’ll be fun."
                },
                {
                    "Person 2": "Definitely! See you then!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "How I must write the last plan?",
                    "corrected": "How must I write the last plan?",
                    "explanation": "The correct word order for questions in English is to place the auxiliary verb before the subject.",
                    "context": "I need some help with my homework. How must I write the last plan? I want to make sure I understand the requirements."
                },
                {
                    "original": "Which one do you like most of them?",
                    "corrected": "Which one do you like the most?",
                    "explanation": "The phrase 'most of them' is unnecessary and incorrect in this context; it should simply be 'the most.'",
                    "context": "I am trying to get feedback on my plans. Which one do you like the most? I want to know your opinion."
                },
                {
                    "original": "I don't know how I must write it.",
                    "corrected": "I don't know how I should write it.",
                    "explanation": "'Must' is too strong here; 'should' is more appropriate for giving advice or suggestions.",
                    "context": "I feel uncertain about my writing task. I don't know how I should write it. I hope to get some guidance."
                },
                {
                    "original": "A lot of students have problems with their mental health.",
                    "corrected": "Many students have problems with their mental health.",
                    "explanation": "'A lot of' is informal; 'many' is more appropriate in academic contexts.",
                    "context": "While discussing school uniforms, I mentioned that many students have problems with their mental health. It's an important issue to consider."
                },
                {
                    "original": "Because of mental health problems.",
                    "corrected": "Due to mental health problems.",
                    "explanation": "'Because of' is informal; 'due to' is more appropriate in formal writing.",
                    "context": "In our discussion about school uniforms, I suggested that wearing them can be difficult for some students due to mental health problems. It's a serious concern."
                },
                {
                    "original": "Yes, here stands for what?",
                    "corrected": "Yes, what does 'here' stand for?",
                    "explanation": "The structure of the question is incorrect; it should follow the standard question format.",
                    "context": "During our lesson, I asked for clarification. Yes, what does 'here' stand for? I want to ensure I understand the terminology."
                },
                {
                    "original": "We are not supposed to contract words.",
                    "corrected": "We are not supposed to use contractions.",
                    "explanation": "'Contract' is a verb, while 'contractions' is the correct noun form needed here.",
                    "context": "In writing formal essays, it's important to maintain a certain style. We are not supposed to use contractions. This helps keep the tone professional."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I must write a full form.",
                    "corrected": "I must write the full form.",
                    "explanation": "The article 'the' is needed to specify which full form is being referred to.",
                    "context": "When discussing the importance of using full forms in writing, I must write the full form. This helps clarify my points and ensures proper communication."
                },
                {
                    "original": "It is well explained because like really we may feel intimidated when we're all unified when we're all wearing the same thing.",
                    "corrected": "It is well explained because we may feel intimidated when we're all unified and wearing the same thing.",
                    "explanation": "The phrase 'like really' is informal and unnecessary; 'and' is a better conjunction here.",
                    "context": "I appreciate how well the idea is explained. It is well explained because we may feel intimidated when we're all unified and wearing the same thing. This can affect our self-expression."
                },
                {
                    "original": "But is it like is it is it a lie that people seem to be attracted to the people who like with whom they share the same style?",
                    "corrected": "But is it a lie that people seem to be attracted to those with whom they share the same style?",
                    "explanation": "The phrase 'is it like is it' is redundant; 'those' is a clearer reference.",
                    "context": "In discussing social dynamics, I wonder if it is a lie that people seem to be attracted to those with whom they share the same style. This observation is common among friends."
                },
                {
                    "original": "But like when we talk about you and best friend and your only your experiences, is it a good strategy?",
                    "corrected": "But when we talk about you, your best friend, and only your experiences, is it a good strategy?",
                    "explanation": "The word 'like' is informal and unnecessary; the sentence structure needed slight adjustment for clarity.",
                    "context": "When considering examples in our discussions, I question if when we talk about you, your best friend, and only your experiences, is it a good strategy? It may not represent broader experiences."
                },
                {
                    "original": "But still not very representative.",
                    "corrected": "But it is still not very representative.",
                    "explanation": "The sentence needs a subject to be grammatically correct.",
                    "context": "In evaluating the examples we use, I realize that it is still not very representative. We need to ensure our examples reflect larger groups."
                },
                {
                    "original": "Because the title claims that we should wear uniforms at schools.",
                    "corrected": "Because the title claims that we should wear uniforms in schools.",
                    "explanation": "'At schools' is incorrect; 'in schools' is the appropriate preposition.",
                    "context": "As we discuss the topic of school uniforms, I note that the title claims that we should wear uniforms in schools. This is a common debate in many educational institutions."
                },
                {
                    "original": "When we have some idea, like when we propose something or express some opinion, we always have to explain it.",
                    "corrected": "When we have an idea, such as when we propose something or express an opinion, we always have to explain it.",
                    "explanation": "The phrase 'some idea' is vague; 'an idea' is more precise. 'Like' should be replaced with 'such as' for formality.",
                    "context": "In our writing, I emphasize that when we have an idea, such as when we propose something or express an opinion, we always have to explain it. This clarity is essential for effective communication."
                },
                {
                    "original": "I don't know how I must write how many advantages or disadvantages I must write.",
                    "corrected": "I don't know how many advantages or disadvantages I must write.",
                    "explanation": "The phrase 'how I must write' is unnecessary; the sentence can be simplified.",
                    "context": "As I approach the essay, I express uncertainty. I don't know how many advantages or disadvantages I must write. This confusion affects my planning."
                },
                {
                    "original": "This structure is slightly like more complicated than a simple opinion essay with simple with just simply two ideas.",
                    "corrected": "This structure is slightly more complicated than a simple opinion essay with just two ideas.",
                    "explanation": "The word 'like' is unnecessary; 'with simple with just simply' is redundant.",
                    "context": "Reflecting on the essay format, I note that this structure is slightly more complicated than a simple opinion essay with just two ideas. Understanding this helps me organize my thoughts."
                },
                {
                    "original": "I must say about Moscow that traffic there is very in how can say it is very heavy.",
                    "corrected": "I must say that the traffic in Moscow is very heavy.",
                    "explanation": "The phrase 'in how can say it is very heavy' is awkward; it should be simplified.",
                    "context": "When discussing the challenges of shopping in Moscow, I must say that the traffic in Moscow is very heavy. This impacts people's shopping habits."
                },
                {
                    "original": "Your explanation is good. Basically, you're explaining that like buying expensive items does not guarantee you that it's what you wanted, because it might not fit.",
                    "corrected": "Your explanation is good. Basically, you're explaining that buying expensive items does not guarantee that it's what you wanted, because it might not fit.",
                    "explanation": "The word 'like' is informal and unnecessary; 'you that it's' should be simplified to 'that it's.'",
                    "context": "In reviewing the explanation, I find that your explanation is good. Basically, you're explaining that buying expensive items does not guarantee that it's what you wanted, because it might not fit."
                },
                {
                    "original": "Because, you know, like asking questions, rhetorical questions is not a formal style.",
                    "corrected": "Because asking rhetorical questions is not a formal style.",
                    "explanation": "The phrase 'you know, like' is informal and should be omitted for clarity.",
                    "context": "As we refine our writing, I point out that asking rhetorical questions is not a formal style. This is important for maintaining a professional tone."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "It. Don't fit to them.",
                    "corrected": "It doesn't fit them.",
                    "explanation": "'Don't' is incorrect here; 'doesn't' should be used to match the singular subject 'it.' Also, 'fit to' is not standard; 'fit' alone is sufficient.",
                    "context": "People often buy expensive clothes in online stores. It doesn't fit them. This can lead to frustration and financial loss."
                },
                {
                    "original": "Because, like, imagine if we can tell it to a friend in a cafe.",
                    "corrected": "Because, like, imagine if we were telling it to a friend in a cafe.",
                    "explanation": "The verb tense is incorrect; 'were telling' is needed to indicate a hypothetical situation.",
                    "context": "When we write, we should consider the audience. Because, like, imagine if we were telling it to a friend in a cafe. Our language should reflect that informality."
                },
                {
                    "original": "It. Not. Conclusion for my ideas.",
                    "corrected": "It is not a conclusion for my ideas.",
                    "explanation": "The sentence is fragmented; 'It is' should be used to form a complete thought.",
                    "context": "In writing, clarity is key. It is not a conclusion for my ideas. I need to ensure my conclusion summarizes my points effectively."
                },
                {
                    "original": "But this is not a good conclusion.",
                    "corrected": "But this is not a strong conclusion.",
                    "explanation": "'Good' is vague; 'strong' conveys a clearer critique of the conclusion's effectiveness.",
                    "context": "When evaluating writing, it's important to be specific. But this is not a strong conclusion. It doesn't effectively summarize the arguments made."
                },
                {
                    "original": "Students mustn't wear school uniforms in schools.",
                    "corrected": "Students shouldn't wear school uniforms in schools.",
                    "explanation": "'Mustn't' is too strong for this context; 'shouldn't' is more appropriate for expressing an opinion.",
                    "context": "In discussing school policies, opinions vary. Students shouldn't wear school uniforms in schools. This allows for personal expression."
                },
                {
                    "original": "All words, I need to write all different words.",
                    "corrected": "I need to write all different words.",
                    "explanation": "The phrase 'All words' is unnecessary and makes the sentence awkward.",
                    "context": "When writing, clarity is crucial. I need to write all different words. This helps avoid repetition and keeps the reader engaged."
                },
                {
                    "original": "What does inevitable mean?",
                    "corrected": "What does 'inevitable' mean?",
                    "explanation": "Quotation marks are needed around 'inevitable' to indicate that it is a word being defined.",
                    "context": "In our discussions, vocabulary is important. What does 'inevitable' mean? Understanding terms helps improve our writing."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "School uniform. Gives to students a lot of problems.",
                    "corrected": "School uniform gives students a lot of problems.",
                    "explanation": "The subject 'school uniform' is singular, so 'gives' should not have 'to' before 'students.'",
                    "context": "School uniform presents various challenges. School uniform gives students a lot of problems. These issues can affect their communication and mental health."
                },
                {
                    "original": "This introduction, this introduction are about the same.",
                    "corrected": "This introduction and this introduction are about the same.",
                    "explanation": "The conjunction 'and' is needed to connect the two subjects correctly.",
                    "context": "I want to compare the introductions. This introduction and this introduction are about the same. However, they have different strengths."
                },
                {
                    "original": "Why this my introduction looks more professional?",
                    "corrected": "Why does my introduction look more professional?",
                    "explanation": "The correct structure for a question is 'Why does' instead of 'Why this.'",
                    "context": "I want to clarify my thoughts. Why does my introduction look more professional? It's because it follows a clearer structure."
                },
                {
                    "original": "Because... There are... Bords, for example, overlooks.",
                    "corrected": "Because there are boards, for example, that overlook.",
                    "explanation": "The word 'bords' is a misspelling of 'boards,' and 'overlooks' needs to be rephrased for clarity.",
                    "context": "I am trying to explain my reasoning. Because there are boards, for example, that overlook important aspects of the topic."
                },
                {
                    "original": "The both of them are good.",
                    "corrected": "Both of them are good.",
                    "explanation": "'The both of them' is incorrect; 'both' is sufficient to convey the meaning.",
                    "context": "I am evaluating the introductions. Both of them are good, but they have different qualities."
                },
                {
                    "original": "Because all your time went into introduction.",
                    "corrected": "Because all your time went into the introduction.",
                    "explanation": "The definite article 'the' is needed before 'introduction' to specify which introduction is being referred to.",
                    "context": "I am discussing time management in writing. Because all your time went into the introduction, you may not have enough left for the rest."
                },
                {
                    "original": "I did that because all my sentences are about very specific things.",
                    "corrected": "I did that because all my sentences are about very specific topics.",
                    "explanation": "'Things' is too vague; 'topics' is more precise in this context.",
                    "context": "I want to clarify my writing strategy. I did that because all my sentences are about very specific topics that support my argument."
                },
                {
                    "original": "This sentence could easily be removed.",
                    "corrected": "This sentence could easily be removed.",
                    "explanation": "This sentence is already correct; no changes are needed.",
                    "context": "I am analyzing the effectiveness of sentences. This sentence could easily be removed, as it doesn't contribute to the main point."
                },
                {
                    "original": "A lot of people must wear the same uniform.",
                    "corrected": "Many people must wear the same uniform.",
                    "explanation": "'A lot of' is informal; 'many' is more appropriate for academic writing.",
                    "context": "I am discussing opinions on school uniforms. Many people must wear the same uniform, which can lead to various issues."
                },
                {
                    "original": "Because students must not wear a school.",
                    "corrected": "Because students must not wear a school uniform.",
                    "explanation": "The phrase is incomplete; 'school uniform' is needed for clarity.",
                    "context": "I am expressing my opinion on uniforms. Because students must not wear a school uniform, it can hinder their self-expression."
                },
                {
                    "original": "The word inevitable simply looks very awkward here.",
                    "corrected": "The word 'inevitable' simply looks very awkward here.",
                    "explanation": "The word 'inevitable' should be enclosed in quotes to indicate it is being referenced.",
                    "context": "I am critiquing word choice. The word 'inevitable' simply looks very awkward here and doesn't fit the context."
                },
                {
                    "original": "Like this one.",
                    "corrected": "Like this one.",
                    "explanation": "This sentence is already correct; no changes are needed.",
                    "context": "I am providing examples. Like this one, which illustrates the point I am making."
                },
                {
                    "original": "Because full uniforms give students a lot of problems with mental health and communication.",
                    "corrected": "Because school uniforms give students a lot of problems with mental health and communication.",
                    "explanation": "'Full uniforms' is vague; 'school uniforms' is clearer and more specific.",
                    "context": "I am summarizing my argument. Because school uniforms give students a lot of problems with mental health and communication, we need to reconsider their use."
                },
                {
                    "original": "Do you like this version of your introduction?",
                    "corrected": "Do you like this version of your introduction?",
                    "explanation": "This sentence is already correct; no changes are needed.",
                    "context": "I am seeking feedback. Do you like this version of your introduction? It is more concise and focused."
                },
                {
                    "original": "Because again, it's your first time writing essays.",
                    "corrected": "Because, again, it's your first time writing essays.",
                    "explanation": "A comma is needed after 'because' for clarity in the sentence structure.",
                    "context": "I am reassuring the student. Because, again, it's your first time writing essays, it's normal to make mistakes."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Homework",
                    "definition": "Assignments given to students to be completed outside of class.",
                    "context": {
                        "Context 1": "I must do my homework before I can go out with friends.",
                        "Context 2": "She forgot to bring her homework to school and had to explain to the teacher.",
                        "Context 3": "After a long day, he sat down to finish his homework while watching TV."
                    }
                },
                {
                    "word": "Exams",
                    "definition": "Formal tests taken to assess a student's knowledge or skills in a subject.",
                    "context": {
                        "Context 1": "I have exams coming up next week, so I need to study hard.",
                        "Context 2": "The teacher announced a surprise exam, and everyone was shocked.",
                        "Context 3": "He decided to take a break from studying for exams and went for a walk."
                    }
                },
                {
                    "word": "Surgeon",
                    "definition": "A medical doctor who performs surgery.",
                    "context": {
                        "Context 1": "She wants to become a surgeon because she enjoys helping people.",
                        "Context 2": "The surgeon carefully explained the procedure to the patient before surgery.",
                        "Context 3": "He dressed up as a surgeon for Halloween and carried a toy scalpel."
                    }
                },
                {
                    "word": "Metro",
                    "definition": "An underground railway system for urban public transport.",
                    "context": {
                        "Context 1": "I take the metro to school every day; it’s very convenient.",
                        "Context 2": "The metro was delayed, so I had to wait for an extra 20 minutes.",
                        "Context 3": "She drew a map of the metro system for her art project."
                    }
                },
                {
                    "word": "Chilling",
                    "definition": "Feeling cold or causing a feeling of coldness.",
                    "context": {
                        "Context 1": "The weather is chilling today, so I need to wear a warm jacket.",
                        "Context 2": "He enjoys chilling by the fireplace during winter evenings.",
                        "Context 3": "The chilling sound of the wind made her shiver as she walked outside."
                    }
                },
                {
                    "word": "Boring",
                    "definition": "Not interesting; dull.",
                    "context": {
                        "Context 1": "He thinks studying math is boring, but he knows it's important.",
                        "Context 2": "The movie was so boring that I fell asleep halfway through.",
                        "Context 3": "She found the lecture boring and started doodling in her notebook."
                    }
                },
                {
                    "word": "Clarification",
                    "definition": "The action of making a statement or situation less confused and more comprehensible.",
                    "context": {
                        "Context 1": "I need clarification on the homework assignment before I start.",
                        "Context 2": "The teacher provided clarification on the exam format to help students prepare.",
                        "Context 3": "He asked for clarification on the recipe because it was unclear."
                    }
                },
                {
                    "word": "Formatting",
                    "definition": "The arrangement and appearance of text on a page.",
                    "context": {
                        "Context 1": "The formatting of your essay needs to follow specific guidelines.",
                        "Context 2": "She spent hours formatting her presentation to make it visually appealing.",
                        "Context 3": "The document was poorly formatted, making it hard to read."
                    }
                },
                {
                    "word": "Linking Devices",
                    "definition": "Words or phrases used to connect ideas in writing.",
                    "context": {
                        "Context 1": "Using linking devices helps improve the flow of your essay.",
                        "Context 2": "He learned about linking devices in his English class to enhance his writing.",
                        "Context 3": "The linking devices in her speech made it easy to follow her argument."
                    }
                },
                {
                    "word": "Criteria",
                    "definition": "Standards or principles by which something is judged or decided.",
                    "context": {
                        "Context 1": "The criteria for grading essays were clearly outlined by the teacher.",
                        "Context 2": "He met all the criteria for the scholarship application.",
                        "Context 3": "The criteria for the art contest included originality and creativity."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Homework",
                    "fact": "Did you know that the average student spends about 6 hours a week on homework? That's almost like a part-time job!"
                },
                {
                    "word": "Exams",
                    "fact": "In ancient China, the civil service exams were so tough that only 1 in 1,000 candidates would pass!"
                },
                {
                    "word": "Chilling",
                    "fact": "The term 'chill' was originally used to describe a cold breeze, but now it can also mean to relax!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Possessive",
                    "definition": "Indicating ownership or a relationship of belonging.",
                    "context": {
                        "Context 1": "When 'S' is a possessive case, like in 'people's beliefs,' it shows ownership.",
                        "Context 2": "The possessive form of 'dog' is 'dog's,' indicating something belongs to the dog.",
                        "Context 3": "In many languages, possessive pronouns are used to show ownership, such as 'my' or 'your.'"
                    }
                },
                {
                    "word": "Intimidated",
                    "definition": "Feeling frightened or overawed, especially in order to make them do what one wants.",
                    "context": {
                        "Context 1": "We may feel intimidated when we're all unified and wearing the same thing.",
                        "Context 2": "The new student felt intimidated by the size of the school.",
                        "Context 3": "Some people feel intimidated speaking in front of large audiences."
                    }
                },
                {
                    "word": "Socialization",
                    "definition": "The activity of mixing socially with others.",
                    "context": {
                        "Context 1": "It's a means of socialization and making new friends.",
                        "Context 2": "Socialization is important for puppies to learn how to interact with other dogs.",
                        "Context 3": "College offers many opportunities for socialization through clubs and events."
                    }
                },
                {
                    "word": "Unified",
                    "definition": "Made into or caused to act as a single entity.",
                    "context": {
                        "Context 1": "We may feel intimidated when we're all unified and wearing the same thing.",
                        "Context 2": "The unified team worked together to win the championship.",
                        "Context 3": "A unified approach is often more effective in solving complex problems."
                    }
                },
                {
                    "word": "Representative",
                    "definition": "Typical of a class, group, or body of opinion.",
                    "context": {
                        "Context 1": "It's better to write about big groups of people, like students, to be more representative.",
                        "Context 2": "The survey was representative of the entire population.",
                        "Context 3": "A representative sample is crucial for accurate research results."
                    }
                },
                {
                    "word": "Formal",
                    "definition": "Done in accordance with rules of convention or etiquette.",
                    "context": {
                        "Context 1": "Asking rhetorical questions is not a sign of a formal style.",
                        "Context 2": "The event required formal attire, such as suits and dresses.",
                        "Context 3": "Formal language is often used in professional and academic settings."
                    }
                },
                {
                    "word": "Rhetorical",
                    "definition": "Relating to or concerned with the art of rhetoric; often used to persuade or impress.",
                    "context": {
                        "Context 1": "Asking rhetorical questions is not a sign of a formal style.",
                        "Context 2": "Rhetorical devices are often used in speeches to persuade the audience.",
                        "Context 3": "The question was rhetorical, meant to provoke thought rather than elicit an answer."
                    }
                },
                {
                    "word": "Disadvantage",
                    "definition": "An unfavorable circumstance or condition that reduces the chances of success or effectiveness.",
                    "context": {
                        "Context 1": "We should write about two advantages and two disadvantages.",
                        "Context 2": "A major disadvantage of living in the city is the high cost of living.",
                        "Context 3": "The disadvantage of this plan is that it requires a lot of resources."
                    }
                },
                {
                    "word": "Experiment",
                    "definition": "A scientific procedure undertaken to make a discovery, test a hypothesis, or demonstrate a known fact.",
                    "context": {
                        "Context 1": "I gave it to you as a form of experiment.",
                        "Context 2": "The scientist conducted an experiment to test the new drug.",
                        "Context 3": "Cooking can be an experiment when trying new recipes."
                    }
                },
                {
                    "word": "Frustrating",
                    "definition": "Causing annoyance or upset because of an inability to change or achieve something.",
                    "context": {
                        "Context 1": "It can be frustrating when you receive an item that doesn't fit.",
                        "Context 2": "It's frustrating to be stuck in traffic for hours.",
                        "Context 3": "Losing a game due to a technical glitch can be very frustrating."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Possessive",
                    "fact": "In English, the possessive form can sometimes be confused with contractions, like 'it's' vs. 'its.'"
                },
                {
                    "word": "Intimidated",
                    "fact": "Did you know that even the word 'intimidated' can intimidate some people because of its length?"
                },
                {
                    "word": "Rhetorical",
                    "fact": "The word 'rhetorical' comes from the Greek word 'rhetor,' meaning 'speaker.'"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the grammar teacher break up with the apostrophe?",
                    "answer": "Because it was too possessive!"
                },
                {
                    "question": "Why don't scientists trust atoms?",
                    "answer": "Because they make up everything!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Casual",
                    "definition": "Relaxed and unconcerned; informal.",
                    "context": {
                        "Context 1": "In the lesson, it was mentioned that casual expressions are not suitable for formal essays.",
                        "Context 2": "He wore a casual outfit to the picnic, which made him feel comfortable.",
                        "Context 3": "The restaurant has a casual atmosphere, perfect for a laid-back dinner."
                    }
                },
                {
                    "word": "Fit",
                    "definition": "To be of the right size or shape for someone or something.",
                    "context": {
                        "Context 1": "The discussion included how clothes often do not fit when bought online.",
                        "Context 2": "She tried on several pairs of shoes to find the one that fit her perfectly.",
                        "Context 3": "The puzzle pieces fit together easily, creating a beautiful picture."
                    }
                },
                {
                    "word": "Upset",
                    "definition": "To make someone unhappy or disappointed.",
                    "context": {
                        "Context 1": "The lesson discussed how people can get upset when their online purchases do not fit.",
                        "Context 2": "He was upset when he found out his favorite show was canceled.",
                        "Context 3": "The child became upset when he lost his favorite toy at the park."
                    }
                },
                {
                    "word": "Conclusion",
                    "definition": "The end or finish of an event or process; a summary of what has been said.",
                    "context": {
                        "Context 1": "The lesson emphasized the importance of writing a good conclusion in an essay.",
                        "Context 2": "After a long debate, they finally reached a conclusion about the best course of action.",
                        "Context 3": "The conclusion of the movie left the audience in tears."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something written or spoken using different words.",
                    "context": {
                        "Context 1": "The lesson highlighted the need to paraphrase the essay title before writing.",
                        "Context 2": "She had to paraphrase the article to avoid plagiarism in her report.",
                        "Context 3": "Paraphrasing can help clarify complex ideas for better understanding."
                    }
                },
                {
                    "word": "Instruction",
                    "definition": "A direction or order; guidance on how to do something.",
                    "context": {
                        "Context 1": "The lesson pointed out that the instructions for the essay were not being followed.",
                        "Context 2": "The teacher gave clear instructions for the science experiment.",
                        "Context 3": "Following the instructions on the box, he was able to assemble the furniture easily."
                    }
                },
                {
                    "word": "Advantage",
                    "definition": "A condition or circumstance that puts one in a favorable or superior position.",
                    "context": {
                        "Context 1": "The lesson discussed the advantages and disadvantages of online shopping.",
                        "Context 2": "Having a good education is a significant advantage in today's job market.",
                        "Context 3": "The advantage of having a pet is that they provide companionship."
                    }
                },
                {
                    "word": "Disadvantage",
                    "definition": "An unfavorable circumstance or condition that reduces the chances of success.",
                    "context": {
                        "Context 1": "The lesson mentioned the disadvantages of not being able to try clothes on before buying.",
                        "Context 2": "One disadvantage of living in a big city is the high cost of living.",
                        "Context 3": "The disadvantage of working late is that you miss out on social activities."
                    }
                },
                {
                    "word": "Body Paragraph",
                    "definition": "A paragraph that develops a specific point or idea in an essay.",
                    "context": {
                        "Context 1": "The lesson emphasized the importance of having strong body paragraphs in an essay.",
                        "Context 2": "Each body paragraph should focus on a single main idea to maintain clarity.",
                        "Context 3": "The body paragraphs of her research paper were well-structured and informative."
                    }
                },
                {
                    "word": "Linking Words",
                    "definition": "Words or phrases that connect ideas and help the flow of writing.",
                    "context": {
                        "Context 1": "The lesson encouraged the use of linking words to connect ideas in essays.",
                        "Context 2": "Using linking words like 'however' can improve the coherence of your writing.",
                        "Context 3": "In her speech, she used linking words to transition smoothly between topics."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Paraphrase",
                    "fact": "The word 'paraphrase' comes from the Greek word 'paraphrasis,' which means 'to tell in other words.'"
                },
                {
                    "word": "Instruction",
                    "fact": "Did you know that in some cultures, giving instructions can be seen as a sign of respect?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Uniform",
                    "definition": "A standard set of clothes worn by members of an organization or group.",
                    "context": {
                        "Context 1": "School uniforms can create a sense of equality among students.",
                        "Context 2": "The marching band wore their colorful uniforms during the parade.",
                        "Context 3": "In the military, uniforms are essential for identification and discipline."
                    }
                },
                {
                    "word": "Countable",
                    "definition": "Referring to nouns that can be counted as individual units.",
                    "context": {
                        "Context 1": "Apples are countable; you can say one apple, two apples, etc.",
                        "Context 2": "Water is not countable; you wouldn't say two waters.",
                        "Context 3": "Books are countable, but knowledge is not."
                    }
                },
                {
                    "word": "Uncountable",
                    "definition": "Referring to nouns that cannot be counted as individual units.",
                    "context": {
                        "Context 1": "Information is uncountable; you can't say two informations.",
                        "Context 2": "Sand is uncountable; you wouldn't say three sands.",
                        "Context 3": "Happiness is uncountable; you can't have two happinesses."
                    }
                },
                {
                    "word": "Professional",
                    "definition": "Relating to or connected with a profession; showing a high level of skill or competence.",
                    "context": {
                        "Context 1": "Her presentation was very professional and well-organized.",
                        "Context 2": "The chef's professional skills impressed everyone at the restaurant.",
                        "Context 3": "He dressed in a professional manner for his job interview."
                    }
                },
                {
                    "word": "Introduction",
                    "definition": "The beginning part of a piece of writing that introduces the topic.",
                    "context": {
                        "Context 1": "The introduction of your essay should capture the reader's attention.",
                        "Context 2": "In a book, the introduction often sets the stage for the story.",
                        "Context 3": "During the meeting, she gave a brief introduction of the new project."
                    }
                },
                {
                    "word": "Abstract",
                    "definition": "Existing in thought or as an idea but not having a physical or concrete existence.",
                    "context": {
                        "Context 1": "The concept of freedom is often discussed in abstract terms.",
                        "Context 2": "His abstract painting left viewers interpreting its meaning.",
                        "Context 3": "In mathematics, abstract concepts can be challenging to grasp."
                    }
                },
                {
                    "word": "Inevitably",
                    "definition": "In a way that cannot be avoided or prevented.",
                    "context": {
                        "Context 1": "If you don't study, you will inevitably fail the exam.",
                        "Context 2": "With time, change inevitably occurs in every organization.",
                        "Context 3": "If it rains, we will inevitably get wet without an umbrella."
                    }
                },
                {
                    "word": "Lengthy",
                    "definition": "Long in duration, extent, or amount; often excessively so.",
                    "context": {
                        "Context 1": "The lengthy report took hours to read.",
                        "Context 2": "His lengthy speech made everyone lose interest.",
                        "Context 3": "The movie was so lengthy that we had to take a break halfway through."
                    }
                },
                {
                    "word": "Merge",
                    "definition": "To combine or join together to form a single entity.",
                    "context": {
                        "Context 1": "The two companies decided to merge to increase their market share.",
                        "Context 2": "When making a smoothie, you should merge all the ingredients in a blender.",
                        "Context 3": "The rivers merge into one larger body of water."
                    }
                },
                {
                    "word": "Point",
                    "definition": "The main idea or argument in a discussion or piece of writing.",
                    "context": {
                        "Context 1": "Make sure to clearly state your point in the essay.",
                        "Context 2": "She made a valid point during the debate.",
                        "Context 3": "The point of the story is to teach a lesson about honesty."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Uniform",
                    "fact": "In some schools, students have to wear uniforms so they can’t show off their fashion sense, but they still find ways to express themselves with colorful socks!"
                },
                {
                    "word": "Abstract",
                    "fact": "The term 'abstract' comes from the Latin word 'abstrahere,' which means 'to draw away.' So, if you find abstract art confusing, just remember it’s meant to draw your thoughts away!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Good morning! How's it going?"
                },
                {
                    "Person 2": "Good morning! I'm doing well, just trying to wake up. How about you?"
                },
                {
                    "Person 1": "Same here! I woke up pretty early today, around 8."
                },
                {
                    "Person 2": "Wow, that’s early! What’s got you up so soon?"
                },
                {
                    "Person 1": "I had some homework to finish. School starts again on Monday."
                },
                {
                    "Person 2": "Oh, nice! What classes are you taking this semester?"
                },
                {
                    "Person 1": "I only have classes on Tuesday, Wednesday, and Sunday. It’s a bit unusual."
                },
                {
                    "Person 2": "That is different! Do you like it?"
                },
                {
                    "Person 1": "Yeah, it’s cool. I’m taking biology, chemistry, English, Russian, and math."
                },
                {
                    "Person 2": "Wow, you’re really into science! Are you planning to go into medicine?"
                },
                {
                    "Person 1": "Definitely! I want to be a doctor, maybe a surgeon."
                },
                {
                    "Person 2": "That’s awesome! Surgeons are so important. Or maybe a dentist? They’re needed too!"
                },
                {
                    "Person 1": "True! I’d love to help people, but I think surgery is my passion."
                },
                {
                    "Person 2": "So, what do you do on your days off? Just homework?"
                },
                {
                    "Person 1": "Pretty much! But I do get to relax a bit. My dad wakes me up early, though."
                },
                {
                    "Person 2": "Sounds like he wants you to make the most of your day!"
                },
                {
                    "Person 1": "Yeah, he doesn’t like it when I sleep in. But I can’t complain too much."
                },
                {
                    "Person 2": "What’s the weather like where you are?"
                },
                {
                    "Person 1": "It’s pretty cold, around minus two degrees Celsius."
                },
                {
                    "Person 2": "Yikes! That’s chilly! I can’t even imagine that."
                },
                {
                    "Person 1": "Yeah, it’s a bit rough. But I still like going for walks."
                },
                {
                    "Person 2": "Where do you usually walk?"
                },
                {
                    "Person 1": "I like Kitay Gorod and Pushkinskaya. There are some nice spots and restaurants."
                },
                {
                    "Person 2": "That sounds fun! I’d love to take some photos there."
                },
                {
                    "Person 1": "For sure! It’s a great place for that."
                },
                {
                    "Person 2": "So, did you finish your homework yesterday?"
                },
                {
                    "Person 1": "Yep! Just wrapped it up. Do you have any tips for writing essays?"
                },
                {
                    "Person 2": "Sure! I think starting with a clear plan helps a lot."
                },
                {
                    "Person 1": "Good idea! I usually get stuck on the details."
                },
                {
                    "Person 2": "Yeah, just remember to keep your ideas connected. It makes a big difference."
                },
                {
                    "Person 1": "Thanks! I’ll definitely keep that in mind."
                },
                {
                    "Person 2": "No problem! Let’s catch up later and see how it goes."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh, totally! I was on the edge of my seat! What a comeback!"
                },
                {
                    "Person 1": "Right? I thought they were done for, but then they just turned it around."
                },
                {
                    "Person 2": "I know! And that last-minute goal? Unbelievable!"
                },
                {
                    "Person 1": "I was jumping up and down in my living room. My dog thought I was crazy!"
                },
                {
                    "Person 2": "Haha! I can imagine! I was yelling at the TV like they could hear me."
                },
                {
                    "Person 1": "Same here! So, what do you think about their chances in the playoffs?"
                },
                {
                    "Person 2": "I think they have a good shot if they keep playing like that. They just need to stay consistent."
                },
                {
                    "Person 1": "Agreed! And their defense looked solid too, which is a good sign."
                },
                {
                    "Person 2": "Definitely! I just hope they don’t get too cocky. That can ruin everything."
                },
                {
                    "Person 1": "For sure! It's all about keeping that focus. So, are you going to the next game?"
                },
                {
                    "Person 2": "Absolutely! I wouldn’t miss it for the world. You coming?"
                },
                {
                    "Person 1": "You bet! Let’s grab some snacks before the game."
                },
                {
                    "Person 2": "Sounds like a plan! Can’t wait!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new online clothing store?"
                },
                {
                    "Person 2": "Yeah, I saw an ad for it. Are the clothes any good?"
                },
                {
                    "Person 1": "I don't know. I mean, they look nice in the pictures, but you can never be sure."
                },
                {
                    "Person 2": "True! I've had some bad experiences buying clothes online. They never fit right."
                },
                {
                    "Person 1": "Exactly! I bought a jacket once, and it was way too small. I had to return it."
                },
                {
                    "Person 2": "That’s the worst! And sometimes, the return process is such a hassle."
                },
                {
                    "Person 1": "Right? I wish we could just try things on before buying them online."
                },
                {
                    "Person 2": "For real! It would save so much time and money."
                },
                {
                    "Person 1": "Maybe we should just stick to shopping in stores for now."
                },
                {
                    "Person 2": "Yeah, at least we can try things on and see how they look."
                },
                {
                    "Person 1": "Plus, it's kind of fun to go out shopping with friends."
                },
                {
                    "Person 2": "Definitely! We should plan a shopping day soon."
                },
                {
                    "Person 1": "Sounds like a plan! Let’s make it happen."
                },
                {
                    "Person 2": "Awesome! I can't wait to find some new outfits."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about the new school uniform policy?"
                },
                {
                    "Person 2": "Yeah, I did! I can't believe they want everyone to wear the same thing."
                },
                {
                    "Person 1": "Right? I mean, it feels like it takes away our individuality."
                },
                {
                    "Person 2": "Exactly! I think it makes it harder for students to express themselves."
                },
                {
                    "Person 1": "Totally! Plus, it can be uncomfortable for some people."
                },
                {
                    "Person 2": "For sure! And what about the mental health aspect? I feel like it could add extra pressure."
                },
                {
                    "Person 1": "Definitely! It’s like they’re saying we all have to fit into a box."
                },
                {
                    "Person 2": "Yeah, and that can make it tough to socialize too. Everyone just looks the same."
                },
                {
                    "Person 1": "So, do you think they’ll actually change it back?"
                },
                {
                    "Person 2": "I hope so! Maybe if enough students speak up, they’ll reconsider."
                },
                {
                    "Person 1": "That would be great! We should start a petition or something."
                },
                {
                    "Person 2": "I’m in! Let’s get some friends together and brainstorm ideas."
                },
                {
                    "Person 1": "Awesome! I’ll bring snacks for our brainstorming session."
                },
                {
                    "Person 2": "Perfect! Can’t wait to see what we come up with."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
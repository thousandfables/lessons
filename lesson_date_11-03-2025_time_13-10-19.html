<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "we walking in the morning",
                    "corrected": "we walked in the morning",
                    "explanation": "The verb 'walking' is incorrect here; the past tense 'walked' should be used to indicate a completed action.",
                    "context": "I went to the beach recently. No, we walked in the morning. I don't want to do anything else today."
                },
                {
                    "original": "which one were generated by the AI",
                    "corrected": "which were generated by the AI",
                    "explanation": "'Which one' is unnecessary here; 'which' alone suffices to refer to the queries.",
                    "context": "I was talking with other developers about SQL and Django RAM. They don't understand the queries which were generated by the AI."
                },
                {
                    "original": "I don't know too but better AI analyzer",
                    "corrected": "I don't know either, but a better AI analyzer is needed.",
                    "explanation": "'Too' is incorrect; 'either' should be used in negative sentences. The sentence structure also needs improvement.",
                    "context": "I don't have a solution for their problem. I don't know either, but a better AI analyzer is needed."
                },
                {
                    "original": "we can don't write the code",
                    "corrected": "we don't have to write the code",
                    "explanation": "'Can don't' is incorrect; 'don't have to' expresses the lack of necessity.",
                    "context": "In the current tech landscape, we have new tools at our disposal. We don't have to write the code like developers anymore."
                },
                {
                    "original": "he setting my architecture",
                    "corrected": "he is setting my architecture",
                    "explanation": "The present continuous tense 'is setting' is needed here to indicate an ongoing action.",
                    "context": "I work closely with my husband on tech projects. He is setting my architecture on the server side."
                },
                {
                    "original": "I think I need to change it for this time",
                    "corrected": "I think I need to change it this time",
                    "explanation": "'For this time' is awkward; 'this time' is the correct phrase.",
                    "context": "I have a subscription to DeepSec. I think I need to change it this time."
                },
                {
                    "original": "I want DeepSec now for tests, only for tests",
                    "corrected": "I only want DeepSec now for testing.",
                    "explanation": "The phrase is repetitive; 'only for tests' can be simplified to 'for testing.'",
                    "context": "I have specific needs for my coding projects. I only want DeepSec now for testing."
                },
                {
                    "original": "I planned but I don't have free hands",
                    "corrected": "I planned to, but I don't have free time.",
                    "explanation": "'Free hands' is incorrect; 'free time' is the appropriate expression.",
                    "context": "I had intentions to work on my projects. I planned to, but I don't have free time."
                },
                {
                    "original": "I use CiaoGPT for deep analysis",
                    "corrected": "I use ChatGPT for deep analysis.",
                    "explanation": "The name 'CiaoGPT' is incorrect; it should be 'ChatGPT.'",
                    "context": "I rely on AI tools for assistance. I use ChatGPT for deep analysis."
                },
                {
                    "original": "He is biggest fan of the How to get more money",
                    "corrected": "He is the biggest fan of how to get more money.",
                    "explanation": "The article 'the' is missing before 'biggest fan,' and the phrase needs rephrasing for clarity.",
                    "context": "My husband is very interested in investments. He is the biggest fan of how to get more money."
                },
                {
                    "original": "He fixed this flats and resell this them",
                    "corrected": "He fixes these flats and resells them.",
                    "explanation": "The verb tense is incorrect; 'fixed' should be 'fixes' for present tense, and 'this' should be 'these.'",
                    "context": "My husband has a side business in real estate. He fixes these flats and resells them."
                },
                {
                    "original": "He like his little bit",
                    "corrected": "He likes it a little bit.",
                    "explanation": "The verb 'like' should be 'likes' to agree with the subject, and the phrase needs reordering.",
                    "context": "My husband has unique interests. He likes it a little bit."
                },
                {
                    "original": "There are so many projects and sites that do a very, very small thing",
                    "corrected": "There are so many projects and sites that do very little.",
                    "explanation": "The phrase 'do a very, very small thing' is awkward; 'do very little' is more idiomatic.",
                    "context": "In the tech industry, I've noticed a trend. There are so many projects and sites that do very little."
                },
                {
                    "original": "I don't like to spend my time for account and Paying taxes",
                    "corrected": "I don't like to spend my time on accounting and paying taxes.",
                    "explanation": "'For account' should be 'on accounting,' and 'paying' should not be capitalized.",
                    "context": "I have my preferences when it comes to work. I don't like to spend my time on accounting and paying taxes."
                },
                {
                    "original": "I think that once maybe I make my own startup",
                    "corrected": "I think that maybe I will start my own startup.",
                    "explanation": "The verb form 'make' is awkward here; 'start' is more appropriate.",
                    "context": "I have aspirations for the future. I think that maybe I will start my own startup."
                },
                {
                    "original": "I can't sell this",
                    "corrected": "I can't sell it.",
                    "explanation": "The pronoun 'this' should be 'it' for clarity.",
                    "context": "I have coding skills but struggle with business. I can't sell it."
                },
                {
                    "original": "I believe that once you know English at a decent level you will read the documentation",
                    "corrected": "I believe that once you know English at a decent level, you will be able to read the documentation.",
                    "explanation": "The sentence needs a comma before 'you will be able to' for clarity.",
                    "context": "Learning English is important for my career. I believe that once you know English at a decent level, you will be able to read the documentation."
                },
                {
                    "original": "I can read everything in Russian Everything about my everything about technologies",
                    "corrected": "I can read everything about technologies in Russian.",
                    "explanation": "The sentence is repetitive and needs restructuring for clarity.",
                    "context": "I have access to resources in my native language. I can read everything about technologies in Russian."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I can write tasks really good.",
                    "corrected": "I can write tasks really well.",
                    "explanation": "\"Good\" is an adjective and should be replaced with the adverb \"well\" to modify the verb \"write.\"",
                    "context": "I have some advantages because my Russian is perfect and I can write in Russian. I can write tasks really well. This helps me create better prompts for my work."
                },
                {
                    "original": "I used English which I understand it only in our school.",
                    "corrected": "I used English that I only understood in our school.",
                    "explanation": "The phrase \"which I understand it\" is incorrect; it should be \"that I only understood\" to maintain proper tense and structure.",
                    "context": "When I was at school, I used English that I only understood in our school. In my university too, the focus was more on math-related English."
                },
                {
                    "original": "I had my classmates were very they were very focused on German.",
                    "corrected": "My classmates were very focused on German.",
                    "explanation": "The original sentence is awkward and redundant; it should be simplified to remove the unnecessary repetition.",
                    "context": "In my university, my classmates were very focused on German. They said they could communicate in English, but they really wanted to master German."
                },
                {
                    "original": "Nobody knows.",
                    "corrected": "Nobody needs German.",
                    "explanation": "The original statement is vague; it should clarify that the issue is about the necessity of knowing German.",
                    "context": "After graduating, I realized that nobody needs German. In fact, people prefer to communicate in English."
                },
                {
                    "original": "In Australia you can immigrate only without your grandparents because you don't pay taxes enough for medical insurance for your grandparents.",
                    "corrected": "In Australia, you can immigrate only without your grandparents because you don't pay enough taxes for their medical insurance.",
                    "explanation": "The phrase \"taxes enough\" is awkward; it should be restructured to \"enough taxes\" for clarity.",
                    "context": "I explained that in Australia, you can immigrate only without your grandparents. This is because you don't pay enough taxes for their medical insurance."
                },
                {
                    "original": "I called to our colleague to the Melbourne.",
                    "corrected": "I called our colleague in Melbourne.",
                    "explanation": "The preposition \"to\" is incorrect; it should be \"in\" to indicate location.",
                    "context": "I called our colleague in Melbourne today. He showed me pictures of the spiders there."
                },
                {
                    "original": "Do they have snakes? In big cities they have not snakes they have only spiders and parrots.",
                    "corrected": "Do they have snakes? In big cities, they don't have snakes; they only have spiders and parrots.",
                    "explanation": "The phrase \"they have not snakes\" is incorrect; it should be \"they don't have snakes\" for proper negation.",
                    "context": "I asked if they have snakes. In big cities, they don't have snakes; they only have spiders and parrots."
                },
                {
                    "original": "I think the cat won't be able to handle them.",
                    "corrected": "I think the cat won't be able to handle them.",
                    "explanation": "This sentence is correct but could be rephrased for clarity. However, it is included here as a reminder to ensure clarity in future sentences.",
                    "context": "I worry about the cat and the parrots. I think the cat won't be able to handle them if they attack."
                },
                {
                    "original": "I think that I don't want to meet them sometimes.",
                    "corrected": "I think that I never want to meet them.",
                    "explanation": "The phrase \"I don't want to meet them sometimes\" is confusing; it should be stated as \"I never want to meet them\" for clarity.",
                    "context": "I mentioned the dangers of crocodiles. I think that I never want to meet them, as they can be very dangerous."
                },
                {
                    "original": "I seen that Poisonous mushrooms near him.",
                    "corrected": "I saw poisonous mushrooms near him.",
                    "explanation": "\"Seen\" is the past participle and should be replaced with the simple past tense \"saw.\"",
                    "context": "Once I walked with my son in the park. I saw poisonous mushrooms near him after 20 minutes."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "My husband want to Australia, okay we will travel to Australia.",
                    "corrected": "My husband wants to go to Australia; okay, we will travel to Australia.",
                    "explanation": "The verb 'want' should be in the third person singular form 'wants' to agree with the subject 'husband.' Additionally, 'to go' is needed for clarity.",
                    "context": "My husband has plans to move abroad. He wants to go to Australia; okay, we will travel to Australia."
                },
                {
                    "original": "He want to relocate to the Germany.",
                    "corrected": "He wants to relocate to Germany.",
                    "explanation": "'Want' should be 'wants' for third person singular, and 'the' is unnecessary before 'Germany.'",
                    "context": "My husband is considering a move. He wants to relocate to Germany."
                },
                {
                    "original": "Chinese language it's will be for him only.",
                    "corrected": "The Chinese language will be for him only.",
                    "explanation": "The phrase should be structured as 'The Chinese language will be' instead of 'it's will be.'",
                    "context": "In our discussions about language, I mentioned that the Chinese language will be for him only."
                },
                {
                    "original": "I can on my Russian accent I can I can use worst Russian accent for them to scare them off.",
                    "corrected": "I can use my worst Russian accent to scare them off.",
                    "explanation": "The sentence structure is awkward; it should be simplified to 'I can use my worst Russian accent.'",
                    "context": "I was joking about my language skills. I can use my worst Russian accent to scare them off."
                },
                {
                    "original": "I was walking in the Saturday.",
                    "corrected": "I was walking on Saturday.",
                    "explanation": "'In' should be 'on' when referring to days of the week.",
                    "context": "I was recounting my weekend activities. I was walking on Saturday."
                },
                {
                    "original": "He come to the stage.",
                    "corrected": "He came to the stage.",
                    "explanation": "The verb 'come' should be in the past tense 'came' to match the context.",
                    "context": "I was describing my son's excitement. He came to the stage and was happy."
                },
                {
                    "original": "He were happy.",
                    "corrected": "He was happy.",
                    "explanation": "'Were' should be 'was' to agree with the singular subject 'he.'",
                    "context": "During the parade, my son was very excited. He was happy to be there."
                },
                {
                    "original": "I feel myself not so good.",
                    "corrected": "I don't feel so good.",
                    "explanation": "The phrase should be simplified to 'I don't feel so good' for clarity.",
                    "context": "I was discussing my health. I don't feel so good."
                },
                {
                    "original": "I head, head pain.",
                    "corrected": "I have a headache.",
                    "explanation": "The correct term is 'headache,' and 'have' is needed to indicate possession.",
                    "context": "I was explaining my discomfort. I have a headache."
                },
                {
                    "original": "Yesterday I not feel.",
                    "corrected": "Yesterday I didn't feel.",
                    "explanation": "The negative form should use 'didn't' for past tense.",
                    "context": "I was reflecting on my day. Yesterday I didn't feel well."
                },
                {
                    "original": "Felt is very simple for feel.",
                    "corrected": "Felt is the past tense of feel.",
                    "explanation": "'Felt' is the past tense form of 'feel,' and should be explained as such.",
                    "context": "I was clarifying verb forms. Felt is the past tense of feel."
                },
                {
                    "original": "I try to prepare for.",
                    "corrected": "I try to prepare for the exam.",
                    "explanation": "The sentence is incomplete; it needs an object to clarify what is being prepared for.",
                    "context": "I was discussing my study habits. I try to prepare for the exam."
                },
                {
                    "original": "I create the template for this blog and I can use this for for speaking blog.",
                    "corrected": "I created a template for this blog, and I can use it for the speaking blog.",
                    "explanation": "The verb should be in the past tense 'created,' and 'for' is repeated unnecessarily.",
                    "context": "I was explaining my blogging process. I created a template for this blog, and I can use it for the speaking blog."
                },
                {
                    "original": "I don't like to describe the image in English.",
                    "corrected": "I don't like describing images in English.",
                    "explanation": "The gerund form 'describing' is more natural in this context.",
                    "context": "I was expressing my preferences. I don't like describing images in English."
                },
                {
                    "original": "I don't start watching anything before I've seen a couple of clips from this show.",
                    "corrected": "I don't start watching anything until I've seen a couple of clips from the show.",
                    "explanation": "'Before' should be 'until' to indicate a condition that must be met.",
                    "context": "I was explaining my viewing habits. I don't start watching anything until I've seen a couple of clips from the show."
                },
                {
                    "original": "I want a small piece of that colourful flag that I saw yesterday.",
                    "corrected": "I want a small piece of that colorful flag that I saw yesterday.",
                    "explanation": "The word 'colourful' should be spelled 'colorful' in American English.",
                    "context": "I was reminiscing about the parade. I want a small piece of that colorful flag that I saw yesterday."
                },
                {
                    "original": "He tried to run to the kitchen and to steal some cookies to steal some knives some knives.",
                    "corrected": "He tried to run to the kitchen to steal some cookies and some knives.",
                    "explanation": "The sentence is repetitive and should be streamlined for clarity.",
                    "context": "I was recounting my son's antics. He tried to run to the kitchen to steal some cookies and some knives."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "you know, sometimes when you are stressed out and you feel that you can't take English anymore",
                    "corrected": "you know, sometimes when you are stressed out and feel that you can't handle English anymore",
                    "explanation": "'Take' is not the correct verb here; 'handle' is more appropriate to convey managing a situation.",
                    "context": "Learning a new language can be overwhelming. You know, sometimes when you are stressed out and feel that you can't handle English anymore, it helps to take a break."
                },
                {
                    "original": "you can just give you can just give it a try",
                    "corrected": "you can just give it a try",
                    "explanation": "The phrase is repeated unnecessarily; it should be stated once for clarity.",
                    "context": "When feeling overwhelmed, it's important to take a step back. You can just give it a try and watch something entertaining to relax."
                },
                {
                    "original": "if you really think of it we always have time but because you don't because English is now not something that you can't relax with English for now",
                    "corrected": "if you really think about it, we always have time, but right now, English is not something you can relax with",
                    "explanation": "The phrase is convoluted and contains a double negative; it should be simplified for better understanding.",
                    "context": "It's important to manage your time effectively. If you really think about it, we always have time, but right now, English is not something you can relax with."
                },
                {
                    "original": "But you need once you learn how to enjoy it how to enjoy watching movies and actually like it comedies and actually like it",
                    "corrected": "But you need to learn how to enjoy it, how to enjoy watching movies and actually like comedies.",
                    "explanation": "The sentence structure is awkward and repetitive; it should be streamlined for clarity.",
                    "context": "Enjoying the learning process is crucial. But you need to learn how to enjoy it, how to enjoy watching movies and actually like comedies."
                },
                {
                    "original": "this is a huge turn this is a huge your English journey that splits it before and after",
                    "corrected": "this is a huge turning point in your English journey that splits it before and after",
                    "explanation": "The phrase 'huge turn' is incorrect; 'turning point' is the correct idiomatic expression.",
                    "context": "Recognizing milestones is important. This is a huge turning point in your English journey that splits it before and after."
                },
                {
                    "original": "after you've learned how to enjoy it the process like takes care of itself automatically",
                    "corrected": "after you've learned how to enjoy it, the process takes care of itself automatically",
                    "explanation": "The phrase 'like takes care of itself' is incorrect; 'takes care of itself' is sufficient.",
                    "context": "Once you find joy in learning, everything becomes easier. After you've learned how to enjoy it, the process takes care of itself automatically."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Architecture",
                    "definition": "The art or practice of designing and constructing buildings or structures.",
                    "context": {
                        "Context 1": "In our discussion, we talked about the architecture of the server side.",
                        "Context 2": "The architecture of the ancient Roman buildings is still admired today.",
                        "Context 3": "She studied architecture at university and now designs modern homes."
                    }
                },
                {
                    "word": "Queries",
                    "definition": "Questions or requests for information from a database.",
                    "context": {
                        "Context 1": "The developers were confused about the queries generated by the AI.",
                        "Context 2": "He submitted several queries to the library database to find the right book.",
                        "Context 3": "The teacher encouraged students to ask queries during the lesson."
                    }
                },
                {
                    "word": "AI (Artificial Intelligence)",
                    "definition": "The simulation of human intelligence processes by machines, especially computer systems.",
                    "context": {
                        "Context 1": "The AI tool helped generate code for the project.",
                        "Context 2": "Some people believe AI will take over many jobs in the future.",
                        "Context 3": "AI can be used to create art and music, showcasing its versatility."
                    }
                },
                {
                    "word": "Investment",
                    "definition": "The action or process of investing money for profit.",
                    "context": {
                        "Context 1": "Her husband is interested in Bitcoin investment.",
                        "Context 2": "He made a wise investment in real estate that paid off.",
                        "Context 3": "Investing in education is often seen as a long-term benefit."
                    }
                },
                {
                    "word": "Startup",
                    "definition": "A newly established business, typically in the early stages of development.",
                    "context": {
                        "Context 1": "He could start a startup with his knowledge of IT.",
                        "Context 2": "The startup scene in Silicon Valley is thriving.",
                        "Context 3": "She joined a startup that focuses on sustainable energy solutions."
                    }
                },
                {
                    "word": "Deep Learning",
                    "definition": "A subset of machine learning that uses neural networks to analyze various factors of data.",
                    "context": {
                        "Context 1": "I used deep learning to improve the AI's coding capabilities.",
                        "Context 2": "Deep learning is revolutionizing fields like healthcare and finance.",
                        "Context 3": "He is taking a course on deep learning to enhance his skills."
                    }
                },
                {
                    "word": "Documentation",
                    "definition": "Material that provides official information or evidence, often in written form.",
                    "context": {
                        "Context 1": "Once I improve my English, I can read the documentation more easily.",
                        "Context 2": "The software documentation was very helpful for new users.",
                        "Context 3": "He spent hours organizing the project documentation for clarity."
                    }
                },
                {
                    "word": "Conflict",
                    "definition": "A serious disagreement or argument, typically a protracted one.",
                    "context": {
                        "Context 1": "He enjoys resolving conflicts with his clients.",
                        "Context 2": "The conflict between the two teams escalated during the game.",
                        "Context 3": "She prefers to avoid conflict and seeks peaceful resolutions."
                    }
                },
                {
                    "word": "Profit",
                    "definition": "The financial gain, especially the difference between the amount earned and the amount spent.",
                    "context": {
                        "Context 1": "He hopes to make a profit from his investments.",
                        "Context 2": "The business reported a significant profit this quarter.",
                        "Context 3": "She reinvested her profits back into the company for growth."
                    }
                },
                {
                    "word": "SaaS (Software as a Service)",
                    "definition": "A software distribution model in which applications are hosted by a service provider and made available to customers over the internet.",
                    "context": {
                        "Context 1": "I might create some SaaS projects in the future.",
                        "Context 2": "Many companies are switching to SaaS solutions for better flexibility.",
                        "Context 3": "SaaS applications are often subscription-based, making them accessible."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "AI",
                    "fact": "Did you know that AI can now write poetry? Some say it’s better than what humans can do—though it still struggles with rhymes!"
                },
                {
                    "word": "Startup",
                    "fact": "The term 'startup' was first used in the 1970s, but it took off in the 2000s when everyone suddenly wanted to be the next Mark Zuckerberg!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why did the developer go broke?",
                    "answer": "Because he lost his domain in a bet!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Advantage",
                    "definition": "A condition or circumstance that puts one in a favorable or superior position.",
                    "context": {
                        "Context 1": "My ability to speak Russian gives me an advantage in my job.",
                        "Context 2": "The advantage of living in a big city is access to more job opportunities.",
                        "Context 3": "Having a supportive family can be a significant advantage when pursuing your dreams."
                    }
                },
                {
                    "word": "Motivated",
                    "definition": "Having a strong reason or desire to do something.",
                    "context": {
                        "Context 1": "I need to be motivated to improve my English skills.",
                        "Context 2": "She was motivated to run a marathon after watching the Olympics.",
                        "Context 3": "The teacher's encouragement motivated the students to study harder."
                    }
                },
                {
                    "word": "Censorship",
                    "definition": "The suppression or prohibition of speech, public communication, or other information.",
                    "context": {
                        "Context 1": "In some countries, censorship limits access to information.",
                        "Context 2": "The movie faced censorship due to its controversial themes.",
                        "Context 3": "Censorship in social media can affect how people express their opinions."
                    }
                },
                {
                    "word": "Immigrate",
                    "definition": "To come to live permanently in a foreign country.",
                    "context": {
                        "Context 1": "Many people wish to immigrate to Australia for better opportunities.",
                        "Context 2": "She plans to immigrate to Canada next year.",
                        "Context 3": "The family decided to immigrate after visiting the country on vacation."
                    }
                },
                {
                    "word": "Distant",
                    "definition": "Far away in space or time.",
                    "context": {
                        "Context 1": "Australia is a distant continent from Russia.",
                        "Context 2": "He has a distant cousin who lives in another country.",
                        "Context 3": "The distant future holds many possibilities for technology."
                    }
                },
                {
                    "word": "Tough",
                    "definition": "Strong enough to withstand adverse conditions; difficult or challenging.",
                    "context": {
                        "Context 1": "The job market can be tough for new graduates.",
                        "Context 2": "She has a tough exterior but is very kind inside.",
                        "Context 3": "The tough competition made it hard to win the championship."
                    }
                },
                {
                    "word": "Grasp",
                    "definition": "To understand something fully.",
                    "context": {
                        "Context 1": "I wish I had a solid grasp of English grammar.",
                        "Context 2": "He struggled to grasp the concept of quantum physics.",
                        "Context 3": "After studying hard, she finally grasped the material for the exam."
                    }
                },
                {
                    "word": "Focus",
                    "definition": "To concentrate attention or effort on something.",
                    "context": {
                        "Context 1": "I have always been more focused on learning English.",
                        "Context 2": "To succeed in sports, you need to focus on your training.",
                        "Context 3": "She found it hard to focus on her studies with so many distractions."
                    }
                },
                {
                    "word": "Relocate",
                    "definition": "To move to a new place, especially to live or work.",
                    "context": {
                        "Context 1": "Many families choose to relocate for better job opportunities.",
                        "Context 2": "He had to relocate to another city for his new job.",
                        "Context 3": "After the storm, they decided to relocate to a safer area."
                    }
                },
                {
                    "word": "Poisonous",
                    "definition": "Containing poison; capable of causing illness or death.",
                    "context": {
                        "Context 1": "Some mushrooms are poisonous and should not be eaten.",
                        "Context 2": "The snake was poisonous, making it dangerous to approach.",
                        "Context 3": "She learned about poisonous plants in her biology class."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Censorship",
                    "fact": "In North Korea, even the internet is censored so much that they only have access to a few government-approved websites!"
                },
                {
                    "word": "Immigrate",
                    "fact": "Did you know that the Statue of Liberty was a gift from France to the United States to celebrate immigration?"
                },
                {
                    "word": "Poisonous",
                    "fact": "Some poisonous mushrooms can look very similar to edible ones, which is why mushroom picking can be a risky hobby!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the spider go to school?",
                    "answer": "Because he wanted to improve his web design skills!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Relocate",
                    "definition": "To move to a different place, often for work or personal reasons.",
                    "context": {
                        "Context 1": "My husband wants to relocate to Germany for a new job opportunity.",
                        "Context 2": "After years in New York, they decided to relocate to a quieter town in the countryside.",
                        "Context 3": "The company plans to relocate its headquarters to a larger building next year."
                    }
                },
                {
                    "word": "Demonstration",
                    "definition": "A public gathering of people to express their views or protest.",
                    "context": {
                        "Context 1": "We attended a demonstration for women's rights last weekend.",
                        "Context 2": "The science teacher held a demonstration to show how the experiment worked.",
                        "Context 3": "The artist organized a demonstration of her painting techniques at the gallery."
                    }
                },
                {
                    "word": "Accurate",
                    "definition": "Correct and precise; free from error.",
                    "context": {
                        "Context 1": "The series accurately depicts the IT industry and its challenges.",
                        "Context 2": "The weather forecast was surprisingly accurate this week.",
                        "Context 3": "His calculations were accurate, leading to a successful outcome."
                    }
                },
                {
                    "word": "Engage",
                    "definition": "To participate or become involved in something.",
                    "context": {
                        "Context 1": "Do you engage with the language by watching shows or listening to music?",
                        "Context 2": "The teacher encouraged students to engage in discussions during class.",
                        "Context 3": "He decided to engage in volunteer work to help his community."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude or way of considering something.",
                    "context": {
                        "Context 1": "From my perspective, the show offers a unique insight into the tech world.",
                        "Context 2": "Traveling can change your perspective on life and culture.",
                        "Context 3": "Her perspective on the issue was different from mine, leading to a lively debate."
                    }
                },
                {
                    "word": "Amusing",
                    "definition": "Causing laughter or providing entertainment.",
                    "context": {
                        "Context 1": "I find the show very amusing; I spend many hours watching it.",
                        "Context 2": "The comedian's jokes were amusing and kept the audience laughing.",
                        "Context 3": "The amusing story made everyone forget their worries for a while."
                    }
                },
                {
                    "word": "Hacks",
                    "definition": "Clever tips or tricks that help to improve efficiency or solve problems.",
                    "context": {
                        "Context 1": "I collect some hacks for my speaking blog to improve my skills.",
                        "Context 2": "The internet is full of life hacks that can simplify daily tasks.",
                        "Context 3": "He shared some cooking hacks that made meal prep much easier."
                    }
                },
                {
                    "word": "Flag",
                    "definition": "A piece of fabric with a distinctive design used as a symbol or signal.",
                    "context": {
                        "Context 1": "My son tried to steal some flags at the demonstration.",
                        "Context 2": "The country’s flag features a unique emblem that represents its history.",
                        "Context 3": "They raised a flag to signal the start of the race."
                    }
                },
                {
                    "word": "Headache",
                    "definition": "A continuous pain in the head.",
                    "context": {
                        "Context 1": "I had a headache yesterday, but after taking ibuprofen, I felt better.",
                        "Context 2": "She often gets a headache when she spends too much time on the computer.",
                        "Context 3": "The loud music gave him a headache during the party."
                    }
                },
                {
                    "word": "Template",
                    "definition": "A preset format used as a guide for creating something.",
                    "context": {
                        "Context 1": "I created a template for my speaking blog to organize my ideas.",
                        "Context 2": "The designer used a template to ensure consistency in the project.",
                        "Context 3": "She filled out the template for her resume before applying for jobs."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Demonstration",
                    "fact": "The word 'demonstration' comes from the Latin 'demonstrare,' which means 'to show clearly.' So, next time you see a protest, remember they are just showing their feelings clearly!"
                },
                {
                    "word": "Template",
                    "fact": "Did you know that the first templates were used by ancient Egyptians for writing? They didn’t have Microsoft Word, but they sure knew how to organize their hieroglyphs!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Stress",
                    "definition": "A state of mental or emotional strain or tension resulting from adverse or demanding circumstances.",
                    "context": {
                        "Context 1": "When he feels stress from studying, he takes a break to relax.",
                        "Context 2": "The stress of planning a wedding can be overwhelming for many couples.",
                        "Context 3": "Some people find stress relief in yoga and meditation."
                    }
                },
                {
                    "word": "Milestone",
                    "definition": "An important event or point in development.",
                    "context": {
                        "Context 1": "Learning to speak English fluently was a major milestone in her life.",
                        "Context 2": "Graduating from college is often seen as a significant milestone.",
                        "Context 3": "The company celebrated its 10th anniversary as a milestone in its history."
                    }
                },
                {
                    "word": "Journey",
                    "definition": "An act of traveling from one place to another; a process of personal change and development.",
                    "context": {
                        "Context 1": "Her English learning journey has been filled with ups and downs.",
                        "Context 2": "The journey to the top of the mountain was challenging but rewarding.",
                        "Context 3": "He documented his journey across Europe in a travel blog."
                    }
                },
                {
                    "word": "Enjoy",
                    "definition": "To take delight or pleasure in an activity or experience.",
                    "context": {
                        "Context 1": "She learned to enjoy watching English movies to improve her language skills.",
                        "Context 2": "He enjoys playing soccer with his friends every weekend.",
                        "Context 3": "They enjoy visiting new restaurants and trying different cuisines."
                    }
                },
                {
                    "word": "Relax",
                    "definition": "To make or become less tense or anxious.",
                    "context": {
                        "Context 1": "After a long day, he likes to relax by reading a book.",
                        "Context 2": "The spa offers various treatments to help clients relax.",
                        "Context 3": "She finds it hard to relax when there are chores to be done."
                    }
                },
                {
                    "word": "Try",
                    "definition": "To make an attempt or effort to do something.",
                    "context": {
                        "Context 1": "You should try watching a comedy show to improve your English.",
                        "Context 2": "He decided to try a new recipe for dinner last night.",
                        "Context 3": "She wants to try skydiving for her birthday."
                    }
                },
                {
                    "word": "Clip",
                    "definition": "A short segment of video or film.",
                    "context": {
                        "Context 1": "He shared a funny clip from a comedy show to lighten the mood.",
                        "Context 2": "The movie trailer was just a clip of the best scenes.",
                        "Context 3": "She watched a clip of a music video on her phone."
                    }
                },
                {
                    "word": "Comedy",
                    "definition": "A genre of literature, film, and other forms of art that aims to entertain and amuse.",
                    "context": {
                        "Context 1": "Watching a comedy can help relieve stress and make you laugh.",
                        "Context 2": "He prefers comedy movies over horror films.",
                        "Context 3": "The comedy show was sold out because of its popular cast."
                    }
                },
                {
                    "word": "Take care",
                    "definition": "To look after someone or something; to manage or handle a situation.",
                    "context": {
                        "Context 1": "If you learn to enjoy English, the process will take care of itself.",
                        "Context 2": "She promised to take care of her neighbor's cat while they were away.",
                        "Context 3": "He always takes care to double-check his work before submitting it."
                    }
                },
                {
                    "word": "Before and after",
                    "definition": "Referring to the time prior to and following a specific event or change.",
                    "context": {
                        "Context 1": "There was a clear difference in her English skills before and after the course.",
                        "Context 2": "The before and after photos showed a remarkable transformation.",
                        "Context 3": "He reflected on his life before and after moving to a new city."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Comedy",
                    "fact": "The word 'comedy' comes from the Greek word 'komoidia,' which means 'revel song.'"
                },
                {
                    "word": "Relax",
                    "fact": "Did you know that the word 'relax' originally meant 'to loosen' in Latin?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the English book go to therapy?",
                    "answer": "Because it had too many issues!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, good morning! Did you get a chance to hit the beach lately?"
                },
                {
                    "Person 2": "Not yet! I've been walking in the mornings instead. I just didn't feel like dealing with the crowds."
                },
                {
                    "Person 1": "I get that. Sometimes it’s nice to just enjoy some quiet time."
                },
                {
                    "Person 2": "Exactly! So, what have you been up to? Any interesting projects at work?"
                },
                {
                    "Person 1": "Yeah, I've been chatting with some developers about SQL and Django. They’re struggling with AI-generated queries."
                },
                {
                    "Person 2": "Oh, really? That sounds complicated. What’s the issue?"
                },
                {
                    "Person 1": "They’re worried that the queries produced by AI don’t make sense to them. It’s like they can’t figure out how to fix them."
                },
                {
                    "Person 2": "That’s wild! I guess AI is changing the game for developers."
                },
                {
                    "Person 1": "Totally! Now, it feels like we just need to write better prompts instead of actual code."
                },
                {
                    "Person 2": "Right? It’s like being an architect instead of a builder."
                },
                {
                    "Person 1": "Exactly! Speaking of which, my husband is really into setting up server architecture."
                },
                {
                    "Person 2": "Nice! It’s great to have someone who knows their stuff."
                },
                {
                    "Person 1": "For sure! He’s the boss when it comes to that. I just focus on coding with AI tools."
                },
                {
                    "Person 2": "So, have you tried any new AI tools lately?"
                },
                {
                    "Person 1": "I’m testing out a new version of ChatGPT. It’s supposed to be better at analyzing code."
                },
                {
                    "Person 2": "Sounds promising! I’ve heard mixed reviews about AI tools, though."
                },
                {
                    "Person 1": "Yeah, some of them can be a bit off. But it’s improving all the time."
                },
                {
                    "Person 2": "Have you ever thought about Bitcoin? I’ve been curious about it lately."
                },
                {
                    "Person 1": "I haven’t mined it, but my husband is really into investments. He’s always looking for ways to grow our savings."
                },
                {
                    "Person 2": "That’s smart! I think learning about Bitcoin could be a good move."
                },
                {
                    "Person 1": "Definitely! It could help with retirement planning too."
                },
                {
                    "Person 2": "Exactly! Plus, it seems like the value might keep going up."
                },
                {
                    "Person 1": "For sure! My husband even flips apartments. He buys them cheap, fixes them up, and sells them for a profit."
                },
                {
                    "Person 2": "Wow, that’s impressive! He sounds like he has a knack for finding good deals."
                },
                {
                    "Person 1": "Yeah, he loves the thrill of it. He even enjoys dealing with tough clients."
                },
                {
                    "Person 2": "That’s a unique hobby! I guess it keeps things interesting."
                },
                {
                    "Person 1": "It does! But I’m more into coding than dealing with paperwork and taxes."
                },
                {
                    "Person 2": "Totally understand that! Paperwork can be such a drag."
                },
                {
                    "Person 1": "Right? I’d rather focus on coding and maybe start my own project someday."
                },
                {
                    "Person 2": "That would be awesome! Once your English improves, you’ll be able to read all the documentation easily."
                },
                {
                    "Person 1": "Exactly! I can manage in Russian, but English is definitely more convenient."
                },
                {
                    "Person 2": "For sure! Plus, with tools like ChatGPT, you can get translations and explanations."
                },
                {
                    "Person 1": "Absolutely! It’s a game changer for learning new tech."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, have you ever thought about how hard it is to learn a new language?"
                },
                {
                    "Person 2": "Oh, totally! I wish I had started learning Spanish back in school. It would have made things easier now."
                },
                {
                    "Person 1": "Right? I took French, and I can barely remember anything! I feel like I wasted my time."
                },
                {
                    "Person 2": "Same here! I focused so much on math and science that I neglected languages. Now I regret it."
                },
                {
                    "Person 1": "Yeah, and now everyone’s saying English is the way to go. It’s everywhere!"
                },
                {
                    "Person 2": "Exactly! I mean, even in movies and music, it’s all in English. It feels like a must-know."
                },
                {
                    "Person 1": "I know! And I’ve heard that learning languages can really help with job opportunities."
                },
                {
                    "Person 2": "For sure! I read somewhere that companies prefer candidates who can speak multiple languages."
                },
                {
                    "Person 1": "That makes sense. I guess I should start picking up some Spanish again."
                },
                {
                    "Person 2": "Yeah, me too! Maybe we can practice together. It’ll be more fun that way."
                },
                {
                    "Person 1": "Great idea! We can watch some Spanish shows and try to follow along."
                },
                {
                    "Person 2": "And we can make a game out of it! Like, whoever learns the most words in a week gets coffee paid for by the other."
                },
                {
                    "Person 1": "Deal! I’m going to crush this challenge."
                },
                {
                    "Person 2": "Bring it on! Let’s see who remembers more by next week."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How was your weekend?"
                },
                {
                    "Person 2": "It was pretty good! We went to the park and stumbled upon a parade."
                },
                {
                    "Person 1": "A parade? That sounds fun! What was it for?"
                },
                {
                    "Person 2": "It was for women’s rights. There were a lot of flags and demonstrations."
                },
                {
                    "Person 1": "Nice! Did your son enjoy it?"
                },
                {
                    "Person 2": "Oh yeah! He got super excited and tried to grab some flags."
                },
                {
                    "Person 1": "That's adorable! Did he manage to get one?"
                },
                {
                    "Person 2": "Not really. The flags were huge! But he was happy just being there."
                },
                {
                    "Person 1": "Sounds like a great time! I love parades."
                },
                {
                    "Person 2": "Me too! They’re always so colorful and lively."
                },
                {
                    "Person 1": "So, did you do anything else over the weekend?"
                },
                {
                    "Person 2": "Not much, just some relaxing at home. How about you?"
                },
                {
                    "Person 1": "I mostly binge-watched a new series. It was hard to stop!"
                },
                {
                    "Person 2": "What series? I need something new to watch."
                },
                {
                    "Person 1": "It’s called 'The Good Place.' It’s hilarious!"
                },
                {
                    "Person 2": "I’ve heard of that! I should check it out."
                },
                {
                    "Person 1": "Definitely! Let me know what you think once you start."
                },
                {
                    "Person 2": "Will do! I’ll add it to my list."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you ever felt overwhelmed with everything going on?"
                },
                {
                    "Person 2": "Oh, totally! Sometimes I just want to shut everything off and relax."
                },
                {
                    "Person 1": "Right? I’ve been thinking about how to take a break from all the stress."
                },
                {
                    "Person 2": "Yeah, I get that. I usually just binge-watch some comedy shows or something light."
                },
                {
                    "Person 1": "That sounds nice! I could use a good laugh. What do you recommend?"
                },
                {
                    "Person 2": "I really like 'Brooklyn Nine-Nine.' It always makes me laugh."
                },
                {
                    "Person 1": "I’ve heard good things about that! I should check it out."
                },
                {
                    "Person 2": "Definitely! It’s a great way to unwind. Plus, it’s not too heavy."
                },
                {
                    "Person 1": "Exactly! I feel like I need to find ways to enjoy learning English too."
                },
                {
                    "Person 2": "For sure! Watching shows in English can help with that. It makes it fun."
                },
                {
                    "Person 1": "I guess I just need to change my mindset about it."
                },
                {
                    "Person 2": "Yeah! Once you start enjoying it, it becomes so much easier."
                },
                {
                    "Person 1": "Alright, I’ll give it a shot. Maybe I’ll start tonight!"
                },
                {
                    "Person 2": "Sounds like a plan! Let me know what you think!"
                },
                {
                    "Person 1": "Will do! Thanks for the suggestion!"
                },
                {
                    "Person 2": "Anytime! Enjoy, and see you later!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I spent one hour to make photo for my avatar",
                    "corrected": "I spent one hour making a photo for my avatar",
                    "explanation": "Use 'making' instead of 'to make' for actions that describe a process or duration.",
                    "context": "I spent one hour making a photo for my avatar because my husband wanted to send me as a manager to a Swedish company. This took a lot of time and effort."
                },
                {
                    "original": "he will never say send normal manager to them",
                    "corrected": "he will never send a normal manager to them",
                    "explanation": "The construction 'say send' is incorrect; it should be 'send' directly after 'never.'",
                    "context": "My husband mentioned that he will never send a normal manager to them because of the company's inappropriate culture. It reflects poorly on what he thinks of that workplace."
                },
                {
                    "original": "And they sent them to deal those for... Contact is like contact lens.",
                    "corrected": "And they sent them to deal with those for... Contact is like a contact lens.",
                    "explanation": "'Deal those' is incorrect; it should be 'deal with those' to correctly use the phrasal verb.",
                    "context": "They sent them to deal with those for a website focused on... Contact is like a contact lens, but I mean the other context here. It's a bit confusing."
                },
                {
                    "original": "they had a lot of boys who were in the 22 age",
                    "corrected": "they had a lot of boys who were 22 years old",
                    "explanation": "The phrase 'in the 22 age' is incorrect; it should be '22 years old' for standard age expression.",
                    "context": "In that company, they had a lot of boys who were 22 years old. This made it difficult for me as I was older than them."
                },
                {
                    "original": "When I'm going to... I'm going to IT faculty",
                    "corrected": "When I went to... I went to IT faculty",
                    "explanation": "The verb tenses are inconsistent; 'am going' should be changed to 'went' to maintain past tense.",
                    "context": "When I went to the IT faculty, I was prepared to be a system administrator. I had a clear idea of what I wanted to do."
                },
                {
                    "original": "they're thinking that if you're not fat and not ugly, you are from porn hub person, maybe.",
                    "corrected": "they think that if you're not fat and not ugly, you might be a person from Pornhub.",
                    "explanation": "Use 'think' instead of 'they're thinking' for general statements. 'From porn hub person' needs restructuring.",
                    "context": "They think that if you're not fat and not ugly, you might be a person from Pornhub. It's such a narrow view."
                },
                {
                    "original": "a little bit gold digger",
                    "corrected": "a little bit of a gold digger",
                    "explanation": "The article 'a' is needed before 'little bit of' to create a proper noun phrase.",
                    "context": "I think that every woman is a little bit of a gold digger because they often seek partners who can support them financially. It’s a reality of life."
                },
                {
                    "original": "she's working and sitting with his son.",
                    "corrected": "she's working and taking care of their son.",
                    "explanation": "Use 'taking care of' instead of 'sitting with' for a more common expression regarding parenting.",
                    "context": "She's working and taking care of their son while he struggles with alcoholism. It’s a tough situation for her."
                },
                {
                    "original": "they are boring themselves to death",
                    "corrected": "they are bored to death",
                    "explanation": "Use 'bored' instead of 'boring' to describe a feeling of someone rather than an action.",
                    "context": "They are bored to death because they don’t know what to do. It's a sad situation for many people in that lifestyle."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "it's really fastly falling.",
                    "corrected": "it's falling really fast.",
                    "explanation": "'Fastly' is an incorrect adverb; 'fast' should be used here to describe the speed of the action.",
                    "context": "Bitcoin and other cryptocurrencies are very volatile. They are falling really fast. People invest and then quickly lose money."
                },
                {
                    "original": "It's only investing to crypto coins, to Bitcoin, because some clients want to pay to the Bitcoins because they can't send money to another one ways.",
                    "corrected": "It's only investing in crypto coins, in Bitcoin, because some clients want to pay in Bitcoin since they can't send money through other means.",
                    "explanation": "Use 'investing in' instead of 'investing to' and 'in' instead of 'to' to indicate the way of payment.",
                    "context": "We only invest in Bitcoin. Some clients want to pay in Bitcoin since they can't send money through other means. This is a common situation."
                },
                {
                    "original": "if I could charge everybody with Bitcoin, I would certainly do that.",
                    "corrected": "if I could charge everyone in Bitcoin, I would definitely do that.",
                    "explanation": "Use 'everyone' instead of 'everybody' for a more formal tone and 'definitely' improves clarity.",
                    "context": "If it were possible, I would prefer to charge everyone in Bitcoin. I would definitely choose this option to avoid taxes."
                },
                {
                    "original": "the interesting thing is that husbands usually have stashes.",
                    "corrected": "the interesting thing is that husbands often have stashes.",
                    "explanation": "Use 'often' instead of 'usually' to convey frequency more naturally.",
                    "context": "In many families, husbands often have stashes to hide their money. This is a concept that many people can relate to."
                },
                {
                    "original": "A stash is a hidden place where you put all your money so that your wife can't find them.",
                    "corrected": "A stash is a hidden place where you keep all your money so that your wife can't find it.",
                    "explanation": "Change 'put' to 'keep' for better word choice and 'them' to 'it' for agreement.",
                    "context": "A stash is where you keep your money hidden, so your wife can't find it. It's a common secret in many relationships."
                },
                {
                    "original": "I need to spend one week to check every flashcard in his table.",
                    "corrected": "I need to spend one week checking every flashcard on his table.",
                    "explanation": "Use 'checking' instead of 'to check' for more natural phrasing and 'on' instead of 'in' for correct preposition use.",
                    "context": "I have a lot of work ahead. I need to spend one week checking every flashcard on his table. I suspect there's valuable information."
                },
                {
                    "original": "I have hard disk for saving photos with our son, and SSD disk for fastly copying them.",
                    "corrected": "I have a hard disk for saving photos of our son, and an SSD for copying them quickly.",
                    "explanation": "Include articles ('a', 'an') for proper structure and use 'quickly' for adverb placement.",
                    "context": "When it comes to storage, I have a hard disk for saving photos of our son. I also use an SSD for copying them quickly."
                },
                {
                    "original": "I will go to every daily meeting with this guy because he like meetings.",
                    "corrected": "I will go to every daily meeting with this guy because he likes meetings.",
                    "explanation": "Subject-verb agreement; use 'likes' instead of 'like.'",
                    "context": "In my new role, I will go to every daily meeting with this guy because he likes meetings. He seems to enjoy them a lot."
                },
                {
                    "original": "this guy have some moral problems and he thinking that He's rich for more poor country",
                    "corrected": "this guy has some moral problems and he thinks that he's rich for poorer countries.",
                    "explanation": "Subject-verb agreement; use 'has' and 'thinks.' 'Poorer' is the correct comparative form of 'poor.'",
                    "context": "I believe this guy has some moral problems. He thinks he's rich compared to poorer countries, but that's not the reality."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "he have... they are friends and my husband work with them like their own manager, but he don't want to spend time to be friend with some guys who will be bankrupted after few months.",
                    "corrected": "he has... they are friends and my husband works with them like their own manager, but he doesn't want to spend time to be friends with some guys who will go bankrupt after a few months.",
                    "explanation": "Subject-verb agreement is incorrect; 'have' should be 'has' and 'work' should be 'works.' 'Don't' should be 'doesn't' for third-person singular. Additionally, the phrase 'to be friend' should be 'to be friends,' and 'bankrupted' is incorrect; 'go bankrupt' is the proper phrase.",
                    "context": "My husband has a mix of clients who are also friends. He works with them like their own manager, but he doesn't want to waste time on guys who will go bankrupt in a short while."
                },
                {
                    "original": "I spent seven minutes for...",
                    "corrected": "I spent seven minutes on...",
                    "explanation": "'Spent... for' is not correct; it should be 'spent... on' to indicate what the time was spent doing.",
                    "context": "I realized too late that I needed to prepare for our lesson. I spent seven minutes on getting ready, but I didn't practice my English."
                },
                {
                    "original": "And it's really better than another one laptop.",
                    "corrected": "And it's really better than another laptop.",
                    "explanation": "'Another one laptop' is awkward; it should simply be 'another laptop.'",
                    "context": "I mentioned that this additional screen is great for multitasking. And it's really better than another laptop I've used."
                },
                {
                    "original": "Because you can use this screen like for movies while you're working.",
                    "corrected": "Because you can use this screen for movies while you're working.",
                    "explanation": "'Like for movies' is incorrect; it should be 'for movies' without 'like.'",
                    "context": "I like the functionality of this extra screen. Because you can use this screen for movies while you're working."
                },
                {
                    "original": "He married on his girlfriend.",
                    "corrected": "He married his girlfriend.",
                    "explanation": "'Married on' is incorrect; it should simply be 'married' without the preposition 'on.'",
                    "context": "In some cases, students get serious while they study. He married his girlfriend after their time together."
                },
                {
                    "original": "When I remember it, they forgot about this screen.",
                    "corrected": "When I remembered it, they had forgotten about this screen.",
                    "explanation": "Tense consistency issues arise here; 'remember' needs to be past tense, and 'forgot' should be 'had forgotten' to indicate past perfect.",
                    "context": "I didn't think much of the screen for a while. When I remembered it, they had forgotten about this screen, too."
                },
                {
                    "original": "It's not a really expensive thing.",
                    "corrected": "It's not really an expensive thing.",
                    "explanation": "The word order is incorrect; 'not really' should come before 'an expensive thing.'",
                    "context": "I mentioned the cost of the screen in passing. It's not really an expensive thing, considering its use."
                },
                {
                    "original": "Because I telegram on my notebook for closed.",
                    "corrected": "Because I had closed Telegram on my notebook.",
                    "explanation": "The phrase 'for closed' is incorrect; it should be 'had closed' in past perfect tense, and 'Telegram' needs capitalization as it is a proper noun.",
                    "context": "I panicked because of my message notifications. Because I had closed Telegram on my notebook, I couldn't check my messages."
                },
                {
                    "original": "It's better than speaking with Indian guys with an uncomfortable accent.",
                    "corrected": "It's better than speaking with Indian guys who have an uncomfortable accent.",
                    "explanation": "'With an uncomfortable accent' should be connected to 'who have' for clarity.",
                    "context": "I've had my share of experiences speaking English. It's better than speaking with Indian guys who have an uncomfortable accent."
                },
                {
                    "original": "Yes, Swedish guys are ugly.",
                    "corrected": "Yes, some Swedish guys are not very attractive.",
                    "explanation": "Using 'ugly' is very harsh; a softer phrase like 'not very attractive' would be more appropriate in this context.",
                    "context": "While discussing perceptions of different cultures, I remarked that yes, some Swedish guys are not very attractive."
                },
                {
                    "original": "Because when you see an ugly couple in the center of Riga in the summer, you can understand that they come to warming in Riga.",
                    "corrected": "Because when you see an unattractive couple in the center of Riga in the summer, you can understand that they came to warm up in Riga.",
                    "explanation": "'Ugly' should be replaced with 'unattractive' for a more nuanced expression, and 'come to warming' is incorrect; it should be 'came to warm up.'",
                    "context": "When talking about visiting Riga, I observed people's appearances. Because when you see an unattractive couple in the center of Riga in the summer, you can understand that they came to warm up in Riga."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": []
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Headphones",
                    "definition": "A device worn on or over the ears to listen to audio without disturbing others.",
                    "context": {
                        "Context 1": "I noticed my son playing with my small headphones while I was working.",
                        "Context 2": "She wears oversized headphones to block out the noise in her busy café.",
                        "Context 3": "The new model of headphones offers noise cancellation for better sound quality."
                    }
                },
                {
                    "word": "Avatar",
                    "definition": "A graphical representation of a user or the user's character in a digital environment.",
                    "context": {
                        "Context 1": "I spent one hour making a photo for my avatar for the online meeting.",
                        "Context 2": "In the video game, you can customize your avatar to look exactly how you want.",
                        "Context 3": "He chose a funny avatar for his profile to make people laugh."
                    }
                },
                {
                    "word": "CTO",
                    "definition": "Chief Technology Officer; an executive responsible for the technological direction of a company.",
                    "context": {
                        "Context 1": "The CTO expressed interest in personal relationships with employees, which was concerning.",
                        "Context 2": "Our company hired a new CTO to lead the technology team and innovate our products.",
                        "Context 3": "During the conference, the CTO shared his vision for future technological advancements."
                    }
                },
                {
                    "word": "Harassment",
                    "definition": "Aggressive pressure or intimidation, often in a sexual context.",
                    "context": {
                        "Context 1": "I shared my experiences with harassment in the tech industry, which made me feel uncomfortable.",
                        "Context 2": "The new policy aims to prevent harassment in the workplace through training sessions.",
                        "Context 3": "She filed a complaint about harassment after receiving unwanted advances from a colleague."
                    }
                },
                {
                    "word": "Condom",
                    "definition": "A barrier device used during sexual intercourse to reduce the probability of pregnancy and sexually transmitted infections.",
                    "context": {
                        "Context 1": "They even wrote a website for a condoms company, which was quite unusual.",
                        "Context 2": "It's important to use a condom to practice safe sex.",
                        "Context 3": "The teacher explained the importance of discussing condom use in health class."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "Practical contact with and observation of facts or events.",
                    "context": {
                        "Context 1": "Many people in the tech field have little real-life experience with relationships.",
                        "Context 2": "Her experience in the industry prepared her for the job interview.",
                        "Context 3": "Traveling can provide people with life-changing experiences."
                    }
                },
                {
                    "word": "Gold digger",
                    "definition": "A person (often a woman) who forms relationships with others mainly to obtain money.",
                    "context": {
                        "Context 1": "He worries that he might attract a gold digger if he becomes a successful developer.",
                        "Context 2": "After finding out about her intentions, he realized she was just a gold digger.",
                        "Context 3": "The movie depicted a gold digger who tried to marry into wealth."
                    }
                },
                {
                    "word": "Remote work",
                    "definition": "A work arrangement in which employees do not commute to a central place of work.",
                    "context": {
                        "Context 1": "I prefer remote work because it reduces distractions and adds flexibility.",
                        "Context 2": "Many companies have shifted to remote work models post-pandemic.",
                        "Context 3": "Her remote work schedule allows her to travel while staying productive."
                    }
                },
                {
                    "word": "Dildo",
                    "definition": "An object shaped like a penis, used for sexual pleasure.",
                    "context": {
                        "Context 1": "The conversation turned awkward when they discussed throwing dildos at targets.",
                        "Context 2": "She bought a new dildo for her personal collection.",
                        "Context 3": "The store specializes in various sexual wellness products, including dildos."
                    }
                },
                {
                    "word": "Nudes",
                    "definition": "Photographs of naked people, often shared for sexual purposes.",
                    "context": {
                        "Context 1": "In the past company, he published nudes shared by a colleague in work chats.",
                        "Context 2": "She received nudes from her boyfriend, which made her uncomfortable.",
                        "Context 3": "The artist is famous for her tasteful nudes that celebrate the human form."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Harassment",
                    "fact": "The term 'harassment' comes from the French word 'harasser,' which means to 'exhaust' or 'wear out!'"
                },
                {
                    "word": "Condom",
                    "fact": "Did you know that the first known use of condoms dates back to ancient Egypt, where they were made from animal bladders?"
                }
            ],
            "jokes": [
                {
                    "question": "Why don't programmers like nature?",
                    "answer": "It has too many bugs!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "It had too many bytes!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Cryptocurrency",
                    "definition": "A digital or virtual currency that uses cryptography for security.",
                    "context": {
                        "Context 1": "Many people are investing in cryptocurrency like Bitcoin for potential profits.",
                        "Context 2": "The store only accepts cryptocurrency as a method of payment.",
                        "Context 3": "He was surprised to learn that cryptocurrency could be used to buy real estate."
                    }
                },
                {
                    "word": "Scam",
                    "definition": "A dishonest scheme or fraud.",
                    "context": {
                        "Context 1": "Investing in unknown cryptocurrencies can often lead to scams.",
                        "Context 2": "She fell for a scam and lost all her savings.",
                        "Context 3": "The magazine featured a story about a scam involving fake art sales."
                    }
                },
                {
                    "word": "Stash",
                    "definition": "A hidden storage space for valuables.",
                    "context": {
                        "Context 1": "He hid his Bitcoin stash to keep it safe from his wife.",
                        "Context 2": "The pirate's stash was filled with gold coins and jewels.",
                        "Context 3": "I found a stash of old letters in my grandfather's attic."
                    }
                },
                {
                    "word": "Tax",
                    "definition": "A financial charge imposed by the government on individuals or businesses.",
                    "context": {
                        "Context 1": "Some people choose to use cryptocurrency to avoid paying taxes.",
                        "Context 2": "He felt overwhelmed by the complexity of tax laws.",
                        "Context 3": "Tax season is often stressful for many businesses."
                    }
                },
                {
                    "word": "Flash drive",
                    "definition": "A portable storage device for digital data.",
                    "context": {
                        "Context 1": "People often use their flash drive to store Bitcoin addresses securely.",
                        "Context 2": "Her flash drive was lost, and she panicked about the missing files.",
                        "Context 3": "He transferred the presentation to a new flash drive just before the meeting."
                    }
                },
                {
                    "word": "Nose",
                    "definition": "The part of the face used for smelling and breathing.",
                    "context": {
                        "Context 1": "She mentioned that her nose was running because she was sick.",
                        "Context 2": "The dog sniffed around, using his nose to explore the yard.",
                        "Context 3": "He broke his nose playing basketball."
                    }
                },
                {
                    "word": "Profile",
                    "definition": "A description of an individual or entity, often on social media.",
                    "context": {
                        "Context 1": "She created a new profile on Telegram for work purposes.",
                        "Context 2": "His online dating profile attracted a lot of attention.",
                        "Context 3": "The company’s profile included their mission and values."
                    }
                },
                {
                    "word": "Manager",
                    "definition": "A person responsible for controlling or administering an organization or group.",
                    "context": {
                        "Context 1": "She is acting as a manager for her husband's company during a meeting.",
                        "Context 2": "The manager organized the team's activities for the year.",
                        "Context 3": "A good manager knows how to motivate their team."
                    }
                },
                {
                    "word": "Assigned",
                    "definition": "To allocate a task or responsibility to someone.",
                    "context": {
                        "Context 1": "He was assigned to manage the project after his husband couldn’t take it.",
                        "Context 2": "She was assigned a seat next to the guest speaker.",
                        "Context 3": "The teacher assigned homework for the students to complete over the weekend."
                    }
                },
                {
                    "word": "Delegation",
                    "definition": "The act of assigning tasks or responsibilities to others.",
                    "context": {
                        "Context 1": "Her husband excels at delegation by distributing tasks among team members.",
                        "Context 2": "The delegation of tasks helped the group finish the project early.",
                        "Context 3": "Effective delegation can improve productivity in the workplace."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Scam",
                    "fact": "The word 'scam' is believed to be derived from 'scammary', a term used in 19th-century England to describe schemes of deceit!"
                },
                {
                    "word": "Flash drive",
                    "fact": "Did you know that the first USB flash drives were released in 1998 and had storage capacities of just 8 MB?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to the doctor?",
                    "answer": "Because it had a virus!"
                },
                {
                    "question": "What do you call a cryptocurrency that doesn’t work?",
                    "answer": "A scamcoin!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Bankrupt",
                    "definition": "A legal status of a person or organization that cannot repay the debts it owes to creditors.",
                    "context": {
                        "Context 1": "The business went bankrupt after failing to recover from the financial crisis.",
                        "Context 2": "She was concerned that investing in the stock market might cause her to go bankrupt.",
                        "Context 3": "After losing the competition, he humorously claimed he was bankrupt of ideas for the next one."
                    }
                },
                {
                    "word": "Manager",
                    "definition": "A person responsible for controlling or administering an organization or group of staff.",
                    "context": {
                        "Context 1": "Her husband is considering hiring a manager to oversee his projects.",
                        "Context 2": "The manager of the restaurant decided to change the menu to attract more customers.",
                        "Context 3": "The manager of the football team was praised for leading them to victory."
                    }
                },
                {
                    "word": "Kanteen",
                    "definition": "A place where food and drinks are served, typically in a school, workplace, or military facility.",
                    "context": {
                        "Context 1": "The students enjoyed the food at their university kanteen, where it was affordable.",
                        "Context 2": "After the hike, they visited the kanteen near the park for a refreshing drink.",
                        "Context 3": "The kanteen was bustling with activity during lunchtime, filled with hungry students."
                    }
                },
                {
                    "word": "Strategic",
                    "definition": "Relating to the identification of long-term or overall aims and interests and the means of achieving them.",
                    "context": {
                        "Context 1": "The decision to marry before moving for work was a strategic choice for the students.",
                        "Context 2": "His strategic planning helped the company achieve record profits this year.",
                        "Context 3": "The general devised a strategic approach to win the battle against the opposing forces."
                    }
                },
                {
                    "word": "Pedagogics",
                    "definition": "The art or science of teaching; education.",
                    "context": {
                        "Context 1": "He is studying pedagogics to become an English teacher.",
                        "Context 2": "The conference focused on new pedagogics to enhance student learning.",
                        "Context 3": "The novel’s protagonist was a pedagogics expert who used unconventional methods in the classroom."
                    }
                },
                {
                    "word": "Contagious",
                    "definition": "A condition that can be transmitted from one person to another.",
                    "context": {
                        "Context 1": "His enthusiasm for learning English was contagious, inspiring his classmates.",
                        "Context 2": "Laughter is often considered contagious, spreading joy in a group.",
                        "Context 3": "The flu is a contagious illness that spreads quickly in crowded places."
                    }
                },
                {
                    "word": "Screen",
                    "definition": "A flat panel used to display visual information.",
                    "context": {
                        "Context 1": "She uses an additional screen to watch movies while working.",
                        "Context 2": "The classroom was equipped with a large screen for presentations.",
                        "Context 3": "He bought a new gaming screen that enhances the graphics of his favorite games."
                    }
                },
                {
                    "word": "Accented",
                    "definition": "Having an accent, typically referring to the way someone pronounces words.",
                    "context": {
                        "Context 1": "He was worried about his accented English during the interview.",
                        "Context 2": "Her accented speech made her sound exotic and interesting to her friends.",
                        "Context 3": "The character in the movie had a charming accented voice that captivated the audience."
                    }
                },
                {
                    "word": "Cold",
                    "definition": "Having a low temperature, especially when compared to the temperature of the human body.",
                    "context": {
                        "Context 1": "They joked about how the Swedes looked cold in the summer heat.",
                        "Context 2": "The ice cream was so cold that it made her teeth ache.",
                        "Context 3": "He wore a jacket because he felt cold even when it was a sunny day."
                    }
                },
                {
                    "word": "Stupid",
                    "definition": "Lacking intelligence or common sense.",
                    "context": {
                        "Context 1": "She felt stupid for forgetting about the lesson.",
                        "Context 2": "The movie was so stupid that he couldn't stop laughing.",
                        "Context 3": "His stupid mistake cost him the game, but he learned from it."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Kanteen",
                    "fact": "The world’s largest kanteen is located at the JPL NASA facility, where they even serve space food!"
                },
                {
                    "word": "Strategic",
                    "fact": "The word 'strategic' comes from the Greek word 'strategia', which means 'generalship'—talk about a high-stakes job!"
                }
            ],
            "jokes": [
                {
                    "question": "What did one student say to another when they got caught sleeping in class?",
                    "answer": "I was practicing for my evening nap!"
                },
                {
                    "question": "Why did the teacher wear sunglasses to class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Spoil",
                    "definition": "To ruin or damage something.",
                    "context": {
                        "Context 1": "Don't spoil the surprise party by telling her about it.",
                        "Context 2": "The rain spoiled our picnic plans this weekend.",
                        "Context 3": "Too much information can spoil a good story."
                    }
                },
                {
                    "word": "Bonds",
                    "definition": "Connections or relationships between people.",
                    "context": {
                        "Context 1": "Family bonds are often the strongest ties a person can have.",
                        "Context 2": "Bonds can be strained during tough times but can also grow stronger.",
                        "Context 3": "Friendship bonds are essential for emotional support."
                    }
                },
                {
                    "word": "Drink",
                    "definition": "To take in liquid through the mouth.",
                    "context": {
                        "Context 1": "I always drink water first thing in the morning.",
                        "Context 2": "She prefers to drink her coffee black without any sugar.",
                        "Context 3": "When he was sad, he would drink tea to calm himself down."
                    }
                },
                {
                    "word": "Milk",
                    "definition": "A white liquid produced by mammals, often consumed as a beverage.",
                    "context": {
                        "Context 1": "Adding milk to your tea can make it creamier.",
                        "Context 2": "Cows are the most common source of milk for human consumption.",
                        "Context 3": "Some people are lactose intolerant and cannot digest milk properly."
                    }
                },
                {
                    "word": "Guess",
                    "definition": "To make an estimate or judgment without sufficient information.",
                    "context": {
                        "Context 1": "I can only guess what the surprise is based on your hints.",
                        "Context 2": "He couldn’t guess the answer to the riddle at all.",
                        "Context 3": "She learned to guess the weather based on the clouds."
                    }
                },
                {
                    "word": "See",
                    "definition": "To perceive with the eyes; to look at.",
                    "context": {
                        "Context 1": "I hope to see you at the event next week.",
                        "Context 2": "You can see the mountains clearly from my porch.",
                        "Context 3": "Some people just don’t see the beauty in simple things."
                    }
                },
                {
                    "word": "Nice",
                    "definition": "Pleasant or agreeable; good.",
                    "context": {
                        "Context 1": "Have a nice day and take care!",
                        "Context 2": "It was nice to meet you at the conference yesterday.",
                        "Context 3": "He made a nice dinner reservation for their anniversary."
                    }
                },
                {
                    "word": "Day",
                    "definition": "A period of 24 hours as a unit of time.",
                    "context": {
                        "Context 1": "Today is a beautiful day with sunny skies.",
                        "Context 2": "She plans to spend the entire day reading at home.",
                        "Context 3": "A day of rest can recharge your energy completely."
                    }
                },
                {
                    "word": "Bye",
                    "definition": "A casual way of saying goodbye.",
                    "context": {
                        "Context 1": "I waved goodbye as I left the party.",
                        "Context 2": "He said bye before rushing off to catch his bus.",
                        "Context 3": "A quick bye ended our short phone call."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Spoil",
                    "fact": "When food spoils, it often emits a smell so strong that you would think it was trying to communicate with you!"
                },
                {
                    "word": "Milk",
                    "fact": "In the ancient Maldives, it is said that people drank coconut milk straight from a whale – talk about a tall tale!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the milk go to the party?",
                    "answer": "Because it heard it was going to be a 'moo'-ving experience!"
                },
                {
                    "question": "Why did the tomato turn red?",
                    "answer": "Because it saw the salad dressing!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "**Person 1**": "Hey, have you seen my old headphones? I think my kid was playing with them again."
                },
                {
                    "**Person 2**": "Oh no! Kids love messing with stuff like that. What did he do this time?"
                },
                {
                    "**Person 1**": "He tried to pull off the silicone parts. I’m lucky he didn’t break them."
                },
                {
                    "**Person 2**": "That reminds me of when my sister was in middle school. She had these huge headphones that made her look like a DJ!"
                },
                {
                    "**Person 1**": "Haha, yeah! I spent a whole hour one day trying to get a good photo for my work avatar."
                },
                {
                    "**Person 2**": "For a job application or something?"
                },
                {
                    "**Person 1**": "Yeah, my husband suggested I look professional since I might work with some Swedish company."
                },
                {
                    "**Person 2**": "Nice! But did you have to get all dressed up for the picture?"
                },
                {
                    "**Person 1**": "Well, kind of. The CTO there has a weird reputation with personal relationships."
                },
                {
                    "**Person 2**": "Oh, really? You mean he’s one of those guys?"
                },
                {
                    "**Person 1**": "Yeah, he's known for being inappropriate. My husband said they even had some drama with past employees."
                },
                {
                    "**Person 2**": "Yikes! Sounds like a minefield to navigate."
                },
                {
                    "**Person 1**": "Right? That's why I'm more comfortable working remotely now. Less drama!"
                },
                {
                    "**Person 2**": "Totally! Plus, you can work in your pajamas!"
                },
                {
                    "**Person 1**": "Exactly! I remember my last office had mostly young guys, all in their early twenties."
                },
                {
                    "**Person 2**": "Oh boy, I can imagine how that went down. They probably acted like kids."
                },
                {
                    "**Person 1**": "Totally! They once joked about me behind my back. It was so immature."
                },
                {
                    "**Person 2**": "Isn’t that just so typical? I feel like tech companies can be so unprofessional sometimes."
                },
                {
                    "**Person 1**": "Yeah, not all of them, but a lot of the younger crowd seems to lack respect."
                },
                {
                    "**Person 2**": "It's a shame! You’d think working in tech would attract more diverse professionals."
                },
                {
                    "**Person 1**": "True! And let’s be honest, not every girl in tech is a model. People just need to be more accepting."
                },
                {
                    "**Person 2**": "Exactly! It just drives me nuts when people act like looks matter in this field."
                },
                {
                    "**Person 1**": "Agreed. I hope to see more changes in the industry soon."
                },
                {
                    "**Person 2**": "For sure! And who knows, eventually it might become a better working environment for everyone."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going today?"
                },
                {
                    "Person 2": "Not too bad! Just dealing with a bit of a cold. What about you?"
                },
                {
                    "Person 1": "Same here! I think I caught something from the office. I spent an hour on makeup today, and now I feel all stuffy."
                },
                {
                    "Person 2": "Ugh, that’s the worst! You spend all that time and then feel sick. Did you at least have a good reason for dressing up?"
                },
                {
                    "Person 1": "Yeah, I was updating my profile for this project manager role. My husband wants me to help out with his company."
                },
                {
                    "Person 2": "That's cool! So, you're stepping into the workplace a bit?"
                },
                {
                    "Person 1": "Just a little! I’ll be handling some meetings since my husband doesn't want to deal with his client’s crazy demands."
                },
                {
                    "Person 2": "Sounds like a good plan. I mean, why deal with an idiot when you can let someone else take care of it?"
                },
                {
                    "Person 1": "Exactly! This guy is always piling on more work, thinking one person can handle it all."
                },
                {
                    "Person 2": "Oh man, I’ve seen that happen. They just don’t understand how much work it is."
                },
                {
                    "Person 1": "Right? And when things go wrong, they blame everyone else!"
                },
                {
                    "Person 2": "Classic! So, are you nervous about the meetings?"
                },
                {
                    "Person 1": "A little! But mostly I just want to make sure I can keep everything organized and calm."
                },
                {
                    "Person 2": "You’ll do great! You’re always so good at that. Plus, you can always make it a team effort."
                },
                {
                    "Person 1": "Thanks! I hope so. I’ve just got to keep my cool, even with this cold."
                },
                {
                    "Person 2": "Totally! Just drink some tea and maybe get some rest before the meetings."
                },
                {
                    "Person 1": "Good idea! I might just do that. Let’s catch up later?"
                },
                {
                    "Person 2": "Absolutely! Feel better soon!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, did you hear about that new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah! I drove by it the other day. It looks really nice. Have you been there yet?"
                },
                {
                    "Person 1": "Not yet, but I’m planning to check it out this weekend. I heard their lattes are amazing."
                },
                {
                    "Person 2": "Oh, I love a good latte. What do you think about grabbing a coffee together?"
                },
                {
                    "Person 1": "That sounds great! How about Saturday morning?"
                },
                {
                    "Person 2": "Perfect! I can’t wait to try their pastries, too. I heard they're fresh every day."
                },
                {
                    "Person 1": "Nice! Do you think we should invite Mark? He loves coffee shops."
                },
                {
                    "Person 2": "Definitely! The more, the merrier. I’ll send him a text."
                },
                {
                    "Person 1": "Awesome! If we make it a little treat, maybe we can get brunch afterward?"
                },
                {
                    "Person 2": "Yes! If we find a good place, I’m all in for brunch."
                },
                {
                    "Person 1": "Sweet! I'll look up some places we can hit after coffee."
                },
                {
                    "Person 2": "Sounds like a plan! I’m looking forward to Saturday."
                },
                {
                    "Person 1": "Me too! It'll be fun to catch up and enjoy some great coffee."
                },
                {
                    "Person 2": "Exactly! Let’s make it a little adventure."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How’s your day going so far?"
                },
                {
                    "Person 2": "Not too bad! Just enjoying some coffee. How about you?"
                },
                {
                    "Person 1": "Same here! I just made a latte. Trying to stay awake, you know?"
                },
                {
                    "Person 2": "I hear you! Sometimes I feel like I need a million cups just to function."
                },
                {
                    "Person 1": "Right? Yesterday I had a crazy long meeting, and all I could think was, 'Where’s my coffee?'"
                },
                {
                    "Person 2": "I bet! Long meetings can be so draining. What do you do to keep it interesting?"
                },
                {
                    "Person 1": "I try to take little notes, so I can at least feel productive. Plus, it helps me stay focused."
                },
                {
                    "Person 2": "That's smart! I usually just doodle in my notebook. It keeps my mind from wandering too much."
                },
                {
                    "Person 1": "Haha, that’s a good idea! I might start doing that. Do you ever share your doodles?"
                },
                {
                    "Person 2": "Sometimes, but only with close friends. They think it's hilarious. What about you?"
                },
                {
                    "Person 1": "I keep them to myself mostly, but I should probably share them for fun."
                },
                {
                    "Person 2": "Absolutely! I bet your friends would love it. So, any big plans for the weekend?"
                },
                {
                    "Person 1": "I’m thinking about hitting the trails for a hike. How about you?"
                },
                {
                    "Person 2": "That sounds awesome! I might just relax at home or maybe catch a movie."
                },
                {
                    "Person 1": "Sounds like a good plan! Enjoy your weekend, whatever you decide to do!"
                },
                {
                    "Person 2": "Thanks! You too! Let’s catch up next week."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
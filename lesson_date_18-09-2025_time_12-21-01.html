<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I say it because confidence where does it say in the text?",
                    "corrected": "I say it because of confidence. Where does it say in the text?",
                    "explanation": "The phrase 'because confidence' is missing a preposition; it should be 'because of confidence.'",
                    "context": "When discussing the text, I mentioned confidence as a key point. I say it because of confidence. Where does it say in the text?"
                },
                {
                    "original": "So it will be middle part?",
                    "corrected": "So it will be the middle part?",
                    "explanation": "The definite article 'the' is needed before 'middle part' to specify which part is being referred to.",
                    "context": "We are trying to locate the relevant section in the text. So it will be the middle part? We need to find the mention of four characteristics."
                },
                {
                    "original": "Degree is just... let's say you graduate from university, they give you degree of...",
                    "corrected": "Degree is just... let's say you graduate from university, they give you a degree of...",
                    "explanation": "The article 'a' is missing before 'degree'; it should specify that it is one degree.",
                    "context": "While explaining the concept of a degree, I said, 'Degree is just... let's say you graduate from university, they give you a degree of...'"
                },
                {
                    "original": "If we put the word confidence there, it will be important to have a certain degree of confidence... in the degree of our knowledge, in the boundaries of our knowledge.",
                    "corrected": "If we put the word confidence there, it will be important to have a certain degree of confidence in the boundaries of our knowledge.",
                    "explanation": "The phrase 'in the degree of our knowledge' is redundant; it should focus on the boundaries of knowledge.",
                    "context": "I was discussing how confidence relates to knowledge. If we put the word confidence there, it will be important to have a certain degree of confidence in the boundaries of our knowledge."
                },
                {
                    "original": "But will it sound good to have a certain degree of objectivity regarding the extent of our knowledge?",
                    "corrected": "But will it sound good to have a certain degree of objectivity regarding the boundaries of our knowledge?",
                    "explanation": "The term 'extent' is less commonly used in this context; 'boundaries' is more appropriate.",
                    "context": "In our discussion about knowledge, I questioned the appropriateness of the term used. But will it sound good to have a certain degree of objectivity regarding the boundaries of our knowledge?"
                },
                {
                    "original": "There is not a lot of context that can help us get that.",
                    "corrected": "There is not a lot of context that can help us understand that.",
                    "explanation": "The verb 'get' is informal; 'understand' is more appropriate in this context.",
                    "context": "While discussing the difficulty of understanding certain concepts, I noted, 'There is not a lot of context that can help us understand that.'"
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "The order is incorrect.",
                    "corrected": "The order is incorrect.",
                    "explanation": "This sentence is correct, but it lacks context.",
                    "context": "We were discussing the ideas presented in the text. The order is incorrect. It seems like they mixed it up."
                },
                {
                    "original": "Different attitudes, it means like others, people.",
                    "corrected": "Different attitudes mean that people are diverse.",
                    "explanation": "The phrase 'it means like others, people' is awkward; it should be rephrased for clarity.",
                    "context": "We were analyzing the text's themes. Different attitudes mean that people are diverse. This is important for understanding social relations."
                },
                {
                    "original": "But we still are able, there are only four of them.",
                    "corrected": "But we are still able to locate them; there are only four of them.",
                    "explanation": "The original sentence structure is awkward; it should be more fluid.",
                    "context": "After identifying the mixed ideas, I noted that we are still able to locate them; there are only four of them."
                },
                {
                    "original": "I don't know what means issue at hand.",
                    "corrected": "I don't know what 'issue at hand' means.",
                    "explanation": "The phrase 'what means' is incorrect; it should be 'what...means.'",
                    "context": "While discussing the text, I expressed confusion. I don't know what 'issue at hand' means. I need clarity on this term."
                },
                {
                    "original": "So, how to convey this?",
                    "corrected": "So, how can we convey this?",
                    "explanation": "The phrase 'how to convey this' is missing a subject; it should include 'can we.'",
                    "context": "We were trying to clarify the meaning of a sentence. So, how can we convey this? There are options for interpretation."
                },
                {
                    "original": "Yes, that is, you need to appreciate what.",
                    "corrected": "Yes, that is, you need to appreciate what you have.",
                    "explanation": "The original sentence is incomplete; it lacks a clear object.",
                    "context": "In discussing the concept of preciousness, I noted that yes, that is, you need to appreciate what you have."
                },
                {
                    "original": "The reality of the possibilities of social changes is also a key.",
                    "corrected": "The reality of the possibilities of social change is also key.",
                    "explanation": "The phrase 'social changes' should be singular for clarity, and 'a key' is awkward; it should be 'key.'",
                    "context": "We were discussing important factors in social relations. The reality of the possibilities of social change is also key."
                },
                {
                    "original": "This is a very common phrase.",
                    "corrected": "This is a very common phrase.",
                    "explanation": "This sentence is correct, but it lacks context.",
                    "context": "In our conversation, I pointed out that this is a very common phrase. It appears in both academic and everyday speech."
                },
                {
                    "original": "That is, not something specific physical, but something blurred.",
                    "corrected": "That is, not something physically specific, but something abstract.",
                    "explanation": "The phrase 'specific physical' is awkward; it should be 'physically specific,' and 'blurred' is not the best choice here.",
                    "context": "We were discussing the meaning of 'key' in context. That is, not something physically specific, but something abstract."
                },
                {
                    "original": "Yes, but not very formulated.",
                    "corrected": "Yes, but it's not very well-formulated.",
                    "explanation": "The phrase 'not very formulated' is awkward; it should include 'well' for clarity.",
                    "context": "In response to a point made, I said yes, but it's not very well-formulated. The ideas need clearer expression."
                },
                {
                    "original": "Yes, but not very formulated.",
                    "corrected": "Yes, but it's not very well-formulated.",
                    "explanation": "The phrase 'not very formulated' is awkward; it should include 'well' for clarity.",
                    "context": "In response to a point made, I said yes, but it's not very well-formulated. The ideas need clearer expression."
                },
                {
                    "original": "So, Vera, what did you look at or read in English last?",
                    "corrected": "So, Vera, what did you read in English last?",
                    "explanation": "The phrase 'look at or read' is redundant; it should just be 'read.'",
                    "context": "I wanted to know about Vera's recent activities. So, Vera, what did you read in English last? I'm curious about her experience."
                },
                {
                    "original": "The same thing, yes, that is, when we take some skill, it is clear that the more experience in this, the easier it becomes.",
                    "corrected": "It's the same with any skill; the more experience you have, the easier it becomes.",
                    "explanation": "The original sentence is overly complicated and awkward; it should be simplified.",
                    "context": "We were discussing the importance of practice. It's the same with any skill; the more experience you have, the easier it becomes."
                },
                {
                    "original": "When we want to improve our listening, we need to listen more.",
                    "corrected": "To improve our listening, we need to listen more.",
                    "explanation": "The phrase 'when we want to improve' is unnecessarily wordy; it can be simplified.",
                    "context": "I was sharing tips on language learning. To improve our listening, we need to listen more. It's a straightforward approach."
                },
                {
                    "original": "I was always much more of a listener than a reader.",
                    "corrected": "I have always been much more of a listener than a reader.",
                    "explanation": "The tense should be present perfect to indicate a continuous state.",
                    "context": "Reflecting on my learning style, I said I have always been much more of a listener than a reader. It shaped my language acquisition."
                },
                {
                    "original": "At that point, I didn't read any English books, I didn't read anything in English, in general.",
                    "corrected": "At that point, I didn't read any English books; I didn't read anything in English, in general.",
                    "explanation": "A semicolon is needed to separate two independent clauses.",
                    "context": "Looking back, I noted that at that point, I didn't read any English books; I didn't read anything in English, in general."
                },
                {
                    "original": "And after you have been reading a lot of academic texts, when you go back to that, it all suddenly starts making much more sense.",
                    "corrected": "After you have read a lot of academic texts, going back to that suddenly makes much more sense.",
                    "explanation": "The original sentence is overly complex; it should be simplified for clarity.",
                    "context": "I shared my experience with academic texts. After you have read a lot of academic texts, going back to that suddenly makes much more sense."
                },
                {
                    "original": "All of a sudden you start understanding it much quicker, and many words start making more, like it becomes much, much easier.",
                    "corrected": "Suddenly, you start understanding it much quicker, and many words begin to make more sense; it becomes much easier.",
                    "explanation": "The phrase 'start making more, like it becomes' is awkward; it should be rephrased for clarity.",
                    "context": "I explained the benefits of reading. Suddenly, you start understanding it much quicker, and many words begin to make more sense; it becomes much easier."
                },
                {
                    "original": "Okay, we can do it faster, yeah, I can teach you how to do it faster, how to locate words in the text, how to kind of guess which word is correct or not, but of course the most effective practice is practicing.",
                    "corrected": "Okay, we can do it faster. I can teach you how to locate words in the text and guess which word is correct, but of course, the most effective practice is practicing.",
                    "explanation": "The original sentence is too long and convoluted; it should be broken into shorter sentences for clarity.",
                    "context": "I was discussing strategies for improving language skills. Okay, we can do it faster. I can teach you how to locate words in the text and guess which word is correct, but of course, the most effective practice is practicing."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "different phrase, that means that.",
                    "corrected": "different phrase, which means that.",
                    "explanation": "'That' is incorrect here; 'which' should be used to introduce a non-restrictive clause.",
                    "context": "When discussing synonyms, I mentioned a different phrase. I meant to say a different phrase, which means that. This helps clarify the connection."
                },
                {
                    "original": "which is synonym to the word.",
                    "corrected": "which is a synonym for the word.",
                    "explanation": "The article 'a' is missing, and 'for' is the correct preposition to use with 'synonym.'",
                    "context": "We were discussing synonyms in the text. I suggested opinions, which is a synonym for the word attitudes. This helps in understanding the text better."
                },
                {
                    "original": "broad problems.",
                    "corrected": "broad issues.",
                    "explanation": "'Problems' is not the best collocation with 'broad'; 'issues' fits better in this context.",
                    "context": "In our discussion about vocabulary, I suggested broad problems. However, broad issues would be a more appropriate term to use."
                },
                {
                    "original": "to look from a third-part expression.",
                    "corrected": "to look from a third-party perspective.",
                    "explanation": "'Third-part' is incorrect; it should be 'third-party,' which is the correct term.",
                    "context": "We were analyzing how to view scenarios. I initially said to look from a third-part expression, but it should be to look from a third-party perspective."
                },
                {
                    "original": "we focus more on.",
                    "corrected": "we focus on.",
                    "explanation": "The phrase 'more on' is unnecessary; 'focus on' is sufficient.",
                    "context": "During our analysis, I mentioned what we focus more on. It would be clearer to say what we focus on."
                },
                {
                    "original": "what is justice? what is justice? what is justice?",
                    "corrected": "What is justice?",
                    "explanation": "Repetition of the question is unnecessary; one question suffices.",
                    "context": "As we discussed synonyms for justice, I kept asking what is justice? I should have asked it just once to keep the conversation flowing."
                },
                {
                    "original": "the thing is that we need to do it much faster.",
                    "corrected": "The thing is, we need to do it much faster.",
                    "explanation": "A comma is needed after 'the thing is' to separate the clauses correctly.",
                    "context": "After completing the task, I remarked that the thing is that we need to do it much faster. This emphasizes the urgency of improving our pace."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "the narrower they are the more likely we are to choose to pick the right option",
                    "corrected": "the narrower they are, the more likely we are to pick the right option",
                    "explanation": "The phrase 'to choose to pick' is redundant; 'pick' alone suffices. Additionally, a comma is needed before 'the more likely' for clarity.",
                    "context": "We need to focus on narrowing down our options. The narrower they are, the more likely we are to pick the right option. This will help us make better decisions."
                },
                {
                    "original": "you need to do three and you need to pitch them very quickly to me",
                    "corrected": "you need to do three, and you need to pitch them to me very quickly",
                    "explanation": "The placement of 'very quickly' at the end of the sentence improves clarity. A comma is also needed before 'and' for proper punctuation.",
                    "context": "I want you to complete the task efficiently. You need to do three, and you need to pitch them to me very quickly. This will keep our session on track."
                },
                {
                    "original": "I'm so glad that it's not Zoom I'm so glad that it's finally Google Meet",
                    "corrected": "I'm so glad that it's not Zoom; I'm so glad that it's finally Google Meet.",
                    "explanation": "The two independent clauses should be separated by a semicolon or a period to avoid a run-on sentence.",
                    "context": "I prefer using Google Meet over Zoom for our lessons. I'm so glad that it's not Zoom; I'm so glad that it's finally Google Meet. It feels more comfortable."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Confidence",
                    "definition": "The feeling or belief that one can rely on someone or something; firm trust.",
                    "context": {
                        "Context 1": "In the lesson, the student incorrectly suggested that 'confidence' was a characteristic mentioned in the text.",
                        "Context 2": "She approached the interview with great confidence, knowing she was well-prepared.",
                        "Context 3": "His confidence in his cooking skills led him to enter the competition."
                    }
                },
                {
                    "word": "Humility",
                    "definition": "A modest or low view of one's own importance; humbleness.",
                    "context": {
                        "Context 1": "The lesson explained that humility is the recognition of the limits of our own knowledge.",
                        "Context 2": "Despite her success, she maintained a sense of humility and was always willing to learn from others.",
                        "Context 3": "His humility was evident when he credited his team for the project's success."
                    }
                },
                {
                    "word": "Intellectual",
                    "definition": "Relating to the intellect; involving the use of the mind.",
                    "context": {
                        "Context 1": "The lesson discussed 'intellectual humility' as a key characteristic.",
                        "Context 2": "She enjoyed engaging in intellectual debates about philosophy and science.",
                        "Context 3": "The book was filled with intellectual challenges that stimulated critical thinking."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "The lesson mentioned the importance of appreciating different perspectives.",
                        "Context 2": "From her perspective, the project was a success despite the challenges faced.",
                        "Context 3": "The artist's unique perspective brought a fresh look to traditional themes."
                    }
                },
                {
                    "word": "Modesty",
                    "definition": "The quality of not being too proud or confident about oneself.",
                    "context": {
                        "Context 1": "The lesson highlighted that modesty is similar to humility.",
                        "Context 2": "His modesty prevented him from boasting about his achievements.",
                        "Context 3": "She wore a modest dress to the formal event."
                    }
                },
                {
                    "word": "Objectivity",
                    "definition": "The quality of being objective; not influenced by personal feelings or opinions.",
                    "context": {
                        "Context 1": "The lesson suggested that objectivity is important when assessing our knowledge.",
                        "Context 2": "As a journalist, she prided herself on her objectivity in reporting the news.",
                        "Context 3": "In science, objectivity is crucial for conducting unbiased experiments."
                    }
                },
                {
                    "word": "Integration",
                    "definition": "The process of combining or coordinating different elements into a unified whole.",
                    "context": {
                        "Context 1": "The lesson mentioned integration of different perspectives as a key characteristic.",
                        "Context 2": "The integration of technology in the classroom has transformed education.",
                        "Context 3": "The city's integration of public transport systems improved accessibility for residents."
                    }
                },
                {
                    "word": "Compromise",
                    "definition": "An agreement or settlement of a dispute that is reached by each side making concessions.",
                    "context": {
                        "Context 1": "The lesson indicated that compromise is essential in social relations.",
                        "Context 2": "After hours of negotiation, both parties reached a compromise that satisfied everyone.",
                        "Context 3": "In a relationship, compromise is often necessary to maintain harmony."
                    }
                },
                {
                    "word": "Sensitivity",
                    "definition": "The quality of being sensitive; the ability to perceive and respond to the feelings of others.",
                    "context": {
                        "Context 1": "The lesson referred to sensitivity in social relations as a key factor.",
                        "Context 2": "Her sensitivity to others' emotions made her a great counselor.",
                        "Context 3": "The sensitivity of the equipment required careful handling."
                    }
                },
                {
                    "word": "Extent",
                    "definition": "The area covered by something; the degree to which something is the case.",
                    "context": {
                        "Context 1": "The lesson discussed the extent of our knowledge regarding certain topics.",
                        "Context 2": "The extent of the damage from the storm was not fully realized until the next day.",
                        "Context 3": "He was surprised by the extent of her knowledge on the subject."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Confidence",
                    "fact": "Did you know that some people have so much confidence that they believe they can sing like Beyoncé in the shower?"
                },
                {
                    "word": "Humility",
                    "fact": "In some cultures, humility is so valued that people will downplay their achievements even when they’ve won a Nobel Prize!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Issue at hand",
                    "definition": "The current problem or topic being discussed.",
                    "context": {
                        "Context 1": "The issue at hand is how to improve communication in the team.",
                        "Context 2": "During the meeting, they discussed the issue at hand, which was the new marketing strategy.",
                        "Context 3": "The issue at hand for the chef was whether to use fresh or frozen ingredients."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude or way of considering something.",
                    "context": {
                        "Context 1": "From her perspective, the project was a success despite the challenges.",
                        "Context 2": "He changed his perspective after traveling to different countries.",
                        "Context 3": "The artist's perspective on life is reflected in her paintings."
                    }
                },
                {
                    "word": "Key factor",
                    "definition": "An important element that contributes to a result.",
                    "context": {
                        "Context 1": "A key factor in the project's success was teamwork.",
                        "Context 2": "The key factor in winning the game was their strong defense.",
                        "Context 3": "A key factor in baking a cake is the right temperature."
                    }
                },
                {
                    "word": "Compromise",
                    "definition": "An agreement reached by each side making concessions.",
                    "context": {
                        "Context 1": "They reached a compromise that satisfied both parties.",
                        "Context 2": "In order to finish the project, they had to compromise on some details.",
                        "Context 3": "The couple decided to compromise on their vacation destination."
                    }
                },
                {
                    "word": "Belief",
                    "definition": "An acceptance that something exists or is true, especially without proof.",
                    "context": {
                        "Context 1": "Her belief in the importance of education motivated her to study harder.",
                        "Context 2": "Many people hold the belief that exercise is essential for good health.",
                        "Context 3": "His belief in ghosts made him reluctant to enter the old house."
                    }
                },
                {
                    "word": "Intellectual humility",
                    "definition": "The recognition that one's knowledge is limited and the willingness to learn from others.",
                    "context": {
                        "Context 1": "Intellectual humility allows for open discussions and learning from different viewpoints.",
                        "Context 2": "A scientist's intellectual humility can lead to groundbreaking discoveries.",
                        "Context 3": "Her intellectual humility made her a great mentor to her students."
                    }
                },
                {
                    "word": "Sensitivity",
                    "definition": "The quality of being sensitive; the ability to perceive and respond to the feelings of others.",
                    "context": {
                        "Context 1": "His sensitivity to others' emotions made him a great friend.",
                        "Context 2": "Sensitivity to cultural differences is important in international business.",
                        "Context 3": "The sensitivity of the equipment required careful handling."
                    }
                },
                {
                    "word": "Wider",
                    "definition": "Having a greater extent or range; broader.",
                    "context": {
                        "Context 1": "The discussion needs a wider perspective to include all viewpoints.",
                        "Context 2": "The river is wider at this point than it is upstream.",
                        "Context 3": "She has a wider variety of books in her collection than anyone else."
                    }
                },
                {
                    "word": "Recognition",
                    "definition": "The acknowledgment of something's existence, validity, or legality.",
                    "context": {
                        "Context 1": "The recognition of her hard work was celebrated at the awards ceremony.",
                        "Context 2": "His recognition of the problem helped to resolve the conflict.",
                        "Context 3": "The recognition of the painting's value surprised the artist."
                    }
                },
                {
                    "word": "Integration",
                    "definition": "The process of combining or coordinating different elements into a unified whole.",
                    "context": {
                        "Context 1": "The integration of technology in the classroom has improved learning outcomes.",
                        "Context 2": "Integration of different cultures can enrich a community.",
                        "Context 3": "The integration of flavors in the dish created a unique taste."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Perspective",
                    "fact": "Did you know that the word 'perspective' comes from the Latin 'perspectivus,' which means 'to look through'?"
                },
                {
                    "word": "Compromise",
                    "fact": "In ancient Rome, a compromise was often reached by flipping a coin—guess that’s where the phrase 'heads or tails' comes from!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Intuition",
                    "definition": "The ability to understand something instinctively, without the need for conscious reasoning.",
                    "context": {
                        "Context 1": "In the lesson, we discussed how we always need to rely on our intuition when interpreting texts.",
                        "Context 2": "Her intuition told her that something was wrong, even though she had no evidence.",
                        "Context 3": "He used his intuition to choose the right path in the forest."
                    }
                },
                {
                    "word": "Synonym",
                    "definition": "A word or phrase that means exactly or nearly the same as another word or phrase.",
                    "context": {
                        "Context 1": "We found a synonym for 'attitudes' during the lesson.",
                        "Context 2": "In the thesaurus, 'happy' has many synonyms like 'joyful' and 'content'.",
                        "Context 3": "The teacher asked us to write a synonym for 'fast' on the board."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "We talked about looking at scenarios from a third-party perspective in the lesson.",
                        "Context 2": "From her perspective, the movie was a masterpiece, but others disagreed.",
                        "Context 3": "He changed his perspective after traveling to different countries."
                    }
                },
                {
                    "word": "Collocate",
                    "definition": "To occur together or in a specific combination.",
                    "context": {
                        "Context 1": "The lesson emphasized how 'broad' collocates with 'view' but not with 'range'.",
                        "Context 2": "In English, 'make' often collocates with 'a decision'.",
                        "Context 3": "Certain adjectives collocate with specific nouns, like 'strong' with 'coffee'."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event, statement, or idea.",
                    "context": {
                        "Context 1": "Understanding the context of a text is crucial for comprehension, as we discussed in class.",
                        "Context 2": "Without context, the joke didn't make any sense.",
                        "Context 3": "The historical context of the painting adds depth to its meaning."
                    }
                },
                {
                    "word": "Impartiality",
                    "definition": "The principle of not being biased or having favoritism.",
                    "context": {
                        "Context 1": "We explored the concept of impartiality in moral agency during the lesson.",
                        "Context 2": "Judges are expected to maintain impartiality in their rulings.",
                        "Context 3": "Impartiality is essential in journalism to ensure fair reporting."
                    }
                },
                {
                    "word": "Agency",
                    "definition": "The capacity of individuals to act independently and make their own choices.",
                    "context": {
                        "Context 1": "We discussed personal and moral agency in the context of decision-making.",
                        "Context 2": "The agency of the characters in the story drove the plot forward.",
                        "Context 3": "She felt a sense of agency when she started her own business."
                    }
                },
                {
                    "word": "Beliefs",
                    "definition": "An acceptance that something exists or is true, especially without proof.",
                    "context": {
                        "Context 1": "We identified beliefs as synonymous with opinions during the lesson.",
                        "Context 2": "His beliefs about the environment motivated him to become an activist.",
                        "Context 3": "Cultural beliefs can shape a community's traditions and values."
                    }
                },
                {
                    "word": "Modesty",
                    "definition": "The quality of being modest; not boastful or arrogant.",
                    "context": {
                        "Context 1": "Intellectual humility was described as a form of modesty in the lesson.",
                        "Context 2": "Her modesty made her reluctant to accept compliments.",
                        "Context 3": "He wore modest clothing to the formal event."
                    }
                },
                {
                    "word": "Compromise",
                    "definition": "An agreement or settlement of a dispute that is reached by each side making concessions.",
                    "context": {
                        "Context 1": "We talked about how different attitudes may require compromise in discussions.",
                        "Context 2": "The two countries reached a compromise to end the trade war.",
                        "Context 3": "In relationships, compromise is often necessary for harmony."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Intuition",
                    "fact": "Did you know that some people claim to have 'gut feelings' that are often surprisingly accurate? Maybe our stomachs are smarter than we think!"
                },
                {
                    "word": "Perspective",
                    "fact": "The word 'perspective' comes from the Latin 'perspectiva', which means 'to look through.' So, next time you look through a window, remember you're using perspective!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Locate",
                    "definition": "To find or discover the exact position of something.",
                    "context": {
                        "Context 1": "In the lesson, we learned how to locate the correct answers quickly.",
                        "Context 2": "I need to locate my keys before I leave the house.",
                        "Context 3": "The treasure map will help us locate the hidden chest."
                    }
                },
                {
                    "word": "Narrow down",
                    "definition": "To reduce the number of options or possibilities.",
                    "context": {
                        "Context 1": "We should narrow down our options to make a better decision.",
                        "Context 2": "She had to narrow down her choices for the vacation destination.",
                        "Context 3": "The detective worked hard to narrow down the list of suspects."
                    }
                },
                {
                    "word": "Options",
                    "definition": "Choices or alternatives available in a particular situation.",
                    "context": {
                        "Context 1": "The lesson emphasized the importance of having multiple options.",
                        "Context 2": "I have several options for dinner: pizza, sushi, or pasta.",
                        "Context 3": "When shopping for a car, it's good to explore all your options."
                    }
                },
                {
                    "word": "Pitch",
                    "definition": "To present or propose an idea or project to someone.",
                    "context": {
                        "Context 1": "You need to pitch your ideas quickly during the lesson.",
                        "Context 2": "He practiced his pitch for the startup competition.",
                        "Context 3": "The coach asked the players to pitch their strategies for the game."
                    }
                },
                {
                    "word": "Task",
                    "definition": "A piece of work or duty that needs to be done.",
                    "context": {
                        "Context 1": "The lesson involved completing a specific task efficiently.",
                        "Context 2": "Her task for the day was to organize the files.",
                        "Context 3": "He found the task of cleaning the garage to be overwhelming."
                    }
                },
                {
                    "word": "Quickly",
                    "definition": "In a fast manner; without delay.",
                    "context": {
                        "Context 1": "We need to complete the task quickly to move on to the next one.",
                        "Context 2": "She quickly finished her homework before dinner.",
                        "Context 3": "The rabbit ran quickly to escape from the fox."
                    }
                },
                {
                    "word": "Different",
                    "definition": "Not the same as another; distinct or separate.",
                    "context": {
                        "Context 1": "We will move on to a different type of task after this one.",
                        "Context 2": "She wore a different dress to the party than she did last time.",
                        "Context 3": "The two paintings were different in style and color."
                    }
                },
                {
                    "word": "Glad",
                    "definition": "Feeling pleasure or happiness about something.",
                    "context": {
                        "Context 1": "I’m glad we switched to Google Meet for our lesson.",
                        "Context 2": "She was glad to hear that her friend was coming to visit.",
                        "Context 3": "He felt glad when he received the good news."
                    }
                },
                {
                    "word": "See",
                    "definition": "To perceive with the eyes; to understand.",
                    "context": {
                        "Context 1": "In the lesson, we asked if everyone could see the presentation.",
                        "Context 2": "I can see the mountains from my window.",
                        "Context 3": "She couldn't see the movie because it was sold out."
                    }
                },
                {
                    "word": "Meet",
                    "definition": "To come together with someone at a specific time and place.",
                    "context": {
                        "Context 1": "We will meet again on Monday for our next lesson.",
                        "Context 2": "They decided to meet at the coffee shop after work.",
                        "Context 3": "I can't wait to meet my favorite author at the book signing."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Locate",
                    "fact": "The word 'locate' comes from the Latin word 'locare,' which means 'to place.' So, when you locate something, you're really just placing it in your memory!"
                },
                {
                    "word": "Pitch",
                    "fact": "In baseball, a 'pitch' is also a throw to the batter. So, whether you're pitching an idea or a baseball, you better aim well!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to the doctor?",
                    "answer": "Because it had a virus!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new show everyone's talking about?"
                },
                {
                    "Person 2": "Oh, you mean the one on Netflix? I saw the trailer, but I haven't started it yet."
                },
                {
                    "Person 1": "Yeah, it's really good! I binged the whole season in one weekend."
                },
                {
                    "Person 2": "Wow, that's impressive! I can never binge-watch like that. I always fall asleep after a couple of episodes."
                },
                {
                    "Person 1": "I get that! Sometimes I have to fight the urge to just scroll through my phone instead."
                },
                {
                    "Person 2": "Right? It’s like, I want to watch something, but then I end up scrolling for hours."
                },
                {
                    "Person 1": "Exactly! I think I need to set some limits on my phone usage."
                },
                {
                    "Person 2": "That sounds like a good idea. Maybe we should challenge each other to do it!"
                },
                {
                    "Person 1": "Deal! No phone an hour before bed. We can keep each other accountable."
                },
                {
                    "Person 2": "Perfect! And we can share our thoughts on that show once we both finish it."
                },
                {
                    "Person 1": "For sure! I can't wait to hear what you think about the ending."
                },
                {
                    "Person 2": "Same here! It’s always fun to discuss theories and twists."
                },
                {
                    "Person 1": "Alright, let’s start this challenge tonight!"
                },
                {
                    "Person 2": "Sounds good! Let’s see how it goes!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new movie everyone’s talking about?"
                },
                {
                    "Person 2": "Not yet! I’ve heard mixed reviews, though. What did you think?"
                },
                {
                    "Person 1": "I thought it was pretty good! The action scenes were awesome, but the plot was a bit all over the place."
                },
                {
                    "Person 2": "Yeah, I feel like a lot of movies do that these days. They focus so much on visuals that the story gets lost."
                },
                {
                    "Person 1": "Exactly! I mean, I love a good action scene, but I also want to feel connected to the characters."
                },
                {
                    "Person 2": "Right? It’s like they forget that we need a story to care about what happens."
                },
                {
                    "Person 1": "Totally! So, what’s on your watchlist next?"
                },
                {
                    "Person 2": "I’m thinking about starting that new series on Netflix. Heard it’s really good!"
                },
                {
                    "Person 1": "Oh, I’ve seen the trailer! It looks interesting. I might binge it too."
                },
                {
                    "Person 2": "Let’s do it together! We can have a movie night this weekend."
                },
                {
                    "Person 1": "Sounds like a plan! I’ll bring the popcorn."
                },
                {
                    "Person 2": "And I’ll bring the drinks! Can’t wait!"
                },
                {
                    "Person 1": "Me neither! It’ll be fun to finally watch something together."
                },
                {
                    "Person 2": "For sure! I’ll text you later to confirm the time."
                },
                {
                    "Person 1": "Perfect! Looking forward to it!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new Sherlock Holmes movie?"
                },
                {
                    "Person 2": "Yeah, I did! It was pretty good. I love how they keep the mystery alive."
                },
                {
                    "Person 1": "Right? I always find myself trying to solve the case before they reveal it."
                },
                {
                    "Person 2": "Same here! I think I got it halfway through, but they threw in some twists."
                },
                {
                    "Person 1": "Exactly! It’s like they know how to keep us guessing. Do you read the books too?"
                },
                {
                    "Person 2": "I’ve read a couple. They’re a great way to practice my reading skills."
                },
                {
                    "Person 1": "Totally! Sometimes I struggle with some of the old phrases, though."
                },
                {
                    "Person 2": "Yeah, I get that. But it’s fun to look up words and learn new stuff."
                },
                {
                    "Person 1": "For sure! I feel like it helps with my vocabulary. Plus, it’s entertaining."
                },
                {
                    "Person 2": "Absolutely! I think I might pick up another one this weekend."
                },
                {
                    "Person 1": "Good idea! I might join you. It’s nice to have a reading buddy."
                },
                {
                    "Person 2": "Sounds like a plan! Let’s compare notes after."
                },
                {
                    "Person 1": "Definitely! I’ll bring snacks for our reading session."
                },
                {
                    "Person 2": "Perfect! Can’t wait to dive into another mystery together."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a finish, right? I was on the edge of my seat!"
                },
                {
                    "Person 1": "Totally! I thought they were going to lose for sure. That last-minute goal was insane!"
                },
                {
                    "Person 2": "I know! And the way the crowd went wild? You could feel the energy through the screen!"
                },
                {
                    "Person 1": "For sure! I love how sports can bring everyone together like that."
                },
                {
                    "Person 2": "Absolutely! Speaking of which, are you planning to watch the playoffs?"
                },
                {
                    "Person 1": "Definitely! I wouldn’t miss it. We should have a watch party!"
                },
                {
                    "Person 2": "That sounds awesome! I can bring snacks and drinks."
                },
                {
                    "Person 1": "Perfect! I’ll set up the TV and make sure we have a comfy spot."
                },
                {
                    "Person 2": "Great! I can’t wait. It’s going to be so much fun!"
                },
                {
                    "Person 1": "Yeah, and we can cheer for our team together!"
                },
                {
                    "Person 2": "Exactly! Let’s hope they make it to the finals!"
                },
                {
                    "Person 1": "Fingers crossed! I’ll text you the details later."
                },
                {
                    "Person 2": "Sounds good! Looking forward to it!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
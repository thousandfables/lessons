<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I mean, it's quite hot here. So I don't know. That's a big issue.",
                    "corrected": "I mean, it's quite hot here. So I don't know if that's a big issue.",
                    "explanation": "The original sentence lacks the conditional 'if,' making it unclear whether the speaker is questioning the significance of the heat.",
                    "context": "It's quite hot here, which makes it hard for me to sleep. I don't know if that's a big issue, but it definitely affects my comfort."
                },
                {
                    "original": "I wouldn't say I didn't really prepare for it whatsoever.",
                    "corrected": "I wouldn't say I prepared for it whatsoever.",
                    "explanation": "The double negative 'didn't' and 'not' creates confusion; it should be simplified to convey the intended meaning clearly.",
                    "context": "I had two exams recently. I wouldn't say I prepared for the math exam whatsoever, which is probably why I didn't do as well."
                },
                {
                    "original": "It's not like we all got the same one, but they're like, a couple of fixed topics, at least for the essay.",
                    "corrected": "It's not like we all got the same one, but there are a couple of fixed topics, at least for the essay.",
                    "explanation": "The contraction 'they're' is incorrect; 'there' should be used to indicate existence.",
                    "context": "During the Russian exam, it was interesting to see the variety of questions. It's not like we all got the same one, but there are a couple of fixed topics for the essay."
                },
                {
                    "original": "But a lot of people have matching problems in some places.",
                    "corrected": "But a lot of people have matching problems in some parts.",
                    "explanation": "The term 'places' is too vague; 'parts' is more appropriate for referring to sections of the exam.",
                    "context": "The Russian exam was manageable, and I think many students felt the same. But a lot of people have matching problems in some parts of the exam."
                },
                {
                    "original": "I just kind of felt like writing more essays in English.",
                    "corrected": "I just felt like writing more essays in English.",
                    "explanation": "The phrase 'kind of' is unnecessary and makes the sentence less direct.",
                    "context": "Before my Russian exam, I was overwhelmed with studying. I just felt like writing more essays in English to clear my mind."
                },
                {
                    "original": "So yeah, I did write one about the sporting events.",
                    "corrected": "So yeah, I did write one about sporting events.",
                    "explanation": "The article 'the' is unnecessary when speaking generally about 'sporting events.'",
                    "context": "I got inspired to write while preparing for my exams. So yeah, I did write one about sporting events, which was fun."
                },
                {
                    "original": "I suppose, like the one about working online.",
                    "corrected": "I suppose it was like the one about working online.",
                    "explanation": "The original phrasing is awkward; 'it was' clarifies the subject of the sentence.",
                    "context": "I received feedback on my essays. I suppose it was like the one about working online, which also got a decent score."
                },
                {
                    "original": "These criteria are very vague.",
                    "corrected": "Those criteria are very vague.",
                    "explanation": "The pronoun 'these' should refer to something nearby, while 'those' refers to something further away, which fits the context better.",
                    "context": "When discussing AI grading, I realized that the standards can be unclear. Those criteria are very vague, making it hard to judge effectively."
                },
                {
                    "original": "If a native speaker produce an essay like that, would it be would it would it match all those criteria?",
                    "corrected": "If a native speaker produced an essay like that, would it match all those criteria?",
                    "explanation": "The verb 'produce' should be in the past tense 'produced' to match the conditional structure.",
                    "context": "We were debating the effectiveness of AI in grading. If a native speaker produced an essay like that, would it match all those criteria?"
                },
                {
                    "original": "I decided to take the CP English test too, so that I don't have to do it.",
                    "corrected": "I decided to take the CP English test too, so that I wouldn't have to do it.",
                    "explanation": "The original sentence incorrectly uses the present tense 'don't' instead of the past tense 'wouldn't' to match the conditional context.",
                    "context": "As I prepare for my upcoming exams, I'm making plans. I decided to take the CP English test too, so that I wouldn't have to do it later."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "So it doesn't haven't Yeah, it doesn't have an expiration date.",
                    "corrected": "So it doesn't have an expiration date.",
                    "explanation": "The phrase 'doesn't haven't' is incorrect; 'doesn't' already negates the verb 'have.'",
                    "context": "I'm discussing the Cambridge proficiency test. It doesn't have an expiration date. This means that if you pass it, your certification lasts forever."
                },
                {
                    "original": "the ranges for like, a tier C two, B tier C two, C tier C two, something like this.",
                    "corrected": "the ranges are like a tier C two, B tier C two, C tier C two, something like this.",
                    "explanation": "The verb 'are' is missing; it should connect the subject 'the ranges' to the description that follows.",
                    "context": "I'm explaining the grading system of the Cambridge proficiency test. The ranges are like a tier C two, B tier C two, C tier C two, something like this. This helps to clarify how different levels are categorized."
                },
                {
                    "original": "the only problem is that it yeah, it's on the it only happens once a month in Kazakhstan.",
                    "corrected": "the only problem is that it only happens once a month in Kazakhstan.",
                    "explanation": "The phrase 'the it' is redundant; it should just say 'it only happens.'",
                    "context": "I'm discussing the frequency of the test in Kazakhstan. The only problem is that it only happens once a month in Kazakhstan. This makes it challenging to schedule."
                },
                {
                    "original": "if you like a good if you like a place with mountains and with rivers and lakes, it's cool there.",
                    "corrected": "if you like a place with mountains, rivers, and lakes, it's cool there.",
                    "explanation": "The repetition of 'if you like a good' is unnecessary; it should be streamlined for clarity.",
                    "context": "I'm recommending Almaty for its natural beauty. If you like a place with mountains, rivers, and lakes, it's cool there. This highlights why Almaty is a great choice."
                },
                {
                    "original": "I have very warm jeans or how to call pants.",
                    "corrected": "I have very warm jeans, or what do you call them, pants?",
                    "explanation": "The phrase 'how to call pants' is awkward; 'what do you call them' is more idiomatic.",
                    "context": "I'm explaining my clothing choices for winter. I have very warm jeans, or what do you call them, pants? This shows my confusion about the terminology."
                },
                {
                    "original": "I have how to call this thing that wraps your leg that you can wear.",
                    "corrected": "I have what do you call this thing that wraps your leg that you can wear.",
                    "explanation": "Similar to the previous mistake, 'how to call' is incorrect; 'what do you call' is the proper expression.",
                    "context": "I'm trying to describe thermal clothing. I have what do you call this thing that wraps your leg that you can wear? This reflects my uncertainty about the name."
                },
                {
                    "original": "they're saying, well, because you know, winter is coming.",
                    "corrected": "they said, well, because you know, winter is coming.",
                    "explanation": "The verb tense should be consistent; 'they're saying' should be 'they said' to match the past narrative.",
                    "context": "I'm recalling a conversation about winter clothing. They said, well, because you know, winter is coming. This emphasizes their concern for my preparedness."
                },
                {
                    "original": "this one is very, like, this one is not warm enough.",
                    "corrected": "this one is not warm enough.",
                    "explanation": "The phrase 'very, like,' is unnecessary filler; it should be concise.",
                    "context": "I'm describing the inadequacy of my hat for winter. This one is not warm enough. This highlights the need for better winter gear."
                },
                {
                    "original": "that has a, you know, that you can that has ties.",
                    "corrected": "that has ties.",
                    "explanation": "The phrase is overly complicated; it can be simplified to just 'that has ties.'",
                    "context": "I'm describing the type of hat needed for winter. That has ties. This specifies the features necessary for warmth."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "that's quite unexpected.",
                    "corrected": "that's quite surprising.",
                    "explanation": "'Unexpected' is not incorrect, but 'surprising' is a more idiomatic choice in this context.",
                    "context": "I learned that Astana is the second coldest capital in the world after Mongolia's capital. That's quite surprising. I didn't expect that at all."
                },
                {
                    "original": "advantage is disadvantage where advantages outweigh disadvantages",
                    "corrected": "advantages and disadvantages where advantages outweigh disadvantages",
                    "explanation": "The phrase 'advantage is disadvantage' is unclear; it should be 'advantages and disadvantages' to clarify the comparison.",
                    "context": "We need to discuss the advantages and disadvantages of hosting sporting events. The advantages outweigh the disadvantages in many cases."
                },
                {
                    "original": "what are our advantage going to be?",
                    "corrected": "what are our advantages going to be?",
                    "explanation": "The word 'advantage' should be pluralized to 'advantages' to match the context.",
                    "context": "Before we start writing, we need to decide what our advantages are going to be. This will help structure our argument effectively."
                },
                {
                    "original": "one the other is actually better.",
                    "corrected": "the other is actually better.",
                    "explanation": "The phrase 'one the other' is incorrect; it should be 'the other' to make sense.",
                    "context": "We need to explain why one option is not as good as the other. The other is actually better in this case."
                },
                {
                    "original": "this one shows that it's not that bad.",
                    "corrected": "this shows that it's not that bad.",
                    "explanation": "The phrase 'this one' is informal; it can be simplified to 'this' for clarity.",
                    "context": "I think this shows that it's not that bad. It highlights some positive aspects we can focus on."
                },
                {
                    "original": "it's hard to paraphrase it.",
                    "corrected": "it's hard to paraphrase.",
                    "explanation": "The phrase 'paraphrase it' is unnecessary; 'paraphrase' alone suffices.",
                    "context": "I find it hard to paraphrase. I want to express the same idea differently without losing meaning."
                },
                {
                    "original": "we need to connect it somehow with the advantage here.",
                    "corrected": "we need to connect it somehow with the advantages here.",
                    "explanation": "The word 'advantage' should be pluralized to 'advantages' to match the context.",
                    "context": "We need to connect it somehow with the advantages here. This will strengthen our argument."
                },
                {
                    "original": "the ideas we are conveying here is that first, it could have been prevented.",
                    "corrected": "the ideas we are conveying here are that first, it could have been prevented.",
                    "explanation": "The subject 'ideas' is plural, so the verb should be 'are' instead of 'is'.",
                    "context": "The ideas we are conveying here are that first, it could have been prevented. This is important for our discussion."
                },
                {
                    "original": "this risk is worth taking.",
                    "corrected": "this risk is worth taking.",
                    "explanation": "This sentence is correct but could be more impactful with additional context.",
                    "context": "We need to explain why this risk is worth taking. It can lead to significant benefits for the country."
                },
                {
                    "original": "it sounds like it has a negative connotation like you're saying, this time was wasted.",
                    "corrected": "it sounds like it has a negative connotation, as if you're saying this time was wasted.",
                    "explanation": "The phrase 'like you're saying' should be rephrased for clarity and grammatical accuracy.",
                    "context": "When I say they can compensate for the time, it sounds like it has a negative connotation, as if you're saying this time was wasted."
                },
                {
                    "original": "I would think of myself, because I work remotely.",
                    "corrected": "I would think of my own experience, because I work remotely.",
                    "explanation": "The phrase 'think of myself' is vague; 'think of my own experience' is clearer.",
                    "context": "Before writing, I would think of my own experience, because I work remotely. This perspective shapes my ideas."
                },
                {
                    "original": "it's like, too deep of an idea.",
                    "corrected": "it's a bit too deep of an idea.",
                    "explanation": "The phrase 'too deep of an idea' is informal; 'a bit too deep of an idea' is more idiomatic.",
                    "context": "I think it's a bit too deep of an idea. We need to keep our arguments straightforward for clarity."
                },
                {
                    "original": "you can, it leads to, you",
                    "corrected": "it can lead to mental health issues.",
                    "explanation": "The original phrase is fragmented and unclear; it should be restructured for clarity.",
                    "context": "If you have to spend your time around annoying colleagues, it can lead to mental health issues. It's important to choose your environment wisely."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "give advantages give disadvantages and say, whether our advantages outweighed advantages.",
                    "corrected": "give advantages, give disadvantages, and say whether the advantages outweigh the disadvantages.",
                    "explanation": "The phrase 'our advantages outweighed advantages' is incorrect; it should be 'the advantages outweigh the disadvantages' for clarity and grammatical accuracy.",
                    "context": "When writing something complex, it's important to give advantages and disadvantages. You should say whether the advantages outweigh the disadvantages. This helps in structuring your argument effectively."
                },
                {
                    "original": "I not to check it with my chairman teacher because he's coming out of his holiday.",
                    "corrected": "I need to check it with my teacher because he's coming back from his holiday.",
                    "explanation": "'I not to check it' is incorrect; it should be 'I need to check it.' Also, 'coming out of his holiday' is awkward; 'coming back from his holiday' is more idiomatic.",
                    "context": "I need to confirm the schedule. I need to check it with my teacher because he's coming back from his holiday. I want to ensure we can meet at the right time."
                },
                {
                    "original": "I don't know either because neither is double negation.",
                    "corrected": "I don't know either because 'neither' indicates double negation.",
                    "explanation": "'Neither is double negation' is unclear; it should clarify that 'neither' indicates double negation in the context of the sentence.",
                    "context": "I'm trying to clarify my confusion about the terms. I don't know either because 'neither' indicates double negation. It's a tricky concept for me."
                },
                {
                    "original": "I said, either.",
                    "corrected": "I said 'either.'",
                    "explanation": "The phrase should include quotation marks around 'either' to indicate that it's a direct quote.",
                    "context": "I was trying to clarify my previous statement. I said 'either.' I meant to emphasize the word I was confused about."
                },
                {
                    "original": "Neither neither or, or what.",
                    "corrected": "Neither 'neither' nor 'either,' or what?",
                    "explanation": "The structure is incorrect; it should be 'neither' followed by 'nor' to properly connect the two terms.",
                    "context": "I'm trying to sort out my confusion about these terms. Neither 'neither' nor 'either' makes sense to me right now. I'm unsure how to use them."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Examination",
                    "definition": "A formal test of a person's knowledge or proficiency in a subject.",
                    "context": {
                        "Context 1": "The chemistry examination was challenging but fair.",
                        "Context 2": "The doctor conducted a thorough examination of the patient.",
                        "Context 3": "During the examination of the ancient ruins, archaeologists discovered new artifacts."
                    }
                },
                {
                    "word": "Inspiration",
                    "definition": "The process of being mentally stimulated to do or feel something, especially to do something creative.",
                    "context": {
                        "Context 1": "She found inspiration for her essay just before her Russian exam.",
                        "Context 2": "The artist drew inspiration from nature for her latest painting.",
                        "Context 3": "His speech was filled with inspiration, motivating everyone in the audience."
                    }
                },
                {
                    "word": "Criteria",
                    "definition": "Principles or standards by which something is judged or decided.",
                    "context": {
                        "Context 1": "The criteria for grading essays can vary from teacher to teacher.",
                        "Context 2": "The criteria for the cooking competition included taste, presentation, and originality.",
                        "Context 3": "When selecting a new car, safety and fuel efficiency are important criteria."
                    }
                },
                {
                    "word": "Assessment",
                    "definition": "The evaluation or estimation of the nature, quality, or ability of someone or something.",
                    "context": {
                        "Context 1": "The assessment of the essays was based on clarity and coherence.",
                        "Context 2": "The teacher's assessment of the students' progress was very positive.",
                        "Context 3": "An environmental assessment was conducted before the construction of the new building."
                    }
                },
                {
                    "word": "Proficiency",
                    "definition": "A high degree of skill; expertise.",
                    "context": {
                        "Context 1": "Her proficiency in English helped her excel in the exam.",
                        "Context 2": "He demonstrated his proficiency in playing the piano during the recital.",
                        "Context 3": "The proficiency of the chef was evident in the delicious meal he prepared."
                    }
                },
                {
                    "word": "Guidance",
                    "definition": "Advice or information aimed at resolving a problem or difficulty.",
                    "context": {
                        "Context 1": "The teacher provided guidance on how to improve essay writing.",
                        "Context 2": "She sought guidance from her mentor before making a career decision.",
                        "Context 3": "The guidance of the GPS helped them navigate through the city."
                    }
                },
                {
                    "word": "Natural",
                    "definition": "Existing in or caused by nature; not made or caused by humankind.",
                    "context": {
                        "Context 1": "The essay sounded natural to a native speaker.",
                        "Context 2": "The park is home to many natural wonders, including waterfalls and wildlife.",
                        "Context 3": "He has a natural talent for singing that captivates everyone."
                    }
                },
                {
                    "word": "Accurate",
                    "definition": "Free from error; precise.",
                    "context": {
                        "Context 1": "The assessment was not accurate according to the teacher's standards.",
                        "Context 2": "The weather forecast was surprisingly accurate this week.",
                        "Context 3": "An accurate map is essential for navigating unfamiliar territory."
                    }
                },
                {
                    "word": "Complicated",
                    "definition": "Consisting of many interconnecting parts; not easy to analyze or understand.",
                    "context": {
                        "Context 1": "The topic of public art can be quite complicated.",
                        "Context 2": "The instructions for assembling the furniture were complicated and hard to follow.",
                        "Context 3": "Their relationship became complicated after the misunderstanding."
                    }
                },
                {
                    "word": "Solid",
                    "definition": "Firm and stable in shape; not liquid or fluid.",
                    "context": {
                        "Context 1": "He felt he had a solid chance of getting 100 on the chemistry exam.",
                        "Context 2": "The foundation of the building was made of solid concrete.",
                        "Context 3": "She made a solid argument in favor of environmental protection."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Examination",
                    "fact": "Did you know that in some countries, students celebrate the end of exams with parties and parades?"
                },
                {
                    "word": "Inspiration",
                    "fact": "The word 'inspiration' comes from the Latin 'inspirare,' which means 'to breathe into.'"
                },
                {
                    "word": "Criteria",
                    "fact": "The plural of 'criterion' is 'criteria,' but many people mistakenly use 'criterias'!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Expiration date",
                    "definition": "The date after which something is no longer valid or usable.",
                    "context": {
                        "Context 1": "The Cambridge proficiency test does not have an expiration date, meaning it lasts forever if you pass.",
                        "Context 2": "Make sure to check the expiration date on your milk before using it.",
                        "Context 3": "The expiration date on the coupon was yesterday, so I couldn't use it."
                    }
                },
                {
                    "word": "Certificate",
                    "definition": "An official document that proves a fact or achievement.",
                    "context": {
                        "Context 1": "If you pass the test, you will receive a certificate indicating your proficiency level.",
                        "Context 2": "She proudly hung her diploma and certificate on the wall.",
                        "Context 3": "The certificate of authenticity confirmed that the painting was an original."
                    }
                },
                {
                    "word": "Peculiar",
                    "definition": "Strange or unusual; distinctive.",
                    "context": {
                        "Context 1": "The test has some peculiar exercises that differ from other exams.",
                        "Context 2": "His peculiar sense of humor often left people confused.",
                        "Context 3": "The peculiar shape of the rock intrigued the hikers."
                    }
                },
                {
                    "word": "Complicated",
                    "definition": "Consisting of many interconnecting parts; complex.",
                    "context": {
                        "Context 1": "The reading task in the test is more complicated than in other exams.",
                        "Context 2": "The instructions for assembling the furniture were complicated and hard to follow.",
                        "Context 3": "Her relationship with her family was complicated due to past misunderstandings."
                    }
                },
                {
                    "word": "Prepared",
                    "definition": "Ready for a specific situation or event.",
                    "context": {
                        "Context 1": "I feel prepared for the test because I have practiced similar exercises.",
                        "Context 2": "He was well prepared for the job interview and answered all questions confidently.",
                        "Context 3": "The team was prepared for the storm and had stocked up on supplies."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "From my perspective, Almaty is a better choice for nature lovers.",
                        "Context 2": "Her perspective on the issue changed after she learned more about it.",
                        "Context 3": "The artist's unique perspective is reflected in her paintings."
                    }
                },
                {
                    "word": "Desert",
                    "definition": "A barren area of land where little precipitation occurs and consequently living conditions are hostile.",
                    "context": {
                        "Context 1": "Astana is described as a cold-hearted desert due to its harsh climate.",
                        "Context 2": "The Sahara Desert is one of the largest deserts in the world.",
                        "Context 3": "After the rain, the desert blooms with beautiful wildflowers."
                    }
                },
                {
                    "word": "Regret",
                    "definition": "To feel sad or disappointed over something that has happened or been done.",
                    "context": {
                        "Context 1": "You won't regret visiting Almaty; it's a beautiful city.",
                        "Context 2": "He regretted not studying harder for the exam.",
                        "Context 3": "She had no regrets about her decision to travel the world."
                    }
                },
                {
                    "word": "Consider",
                    "definition": "To think carefully about something, typically before making a decision.",
                    "context": {
                        "Context 1": "I was considering which city to visit, Astana or Almaty.",
                        "Context 2": "Before you decide, consider all your options.",
                        "Context 3": "She considered his advice before making her final choice."
                    }
                },
                {
                    "word": "Warm",
                    "definition": "Having or showing a friendly, enthusiastic, or affectionate manner.",
                    "context": {
                        "Context 1": "I thought my warm jeans would be enough for the cold weather.",
                        "Context 2": "The warm sun made the beach day even more enjoyable.",
                        "Context 3": "He gave her a warm smile when they met."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Certificate",
                    "fact": "In some countries, you can get a certificate for just about anything, including 'World's Best Napper'!"
                },
                {
                    "word": "Peculiar",
                    "fact": "The word 'peculiar' comes from the Latin 'peculiaris,' meaning 'of one's own,' which is quite peculiar in itself!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the scarecrow win an award?",
                    "answer": "Because he was outstanding in his field!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Advantage",
                    "definition": "A condition or circumstance that puts one in a favorable or superior position.",
                    "context": {
                        "Context 1": "The advantage of hosting the Olympics is that it boosts tourism.",
                        "Context 2": "Having a good education is a significant advantage in the job market.",
                        "Context 3": "The new software provides an advantage over competitors by increasing efficiency."
                    }
                },
                {
                    "word": "Disadvantage",
                    "definition": "An unfavorable condition or circumstance that reduces the chances of success.",
                    "context": {
                        "Context 1": "The disadvantage of living in a big city is the high cost of living.",
                        "Context 2": "One disadvantage of remote work is the potential for isolation.",
                        "Context 3": "The disadvantage of the new policy is that it may lead to confusion among employees."
                    }
                },
                {
                    "word": "Outweigh",
                    "definition": "To be greater or more significant than something else.",
                    "context": {
                        "Context 1": "The benefits of the program outweigh the costs involved.",
                        "Context 2": "In this debate, the positive aspects of the proposal outweigh the negative ones.",
                        "Context 3": "The joy of traveling often outweighs the stress of planning a trip."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something written or spoken using different words.",
                    "context": {
                        "Context 1": "You should paraphrase the original text to avoid plagiarism.",
                        "Context 2": "In her essay, she decided to paraphrase the main ideas from several sources.",
                        "Context 3": "Paraphrasing a joke can sometimes make it even funnier!"
                    }
                },
                {
                    "word": "Controversy",
                    "definition": "A prolonged public disagreement or heated discussion.",
                    "context": {
                        "Context 1": "The new law sparked controversy among citizens and lawmakers.",
                        "Context 2": "There was a controversy over the best way to celebrate the holiday.",
                        "Context 3": "The artist's latest work has generated a lot of controversy in the art community."
                    }
                },
                {
                    "word": "Compensate",
                    "definition": "To make up for something unwelcome or unpleasant by exerting an opposite force or effect.",
                    "context": {
                        "Context 1": "She worked overtime to compensate for the hours she missed.",
                        "Context 2": "He tried to compensate for his lack of experience with enthusiasm.",
                        "Context 3": "The company offered discounts to compensate for the shipping delays."
                    }
                },
                {
                    "word": "Influx",
                    "definition": "An arrival or entry of large numbers of people or things.",
                    "context": {
                        "Context 1": "The city saw an influx of tourists during the summer festival.",
                        "Context 2": "The influx of new students has led to crowded classrooms.",
                        "Context 3": "An influx of rainwater caused the river to overflow its banks."
                    }
                },
                {
                    "word": "Logical",
                    "definition": "Of or according to the rules of logic or formal argument.",
                    "context": {
                        "Context 1": "Her argument was logical and well-structured.",
                        "Context 2": "It’s logical to save money for emergencies.",
                        "Context 3": "The detective's logical reasoning helped solve the mystery."
                    }
                },
                {
                    "word": "Indicate",
                    "definition": "To point out or show something.",
                    "context": {
                        "Context 1": "The data indicates that sales have increased this quarter.",
                        "Context 2": "The sign indicates the direction to the nearest gas station.",
                        "Context 3": "Her smile indicated that she was pleased with the results."
                    }
                },
                {
                    "word": "Benefit",
                    "definition": "An advantage or profit gained from something.",
                    "context": {
                        "Context 1": "The benefit of exercise is improved health.",
                        "Context 2": "He received a benefit from the scholarship to attend college.",
                        "Context 3": "The community will benefit from the new park being built."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Advantage",
                    "fact": "Did you know that having a pet can give you a social advantage? People are more likely to approach you if you're walking a dog!"
                },
                {
                    "word": "Controversy",
                    "fact": "The word 'controversy' comes from the Latin 'controversia,' which means 'a turning against.' So, the next time you have a debate, remember it’s just a 'turning against'!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the essay go to therapy?",
                    "answer": "Because it had too many unresolved issues!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Mental Condition",
                    "definition": "A person's emotional and psychological state.",
                    "context": {
                        "Context 1": "Your mental condition can greatly affect your daily life and interactions.",
                        "Context 2": "The mental condition of the athlete improved after several therapy sessions.",
                        "Context 3": "During the winter, many people experience changes in their mental condition due to lack of sunlight."
                    }
                },
                {
                    "word": "Complement",
                    "definition": "To complete or enhance something by providing a necessary quality.",
                    "context": {
                        "Context 1": "These sentences complement each other, creating a more coherent argument.",
                        "Context 2": "The red wine perfectly complements the rich flavors of the steak.",
                        "Context 3": "Her skills in graphic design complement his expertise in marketing."
                    }
                },
                {
                    "word": "Solid",
                    "definition": "Strong, stable, and well-founded.",
                    "context": {
                        "Context 1": "The structure of your argument is much more solid now.",
                        "Context 2": "The solid foundation of the building ensures it can withstand earthquakes.",
                        "Context 3": "He made a solid case for why the project should proceed."
                    }
                },
                {
                    "word": "Advantages",
                    "definition": "The beneficial factors or features of something.",
                    "context": {
                        "Context 1": "You should give advantages and disadvantages when discussing a topic.",
                        "Context 2": "One of the advantages of living in a big city is the access to diverse job opportunities.",
                        "Context 3": "The advantages of studying abroad include cultural exposure and language immersion."
                    }
                },
                {
                    "word": "Disadvantages",
                    "definition": "The drawbacks or negative aspects of something.",
                    "context": {
                        "Context 1": "It's important to consider both advantages and disadvantages in your analysis.",
                        "Context 2": "The disadvantages of working from home can include feelings of isolation.",
                        "Context 3": "One of the main disadvantages of public transportation is the potential for delays."
                    }
                },
                {
                    "word": "Complex",
                    "definition": "Consisting of many different and connected parts; complicated.",
                    "context": {
                        "Context 1": "Writing about complex topics requires careful thought and structure.",
                        "Context 2": "The complex design of the machine makes it difficult to repair.",
                        "Context 3": "Understanding complex theories in physics can be challenging for many students."
                    }
                },
                {
                    "word": "Address",
                    "definition": "To deal with or discuss a particular issue.",
                    "context": {
                        "Context 1": "You need to address all parts of the assignment for full credit.",
                        "Context 2": "The mayor will address the community about the new park project.",
                        "Context 3": "It's important to address your concerns directly with your supervisor."
                    }
                },
                {
                    "word": "Preliminary",
                    "definition": "Something that comes before the main event or activity; introductory.",
                    "context": {
                        "Context 1": "We need to schedule a preliminary appointment before the main meeting.",
                        "Context 2": "The preliminary results of the study were promising but need further investigation.",
                        "Context 3": "She gave a preliminary overview of the project during the first meeting."
                    }
                },
                {
                    "word": "Reschedule",
                    "definition": "To change the time of a planned event or appointment.",
                    "context": {
                        "Context 1": "Can we reschedule this lesson from Monday to Tuesday?",
                        "Context 2": "Due to a conflict, I had to reschedule my dentist appointment.",
                        "Context 3": "They decided to reschedule the concert for a later date due to bad weather."
                    }
                },
                {
                    "word": "Confused",
                    "definition": "Unable to think clearly; bewildered.",
                    "context": {
                        "Context 1": "I'm always confused with these words: either or neither.",
                        "Context 2": "He felt confused after hearing the complicated instructions.",
                        "Context 3": "The plot of the movie was so twisted that many viewers left the theater confused."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Complex",
                    "fact": "The word 'complex' comes from the Latin 'complexus,' which means 'to entwine'—just like your thoughts when you're trying to solve a puzzle!"
                },
                {
                    "word": "Confused",
                    "fact": "Did you know that the word 'confused' can also mean 'mixed up'? So, if you’re confused about your socks, they might just be mixed up in the laundry!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! What’s up? Where are you right now?"
                },
                {
                    "Person 2": "Hey! I’m at my friend's place. He’s got a nice setup here."
                },
                {
                    "Person 1": "Nice! What does your friend do?"
                },
                {
                    "Person 2": "He works at a museum. His family is pretty well-off, so it’s a nice place."
                },
                {
                    "Person 1": "Sounds cool! So, you’re just hanging out there?"
                },
                {
                    "Person 2": "Yeah, I stayed overnight. Just chilling and catching up."
                },
                {
                    "Person 1": "Did you bring your laptop for something important?"
                },
                {
                    "Person 2": "Not really, just for this class. I figured I’d get some work done."
                },
                {
                    "Person 1": "How’s that going? Feeling good about it?"
                },
                {
                    "Person 2": "Yeah, but it’s super hot here, so I’m struggling a bit to focus."
                },
                {
                    "Person 1": "I get that. Hot weather can be such a distraction."
                },
                {
                    "Person 2": "Exactly! I’m sitting near this painting of a winter scene just to cool down a bit."
                },
                {
                    "Person 1": "That’s a smart move! How did your exams go?"
                },
                {
                    "Person 2": "Pretty well! I think I did great on my chemistry exam. Might even get a 100."
                },
                {
                    "Person 1": "Awesome! What about math?"
                },
                {
                    "Person 2": "Not so great. I didn’t prepare much, so I’m expecting around a 70 or 75."
                },
                {
                    "Person 1": "Hey, at least you’re done with exams now, right?"
                },
                {
                    "Person 2": "Yeah, finally! I’m ready to celebrate a little."
                },
                {
                    "Person 1": "You should! Are your grandparents around?"
                },
                {
                    "Person 2": "No, they’re at their country house. I think it’s somewhere near Moscow."
                },
                {
                    "Person 1": "Gotcha. Did you manage to write any essays while you were studying?"
                },
                {
                    "Person 2": "Actually, I got inspired before my Russian exam and wrote a couple of essays."
                },
                {
                    "Person 1": "Nice! What topics did you cover?"
                },
                {
                    "Person 2": "One was about sporting events, and another was about public art."
                },
                {
                    "Person 1": "Sounds interesting! Did you use any AI to help with them?"
                },
                {
                    "Person 2": "Yeah, I tried using a writing tool to get feedback. It was pretty helpful."
                },
                {
                    "Person 1": "That’s cool! Did it give you good scores?"
                },
                {
                    "Person 2": "I got a 7.5 on one of them, which isn’t bad!"
                },
                {
                    "Person 1": "That’s great! AI can be a bit harsh sometimes, though."
                },
                {
                    "Person 2": "True! It’s not always accurate, but it gives a decent idea."
                },
                {
                    "Person 1": "Exactly! So, what’s next for you?"
                },
                {
                    "Person 2": "I’m planning to go to Kazakhstan for an exam, and I might take another English test there."
                },
                {
                    "Person 1": "Sounds like an adventure! Good luck with everything!"
                },
                {
                    "Person 2": "Thanks! I’ll need it!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you heard about that Cambridge Proficiency test?"
                },
                {
                    "Person 2": "Yeah, I have! I think it’s supposed to be pretty tough, right?"
                },
                {
                    "Person 1": "Definitely! If you pass, you get a certificate that lasts forever. No pressure!"
                },
                {
                    "Person 2": "That’s cool! I heard you can get different levels, like C1 or C2, depending on how well you do."
                },
                {
                    "Person 1": "Exactly! And the tasks are a bit different from IELTS. More complex reading and writing."
                },
                {
                    "Person 2": "Sounds challenging! Are you planning to take it?"
                },
                {
                    "Person 1": "I might! I feel like I could use the practice, especially since I haven't studied in a while."
                },
                {
                    "Person 2": "Good idea! When's the next test?"
                },
                {
                    "Person 1": "It’s on the 19th of June. But I’m still deciding if I should go to Astana or Almaty."
                },
                {
                    "Person 2": "Oh, I’ve heard Almaty is really nice! More nature and mountains, right?"
                },
                {
                    "Person 1": "Yeah, it’s definitely more scenic. Astana is more like a flat desert."
                },
                {
                    "Person 2": "That sounds kind of boring! Almaty sounds like a better choice for a trip."
                },
                {
                    "Person 1": "For sure! I wish I could drive around and explore more places."
                },
                {
                    "Person 2": "You should definitely visit Almaty! Everyone says it’s beautiful."
                },
                {
                    "Person 1": "I didn’t know much about the cities when I first chose Astana. I just thought, 'Hey, it's the capital!'"
                },
                {
                    "Person 2": "Yeah, sometimes you just go with the obvious choice! But now you know better!"
                },
                {
                    "Person 1": "Exactly! I learned the hard way when winter hit and I wasn’t prepared."
                },
                {
                    "Person 2": "Oh no! What happened?"
                },
                {
                    "Person 1": "I was told to buy thermal underwear and a proper hat. I had no idea it could get that cold!"
                },
                {
                    "Person 2": "Yikes! Sounds like you had quite the winter surprise!"
                },
                {
                    "Person 1": "Yeah, I definitely learned my lesson! Next time, I’ll be more prepared."
                },
                {
                    "Person 2": "Good plan! Just make sure to check the weather before you go!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you know Astana is the second coldest capital in the world?"
                },
                {
                    "Person 2": "Really? I had no idea! I thought Mongolia was just known for its cold weather."
                },
                {
                    "Person 1": "Yeah, it’s surprising, right? I learned that recently and it blew my mind."
                },
                {
                    "Person 2": "For sure! Speaking of surprising things, did you catch the latest sports event last weekend?"
                },
                {
                    "Person 1": "I did! It was intense! I couldn’t believe how close the score was."
                },
                {
                    "Person 2": "I know! It kept me on the edge of my seat. What do you think about hosting big events like that?"
                },
                {
                    "Person 1": "I think it has its pros and cons. It can really boost the economy, but there are also some downsides."
                },
                {
                    "Person 2": "Exactly! Like, the traffic and crowds can be a nightmare."
                },
                {
                    "Person 1": "Right? But then again, it brings people together and creates a fun atmosphere."
                },
                {
                    "Person 2": "True! It’s all about finding a balance, I guess. What do you think is the biggest advantage?"
                },
                {
                    "Person 1": "I’d say the tourism aspect. It really puts the city on the map."
                },
                {
                    "Person 2": "Yeah, and it can lead to more investments in the area too."
                },
                {
                    "Person 1": "Exactly! But we should also consider the environmental impact."
                },
                {
                    "Person 2": "Good point! It’s definitely a mixed bag. We need to weigh the benefits against the drawbacks."
                },
                {
                    "Person 1": "Totally! Let’s keep discussing this over coffee sometime."
                },
                {
                    "Person 2": "Sounds like a plan! I’m always up for a good chat over coffee."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to keep my head above water with work. How about you?"
                },
                {
                    "Person 1": "Same here! It feels like the days just fly by. I can’t believe it’s already the end of the week."
                },
                {
                    "Person 2": "I know, right? I feel like I blinked and it was Monday again. Got any plans for the weekend?"
                },
                {
                    "Person 1": "Thinking about going hiking if the weather holds up. What about you?"
                },
                {
                    "Person 2": "That sounds awesome! I might just relax at home and catch up on some shows. I’ve got a few episodes waiting for me."
                },
                {
                    "Person 1": "Nice! What are you watching?"
                },
                {
                    "Person 2": "I just started that new series everyone’s been talking about. It’s pretty good so far!"
                },
                {
                    "Person 1": "Oh, I’ve heard about that one! I need to check it out. Is it binge-worthy?"
                },
                {
                    "Person 2": "Definitely! I watched three episodes in one sitting. You might lose track of time!"
                },
                {
                    "Person 1": "Haha, I can see that happening! I’ll have to make sure I don’t start too late."
                },
                {
                    "Person 2": "Yeah, or you’ll be up all night! But sometimes, that’s the best way to unwind."
                },
                {
                    "Person 1": "True! Alright, I’ll add it to my list. Let’s catch up next week and see what we thought!"
                },
                {
                    "Person 2": "Sounds like a plan! Enjoy your hike if you go!"
                },
                {
                    "Person 1": "Thanks! Have a great weekend!"
                },
                {
                    "Person 2": "You too! Bye!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
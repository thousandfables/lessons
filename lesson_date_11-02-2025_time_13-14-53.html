<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "It's not AirPods because it doesn't work with Samsung.",
                    "corrected": "It's not AirPods because they don't work with Samsung.",
                    "explanation": "The subject 'AirPods' is plural, so the verb should also be plural ('they' instead of 'it').",
                    "context": "I was discussing my headphones with a friend. It's not AirPods because they don't work with Samsung. I have a Samsung phone, so I need compatible headphones."
                },
                {
                    "original": "And my husband changed his.",
                    "corrected": "And my husband changes his.",
                    "explanation": "The present tense 'changes' is needed here to indicate a habitual action, while 'changed' suggests a completed action.",
                    "context": "We were talking about phone upgrades. And my husband changes his phone every six months. It's a funny habit, but it keeps him updated."
                },
                {
                    "original": "Everybody, nobody has the money and everybody has the last model of the phone.",
                    "corrected": "Everybody says they don't have the money, but everyone has the latest model of the phone.",
                    "explanation": "The phrase 'the last model' should be 'the latest model' to indicate the most recent version. Also, the sentence structure was confusing.",
                    "context": "We were discussing phone ownership trends. Everybody says they don't have the money, but everyone has the latest model of the phone. It's quite ironic, isn't it?"
                },
                {
                    "original": "You can't spend the time for yourself.",
                    "corrected": "You can't spend time for yourself.",
                    "explanation": "The article 'the' is unnecessary before 'time' in this context.",
                    "context": "I was expressing the challenges of parenting. You can't spend time for yourself. It's a constant balancing act."
                },
                {
                    "original": "It's not discipline.",
                    "corrected": "It's not just discipline.",
                    "explanation": "The addition of 'just' clarifies that the speaker is distinguishing between discipline and the challenges of parenting.",
                    "context": "We were discussing the nature of parenting. It's not just discipline; it's about managing many responsibilities. Parenting is far more complex."
                },
                {
                    "original": "It's a debt that you don't need to return.",
                    "corrected": "It's a debt that you don't have to repay.",
                    "explanation": "'Return' is not the correct term in this context; 'repay' is the appropriate verb for financial obligations.",
                    "context": "I was reflecting on the nature of parenting. It's a debt that you don't have to repay. Instead, it's about giving to the next generation."
                },
                {
                    "original": "I buy the Sylvannian with toilet.",
                    "corrected": "I bought the Sylvanian with a toilet.",
                    "explanation": "The verb tense should be past ('bought') and 'Sylvannian' should be 'Sylvanian,' with 'a' added for clarity.",
                    "context": "I was sharing my recent purchase for my child. I bought the Sylvanian with a toilet. It's a fun way to teach them about daily routines."
                },
                {
                    "original": "He can cook omelette.",
                    "corrected": "He can cook an omelette.",
                    "explanation": "The article 'an' is needed before 'omelette' to indicate a singular countable noun.",
                    "context": "I was discussing my child's cooking skills. He can cook an omelette. It's impressive for his age!"
                },
                {
                    "original": "He doesn't only do anything.",
                    "corrected": "He doesn't do anything.",
                    "explanation": "The phrase 'doesn't only do anything' is contradictory; it should simply be 'doesn't do anything.'",
                    "context": "I was explaining my child's toilet training challenges. He doesn't do anything when it comes to using the toilet. It's a learning process."
                },
                {
                    "original": "I don't know if it's light in the day.",
                    "corrected": "I don't know if it's light during the day.",
                    "explanation": "'In the day' is incorrect; 'during the day' is the proper phrase to indicate the time period.",
                    "context": "I was talking about my sleep schedule. I don't know if it's light during the day. I struggle to rest when Mark is around."
                },
                {
                    "original": "And it's dark in the room?",
                    "corrected": "And is it dark in the room?",
                    "explanation": "The sentence structure is incorrect; it should be a direct question without 'and' at the beginning.",
                    "context": "We were discussing sleep conditions. And is it dark in the room? That would help if Mark is sleeping."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "It's difficult to me Sleeping.",
                    "corrected": "It's difficult for me to sleep.",
                    "explanation": "The correct preposition is 'for' when expressing difficulty, and 'sleeping' should be 'to sleep' to indicate the action.",
                    "context": "I often struggle with my sleep schedule. It's difficult for me to sleep at night. I find myself tossing and turning."
                },
                {
                    "original": "I spent all my free time for learning.",
                    "corrected": "I spent all my free time learning.",
                    "explanation": "'For learning' is incorrect; 'learning' should be used directly after 'time' without 'for.'",
                    "context": "In my free time, I focus on improving my skills. I spent all my free time learning. It's important for my progress."
                },
                {
                    "original": "I think I need to be focused only.",
                    "corrected": "I think I need to focus only.",
                    "explanation": "The phrase 'to be focused' is incorrect here; 'to focus' is the correct verb form to express the action.",
                    "context": "I realize that I have many distractions. I think I need to focus only on my studies. This will help me improve faster."
                },
                {
                    "original": "Where they spent only three hours for first-goal writing.",
                    "corrected": "Where they spend only three hours on first-goal writing.",
                    "explanation": "The verb tense should be present 'spend' instead of past 'spent,' and 'for' should be 'on' to indicate the purpose.",
                    "context": "I heard about a course that sounds interesting. Where they spend only three hours on first-goal writing. It seems efficient."
                },
                {
                    "original": "I found the dress where everybody is writing in English.",
                    "corrected": "I found a place where everybody is writing in English.",
                    "explanation": "'Dress' is incorrect; 'place' is the appropriate noun to indicate a location.",
                    "context": "I've been looking for communities to practice English. I found a place where everybody is writing in English. It's a great opportunity."
                },
                {
                    "original": "But I go to the job interviews only with full HRs.",
                    "corrected": "But I go to job interviews only with full HR representatives.",
                    "explanation": "'Full HRs' is unclear; 'full HR representatives' clarifies the meaning.",
                    "context": "I have specific preferences for my job interviews. But I go to job interviews only with full HR representatives. This helps me feel more comfortable."
                },
                {
                    "original": "I learned technical English in university.",
                    "corrected": "I learned technical English at university.",
                    "explanation": "The correct preposition is 'at' when referring to educational institutions.",
                    "context": "My education was focused on technical skills. I learned technical English at university. It was challenging but necessary."
                },
                {
                    "original": "I have all my terms in English.",
                    "corrected": "I have all my terms in Russian.",
                    "explanation": "The sentence is contradictory; it should clarify the language of the terms.",
                    "context": "When discussing technical concepts, clarity is crucial. I have all my terms in Russian. This makes it easier for me to understand."
                },
                {
                    "original": "I can imagine what learning of programming would be without proper knowledge of English.",
                    "corrected": "I can imagine what learning programming would be like without proper knowledge of English.",
                    "explanation": "The phrase 'learning of programming' is awkward; 'learning programming' is more natural, and 'would be like' is the correct structure.",
                    "context": "Programming is complex enough as it is. I can imagine what learning programming would be like without proper knowledge of English. It would be overwhelming."
                },
                {
                    "original": "I learned Russian IT community is the second-sized community in the world.",
                    "corrected": "I learned that the Russian IT community is the second-largest community in the world.",
                    "explanation": "The phrase 'second-sized' is incorrect; 'second-largest' is the correct term.",
                    "context": "I've been researching tech communities. I learned that the Russian IT community is the second-largest community in the world. It's impressive."
                },
                {
                    "original": "Yes, I am able to understand in English.",
                    "corrected": "Yes, I am able to understand English.",
                    "explanation": "The phrase 'understand in English' is awkward; 'understand English' is more idiomatic.",
                    "context": "I practice my English regularly. Yes, I am able to understand English. It's becoming easier with time."
                },
                {
                    "original": "I think in Russian we have many materials in Russian.",
                    "corrected": "I think we have many materials in Russian.",
                    "explanation": "The phrase 'in Russian' is redundant; it can be omitted for clarity.",
                    "context": "When looking for resources, I notice a lot of content. I think we have many materials in Russian. It's helpful for learning."
                },
                {
                    "original": "I translate this to Russian and that's it.",
                    "corrected": "I translate this into Russian and that's it.",
                    "explanation": "The correct preposition is 'into' when indicating a change of language.",
                    "context": "When I encounter English materials, I often need to adapt them. I translate this into Russian and that's it. It simplifies my understanding."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I can learn only math.",
                    "corrected": "I can only learn math.",
                    "explanation": "'Only' should precede the verb it modifies, which is 'learn' in this case.",
                    "context": "In my school, my English teachers told me that I can only learn math. They didn't believe in my ability to learn English."
                },
                {
                    "original": "My granddaughter doesn't learn how to use control system.",
                    "corrected": "My granddaughter doesn't learn how to use the control system.",
                    "explanation": "The article 'the' is needed before 'control system' to specify which system is being referred to.",
                    "context": "I have been reflecting on education. My granddaughter doesn't learn how to use the control system, which I find concerning."
                },
                {
                    "original": "We spent all my time only for work.",
                    "corrected": "We spent all my time working.",
                    "explanation": "'Only for work' is incorrect; 'working' is the appropriate gerund form here.",
                    "context": "In the past, I was very focused on my career. We spent all my time working and didn't have time for anything else."
                },
                {
                    "original": "The gas for their house is very expensive.",
                    "corrected": "The gas for their houses is very expensive.",
                    "explanation": "The plural 'houses' is needed to match the plural subject 'everybody'.",
                    "context": "In Latvia, everybody thinks that their own house is only for the rich. The gas for their houses is very expensive, making it hard for many."
                },
                {
                    "original": "In Europe, they have no IT labor.",
                    "corrected": "In Europe, there is no IT labor.",
                    "explanation": "The phrase 'there is' is more appropriate to indicate existence.",
                    "context": "I've been observing the job market. In Europe, there is no IT labor available, which creates challenges for developers."
                },
                {
                    "original": "They need to have really hard skills in theory.",
                    "corrected": "They need to have really strong skills in theory.",
                    "explanation": "'Hard skills' is not incorrect, but 'strong skills' is more idiomatic in this context.",
                    "context": "In the job market, developers face high expectations. They need to have really strong skills in theory to be considered."
                },
                {
                    "original": "They don't find a CV.",
                    "corrected": "They don't find CVs.",
                    "explanation": "The plural form 'CVs' is needed to refer to multiple resumes.",
                    "context": "The competition is fierce in the job market. They don't find CVs that meet their expectations."
                },
                {
                    "original": "If you have 1,000 euros, you are rich.",
                    "corrected": "If you have 1,000 euros, you are wealthy.",
                    "explanation": "'Rich' is informal; 'wealthy' is a more appropriate term in this context.",
                    "context": "In discussions about salaries, I've noticed perceptions vary. If you have 1,000 euros, you are considered wealthy in some circles."
                },
                {
                    "original": "They don't, but they try and try and try.",
                    "corrected": "They don't, but they keep trying.",
                    "explanation": "The phrase 'keep trying' is more idiomatic and concise than 'try and try and try.'",
                    "context": "In observing others' efforts, I've seen persistence. They don't understand perfectly, but they keep trying."
                },
                {
                    "original": "I don't understand them.",
                    "corrected": "I don't understand them well.",
                    "explanation": "Adding 'well' clarifies the extent of understanding.",
                    "context": "When listening to different accents, I often struggle. I don't understand them well, especially when they speak quickly."
                },
                {
                    "original": "You can know a language very good.",
                    "corrected": "You can know a language very well.",
                    "explanation": "'Good' should be replaced with 'well' as it describes how well you know the language.",
                    "context": "Language proficiency is complex. You can know a language very well, but still struggle with communication."
                },
                {
                    "original": "They just eat words, letters.",
                    "corrected": "They just eat words and letters.",
                    "explanation": "The conjunction 'and' is needed to connect the two items in the list.",
                    "context": "When discussing pronunciation issues, I often notice this. They just eat words and letters, making it hard to understand."
                },
                {
                    "original": "I have a sticker with some phrases.",
                    "corrected": "I have a sticker with some useful phrases.",
                    "explanation": "Adding 'useful' clarifies the purpose of the phrases.",
                    "context": "To help with communication, I prepared some tools. I have a sticker with some useful phrases to aid my conversations."
                },
                {
                    "original": "It's always better to learn from native speakers.",
                    "corrected": "It's always best to learn from native speakers.",
                    "explanation": "'Better' implies comparison; 'best' is more definitive.",
                    "context": "In my language learning journey, I've realized something important. It's always best to learn from native speakers for authenticity."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "I am trying to do the best of my ability to simulate a native speaker.",
                    "corrected": "I am trying to do my best to simulate a native speaker.",
                    "explanation": "The phrase 'the best of my ability' is less idiomatic; 'do my best' is more commonly used.",
                    "context": "I want to improve my speaking skills. I am trying to do my best to simulate a native speaker. This way, you won't feel intimidated when you talk to native speakers."
                },
                {
                    "original": "I have only one friend from Tandem for 10 years.",
                    "corrected": "I have had only one friend from Tandem for 10 years.",
                    "explanation": "The present perfect tense 'have had' is needed to indicate an ongoing situation that started in the past.",
                    "context": "I have been learning English for a long time. I have had only one friend from Tandem for 10 years. He is Brazilian and we practice together."
                },
                {
                    "original": "I turned the ring.",
                    "corrected": "I would turn the ring.",
                    "explanation": "Using 'would' indicates a habitual action in the past, which is more appropriate here.",
                    "context": "When I was a student, I often went to parties. I would turn the ring around so it looked like a wedding ring. This helped me feel more comfortable."
                },
                {
                    "original": "I still can't remember which hand is the right one.",
                    "corrected": "I still can't remember which hand is the correct one.",
                    "explanation": "'Correct' is more appropriate than 'right' in this context, as it refers to accuracy.",
                    "context": "I often get confused about wearing rings. I still can't remember which hand is the correct one for my wedding ring. It's a bit embarrassing."
                },
                {
                    "original": "I used it like some funny context.",
                    "corrected": "I used it in a funny context.",
                    "explanation": "'In a funny context' is the correct preposition to describe the situation.",
                    "context": "When writing, I like to add humor. I used it in a funny context to make my letter more interesting. It helps me stay engaged."
                },
                {
                    "original": "I don't come to this meeting because I fall down on cat vomit.",
                    "corrected": "I didn't come to this meeting because I fell down on cat vomit.",
                    "explanation": "The past tense 'didn't come' and 'fell down' is needed to indicate a completed action.",
                    "context": "I often find myself in funny situations. I didn't come to this meeting because I fell down on cat vomit. It was quite a ridiculous excuse."
                },
                {
                    "original": "I often add to this stories something crazy and funny.",
                    "corrected": "I often add something crazy and funny to these stories.",
                    "explanation": "The word order is incorrect; 'add something crazy and funny to these stories' is the correct structure.",
                    "context": "When I write, I like to keep it light. I often add something crazy and funny to these stories to make them more enjoyable. It keeps the reader engaged."
                },
                {
                    "original": "I would recommend the next two hours of your studying spend it listening to something that you like.",
                    "corrected": "I would recommend spending the next two hours of your studying listening to something that you like.",
                    "explanation": "The gerund 'spending' is needed here to correctly structure the recommendation.",
                    "context": "I want to help you improve your English. I would recommend spending the next two hours of your studying listening to something that you like. It will be more enjoyable."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Headphones",
                    "definition": "A device worn on or over the ears to listen to audio without disturbing others.",
                    "context": {
                        "Context 1": "I need to fix my headphones because they aren't working properly.",
                        "Context 2": "He wore his headphones while jogging to enjoy his favorite music.",
                        "Context 3": "The teacher asked the students to remove their headphones during the lesson."
                    }
                },
                {
                    "word": "Leasing",
                    "definition": "A financial arrangement in which one party pays for the use of an asset owned by another party.",
                    "context": {
                        "Context 1": "Leasing a phone allows you to use the latest model without paying the full price upfront.",
                        "Context 2": "Many people prefer leasing cars instead of buying them outright.",
                        "Context 3": "She decided to lease an apartment instead of purchasing a house."
                    }
                },
                {
                    "word": "Installment payments",
                    "definition": "Payments made over time, rather than in a single lump sum.",
                    "context": {
                        "Context 1": "With installment payments, you can buy a phone and pay for it monthly.",
                        "Context 2": "He chose installment payments for his new laptop to manage his budget better.",
                        "Context 3": "The store offers installment payments for furniture purchases."
                    }
                },
                {
                    "word": "Investment",
                    "definition": "The action or process of investing money for profit or material result.",
                    "context": {
                        "Context 1": "Having a baby is considered a long-term investment in your family's future.",
                        "Context 2": "Investing in stocks can be risky but may yield high returns.",
                        "Context 3": "She viewed her education as an investment in her career."
                    }
                },
                {
                    "word": "Discipline",
                    "definition": "The practice of training people to obey rules or a code of behavior.",
                    "context": {
                        "Context 1": "Being a parent introduces a new kind of discipline to your life.",
                        "Context 2": "He showed great discipline by sticking to his workout routine.",
                        "Context 3": "The school emphasizes discipline in its students' studies."
                    }
                },
                {
                    "word": "Nurturing",
                    "definition": "The act of caring for and encouraging the growth or development of someone or something.",
                    "context": {
                        "Context 1": "Nurturing a child involves teaching them important life skills.",
                        "Context 2": "The gardener is nurturing the plants to ensure they grow strong.",
                        "Context 3": "She believes that nurturing creativity in children is essential."
                    }
                },
                {
                    "word": "Stereotype",
                    "definition": "A widely held but oversimplified idea or image of a particular type of person or thing.",
                    "context": {
                        "Context 1": "There is a stereotype that certain toys are only for girls.",
                        "Context 2": "He challenged the stereotype that men can't be nurses.",
                        "Context 3": "The movie aimed to break stereotypes about different cultures."
                    }
                },
                {
                    "word": "Pedagogical",
                    "definition": "Related to the methods and practice of teaching.",
                    "context": {
                        "Context 1": "Understanding pedagogical concepts is crucial for effective teaching.",
                        "Context 2": "The conference focused on innovative pedagogical strategies for educators.",
                        "Context 3": "She wrote a thesis on pedagogical approaches in early childhood education."
                    }
                },
                {
                    "word": "Conflict",
                    "definition": "A serious disagreement or argument, typically a protracted one.",
                    "context": {
                        "Context 1": "Teaching children how to solve conflicts is an important part of parenting.",
                        "Context 2": "The conflict between the two countries lasted for decades.",
                        "Context 3": "He resolved the conflict between his friends peacefully."
                    }
                },
                {
                    "word": "Rest",
                    "definition": "To cease work or movement in order to relax, refresh oneself, or recover strength.",
                    "context": {
                        "Context 1": "After dropping the baby at the nursery, she finally had some time to rest.",
                        "Context 2": "He decided to rest after a long day of hiking.",
                        "Context 3": "The doctor advised her to rest for a few days after the surgery."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Headphones",
                    "fact": "The first headphones were invented in 1910 and were so large they looked like a pair of earmuffs!"
                },
                {
                    "word": "Investment",
                    "fact": "In ancient Rome, people would invest in gladiators, betting on who would win in the arena!"
                },
                {
                    "word": "Stereotype",
                    "fact": "Did you know that thereâ€™s a stereotype that cats hate water? But many cats actually enjoy playing in it!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the parent bring a ladder to the nursery?",
                    "answer": "Because they heard the kids were going to have a high time!"
                },
                {
                    "question": "Why did the baby cookie cry?",
                    "answer": "Because its mom was a wafer (away for) so long!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Focus",
                    "definition": "To concentrate attention or effort on a particular task or subject.",
                    "context": {
                        "Context 1": "Now I want to be focused only on one task.",
                        "Context 2": "She needs to focus on her studies to pass the exam.",
                        "Context 3": "The artist found it hard to focus with all the noise around."
                    }
                },
                {
                    "word": "Struggle",
                    "definition": "To make a strenuous effort or to have difficulty doing something.",
                    "context": {
                        "Context 1": "Speaking is struggling, yeah?",
                        "Context 2": "He struggled to lift the heavy box.",
                        "Context 3": "The team struggled to finish the project on time."
                    }
                },
                {
                    "word": "Improve",
                    "definition": "To make or become better.",
                    "context": {
                        "Context 1": "I can see that your speaking improves every time we have a lesson.",
                        "Context 2": "She worked hard to improve her grades this semester.",
                        "Context 3": "The company aims to improve customer satisfaction."
                    }
                },
                {
                    "word": "Adapt",
                    "definition": "To adjust to new conditions or environments.",
                    "context": {
                        "Context 1": "Your brain will struggle at first, but give it a couple of months, and you will see that now all of a sudden it feels comfortable.",
                        "Context 2": "Animals adapt to their surroundings for survival.",
                        "Context 3": "He had to adapt his cooking style after moving to a new country."
                    }
                },
                {
                    "word": "Motivation",
                    "definition": "The reason or reasons one has for acting or behaving in a particular way.",
                    "context": {
                        "Context 1": "Do you feel like you are motivated enough to study English?",
                        "Context 2": "Her motivation to exercise comes from wanting to be healthy.",
                        "Context 3": "The coach inspired the team with his motivation to win."
                    }
                },
                {
                    "word": "Tandem",
                    "definition": "A situation where two or more people work together to achieve a common goal.",
                    "context": {
                        "Context 1": "Some guys mixed up the tandem with Tinder.",
                        "Context 2": "The bicycle was built for tandem riding.",
                        "Context 3": "They worked in tandem to complete the project."
                    }
                },
                {
                    "word": "Documentation",
                    "definition": "Material that provides official information or evidence, often in written form.",
                    "context": {
                        "Context 1": "All the documentation is written in English.",
                        "Context 2": "The software documentation was very helpful for new users.",
                        "Context 3": "He spent hours reviewing the documentation for the new system."
                    }
                },
                {
                    "word": "Express",
                    "definition": "To convey a thought or feeling in words or gestures.",
                    "context": {
                        "Context 1": "Now I can express myself freely, and that means I'm improving.",
                        "Context 2": "She expressed her gratitude with a heartfelt thank you.",
                        "Context 3": "Artists often express their emotions through their work."
                    }
                },
                {
                    "word": "Technical",
                    "definition": "Relating to a specific field of knowledge or skill, often requiring specialized knowledge.",
                    "context": {
                        "Context 1": "I learned technical English in university.",
                        "Context 2": "The technical specifications of the device were complex.",
                        "Context 3": "He has a technical background in engineering."
                    }
                },
                {
                    "word": "Patterns",
                    "definition": "A repeated or regular arrangement of elements or events.",
                    "context": {
                        "Context 1": "Some patterns you start noticing.",
                        "Context 2": "The quilt had beautiful patterns sewn into it.",
                        "Context 3": "She noticed a pattern in the way he always arrived late."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Focus",
                    "fact": "Did you know that the average human attention span is shorter than that of a goldfish? That's about 8 seconds!"
                },
                {
                    "word": "Struggle",
                    "fact": "The word 'struggle' comes from the Old English 'strugglian,' which means to 'strive' or 'to contend.'"
                },
                {
                    "word": "Motivation",
                    "fact": "In ancient Rome, the word 'motivation' was often associated with the idea of 'moving' or 'driving' someone to action."
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of anxiety!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Enunciation",
                    "definition": "The act of pronouncing words clearly and distinctly.",
                    "context": {
                        "Context 1": "Enunciation is important in language learning, as it helps others understand you better.",
                        "Context 2": "The singer's enunciation made the lyrics of the song easy to follow.",
                        "Context 3": "During the speech competition, the judges emphasized the importance of enunciation."
                    }
                },
                {
                    "word": "Proficient",
                    "definition": "Competent or skilled in doing or using something.",
                    "context": {
                        "Context 1": "She is proficient in English, which helps her communicate effectively in her job.",
                        "Context 2": "The chef is proficient in Italian cuisine, making delicious pasta dishes.",
                        "Context 3": "He became proficient at playing the guitar after years of practice."
                    }
                },
                {
                    "word": "Relocate",
                    "definition": "To move to a different place, often for work or personal reasons.",
                    "context": {
                        "Context 1": "He had to relocate to Moscow for a better job opportunity.",
                        "Context 2": "After the storm, many families had to relocate to safer areas.",
                        "Context 3": "The company decided to relocate its headquarters to a larger city."
                    }
                },
                {
                    "word": "Accent",
                    "definition": "A distinctive way of pronouncing a language, often associated with a particular region or group.",
                    "context": {
                        "Context 1": "She struggled to understand the Indian accent during the meeting.",
                        "Context 2": "His British accent made him stand out in the American classroom.",
                        "Context 3": "Learning different accents can help improve your listening skills."
                    }
                },
                {
                    "word": "Interlocutor",
                    "definition": "A person who takes part in a conversation or dialogue.",
                    "context": {
                        "Context 1": "When speaking with an interlocutor, it's important to ask questions for clarification.",
                        "Context 2": "The interlocutor in the debate presented compelling arguments.",
                        "Context 3": "In a language exchange, each person acts as an interlocutor for the other."
                    }
                },
                {
                    "word": "Tempo",
                    "definition": "The speed at which a piece of music or speech is delivered.",
                    "context": {
                        "Context 1": "If you ask your interlocutor to adjust their tempo, it can help you understand better.",
                        "Context 2": "The musician changed the tempo of the song to make it more lively.",
                        "Context 3": "In a race, maintaining a steady tempo is crucial for success."
                    }
                },
                {
                    "word": "Cheating",
                    "definition": "The act of deceiving or tricking someone, often to gain an unfair advantage.",
                    "context": {
                        "Context 1": "Using Google Translator in conversations was seen as cheating by her teacher.",
                        "Context 2": "He was caught cheating on the exam and faced serious consequences.",
                        "Context 3": "In sports, cheating can lead to disqualification and tarnished reputations."
                    }
                },
                {
                    "word": "Labor",
                    "definition": "Work, especially hard physical work or the workforce in a particular industry.",
                    "context": {
                        "Context 1": "The IT labor market in Europe is very competitive.",
                        "Context 2": "Many people in agriculture rely on seasonal labor to harvest crops.",
                        "Context 3": "Labor unions advocate for workers' rights and better working conditions."
                    }
                },
                {
                    "word": "Mentality",
                    "definition": "A characteristic way of thinking or a mindset.",
                    "context": {
                        "Context 1": "The specific mentality of Indian developers can differ from that of their European counterparts.",
                        "Context 2": "Her positive mentality helped her overcome challenges in her career.",
                        "Context 3": "The mentality of a team can greatly influence its success."
                    }
                },
                {
                    "word": "Specialization",
                    "definition": "The process of focusing on a particular area of study or work.",
                    "context": {
                        "Context 1": "The courses on Domestika offer various specializations, like storytelling and children illustration.",
                        "Context 2": "His specialization in marine biology led him to work on ocean conservation projects.",
                        "Context 3": "Specialization in a specific field can enhance job prospects."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Accent",
                    "fact": "Did you know that there are over 160 different accents in the English language alone?"
                },
                {
                    "word": "Cheating",
                    "fact": "In some cultures, it's considered cheating if you don't share your snacks with friends!"
                },
                {
                    "word": "Labor",
                    "fact": "The word 'labor' comes from the Latin 'laborare,' which means 'to work,' but it also sounds like 'laboratory,' where you work on experiments!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of anxiety!"
                },
                {
                    "question": "Why did the developer go broke?",
                    "answer": "Because he lost his domain in a bet!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Intimidated",
                    "definition": "Feeling frightened or nervous, especially in a situation where one feels less confident.",
                    "context": {
                        "Context 1": "Many students feel intimidated when speaking with native speakers for the first time.",
                        "Context 2": "The lion's roar can intimidate even the bravest of adventurers.",
                        "Context 3": "She felt intimidated by the size of the crowd at the concert."
                    }
                },
                {
                    "word": "Amulet",
                    "definition": "An object worn to bring good luck or protection against evil.",
                    "context": {
                        "Context 1": "She wore an amulet around her neck for good luck during exams.",
                        "Context 2": "In ancient cultures, warriors often carried amulets into battle.",
                        "Context 3": "He believed that his lucky amulet helped him win the lottery."
                    }
                },
                {
                    "word": "Boring",
                    "definition": "Not interesting; tedious.",
                    "context": {
                        "Context 1": "The IELTS listening section can be quite boring if you're not engaged.",
                        "Context 2": "The movie was so boring that I fell asleep halfway through.",
                        "Context 3": "He found the lecture boring and started doodling in his notebook."
                    }
                },
                {
                    "word": "Formal essay",
                    "definition": "A structured piece of writing that presents an argument or analysis in a formal style.",
                    "context": {
                        "Context 1": "Writing a formal essay requires a clear thesis and supporting evidence.",
                        "Context 2": "She spent hours perfecting her formal essay for the university application.",
                        "Context 3": "The teacher emphasized the importance of grammar in a formal essay."
                    }
                },
                {
                    "word": "Advantageous",
                    "definition": "Creating favorable circumstances that increase the chances of success.",
                    "context": {
                        "Context 1": "Studying enjoyable materials can be more advantageous for language learning.",
                        "Context 2": "Having a mentor can be advantageous in navigating your career.",
                        "Context 3": "It is advantageous to start saving for retirement early."
                    }
                },
                {
                    "word": "Circus",
                    "definition": "A traveling company of performers that may include acrobats, clowns, and trained animals.",
                    "context": {
                        "Context 1": "The phrase 'not my circus, not my monkeys' means it's not my problem.",
                        "Context 2": "The circus came to town, bringing excitement and joy to the children.",
                        "Context 3": "She loved the circus, especially the acrobats and the elephants."
                    }
                },
                {
                    "word": "Simulate",
                    "definition": "To imitate the appearance or character of something.",
                    "context": {
                        "Context 1": "I try to simulate a native speaker to help my students feel comfortable.",
                        "Context 2": "The flight simulator allows pilots to practice without leaving the ground.",
                        "Context 3": "They used a computer program to simulate the effects of climate change."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or situation.",
                    "context": {
                        "Context 1": "Understanding the context of a conversation can help with comprehension.",
                        "Context 2": "The historical context of the painting adds depth to its meaning.",
                        "Context 3": "In a different context, his joke might have been taken seriously."
                    }
                },
                {
                    "word": "Practice",
                    "definition": "The repeated exercise of an activity or skill to acquire or maintain proficiency.",
                    "context": {
                        "Context 1": "We should practice speaking with native speakers to improve our skills.",
                        "Context 2": "She practices the piano every day to prepare for her recital.",
                        "Context 3": "The team needs more practice before the big game next week."
                    }
                },
                {
                    "word": "Listening",
                    "definition": "The active process of receiving and interpreting spoken language.",
                    "context": {
                        "Context 1": "Listening to stories can improve your understanding of the language.",
                        "Context 2": "Good listening skills are essential for effective communication.",
                        "Context 3": "She enjoys listening to podcasts during her commute."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Intimidated",
                    "fact": "Did you know that even the most confident people can feel intimidated by a simple math problem?"
                },
                {
                    "word": "Amulet",
                    "fact": "In ancient Egypt, people wore amulets shaped like cats to protect them from bad luckâ€”good thing they didnâ€™t have to wear real cats!"
                },
                {
                    "word": "Circus",
                    "fact": "The word 'circus' comes from the Latin word for 'circle,' which is fitting since many circus acts involve circlesâ€”like clowns running in circles trying to catch their own tails!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the scarecrow win an award?",
                    "answer": "Because he was outstanding in his field!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you get new headphones or something?"
                },
                {
                    "Person 2": "Oh, these? Nah, they're just my old ones. I wish I had the latest AirPods, though!"
                },
                {
                    "Person 1": "I hear you! Everyone seems to have the newest model. Itâ€™s like a competition or something."
                },
                {
                    "Person 2": "Right? My husband switches his phone every six months. Itâ€™s wild!"
                },
                {
                    "Person 1": "Wow, thatâ€™s a lot! Iâ€™m still using my phone from two years ago."
                },
                {
                    "Person 2": "Same here! I feel like Iâ€™m the only one not keeping up with the latest tech."
                },
                {
                    "Person 1": "So, whatâ€™s this leasing thing everyone talks about?"
                },
                {
                    "Person 2": "Oh, leasing is when you pay for a phone in installments. You donâ€™t pay the full price upfront."
                },
                {
                    "Person 1": "That sounds convenient! So, you can just trade it in for a new one after a while?"
                },
                {
                    "Person 2": "Exactly! You give back the old phone, and they give you a new one. Itâ€™s pretty neat!"
                },
                {
                    "Person 1": "I might have to look into that. My phone is starting to act up."
                },
                {
                    "Person 2": "Yeah, itâ€™s worth considering. Just donâ€™t forget to check the reviews first!"
                },
                {
                    "Person 1": "For sure! Speaking of reviews, have you seen any good movies lately?"
                },
                {
                    "Person 2": "Not really! Between work and parenting, I barely have time to watch anything."
                },
                {
                    "Person 1": "I get that! Being a parent is a full-time job in itself."
                },
                {
                    "Person 2": "Totally! Itâ€™s like you lose your own time. But itâ€™s rewarding too, I guess."
                },
                {
                    "Person 1": "Definitely! Just gotta find that balance, right?"
                },
                {
                    "Person 2": "Exactly! Maybe we can plan a movie night soon when we both have a free evening."
                },
                {
                    "Person 1": "That sounds like a plan! Iâ€™ll bring the popcorn!"
                },
                {
                    "Person 2": "And Iâ€™ll bring the drinks! Canâ€™t wait!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's your English studying going?"
                },
                {
                    "Person 2": "Pretty good, actually! I've been focusing on it a lot lately."
                },
                {
                    "Person 1": "That's awesome! Are you feeling more confident when you speak?"
                },
                {
                    "Person 2": "Yeah, I think so! I still mess up some grammar, but I can express myself better now."
                },
                {
                    "Person 1": "That's what matters! Have you been practicing with anyone?"
                },
                {
                    "Person 2": "I found a few language exchange partners online. It's been fun!"
                },
                {
                    "Person 1": "Nice! I tried that once, but some people thought it was a dating app."
                },
                {
                    "Person 2": "Right? I had to clarify that I just wanted to practice English."
                },
                {
                    "Person 1": "So, what are you doing to improve your vocabulary?"
                },
                {
                    "Person 2": "I've been reading a lot and watching movies in English. It helps a ton!"
                },
                {
                    "Person 1": "That's a great idea! I should do that too. What movies have you watched?"
                },
                {
                    "Person 2": "I just watched a comedy. It was hilarious, and I learned some new phrases."
                },
                {
                    "Person 1": "Comedies are the best for learning! They use everyday language."
                },
                {
                    "Person 2": "Exactly! Plus, laughing makes it more enjoyable."
                },
                {
                    "Person 1": "Do you have any plans for your English practice this week?"
                },
                {
                    "Person 2": "I have a job interview in English coming up, so Iâ€™m preparing for that."
                },
                {
                    "Person 1": "That sounds a bit stressful, but you'll do great!"
                },
                {
                    "Person 2": "Thanks! I just need to brush up on some technical terms."
                },
                {
                    "Person 1": "Good luck! Just remember to take a deep breath before you start."
                },
                {
                    "Person 2": "Will do! And Iâ€™ll let you know how it goes."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you ever thought about how much easier it is to find a job if you know English?"
                },
                {
                    "Person 2": "Totally! I mean, I know people who got jobs just because they could speak English. It's like a superpower!"
                },
                {
                    "Person 1": "Right? I remember my teacher back in school said I could only do math. Can you believe that?"
                },
                {
                    "Person 2": "What? That's ridiculous! Teachers can be so wrong sometimes. I had a few like that too."
                },
                {
                    "Person 1": "Exactly! And now I realize how important it is to learn languages. I wish I had more time to practice."
                },
                {
                    "Person 2": "Same here! Life gets so busy, especially when youâ€™re trying to settle down and buy a house."
                },
                {
                    "Person 1": "Oh, I know that struggle! It took me years to get my life together before I could even think about learning more."
                },
                {
                    "Person 2": "Yeah, and then you have to deal with all the expenses. It's like a never-ending cycle."
                },
                {
                    "Person 1": "For sure! And then you hear about people working remotely and making good money. It feels like a dream."
                },
                {
                    "Person 2": "Right? But then you think about the time zones and communication barriers. It can be tough."
                },
                {
                    "Person 1": "Exactly! I tried talking to someone from India once, and it was a challenge. Their accent was hard to follow."
                },
                {
                    "Person 2": "I get that! I still struggle with some accents. But hey, at least weâ€™re trying to improve, right?"
                },
                {
                    "Person 1": "Absolutely! I found this cool website with courses. Itâ€™s all about storytelling and creative stuff."
                },
                {
                    "Person 2": "Oh, that sounds interesting! I love storytelling. Whatâ€™s the name of the site?"
                },
                {
                    "Person 1": "It's called Domestika. They have short videos that make learning fun!"
                },
                {
                    "Person 2": "Nice! Iâ€™ll have to check it out. Learning from native speakers is definitely the way to go."
                },
                {
                    "Person 1": "For sure! Letâ€™s keep each other motivated to learn more."
                },
                {
                    "Person 2": "Deal! We can share tips and resources. Itâ€™ll be fun!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to get through some work. How about you?"
                },
                {
                    "Person 1": "Same here. Iâ€™ve been trying to improve my listening skills in English."
                },
                {
                    "Person 2": "Oh, nice! Have you found anything that helps?"
                },
                {
                    "Person 1": "Yeah, I started listening to some podcasts. Theyâ€™re way more interesting than the usual study materials."
                },
                {
                    "Person 2": "That sounds fun! What kind of podcasts?"
                },
                {
                    "Person 1": "Mostly comedy and storytelling. It really keeps my attention."
                },
                {
                    "Person 2": "I love that! I need to find some good ones. I usually just listen to music."
                },
                {
                    "Person 1": "Music is great, but sometimes itâ€™s nice to hear people talk about funny stuff."
                },
                {
                    "Person 2": "Totally! I remember when I was studying, I used to listen to a podcast about weird facts."
                },
                {
                    "Person 1": "That sounds hilarious! Iâ€™d love to hear some of those."
                },
                {
                    "Person 2": "Iâ€™ll send you the link! Youâ€™ll get a kick out of it."
                },
                {
                    "Person 1": "Awesome, thanks! By the way, do you have any tips for writing essays? Iâ€™m struggling a bit."
                },
                {
                    "Person 2": "Yeah, Iâ€™d say start with an outline. It helps to organize your thoughts."
                },
                {
                    "Person 1": "Good idea! I always jump in without a plan and then get lost."
                },
                {
                    "Person 2": "Exactly! And donâ€™t worry about making it perfect on the first try. Just get your ideas down."
                },
                {
                    "Person 1": "Thatâ€™s true. Iâ€™ll give it a shot. Thanks for the advice!"
                },
                {
                    "Person 2": "Anytime! Let me know how it goes."
                },
                {
                    "Person 1": "Will do! Catch you later!"
                },
                {
                    "Person 2": "See you! Good luck with your studying!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
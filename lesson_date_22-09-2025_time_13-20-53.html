<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I didn't heard it and took the third.",
                    "corrected": "I didn't hear it and took the third.",
                    "explanation": "The verb 'hear' should be in the base form 'hear' instead of the past participle 'heard' after 'didn't.'",
                    "context": "During my driving lesson, I made a mistake. I didn't hear the instructor correctly and took the third exit instead of the second."
                },
                {
                    "original": "usually break rules in order to get around in order to avoid hitting the pothole.",
                    "corrected": "usually break rules in order to get around and avoid hitting the pothole.",
                    "explanation": "Repetition of 'in order to' is unnecessary; it can be simplified.",
                    "context": "Driving according to the rules is quite difficult, especially in Perislavl. People usually break rules in order to get around and avoid hitting the pothole."
                },
                {
                    "original": "kind of but I will have another one tomorrow and on Wednesday.",
                    "corrected": "kind of, but I will have another lesson tomorrow and on Wednesday.",
                    "explanation": "The word 'lesson' is needed for clarity and grammatical correctness.",
                    "context": "After my driving lesson, I felt kind of nervous. I will have another lesson tomorrow and on Wednesday before the exam."
                },
                {
                    "original": "I can tell you that I failed two times and only on my third try I actually passed the test.",
                    "corrected": "I can tell you that I failed twice, and only on my third try did I actually pass the test.",
                    "explanation": "The adverb 'twice' is more appropriate than 'two times,' and the sentence structure needs inversion for emphasis.",
                    "context": "I experienced several challenges while learning to drive. I can tell you that I failed twice, and only on my third try did I actually pass the test."
                },
                {
                    "original": "it's only two days today and tomorrow.",
                    "corrected": "it's only two days: today and tomorrow.",
                    "explanation": "Colons are used to clarify the items being listed and improve sentence clarity.",
                    "context": "With my upcoming driving exam, I have a very tight schedule. It's only two days: today and tomorrow."
                },
                {
                    "original": "Zoom is not working very good for some reason.",
                    "corrected": "Zoom is not working very well for some reason.",
                    "explanation": "'Good' should be replaced with 'well' since it describes how the verb 'working' operates.",
                    "context": "While trying to set up a meeting, I noticed some issues. Zoom is not working very well for some reason."
                },
                {
                    "original": "there is a lag around one second.",
                    "corrected": "there is a lag of about one second.",
                    "explanation": "The phrase should use 'lag of' to indicate the amount of delay.",
                    "context": "I was experiencing technical difficulties during our call. There is a lag of about one second."
                },
                {
                    "original": "I did the exercise where I need to find where I need to put words into the little text.",
                    "corrected": "I did the exercise where I had to find where I needed to put words into the little text.",
                    "explanation": "The verb forms should match in tense; 'had to' and 'needed' maintain past tense consistency.",
                    "context": "During our review session, I mentioned my homework. I did the exercise where I had to find where I needed to put words into the little text."
                },
                {
                    "original": "the algorithmic ation of jobs.",
                    "corrected": "the algorithmization of jobs.",
                    "explanation": "The term 'algorithmic ation' is incorrect; it should be 'algorithmization' to properly describe the process.",
                    "context": "While discussing the reading material, I encountered specific terms. The algorithmization of jobs was one of the key themes."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "the way human instinct in the task it says experimenting and using their own blah blah blah in the Texas experimentation and instinct",
                    "corrected": "the way human instinct is described in the task, which mentions experimenting and using their own insights.",
                    "explanation": "The original sentence lacks clarity and structure. It misuses 'in the Texas' which should likely be 'in the text', confusing the listener.",
                    "context": "We are discussing how human instinct plays a role in decision-making. The way human instinct is described in the task highlights experimenting and using their own insights."
                },
                {
                    "original": "let's locate where should we look for research that trying to make our eyes decision-making process or to comprehend",
                    "corrected": "let's determine where we should look for research that aims to clarify our decision-making process.",
                    "explanation": "The phrase 'trying to make our eyes decision-making process' is unclear. It should be 'aims to clarify' for grammatical accuracy and clarity.",
                    "context": "We need to clarify our approach to finding relevant research. Let's determine where we should look for research that aims to clarify our decision-making process."
                },
                {
                    "original": "what is trustworthy what yeah is trustworthy means the same as easier to comprehend",
                    "corrected": "what is trustworthy? Does 'trustworthy' mean the same as 'easier to comprehend'?",
                    "explanation": "The original sentence lacks proper punctuation and structure, making it a run-on question. It should correctly separate the clauses for clarity.",
                    "context": "We're analyzing the meanings of different terms. What is trustworthy? Does 'trustworthy' mean the same as 'easier to comprehend'?"
                },
                {
                    "original": "this is what is it the third objective or what so it's not an objective",
                    "corrected": "is this the third objective or not? So, it's not an objective.",
                    "explanation": "The original structure is awkward. It should be rephrased for grammatical accuracy and clarity.",
                    "context": "We are trying to categorize points discussed in our analysis. Is this the third objective or not? So, it's not an objective."
                },
                {
                    "original": "they are explaining what transparent means the soul that organizations understand",
                    "corrected": "they are explaining what 'transparent' means so that organizations understand.",
                    "explanation": "The phrase 'the soul that' is incorrect; it should be 'so that' for clarity and grammatical correctness.",
                    "context": "In our discussion of terminology, they are explaining what 'transparent' means so that organizations understand."
                },
                {
                    "original": "so we have in the text we have first this point and then the second point",
                    "corrected": "in the text, we first have this point followed by the second point.",
                    "explanation": "The original uses repetitive phrasing and lacks proper structure. It should follow chronological order more clearly.",
                    "context": "As we analyze the text, in the text, we first have this point followed by the second point."
                },
                {
                    "original": "make a decision process easier to comprehend which of them is it about trustworthy or transparency transparency",
                    "corrected": "is 'making the decision process easier to comprehend' about trustworthiness or transparency?",
                    "explanation": "The original sentence is a run-on and confusing; it needs separation of thoughts for clarity.",
                    "context": "We are distinguishing between concepts in our discussion. Is 'making the decision process easier to comprehend' about trustworthiness or transparency?"
                },
                {
                    "original": "where does it say about that in the main mean time stays",
                    "corrected": "where does it mention that in the main text?",
                    "explanation": "'mean time stays' is not clear; 'main text' should be used for clarity.",
                    "context": "We need to find specific references in our materials. Where does it mention that in the main text?"
                },
                {
                    "original": "basically means partnership yeah 1920 is interesting because it's again about something about the list of things",
                    "corrected": "It basically means partnership. Also, 1920 is interesting because it's again about a list of things.",
                    "explanation": "The original combines ideas awkwardly; clearer separation of ideas is required.",
                    "context": "We're discussing key terms in our material. It basically means partnership. Also, 1920 is interesting because it's again about a list of things."
                },
                {
                    "original": "yeah basically the word poor only collocates with nutrition it does not work with any other word in the text in the box",
                    "corrected": "yes, basically the word 'poor' only collocates with 'nutrition'; it does not work with any other words in the text.",
                    "explanation": "The original is overly verbose and confusing. It should clarify its points with more concise structure.",
                    "context": "As we analyze language, yes, basically the word 'poor' only collocates with 'nutrition'; it does not work with any other words in the text."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I mean, yeah, because like hard to recall is the only word that kind of fits the gap.",
                    "corrected": "I mean, yeah, because 'hard to recall' is the only phrase that kind of fits the gap.",
                    "explanation": "'Word' is too general here; 'phrase' is more appropriate since multiple words are being referred to as a unit.",
                    "context": "In discussing the challenges of comprehension, I mentioned that recalling specific information can be a struggle. I mean, yeah, because 'hard to recall' is the only phrase that kind of fits the gap."
                },
                {
                    "original": "Like, there are a lot of...",
                    "corrected": "There are a lot of...",
                    "explanation": "Starting with 'like' is unnecessarily informal and does not add value to the sentence.",
                    "context": "In our discussion about the appropriate terms to use, I was about to elaborate further. There are a lot of expressions we could use to describe the text."
                },
                {
                    "original": "Combined content just doesn't sound right.",
                    "corrected": "‘Combined content’ just doesn't sound right.",
                    "explanation": "Quoting terms requires additional formatting, such as using quotation marks for clarity.",
                    "context": "When talking about the right terminology for emotional aspects, I wanted to emphasize the incorrect usage. ‘Combined content’ just doesn't sound right."
                },
                {
                    "original": "I spent four hours yesterday on making these things.",
                    "corrected": "I spent four hours yesterday making these things.",
                    "explanation": "The preposition 'on' is not needed; you can directly state the duration spent without it.",
                    "context": "I was sharing my experience about creating useful study materials. I spent four hours yesterday making these things."
                },
                {
                    "original": "Should we practice it more?",
                    "corrected": "Should we practice more?",
                    "explanation": "The word 'it' is unnecessary because the context of what should be practiced has already been established.",
                    "context": "I asked if we needed to further review the task material. Should we practice more?"
                },
                {
                    "original": "What we find.",
                    "corrected": "What do we find?",
                    "explanation": "The sentence lacks a subject and verb necessary for clarity and grammatical correctness.",
                    "context": "In our conversation, I was referring to what we might discover in the text. What do we find?"
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Driving Exam",
                    "definition": "A test to assess a person's ability to operate a motor vehicle safely.",
                    "context": {
                        "Context 1": "I have a driving exam on Wednesday, and I'm feeling a bit nervous.",
                        "Context 2": "She studied hard for her driving exam and passed on the first try.",
                        "Context 3": "The driving exam was moved to next month due to bad weather."
                    }
                },
                {
                    "word": "Instructor",
                    "definition": "A person who teaches a skill or subject; a teacher.",
                    "context": {
                        "Context 1": "My driving instructor told me I need to practice more before my test.",
                        "Context 2": "The gym instructor showed us how to properly lift weights.",
                        "Context 3": "The cooking instructor prepared an exquisite dish for the class."
                    }
                },
                {
                    "word": "Pothole",
                    "definition": "A bowl-shaped hole in a road surface caused by wear or subsidence.",
                    "context": {
                        "Context 1": "In Perislavl, there are a lot of potholes, and it's hard to avoid them while driving.",
                        "Context 2": "He hit a pothole and damaged his car's tire.",
                        "Context 3": "The city council is planning to fill the potholes throughout the neighborhood."
                    }
                },
                {
                    "word": "Roundabout",
                    "definition": "A circular intersection in which road traffic flows almost continuously in one direction around a central island.",
                    "context": {
                        "Context 1": "I took the third exit at the roundabout instead of the second, and it confused me.",
                        "Context 2": "There’s a new roundabout being built at the intersection to improve traffic flow.",
                        "Context 3": "She learned to be cautious when approaching a roundabout during her driving lessons."
                    }
                },
                {
                    "word": "Exam",
                    "definition": "A formal test, usually in an educational setting, assessing a person's knowledge or abilities.",
                    "context": {
                        "Context 1": "I will take my driving exam on Wednesday at 2 PM.",
                        "Context 2": "He studied late into the night for his final exam in mathematics.",
                        "Context 3": "The exam results were released, and many students were anxious to see their scores."
                    }
                },
                {
                    "word": "Mistake",
                    "definition": "An action or judgment that is misguided or wrong.",
                    "context": {
                        "Context 1": "During my driving lesson, I made two huge mistakes that I need to correct.",
                        "Context 2": "He realized his mistake after sending the email to the wrong recipient.",
                        "Context 3": "Making mistakes is part of the learning process, so don't be too hard on yourself."
                    }
                },
                {
                    "word": "Driving Lesson",
                    "definition": "Instructional sessions designed to teach a person how to operate a vehicle.",
                    "context": {
                        "Context 1": "I have another driving lesson scheduled for tomorrow.",
                        "Context 2": "Her first driving lesson was both exciting and nerve-wracking.",
                        "Context 3": "The driving lesson focused on parallel parking and navigating busy streets."
                    }
                },
                {
                    "word": "Nervous",
                    "definition": "Feeling worried or anxious, especially about an upcoming event.",
                    "context": {
                        "Context 1": "I feel kind of nervous after my driving lesson today.",
                        "Context 2": "She was nervous before her interview but ended up doing great.",
                        "Context 3": "It's normal to feel nervous before giving a big presentation."
                    }
                },
                {
                    "word": "Cheaper",
                    "definition": "Lower in cost; less expensive.",
                    "context": {
                        "Context 1": "I decided to take my driving exam in Perislavl because it's cheaper than in Moscow.",
                        "Context 2": "Buying groceries at the local market is often cheaper than at big supermarkets.",
                        "Context 3": "He found a cheaper alternative for his summer vacation plans."
                    }
                },
                {
                    "word": "Errors",
                    "definition": "Mistakes or inaccuracies.",
                    "context": {
                        "Context 1": "I made some errors during my driving practice that I need to address.",
                        "Context 2": "The paper had several errors, so the teacher asked for a rewrite.",
                        "Context 3": "Despite the errors in the presentation, the main ideas were still communicated effectively."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Pothole",
                    "fact": "The world’s largest pothole is located in Zambia and is known for housing a small family of monkeys!"
                },
                {
                    "word": "Roundabout",
                    "fact": "In the UK, there are more than 1,400 roundabouts, which is more than any other country!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the scarecrow win an award?",
                    "answer": "Because he was outstanding in his field!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Algorithm",
                    "definition": "A process or set of rules to be followed in calculations or problem-solving operations, usually by a computer.",
                    "context": {
                        "Context 1": "The algorithm made it easier for us to find the relevant data in the text.",
                        "Context 2": "He used a baking algorithm to measure the exact amount of ingredients for the cake.",
                        "Context 3": "The algorithm behind the game was so complex that many players struggled to understand it."
                    }
                },
                {
                    "word": "Intuition",
                    "definition": "The ability to understand something instinctively, without the need for conscious reasoning.",
                    "context": {
                        "Context 1": "Her intuition told her that the answer was in the next paragraph.",
                        "Context 2": "He relied on his intuition to choose the best restaurant in town.",
                        "Context 3": "Intuition can sometimes lead you to the right choice, especially in chess."
                    }
                },
                {
                    "word": "Confidence",
                    "definition": "The feeling or belief that one can rely on someone or something; firm trust.",
                    "context": {
                        "Context 1": "The team expressed their confidence in understanding the AI decision-making process.",
                        "Context 2": "She had the confidence to give her presentation without notes.",
                        "Context 3": "Confidence is key when approaching wild animals in the zoo."
                    }
                },
                {
                    "word": "Transparency",
                    "definition": "The quality of being done in an open way without secrets.",
                    "context": {
                        "Context 1": "The organization emphasized transparency to build trust with its users.",
                        "Context 2": "The glass walls of the office provided transparency, allowing people to see inside.",
                        "Context 3": "Transparency in communication is essential for a healthy relationship."
                    }
                },
                {
                    "word": "Tolerant",
                    "definition": "Showing willingness to allow the existence of opinions or behavior that one does not necessarily agree with.",
                    "context": {
                        "Context 1": "We should be more tolerant of microbes as they play a vital role in our ecosystem.",
                        "Context 2": "His tolerant nature made him a beloved teacher among students of all backgrounds.",
                        "Context 3": "A tolerant society is one that allows diverse cultures to thrive."
                    }
                },
                {
                    "word": "Symbiotic",
                    "definition": "Involving interaction between two different organisms living in close physical association, typically to the advantage of both.",
                    "context": {
                        "Context 1": "The symbiotic relationship between the bacteria and the plants helped them grow.",
                        "Context 2": "Cats and dogs can have a surprisingly symbiotic friendship when raised together.",
                        "Context 3": "In economics, a symbiotic relationship can exist between businesses that support each other."
                    }
                },
                {
                    "word": "Dilemma",
                    "definition": "A situation in which a difficult choice has to be made between two or more alternatives.",
                    "context": {
                        "Context 1": "Deciding between two job offers presented a real dilemma for him.",
                        "Context 2": "The dilemma of choosing what movie to watch on a Friday night is very relatable.",
                        "Context 3": "She faced a moral dilemma when she saw someone cheat on a test."
                    }
                },
                {
                    "word": "Objective",
                    "definition": "Something that one strives to attain; a goal.",
                    "context": {
                        "Context 1": "Understanding trustworthiness and transparency was the main objective of the discussion.",
                        "Context 2": "Her objective in life is to become a published author.",
                        "Context 3": "The objective of the game is to collect as many coins as possible."
                    }
                },
                {
                    "word": "Nutrition",
                    "definition": "The process of providing or obtaining the food necessary for health and growth.",
                    "context": {
                        "Context 1": "Our obsession with hygiene has affected our understanding of nutrition.",
                        "Context 2": "She studied nutrition to help athletes optimize their diet.",
                        "Context 3": "He reads every label for nutrition facts before buying groceries."
                    }
                },
                {
                    "word": "Compromise",
                    "definition": "An agreement or settlement of a dispute that is reached by each side making concessions.",
                    "context": {
                        "Context 1": "They reached a compromise on how to structure their research project.",
                        "Context 2": "Compromise is often necessary in relationships to maintain harmony.",
                        "Context 3": "The two countries made a compromise on the trade deal after several negotiations."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Algorithm",
                    "fact": "The word 'algorithm' is named after a Persian mathematician, Al-Khwarizmi, who lived in the 9th century."
                },
                {
                    "word": "Dilemma",
                    "fact": "There’s a well-known dilemma called 'The Trolley Problem'—it asks if you would pull a lever to switch a train onto a track where it would hit one person instead of five!"
                },
                {
                    "word": "Symbiotic",
                    "fact": "Did you know that clownfish and sea anemones have a symbiotic relationship? The fish are protected by the anemone while providing it with nutrients in return!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "It had too many bytes of unresolved issues!"
                },
                {
                    "question": "Why was the algorithm always calm?",
                    "answer": "Because it knew how to handle any problem efficiently!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Comprehension",
                    "definition": "The ability to understand something.",
                    "context": {
                        "Context 1": "The results indicated that students were struggling with their reading comprehension during the test.",
                        "Context 2": "The teacher conducted an experiment to measure the comprehension of a new math method.",
                        "Context 3": "Dog owners often have a great comprehension of their pet's feelings and needs."
                    }
                },
                {
                    "word": "Isolation",
                    "definition": "A state of separation from others.",
                    "context": {
                        "Context 1": "During the lesson, we discussed how isolation can affect students' learning.",
                        "Context 2": "The scientist studied the effects of social isolation on rats in a lab setting.",
                        "Context 3": "After the long hike, I found solace in the isolation of the mountaintop."
                    }
                },
                {
                    "word": "Combined",
                    "definition": "Merged or brought together.",
                    "context": {
                        "Context 1": "In the lesson, it was unclear what combined content meant without context.",
                        "Context 2": "The chef prepared a combined dish featuring flavors from Italy and Mexico.",
                        "Context 3": "The marathon was a combined event for both beginners and seasoned runners."
                    }
                },
                {
                    "word": "Complexity",
                    "definition": "The state of being composed of many interconnecting parts.",
                    "context": {
                        "Context 1": "The teacher explained that complexity in a text can make comprehension difficult.",
                        "Context 2": "The complexity of the puzzle made it challenging for the children to complete.",
                        "Context 3": "There is a great complexity in the way different cultures interpret time."
                    }
                },
                {
                    "word": "Emotional",
                    "definition": "Relating to feelings or emotions.",
                    "context": {
                        "Context 1": "The lesson emphasized the importance of understanding the emotional content of the material.",
                        "Context 2": "His emotional reaction to the movie was evident when he started to cry.",
                        "Context 3": "The emotional rollercoaster of the book kept the readers on edge."
                    }
                },
                {
                    "word": "Awareness",
                    "definition": "Knowledge or perception of a situation or fact.",
                    "context": {
                        "Context 1": "Raising your awareness of different patterns can improve vocabulary skills.",
                        "Context 2": "She reached a new level of awareness about her dietary choices.",
                        "Context 3": "He had a heightened awareness of the wildlife around him during the hike."
                    }
                },
                {
                    "word": "Themes",
                    "definition": "The underlying subjects or ideas in a text.",
                    "context": {
                        "Context 1": "The lesson discussed recurring themes in literature and their importance for comprehension.",
                        "Context 2": "The wedding had themes of love and friendship at its core.",
                        "Context 3": "The movie explored themes of betrayal and redemption."
                    }
                },
                {
                    "word": "Tasks",
                    "definition": "Jobs or assignments given to someone to complete.",
                    "context": {
                        "Context 1": "We worked on several tasks to improve reading comprehension.",
                        "Context 2": "Her tasks at work included managing the budget and organizing meetings.",
                        "Context 3": "The students were excited about the tasks assigned in their art class."
                    }
                },
                {
                    "word": "Experiment",
                    "definition": "A scientific procedure to test a hypothesis.",
                    "context": {
                        "Context 1": "The teacher mentioned an experiment to study the effects of reading methods.",
                        "Context 2": "The scientist conducted an experiment to observe the behavior of the new species.",
                        "Context 3": "Cooking can be an experiment where you try new flavors and ingredients."
                    }
                },
                {
                    "word": "Resources",
                    "definition": "Materials or tools used to perform a task.",
                    "context": {
                        "Context 1": "He suggested using better resources to improve our vocabulary skills.",
                        "Context 2": "The library has a wealth of resources available for research.",
                        "Context 3": "Artists often rely on various resources for inspiration."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Comprehension",
                    "fact": "Did you know that in some species of birds, their 'comprehension' of songs is so advanced they can even imitate human words?"
                },
                {
                    "word": "Isolation",
                    "fact": "Isolation can lead to some funny moments; even cats sometimes forget they have humans until mealtime!"
                },
                {
                    "word": "Awareness",
                    "fact": "According to a study, goldfish can have better awareness of their surroundings than some humans—especially when it comes to food!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because their students were so bright!"
                },
                {
                    "question": "What do you call a teacher who never gets lost?",
                    "answer": "A geography teacher!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, do you hear me?"
                },
                {
                    "Person 2": "Yeah, I hear you loud and clear! How about you?"
                },
                {
                    "Person 1": "I’m good! Just chilling at my grandparents' place. What about you?"
                },
                {
                    "Person 2": "Nice! I'm just at home trying to get some work done. How’s your grandparents’ place?"
                },
                {
                    "Person 1": "It's cozy! I love visiting them. So, what’s new? Any big plans this week?"
                },
                {
                    "Person 2": "Well, I have a driving exam coming up on Wednesday. Kind of nervous about it."
                },
                {
                    "Person 1": "Oh, wow! Good luck! Are you practicing much?"
                },
                {
                    "Person 2": "Yeah, I’ve been taking lessons. But I messed up a bit during my last one."
                },
                {
                    "Person 1": "What happened?"
                },
                {
                    "Person 2": "I took the wrong exit at a roundabout and ended up in a pothole instead of hitting a car."
                },
                {
                    "Person 1": "That sounds rough! But I guess hitting a pothole is better than crashing into a car."
                },
                {
                    "Person 2": "Exactly! But my instructor said it still counts against me."
                },
                {
                    "Person 1": "Instructors can be tough! What’s your game plan for the exam?"
                },
                {
                    "Person 2": "I’ve got another lesson tomorrow, then one more right before the test. Hoping to get it right!"
                },
                {
                    "Person 1": "Sounds smart! Just breathe and take your time. You’ve got this!"
                },
                {
                    "Person 2": "Thanks! I really need the good vibes. Do you have any tips?"
                },
                {
                    "Person 1": "Just remember to stay calm and focus. And maybe avoid potholes if you can!"
                },
                {
                    "Person 2": "Haha! Good advice! I’ll keep that in mind. Thanks for the support!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you noticed how much time people spend on their phones nowadays?"
                },
                {
                    "Person 2": "Totally! I was talking to a friend the other day, and we both realized we can’t even sit through a ten-minute video without distractions."
                },
                {
                    "Person 1": "Right? I used to binge-watch entire seasons of shows without even blinking. Now I’m checking Instagram every few minutes."
                },
                {
                    "Person 2": "Same here! It feels like my attention span has shrunk. The other night, I tried to read a book, and I kept picking up my phone."
                },
                {
                    "Person 1": "I know what you mean! It’s like our brains have adjusted to quick bursts of information. Have you heard about that study that says we might be training our brains for distraction?"
                },
                {
                    "Person 2": "Yeah! It’s kind of scary when you think about it. I wonder what this is doing to our ability to focus on important tasks."
                },
                {
                    "Person 1": "Exactly! I’m considering setting limits on my phone use. Maybe no scrolling an hour before bed?"
                },
                {
                    "Person 2": "That sounds like a good idea! I might try that too. Let’s hold each other accountable."
                },
                {
                    "Person 1": "Deal! We can check in next week and see how it's going."
                },
                {
                    "Person 2": "Perfect! Unless, of course, we forget because we get distracted again."
                },
                {
                    "Person 1": "Haha, that’s probably going to happen! But at least we can try!"
                },
                {
                    "Person 2": "For sure! I’m in."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a comeback, right?"
                },
                {
                    "Person 1": "Totally! I thought they were done for after the third quarter."
                },
                {
                    "Person 2": "Same here. I was ready to turn it off, but I'm glad I stuck around!"
                },
                {
                    "Person 1": "The last-minute touchdown was insane! I was jumping off my couch."
                },
                {
                    "Person 2": "I know! My dog was looking at me like I was crazy."
                },
                {
                    "Person 1": "Haha! Dogs do have that judging look. What did you think about the referee's calls, though?"
                },
                {
                    "Person 2": "Ugh, don’t get me started! Some of those were questionable at best."
                },
                {
                    "Person 1": "Right? I swear, they need to get better at making those calls."
                },
                {
                    "Person 2": "For real! Anyway, are you up for watching the next game together?"
                },
                {
                    "Person 1": "Absolutely! Snacks and drinks, right?"
                },
                {
                    "Person 2": "You know it! I’ll bring the chips."
                },
                {
                    "Person 1": "And I’ll bring the dip. It’s going to be epic!"
                },
                {
                    "Person 2": "Can’t wait! Let’s hope for another good game."
                },
                {
                    "Person 1": "For sure! See you then!"
                },
                {
                    "Person 2": "See ya!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I have a problems one second please Ilya Internet is good",
                    "corrected": "I have a problem, one second please, Ilya. The Internet is good.",
                    "explanation": "The article 'a' should be used with singular nouns. 'Problems' is plural, so 'a problems' is incorrect.",
                    "context": "I was trying to communicate some technical issues with my internet connection. I have a problem; one second please, Ilya. The Internet is good."
                },
                {
                    "original": "do you have a good VPN? on phone yes a paid VPN",
                    "corrected": "Do you have a good VPN on your phone? Yes, a paid VPN.",
                    "explanation": "The sentence structure needs to be clear; 'on phone' is missing the article 'your'.",
                    "context": "We were discussing VPNs and their effectiveness. Do you have a good VPN on your phone? Yes, a paid VPN."
                },
                {
                    "original": "how does it calls",
                    "corrected": "What do you call it?",
                    "explanation": "'How does it calls' is incorrect; we use 'what' to ask for the name of something, and the verb 'call' does not need 'does' in this context.",
                    "context": "I was curious about the VPN application Ilya uses. What do you call it? I donâ€™t know, but I just paid for it and it works pretty well."
                },
                {
                    "original": "I lived six years but I moved to my parents",
                    "corrected": "I lived there for six years but then I moved back to my parents' house.",
                    "explanation": "'To my parents' needs clarification, and 'lived' should reference a place. Adding 'there' and 'for' improves clarity.",
                    "context": "I was explaining my living situation. I lived there for six years, but then I moved back to my parents' house."
                },
                {
                    "original": "I want to improve my English skills because I understood what I need in this language in my future life",
                    "corrected": "I want to improve my English skills because I understand what I will need in this language in my future life.",
                    "explanation": "The verb 'understood' is past tense, but the context is about current and future needs, requiring present tense.",
                    "context": "I was explaining my motivation for learning English. I want to improve my English skills because I understand what I will need in this language in my future life."
                },
                {
                    "original": "I want to pass, I want to take the English language as an exam in 11th grade",
                    "corrected": "I want to pass it; I want to take English as an exam in 11th grade.",
                    "explanation": "The phrase 'pass, I want to take' needs punctuation and clearer reference to what 'it' is.",
                    "context": "I was outlining my academic goals. I want to pass it; I want to take English as an exam in 11th grade."
                },
                {
                    "original": "I think this is not really a hard country for education",
                    "corrected": "I think this is not a very hard country for education.",
                    "explanation": "'Really' is informal; 'very' is more appropriate in this context.",
                    "context": "We were discussing my interest in studying abroad. I think this is not a very hard country for education."
                },
                {
                    "original": "I understand what it can broaden my mind",
                    "corrected": "I understand that it can broaden my mind.",
                    "explanation": "The sentence structure needs 'that' to connect the clauses properly.",
                    "context": "I was reflecting on the benefits of learning languages. I understand that it can broaden my mind."
                },
                {
                    "original": "I like the thing, the fact that you started watching movies in the original",
                    "corrected": "I like the fact that you started watching movies in the original.",
                    "explanation": "The phrase 'the thing, the fact' is redundant; simply saying 'the fact' is more concise.",
                    "context": "I was appreciating Ilya's approach to learning. I like the fact that you started watching movies in the original."
                },
                {
                    "original": "When we have something in our head and our brain is thinking how to express that, that's when it effectively studies the language.",
                    "corrected": "When we have something in our heads and our brains are thinking about how to express that, that's when we effectively study the language.",
                    "explanation": "Subject-verb agreement and pluralization are needed; 'head' and 'brain' should be plural to match 'we'.",
                    "context": "I was explaining the learning process. When we have something in our heads and our brains are thinking about how to express that, that's when we effectively study the language."
                },
                {
                    "original": "You can understand me, I can understand you. That's pretty well.",
                    "corrected": "You can understand me, and I can understand you. That's pretty good.",
                    "explanation": "'That's pretty well' is incorrect; 'good' should be used to describe a state of being, while 'well' describes an action.",
                    "context": "I was affirming our communication skills. You can understand me, and I can understand you. That's pretty good."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I played it a lot.",
                    "corrected": "I played it a lot.",
                    "explanation": "The phrase is correct; however, a more idiomatic expression would be 'I played it extensively' or 'I played it a lot of times.'",
                    "context": "When asked about my gaming experience, I mentioned my fondness for Mafia 2. I played it a lot, and I really enjoyed the gameplay and story."
                },
                {
                    "original": "I played in English?",
                    "corrected": "I played it in English?",
                    "explanation": "The preposition 'in' is used incorrectly; 'it' should be included for clarity.",
                    "context": "When discussing how I practiced English while gaming, I was asked if I played in English. Yes, I played it in English to improve my skills."
                },
                {
                    "original": "I also played in English and I also understood a lot of things.",
                    "corrected": "I also played it in English and I also understood a lot.",
                    "explanation": "The use of 'in' is again slightly awkward; while not incorrect, 'it' makes it clearer.",
                    "context": "I mentioned that after playing Batman Arkham Knight, I was able to understand a lot due to playing it in English. I also played it in English and I also understood a lot."
                },
                {
                    "original": "I understand what it can improve my English skills.",
                    "corrected": "I understand that it can improve my English skills.",
                    "explanation": "A conjunction is needed to connect the two clauses smoothly.",
                    "context": "As I reflect on my journey with English, I realize that watching films can greatly enhance my language skills. I understand that it can improve my English skills."
                },
                {
                    "original": "I started for about one year ago.",
                    "corrected": "I started about one year ago.",
                    "explanation": "'For' is unnecessary here; 'about' can stand alone to indicate time.",
                    "context": "When discussing my timeline with gaming in English, I realized there was a simpler way to express it. I started about one year ago."
                },
                {
                    "original": "But I think in one moment I would see and I'll play in this game and I will finish it.",
                    "corrected": "But I think at some point I will play this game and I will finish it.",
                    "explanation": "The phrasing 'in one moment' is awkward; 'at some point' is more natural.",
                    "context": "Despite my busy schedule, I still have the intention to explore certain games. But I think at some point I will play this game and I will finish it."
                },
                {
                    "original": "I think reading is good.",
                    "corrected": "I think reading is quite good.",
                    "explanation": "Adding 'quite' provides a more nuanced opinion on the level of difficulty.",
                    "context": "When asked about my experience with the IELTS test, I shared my assessment of different sections. I think reading is quite good, and manageable for me."
                },
                {
                    "original": "I can say not really hard for me.",
                    "corrected": "I can say it's not really hard for me.",
                    "explanation": "'It's' is required to complete the thought; the subject was missing.",
                    "context": "Discussing the reading and listening sections of the IELTS, I conveyed my confidence in these areas. I can say it's not really hard for me."
                },
                {
                    "original": "Yes, yes, yes. 17, 17. 17 out of 40. Yes.",
                    "corrected": "Yes, yes, yes. I got 17 out of 40. Yes.",
                    "explanation": "The repeated number phrase is odd; framing it as, 'I got,' clarifies the response.",
                    "context": "When reflecting on my test scores, I repeated my result without clarity. Yes, I got 17 out of 40."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "Children should not use the internet without.",
                    "corrected": "Children should not use the internet without supervision.",
                    "explanation": "The sentence is incomplete; it needs a noun after 'without' to clarify what children should not be without.",
                    "context": "During our discussion about internet safety for kids, I expressed that children should not use the internet without supervision. It's crucial to monitor their online activities."
                },
                {
                    "original": "they can have a lot of things what can be harmful for children.",
                    "corrected": "they can have a lot of things that can be harmful for children.",
                    "explanation": "'What' is incorrect in this context; 'that' should be used to introduce a clause providing more details about 'things'.",
                    "context": "I mentioned that parents can sometimes be overly strict, which can lead to restrictions. In addition, they can have a lot of things that can be harmful for children."
                },
                {
                    "original": "I don't want to tell you, that we always understand other people better than we're able to express our own opinions.",
                    "corrected": "I don't want to tell you that we always understand other people better than we're able to express our own opinions.",
                    "explanation": "The comma before 'that' is unnecessary, as 'that' introduces a noun clause and does not require a pause.",
                    "context": "I reassured the students that understanding others can often be easier than articulating our own thoughts. I don't want to tell you that we always understand other people better than we're able to express our own opinions."
                },
                {
                    "original": "To understand input is more listening or reading, more is easier than to produce output.",
                    "corrected": "Understanding input is easier when it comes to listening or reading than when it comes to producing output.",
                    "explanation": "The original sentence structure is awkward and unclear; it needs to be rephrased for clarity and grammatical correctness.",
                    "context": "I emphasized the difference between passive and active language skills. Understanding input is easier when it comes to listening or reading than when it comes to producing output."
                },
                {
                    "original": "But you are a perfect case when it is obvious how an example can really benefit your idea.",
                    "corrected": "But you are a perfect example of how an example can really benefit your idea.",
                    "explanation": "'Case' is not the right term; 'example' fits better in this context as it refers to illustrating a point.",
                    "context": "When discussing the importance of examples in arguments, I said that you are a perfect example of how an example can really benefit your idea."
                },
                {
                    "original": "That it's not your invention, that it's not just your figment of your imagination?",
                    "corrected": "That itâ€™s not your invention, that itâ€™s not just a figment of your imagination?",
                    "explanation": "The original sentence is awkward; 'just your figment' should be 'just a figment' for proper grammar.",
                    "context": "I was explaining how individuals need to support their arguments with concrete evidence. This leads to questions like, 'How can you prove that itâ€™s not your invention, that itâ€™s not just a figment of your imagination?'"
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "I think disagree position is more easy for this question.",
                    "corrected": "I think the disagree position is easier for this question.",
                    "explanation": "The article 'the' is missing, and 'easy' should be changed to 'easier' to correctly compare options.",
                    "context": "In discussing the complexities of argumentation, I find that the disagree position is easier for this question. It allows for more straightforward arguments."
                },
                {
                    "original": "You better write about something that is easy to write about.",
                    "corrected": "It's better to write about something that is easy to write about.",
                    "explanation": "'You better' is informal and less correct; 'it's better to' is the proper phrase.",
                    "context": "While brainstorming topic ideas, I realized it's better to write about something that is easy to write about. This makes the writing process smoother."
                },
                {
                    "original": "This metal has two sides.",
                    "corrected": "This matter has two sides.",
                    "explanation": "The word 'metal' is incorrect; 'matter' is the intended word here, referring to the topic of discussion.",
                    "context": "In this debate, I mentioned that this matter has two sides. It's crucial to consider all perspectives for a balanced argument."
                },
                {
                    "original": "That's your explanation.",
                    "corrected": "That's my explanation.",
                    "explanation": "The pronoun 'your' is incorrect when referring to the speaker's own explanation; 'my' should be used instead.",
                    "context": "After sharing my thoughts, I concluded by restating my explanation. It was intended to clarify my point further."
                },
                {
                    "original": "You're saying dangerous for society.",
                    "corrected": "You're talking about something dangerous for society.",
                    "explanation": "The phrase is incomplete as it lacks a verb; the addition of 'talking about' clarifies the meaning.",
                    "context": "In our discussion, I noticed you're talking about something dangerous for society. This is an important aspect to highlight."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or idea.",
                    "context": {
                        "Context 1": "It's important to understand the context of our conversation about learning English.",
                        "Context 2": "In a historical context, the Renaissance was a time of great cultural change.",
                        "Context 3": "She told a joke, but without the right context, no one understood her."
                    }
                },
                {
                    "word": "Preferences",
                    "definition": "A greater liking for one alternative over another or others.",
                    "context": {
                        "Context 1": "When it comes to video games, I have specific preferences for role-playing games.",
                        "Context 2": "His food preferences include Italian cuisine and spicy dishes.",
                        "Context 3": "She expressed her fashion preferences by wearing bright, colorful outfits."
                    }
                },
                {
                    "word": "Improve",
                    "definition": "To make something better or to develop something further.",
                    "context": {
                        "Context 1": "He watches movies in English to improve his language skills.",
                        "Context 2": "They implemented new training to improve employee productivity.",
                        "Context 3": "The teacher suggested ways to improve his essay writing."
                    }
                },
                {
                    "word": "Urgent",
                    "definition": "Needing immediate attention; pressing.",
                    "context": {
                        "Context 1": "She feels itâ€™s urgent to improve her English before the exam next year.",
                        "Context 2": "The doctor said it was urgent to see a specialist for the patient's condition.",
                        "Context 3": "He received an urgent email that needed a response by the end of the day."
                    }
                },
                {
                    "word": "Broadens",
                    "definition": "To make something wider or more comprehensive.",
                    "context": {
                        "Context 1": "Studying languages broadens your mind and cultural understanding.",
                        "Context 2": "Their travel experiences broadened their perspectives on global issues.",
                        "Context 3": "This course is designed to broaden your knowledge in environmental science."
                    }
                },
                {
                    "word": "Practice",
                    "definition": "The repeated exercise in or performance of an activity or skill.",
                    "context": {
                        "Context 1": "He needs more practice to feel confident speaking English.",
                        "Context 2": "The musician's daily practice improved her skills significantly.",
                        "Context 3": "She believes that practice is essential for mastering any sport."
                    }
                },
                {
                    "word": "Integrate",
                    "definition": "To combine one thing with another to form a whole.",
                    "context": {
                        "Context 1": "He wants to integrate into English society while studying abroad.",
                        "Context 2": "The school aims to integrate technology into the classroom to enhance learning.",
                        "Context 3": "They are trying to integrate new methods to improve community services."
                    }
                },
                {
                    "word": "Communicating",
                    "definition": "The act of conveying information or expressing thoughts and feelings.",
                    "context": {
                        "Context 1": "Despite the language barrier, we are effectively communicating.",
                        "Context 2": "Dogs communicate their feelings through barking and body language.",
                        "Context 3": "She finds it easier to express herself when communicating through writing."
                    }
                },
                {
                    "word": "Subtitles",
                    "definition": "Text displayed on a screen that translates or transcribes the dialogue spoken in a film or television program.",
                    "context": {
                        "Context 1": "He watched the movie with English subtitles to understand better.",
                        "Context 2": "Many foreign films gain popularity because they are available with English subtitles.",
                        "Context 3": "She prefers to watch animated shows with subtitles for clarity and humor."
                    }
                },
                {
                    "word": "Sphere",
                    "definition": "A particular domain or area of activity or influence.",
                    "context": {
                        "Context 1": "She is interested in the sphere of linguistics and language acquisition.",
                        "Context 2": "In the sphere of fashion, trends change rapidly each season.",
                        "Context 3": "He is an expert in the sphere of environmental science."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Integrate",
                    "fact": "Did you know that when they created the first blender, they had to integrate a lot of different technologies to avoid exploding the kitchen?"
                },
                {
                    "word": "Subtitles",
                    "fact": "A study found that people who watch films with subtitles are 20% more likely to remember the plot because their brain loves multitasking!"
                }
            ],
            "jokes": [
                {
                    "question": "Why don't scientists trust atoms?",
                    "answer": "Because they make up everything!"
                },
                {
                    "question": "Why did the teacher go to the beach?",
                    "answer": "Because she wanted to test the waters!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Exhilarating",
                    "definition": "Making one feel very happy, animated, or elated; thrilling.",
                    "context": {
                        "Context 1": "Playing Red Dead Redemption 2 was an exhilarating experience for me.",
                        "Context 2": "The exhilarating rush of skydiving left her breathless.",
                        "Context 3": "Winning the championship was an exhilarating moment for the team."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "My perspective on video games changed after I played them in English.",
                        "Context 2": "From his perspective, the movie was too long and boring.",
                        "Context 3": "Seeing the issue from another perspective can often lead to a more balanced opinion."
                    }
                },
                {
                    "word": "Engaging",
                    "definition": "Attractive or interesting; capable of holding one's attention.",
                    "context": {
                        "Context 1": "The engaging plot of the game kept me hooked for hours.",
                        "Context 2": "Her engaging personality made her the life of the party.",
                        "Context 3": "The presentation was so engaging that nobody checked their phones."
                    }
                },
                {
                    "word": "Confident",
                    "definition": "Having belief in oneself and one's abilities.",
                    "context": {
                        "Context 1": "Playing games in English makes me feel more confident in my language skills.",
                        "Context 2": "She spoke confidently during her job interview.",
                        "Context 3": "He was confident that he would pass the exam without any issues."
                    }
                },
                {
                    "word": "Challenge",
                    "definition": "A call to take part in a contest or competition, especially a duel.",
                    "context": {
                        "Context 1": "Mastering writing in English is a challenge I am willing to tackle.",
                        "Context 2": "He accepted the challenge to run a marathon.",
                        "Context 3": "The game presents many challenges that test the player's skills."
                    }
                },
                {
                    "word": "Strategy",
                    "definition": "A plan of action designed to achieve a long-term or overall aim.",
                    "context": {
                        "Context 1": "His strategy for learning English involves playing video games.",
                        "Context 2": "The chess player's strategy was impressive and led him to victory.",
                        "Context 3": "In baseball, having a good strategy is critical for winning the game."
                    }
                },
                {
                    "word": "Genre",
                    "definition": "A category of artistic composition, as in music or literature, characterized by similarities in form, style, or subject matter.",
                    "context": {
                        "Context 1": "I prefer action and adventure genre games like Red Dead Redemption 2.",
                        "Context 2": "Science fiction is my favorite genre of books.",
                        "Context 3": "He doesn't usually watch comedy genre films; he prefers thrillers."
                    }
                },
                {
                    "word": "Enunciate",
                    "definition": "To say or pronounce clearly.",
                    "context": {
                        "Context 1": "It's important to enunciate clearly when speaking English in my lessons.",
                        "Context 2": "The teacher asked him to enunciate his words during the presentation.",
                        "Context 3": "He struggled to enunciate some of the difficult medical terms."
                    }
                },
                {
                    "word": "Dialogue",
                    "definition": "Conversation between two or more people as a feature of a book, play, or film.",
                    "context": {
                        "Context 1": "The dialogue in games helps improve my listening skills.",
                        "Context 2": "The engaging dialogue in the movie captured the audience's attention.",
                        "Context 3": "The dialogue in the book provided insights into the characters' motivations."
                    }
                },
                {
                    "word": "Subtitles",
                    "definition": "Translated captions displayed at the bottom of a screen for dialogue in films or broadcasts.",
                    "context": {
                        "Context 1": "I started watching movies with subtitles to improve my understanding.",
                        "Context 2": "Some people prefer watching foreign films with subtitles instead of dubbing.",
                        "Context 3": "She turned on the subtitles for the action scenes to catch the dialogue."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Exhilarating",
                    "fact": "There's a phenomenon called 'exhilaration' that happens when you scream on roller coastersâ€”it's a mix of excitement and fear!"
                },
                {
                    "word": "Dialogue",
                    "fact": "In some animated movies, the directors actually have the voice actors improvise dialogue to make it sound more natural!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer break up with the internet?",
                    "answer": "There was too much buffering in their relationship!"
                },
                {
                    "question": "Why donâ€™t video games need glasses?",
                    "answer": "Because they already have good graphics!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Agree / Disagree",
                    "definition": "To share the same opinion (agree) or to have a different opinion (disagree).",
                    "context": {
                        "Context 1": "First of all, do we agree or disagree with the statement: 'Children should not use the internet without supervision'?",
                        "Context 2": "The committee agreed on the budget after a long discussion.",
                        "Context 3": "I disagree with the movie review â€” I thought it was great."
                    }
                },
                {
                    "word": "Overcomplicate",
                    "definition": "To make something more complicated than it needs to be.",
                    "context": {
                        "Context 1": "Let's not overcomplicate the issue; keep the reasons simple and clear.",
                        "Context 2": "She overcomplicated the recipe by adding too many spices.",
                        "Context 3": "Don't overcomplicate your schedule â€” one or two priorities per day is enough."
                    }
                },
                {
                    "word": "Instinct",
                    "definition": "A natural or gut feeling that guides behavior without conscious reasoning.",
                    "context": {
                        "Context 1": "When you don't know what to write, follow your instinct and choose the idea that feels strongest.",
                        "Context 2": "His instinct told him to call his friend when he heard the news.",
                        "Context 3": "Many animals rely on instinct to find food and shelter."
                    }
                },
                {
                    "word": "Liberty",
                    "definition": "Freedom to act or think without oppressive restrictions; personal freedom or rights.",
                    "context": {
                        "Context 1": "I think children should have some liberty to make choices about their own belongings.",
                        "Context 2": "Citizens fought for liberty and the right to vote.",
                        "Context 3": "College students enjoy the new liberty of choosing their own classes."
                    }
                },
                {
                    "word": "Strict",
                    "definition": "Demanding that rules are obeyed; enforcing rules rigidly.",
                    "context": {
                        "Context 1": "Some parents can be too strict with children, which may limit the child's independence.",
                        "Context 2": "The teacher is strict about homework deadlines.",
                        "Context 3": "The museum has strict rules: no touching the exhibits."
                    }
                },
                {
                    "word": "Declare",
                    "definition": "To state something clearly and formally; to announce an idea or position.",
                    "context": {
                        "Context 1": "Start by declaring your idea: 'Children are people too and should have some rights.'",
                        "Context 2": "The mayor declared a state of emergency after the flood.",
                        "Context 3": "She declared her major at the start of sophomore year."
                    }
                },
                {
                    "word": "Explanation",
                    "definition": "A statement that makes something clear by describing it in detail or giving reasons.",
                    "context": {
                        "Context 1": "After you declare your idea, give an explanation that shows what you mean and how it works.",
                        "Context 2": "He gave a clear explanation of the math problem so everyone could follow.",
                        "Context 3": "The manual includes an explanation of how to assemble the table."
                    }
                },
                {
                    "word": "Hook",
                    "definition": "A sentence or idea that grabs the listener's or reader's attention at the start.",
                    "context": {
                        "Context 1": "Use a hook to set the scene and grab the listener's attention before you explain your point.",
                        "Context 2": "The novel's opening paragraph contains a strong hook that made me keep reading.",
                        "Context 3": "A catchy melody is the hook that makes a song memorable."
                    }
                },
                {
                    "word": "Counterintuitive",
                    "definition": "Something that goes against what common sense or intuition would suggest.",
                    "context": {
                        "Context 1": "It may sound counterintuitive, but giving children some freedom can actually help them behave more responsibly.",
                        "Context 2": "It seems counterintuitive that sleeping more can improve productivity, but it often does.",
                        "Context 3": "A counterintuitive tip for cooking: salt the pasta water well to keep it from sticking."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A specific case or story used to illustrate a point or prove that a claim happens in real life.",
                    "context": {
                        "Context 1": "When asked for proof, give an example from real life to show your idea really happens.",
                        "Context 2": "The teacher used an example from history to explain the concept.",
                        "Context 3": "As an example, try comparing two products before choosing one."
                    }
                },
                {
                    "word": "Opponent",
                    "definition": "A person who disagrees with you or is on the opposite side of an argument or competition.",
                    "context": {
                        "Context 1": "Imagine your opponent asks 'Why?' after your explanation â€” you need a strong example to answer them.",
                        "Context 2": "In chess, your opponent's threat forced you to rethink your strategy.",
                        "Context 3": "Debaters prepare by thinking about what their opponents might say."
                    }
                },
                {
                    "word": "Blind typing (Touch typing)",
                    "definition": "Typing without looking at the keyboard; also called touch typing.",
                    "context": {
                        "Context 1": "Are you learning touch typing? Blind typing means typing without looking at the keys.",
                        "Context 2": "With practice, blind typing can increase your speed to over 60 words per minute.",
                        "Context 3": "Many gamers use touch typing skills to communicate quickly during play."
                    }
                },
                {
                    "word": "Zoomer",
                    "definition": "A casual name for a member of Generation Z (roughly people born mid-1990s to early 2010s).",
                    "context": {
                        "Context 1": "He joked, 'All Zoomers grew up with computers' and then realized he is a Zoomer too.",
                        "Context 2": "Many Zoomers use social media differently from previous generations.",
                        "Context 3": "As a Zoomer, she prefers messaging apps over phone calls."
                    }
                },
                {
                    "word": "Input / Output (in language learning)",
                    "definition": "Input = language you receive (listening/reading). Output = language you produce (speaking/writing).",
                    "context": {
                        "Context 1": "Understanding input (listening and reading) is often easier than producing output (speaking and writing).",
                        "Context 2": "To improve listening, increase your input by watching films in the target language.",
                        "Context 3": "Practicing output, like journaling, helps you use new vocabulary actively."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Blind typing (Touch typing)",
                    "fact": "Many famous typists reached speeds above 120 words per minute â€” but most people feel happy just beating their own high score."
                },
                {
                    "word": "Zoomer",
                    "fact": "The nickname 'Zoomer' partly grew out of internet culture (and the joke contrast with 'boomer'); it became popular online in the late 2010s."
                },
                {
                    "word": "Liberty",
                    "fact": "The Statue of Liberty's full name is 'Liberty Enlightening the World' â€” and she used to wear a tablet, not a laptop!"
                },
                {
                    "word": "Hook",
                    "fact": "In songwriting, a hook is often the most repeated line â€” that's why earworms (catchy songs) get stuck in your head so easily."
                },
                {
                    "word": "Instinct",
                    "fact": "Newly hatched sea turtle hatchlings run toward the brightest horizon (often the moonlight reflecting on the sea) purely by instinct."
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student follow their instinct in the debate?",
                    "answer": "Because the teacher said, 'If in doubt, trust your gut' â€” and the student wanted to keep their homework simple!"
                },
                {
                    "question": "Why did the beginner start blind typing during the lesson?",
                    "answer": "They wanted to prove they could 'type without thinking' â€” but first they had to think where the 'A' key was."
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Agree",
                    "definition": "To have the same opinion or to concur with someone.",
                    "context": {
                        "Context 1": "I completely agree with your perspective on children's content choices.",
                        "Context 2": "The weather was perfect, so we all agreed to go to the beach.",
                        "Context 3": "I agree that pizza is the best food for a party!"
                    }
                },
                {
                    "word": "Disagree",
                    "definition": "To have a different opinion or to not concur with someone.",
                    "context": {
                        "Context 1": "Many people disagree about the age restrictions for content consumption.",
                        "Context 2": "She disagreed with the team's decision to cancel the event.",
                        "Context 3": "I disagree with the notion that cats are better pets than dogs!"
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative case or illustration used to explain or clarify a concept.",
                    "context": {
                        "Context 1": "An example of a harmful online influence is an extreme violent video.",
                        "Context 2": "For my speech, I need to find a good example of a successful entrepreneur.",
                        "Context 3": "Can you give me an example of your favorite book?"
                    }
                },
                {
                    "word": "Content",
                    "definition": "The information or material contained in something, such as a book or video.",
                    "context": {
                        "Context 1": "There is a lot of violent content available on the internet today.",
                        "Context 2": "The content of her speech was well-researched and engaging.",
                        "Context 3": "The content of the mystery novel kept me on the edge of my seat!"
                    }
                },
                {
                    "word": "Limited",
                    "definition": "Restrained or confined in some way.",
                    "context": {
                        "Context 1": "Some children may feel limited by strict content guidelines.",
                        "Context 2": "Her choices for lunch were limited to what was available at the cafeteria.",
                        "Context 3": "He felt limited in his ability to express himself because of his shyness."
                    }
                },
                {
                    "word": "Trauma",
                    "definition": "A deeply distressing or damaging experience.",
                    "context": {
                        "Context 1": "Experiencing censorship can lead to trauma in a child's development.",
                        "Context 2": "She sought therapy to help her recover from childhood trauma.",
                        "Context 3": "The movie depicted the trauma experienced by veterans after returning home."
                    }
                },
                {
                    "word": "Mental Illness",
                    "definition": "A wide range of psychological disorders that affect mood, thinking, and behavior.",
                    "context": {
                        "Context 1": "Exposure to certain content can contribute to mental illness in youth.",
                        "Context 2": "It's important to understand mental illness to help those in need.",
                        "Context 3": "Her book explores the stigma surrounding mental illness in society."
                    }
                },
                {
                    "word": "Constrain",
                    "definition": "To restrict or limit something or someone.",
                    "context": {
                        "Context 1": "Strict rules can constrain kids' creativity.",
                        "Context 2": "His schedule was constrained by his numerous commitments.",
                        "Context 3": "The small size of the apartment constrained their living arrangements."
                    }
                },
                {
                    "word": "Dangerous",
                    "definition": "Capable of causing harm or injury.",
                    "context": {
                        "Context 1": "Some online content can be dangerous for impressionable children.",
                        "Context 2": "He made a dangerous decision to climb the cliff without safety gear.",
                        "Context 3": "Driving without a seatbelt is a dangerous choice."
                    }
                },
                {
                    "word": "Society",
                    "definition": "A community of individuals living together in an organized way.",
                    "context": {
                        "Context 1": "The effects of internet content can impact society as a whole.",
                        "Context 2": "In our society, technology plays a central role in daily life.",
                        "Context 3": "Art and culture reflect the values of a society."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Trauma",
                    "fact": "The word 'trauma' comes from a Greek word meaning 'wound,' but it seems all wounds should be dealt with carefully!"
                },
                {
                    "word": "Content",
                    "fact": "While content usually refers to information, in the world of YouTube, itâ€™s also what makes cats famous!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer break up with the internet?",
                    "answer": "Because it found too many 'connections'!"
                },
                {
                    "question": "Why did the essay go to therapy?",
                    "answer": "Because it had too many unresolved issues!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going today?"
                },
                {
                    "Person 2": "Not too bad! Just enjoying my afternoon. How about you?"
                },
                {
                    "Person 1": "Pretty good! Just hanging out in my room. Whatâ€™s behind you? Is that a poster?"
                },
                {
                    "Person 2": "Yeah, it is! It's from my favorite band. Do you like music?"
                },
                {
                    "Person 1": "Absolutely! What kind of music do you listen to?"
                },
                {
                    "Person 2": "Mostly rock and alternative. I love discovering new bands. How about you?"
                },
                {
                    "Person 1": "I'm all about pop and a little bit of hip-hop. Have you been to any concerts lately?"
                },
                {
                    "Person 2": "I went to a concert a few months ago. It was so much fun! The energy was incredible."
                },
                {
                    "Person 1": "Nice! I haven't been to a concert in ages. I really need to get back to that."
                },
                {
                    "Person 2": "Yeah, you should! It's such a great experience. Any bands you want to see?"
                },
                {
                    "Person 1": "I really want to see The Weeknd live. His music is amazing!"
                },
                {
                    "Person 2": "Oh, for sure! Iâ€™ve heard his shows are spectacular. Youâ€™d have a blast!"
                },
                {
                    "Person 1": "Now Iâ€™m just dreaming about it! Anyway, what else is up with you?"
                },
                {
                    "Person 2": "Just the usual, school and trying to keep up with life. Any interesting plans for the weekend?"
                },
                {
                    "Person 1": "I might go to the park with some friends if the weather is nice. What about you?"
                },
                {
                    "Person 2": "Thinking about catching up on some shows and maybe going for a hike. Just relaxing."
                },
                {
                    "Person 1": "That sounds chill! Enjoy your weekend!"
                },
                {
                    "Person 2": "Thanks! You too! Letâ€™s catch up next week!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you ever thought about traveling to other countries?"
                },
                {
                    "Person 2": "Yeah, definitely! Iâ€™ve been wanting to see more of the world and meet new people."
                },
                {
                    "Person 1": "Same here! I think it would be amazing to learn different languages and experience different cultures."
                },
                {
                    "Person 2": "For sure! Speaking of languages, what's your favorite video game?"
                },
                {
                    "Person 1": "I really enjoy Mafia 2. I probably have over 400 hours logged on Steam!"
                },
                {
                    "Person 2": "Wow, thatâ€™s a lot! I love Red Dead Redemption 2. I thought it would be boring, but it turned out to be super exciting."
                },
                {
                    "Person 1": "I agree! The plot is incredible. Have you played Witcher 3?"
                },
                {
                    "Person 2": "Iâ€™ve tried but couldnâ€™t really get into it. RPGs arenâ€™t usually my thing."
                },
                {
                    "Person 1": "Yeah, I feel you. I think Red Dead Redemption is way more engaging."
                },
                {
                    "Person 2": "Exactly! When I played Red Dead in English, I noticed I understood a lot of the dialogue."
                },
                {
                    "Person 1": "Thatâ€™s awesome! Itâ€™s great for learning, right? When did you last play?"
                },
                {
                    "Person 2": "About a year ago, actually. But I recently finished Batman Arkham Knight, and that was also in English."
                },
                {
                    "Person 1": "Nice! So youâ€™ve been playing games in English for a while now?"
                },
                {
                    "Person 2": "Yeah, for about a year. I just started watching movies in English a month ago."
                },
                {
                    "Person 1": "That's cool! Did you find it difficult to switch from games to movies?"
                },
                {
                    "Person 2": "Not too much! Playing games helped boost my confidence."
                },
                {
                    "Person 1": "Good to hear! By the way, did you take that IELTS practice test I sent you?"
                },
                {
                    "Person 2": "I did! Listening was okay, but writing was tough."
                },
                {
                    "Person 1": "Writing can be hard! How did you do in reading?"
                },
                {
                    "Person 2": "I think reading went well, but I need more practice with speaking."
                },
                {
                    "Person 1": "Speaking with a partner really helps. Do you know your scores yet?"
                },
                {
                    "Person 2": "Yeah, I scored around 17 out of 40 for listening and reading. What do you think?"
                },
                {
                    "Person 1": "Thatâ€™s pretty good! Youâ€™re closer to a B2 level than you think."
                },
                {
                    "Person 2": "Really? Thatâ€™s encouraging to hear!"
                },
                {
                    "Person 1": "Absolutely! Want to work on writing together today?"
                },
                {
                    "Person 2": "Sure! Letâ€™s dive in and tackle it."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new show on Netflix?"
                },
                {
                    "Person 2": "Oh, which one? There are so many coming out lately."
                },
                {
                    "Person 1": "The one about the detective in the small town. It's super intriguing!"
                },
                {
                    "Person 2": "I think I saw a trailer for that! Is it really good?"
                },
                {
                    "Person 1": "Yeah, the storyline keeps twistinâ€™! I binge-watched the whole season in a weekend."
                },
                {
                    "Person 2": "Wow, thatâ€™s impressive! Iâ€™ve been trying to pace myself. I end up watching too much sometimes."
                },
                {
                    "Person 1": "Same! I started trying to limit myself and just watch one episode a night."
                },
                {
                    "Person 2": "Thatâ€™s a good idea. I should get back to that, but it's hard to stop once you get into it!"
                },
                {
                    "Person 1": "Definitely! And then thereâ€™s always that 'next episode' button staring at you."
                },
                {
                    "Person 2": "Right? Itâ€™s like it knows our weaknesses! Whatâ€™s your favorite show right now?"
                },
                {
                    "Person 1": "Hmm, Iâ€™m really enjoying that one about the cooking competition. Itâ€™s really fun and inspiring."
                },
                {
                    "Person 2": "Oh, nice! I love cooking shows. They always make me want to try new recipes."
                },
                {
                    "Person 1": "Exactly! I even tried making a fancy dessert after watching one episode."
                },
                {
                    "Person 2": "No way! How did it turn out?"
                },
                {
                    "Person 1": "Let's just say it looked better than it tasted, but I had fun!"
                },
                {
                    "Person 2": "At least you gave it a shot! Thatâ€™s what matters."
                },
                {
                    "Person 1": "Totally. So, what's next on your watch list?"
                },
                {
                    "Person 2": "Iâ€™ve been hearing a lot about that sci-fi series. Might dive into that soon!"
                },
                {
                    "Person 1": "Nice choice! Let me know what you think of it!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you been watching any good shows lately?"
                },
                {
                    "Person 2": "Oh, definitely! I just started that new series everyoneâ€™s talking about. Itâ€™s so intense!"
                },
                {
                    "Person 1": "Nice! What's it about?"
                },
                {
                    "Person 2": "It's about a group of friends who go on an adventure, but there are some wild twists. Makes it hard to stop watching!"
                },
                {
                    "Person 1": "I love those kinds of shows. The kind that keeps you guessing!"
                },
                {
                    "Person 2": "Exactly! I've been binge-watching it every night. It's my new obsession."
                },
                {
                    "Person 1": "Whatâ€™s the name of the show? I need something new to watch!"
                },
                {
                    "Person 2": "It's called 'Adventurers Unite.' You should check it out!"
                },
                {
                    "Person 1": "Sounds cool! Iâ€™ll definitely add it to my list. Do you have a favorite character so far?"
                },
                {
                    "Person 2": "Oh, for sure! Thereâ€™s this one guy whoâ€™s super funny and always lightens the mood, even during the serious parts."
                },
                {
                    "Person 1": "Love those characters! They really make the show more enjoyable."
                },
                {
                    "Person 2": "Yeah! By the way, have you seen any movies lately?"
                },
                {
                    "Person 1": "I watched that new action movie. It was pretty entertaining. Lots of explosions!"
                },
                {
                    "Person 2": "Nice! Iâ€™m always up for a good action movie. Maybe we should have a movie night soon?"
                },
                {
                    "Person 1": "That sounds awesome! Popcorn and action sounds like a perfect combo."
                },
                {
                    "Person 2": "Absolutely! Letâ€™s plan for this weekend then."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
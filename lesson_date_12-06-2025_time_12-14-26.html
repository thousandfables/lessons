<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I like full like like let me panoramic yes we have panoramic windows",
                    "corrected": "I like it fully dark, like let me explain, we have panoramic windows.",
                    "explanation": "The phrase 'full like like' is unclear; 'fully dark' is a clearer expression.",
                    "context": "I prefer it to be completely dark in my room. I like it fully dark, like let me explain, we have panoramic windows."
                },
                {
                    "original": "I always think that someone sees at me",
                    "corrected": "I always think that someone is looking at me.",
                    "explanation": "'Sees at' is incorrect; the correct phrase is 'is looking at.'",
                    "context": "When my curtains are open, I feel exposed. I always think that someone is looking at me."
                },
                {
                    "original": "I don't know but I think that no one sees at me",
                    "corrected": "I don't know, but I think that no one is looking at me.",
                    "explanation": "Again, 'sees at' is incorrect; it should be 'is looking at.'",
                    "context": "I feel more comfortable with my curtains closed. I don't know, but I think that no one is looking at me."
                },
                {
                    "original": "I was reading the stools",
                    "corrected": "I was reading the rules.",
                    "explanation": "'Stools' is a mispronunciation or misunderstanding; 'rules' is the intended word.",
                    "context": "I thought I didn't have English today, so I was preparing for my chemistry lesson. I was reading the rules."
                },
                {
                    "original": "my mother because she always and maybe every day works",
                    "corrected": "my mother because she works every day.",
                    "explanation": "The phrase is awkward; 'she works every day' is clearer and more concise.",
                    "context": "We have a family tradition of going out. My mother picks the days because she works every day."
                },
                {
                    "original": "I have to apply makeup to dress up",
                    "corrected": "I have to apply makeup to get ready.",
                    "explanation": "'Dress up' is not the best choice here; 'get ready' is more idiomatic.",
                    "context": "I have to look presentable for my restaurant outing. I have to apply makeup to get ready."
                },
                {
                    "original": "I don't do makeup to him",
                    "corrected": "I don't do makeup for him.",
                    "explanation": "'To him' is incorrect; 'for him' is the appropriate preposition.",
                    "context": "I usually don't wear makeup for my chemistry teacher. I don't do makeup for him."
                },
                {
                    "original": "I think that it is bad thing and online lessons are better than offline",
                    "corrected": "I think that it is a bad thing, and online lessons are better than offline ones.",
                    "explanation": "Missing article 'a' before 'bad thing'; 'offline' should be 'offline ones' for clarity.",
                    "context": "I really dislike offline classes. I think that it is a bad thing, and online lessons are better than offline ones."
                },
                {
                    "original": "you know cleaned up very neety gritty",
                    "corrected": "you know, it's cleaned up very neatly.",
                    "explanation": "The phrase 'neety gritty' is incorrect; 'neatly' is the correct adverb.",
                    "context": "I keep my room tidy, but the rest of the apartment is messy. You know, it's cleaned up very neatly."
                },
                {
                    "original": "I feel very tired yeah like and you know the thing is that you don't have your things that you're used to in your apartment right now",
                    "corrected": "I feel very tired, and the thing is that I don't have my usual things in my apartment right now.",
                    "explanation": "The original sentence is overly complex and lacks clarity; simplifying improves readability.",
                    "context": "After sitting for so long, I feel exhausted. I feel very tired, and the thing is that I don't have my usual things in my apartment right now."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I didn't I all year I had lessons every week and now I don't want to go there.",
                    "corrected": "I had lessons every week all year, and now I don't want to go there.",
                    "explanation": "The original sentence is jumbled; the correct structure clarifies the timeline and makes it more coherent.",
                    "context": "I've been attending lessons every week for the entire year. Now, I'm feeling tired and don't want to continue going there."
                },
                {
                    "original": "I can go for about half an hour it's faster than to his apartment.",
                    "corrected": "I can go in about half an hour; it's faster than going to his apartment.",
                    "explanation": "The original sentence lacks proper prepositions and punctuation, making it unclear. The corrected version adds clarity.",
                    "context": "When I need to travel, I can reach my new school in about half an hour. It's faster than the time it takes to get to his apartment."
                },
                {
                    "original": "I don't see at the age of teacher and maybe on the how they see.",
                    "corrected": "I don't consider the age of the teacher, but rather how they teach.",
                    "explanation": "The original sentence uses incorrect phrasing; the corrected version uses a more idiomatic expression.",
                    "context": "When it comes to teachers, I don't focus on their age. Instead, I value how they engage with students and their teaching style."
                },
                {
                    "original": "I would be surprised if he knew the word tik tok let alone have a tik tok account.",
                    "corrected": "I would be surprised if he knew the word TikTok, let alone had a TikTok account.",
                    "explanation": "The original sentence uses incorrect verb forms; 'have' should be 'had' to match the conditional structure.",
                    "context": "I find it hard to believe that he even knows what TikTok is. I would be surprised if he knew the word TikTok, let alone had an account."
                },
                {
                    "original": "but like especially him his age is 79 yes.",
                    "corrected": "But especially considering that he is 79 years old.",
                    "explanation": "The original sentence is awkward and lacks clarity; the corrected version provides a clearer connection.",
                    "context": "After attending his classes, I often feel exhausted. But especially considering that he is 79 years old, I find it surprising how he manages to teach."
                },
                {
                    "original": "I like more biology than chemistry.",
                    "corrected": "I like biology more than chemistry.",
                    "explanation": "The original sentence uses incorrect word order; 'more' should come after the verb 'like.'",
                    "context": "When it comes to my subjects, I have a clear preference. I like biology more than chemistry."
                },
                {
                    "original": "this thing is called palette I believe highlighter.",
                    "corrected": "This thing is called a palette, I believe, a highlighter.",
                    "explanation": "The original sentence lacks necessary articles and punctuation, making it confusing.",
                    "context": "I was showing my friend an item I bought. This thing is called a palette, I believe, a highlighter."
                },
                {
                    "original": "I bought it in Malaysia for thousand rubles.",
                    "corrected": "I bought it in Malaysia for a thousand rubles.",
                    "explanation": "The original sentence is missing the article 'a' before 'thousand rubles.'",
                    "context": "I recently made a purchase while traveling. I bought it in Malaysia for a thousand rubles."
                },
                {
                    "original": "the speaking section has three parts part one part two part three.",
                    "corrected": "The speaking section has three parts: part one, part two, and part three.",
                    "explanation": "The original sentence lacks punctuation and clarity; the corrected version uses colons and commas for better structure.",
                    "context": "When discussing the exam format, I explained the structure clearly. The speaking section has three parts: part one, part two, and part three."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I like to eat fruits vegetables and I think that it is very tasty and you can save your health and have a beautiful figure.",
                    "corrected": "I like to eat fruits and vegetables, and I think that they are very tasty. You can save your health and have a beautiful figure.",
                    "explanation": "Missing conjunction 'and' between 'fruits' and 'vegetables'; 'it' should be 'they' to refer to the plural 'fruits and vegetables.'",
                    "context": "When discussing healthy eating, I mentioned that I enjoy fruits and vegetables. I think that they are very tasty, and eating them can help maintain good health and a beautiful figure."
                },
                {
                    "original": "I lie on my bed and don't do everything.",
                    "corrected": "I lie on my bed and don't do anything.",
                    "explanation": "'Don't do everything' is incorrect; it should be 'don't do anything' to convey the intended meaning.",
                    "context": "When I catch a cold, I usually lie on my bed and don't do anything. I prefer to watch different films and browse social media to relax."
                },
                {
                    "original": "I don't pay attention for publics about health.",
                    "corrected": "I don't pay attention to public information about health.",
                    "explanation": "The preposition 'for' is incorrect; 'to' should be used with 'pay attention.' 'Publics' should be 'public information' for clarity.",
                    "context": "In response to a question about health information, I said that I don't pay attention to public information about health. I believe that everyone can decide what to eat for themselves."
                },
                {
                    "original": "every man and every human every man and every woman can decide what he want to eat.",
                    "corrected": "every person can decide what they want to eat.",
                    "explanation": "Repetition of 'every man and every human' is unnecessary; 'he' should be 'they' for gender neutrality.",
                    "context": "I expressed my belief that every person can decide what they want to eat. I think it's important for individuals to make their own choices regarding food."
                },
                {
                    "original": "I could no smoking and no drinking.",
                    "corrected": "I could stop smoking and stop drinking.",
                    "explanation": "'No smoking' and 'no drinking' are incorrect; it should be 'stop smoking' and 'stop drinking' to convey the intended action.",
                    "context": "When asked about a healthier lifestyle, I mentioned that I could stop smoking and stop drinking. It's important to consider these habits for better health."
                },
                {
                    "original": "only in Russia children can finish to smoke and to drink alcohol in 15 years.",
                    "corrected": "Only in Russia can children start smoking and drinking alcohol at 15 years old.",
                    "explanation": "'Finish to smoke' is incorrect; it should be 'start smoking.' 'In 15 years' should be 'at 15 years old' for clarity.",
                    "context": "I noted that only in Russia can children start smoking and drinking alcohol at 15 years old. This is a significant cultural difference."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "you realize that you make a lot of mistakes this is one part of it but the other part is we can't speak without mistakes",
                    "corrected": "you realize that you make a lot of mistakes. This is one part of it, but the other part is that we can't speak without mistakes.",
                    "explanation": "The original sentence lacks proper punctuation and conjunctions, making it a run-on sentence. It should be split into two sentences for clarity.",
                    "context": "When learning a language, it's common to feel overwhelmed by mistakes. You realize that you make a lot of mistakes. This is one part of it, but the other part is that we can't speak without mistakes."
                },
                {
                    "original": "you should try to make as few as possible but on the other hand you should understand that you can't really eliminate all mistakes",
                    "corrected": "you should try to make as few as possible, but on the other hand, you should understand that you can't really eliminate all mistakes.",
                    "explanation": "Missing commas before 'but' and 'on the other hand' create a run-on sentence. Commas are needed to separate clauses.",
                    "context": "It's important to balance awareness of mistakes with acceptance of them. You should try to make as few as possible, but on the other hand, you should understand that you can't really eliminate all mistakes."
                },
                {
                    "original": "you can do better your health is there a better way to express that improve health much better",
                    "corrected": "you can do better. Is there a better way to express that? Improve health much better.",
                    "explanation": "The original sentence lacks punctuation, making it difficult to understand. It should be separated into distinct sentences.",
                    "context": "When discussing health, clarity is key. You can do better. Is there a better way to express that? Improve health much better."
                },
                {
                    "original": "I lie on sofa and don't do anything",
                    "corrected": "I lie on the sofa and don't do anything.",
                    "explanation": "The article 'the' is needed before 'sofa' for grammatical correctness.",
                    "context": "Sometimes, I just want to relax. I lie on the sofa and don't do anything. It helps me unwind."
                },
                {
                    "original": "in negative sentences we say anything in positive sentences we say everything",
                    "corrected": "In negative sentences, we say 'anything'; in positive sentences, we say 'everything.'",
                    "explanation": "The sentence lacks punctuation and clarity. It should be structured with proper punctuation and quotation marks.",
                    "context": "Understanding sentence structure is crucial. In negative sentences, we say 'anything'; in positive sentences, we say 'everything.'"
                },
                {
                    "original": "if I was fast I wouldn't have to say yes yes yes",
                    "corrected": "If I were fast, I wouldn't have to say 'yes, yes, yes.'",
                    "explanation": "The subjunctive mood requires 'were' instead of 'was' for hypothetical situations. Commas and quotation marks are also needed.",
                    "context": "In hypothetical situations, I often think about how I could respond differently. If I were fast, I wouldn't have to say 'yes, yes, yes.'"
                },
                {
                    "original": "watch TV series cereal is what we eat for breakfast",
                    "corrected": "Watch TV series. Cereal is what we eat for breakfast.",
                    "explanation": "The original sentence is a run-on and lacks proper punctuation. It should be split into two sentences.",
                    "context": "When discussing leisure activities, I often mention what I enjoy. Watch TV series. Cereal is what we eat for breakfast."
                },
                {
                    "original": "every man and every woman that was that was bald that was bald every man and every",
                    "corrected": "Every man and every woman that was bald.",
                    "explanation": "The repetition of phrases makes the sentence unclear. It should be simplified and made concise.",
                    "context": "In discussing diversity, I often reflect on different appearances. Every man and every woman that was bald."
                },
                {
                    "original": "but after that don't say what he want",
                    "corrected": "But after that, don't say what he wants.",
                    "explanation": "The verb 'want' should be in the third person singular form 'wants' to agree with 'he.' A comma is also needed.",
                    "context": "In conversations, clarity is essential. But after that, don't say what he wants."
                },
                {
                    "original": "I like doing sport",
                    "corrected": "I like doing sports.",
                    "explanation": "'Sport' should be pluralized to 'sports' in this context.",
                    "context": "I enjoy staying active. I like doing sports. It keeps me healthy and happy."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Blackout",
                    "definition": "A period when there is no electricity or light.",
                    "context": {
                        "Context 1": "During the blackout, we had to use candles to see.",
                        "Context 2": "The blackout in the city was caused by a major storm.",
                        "Context 3": "She experienced a blackout while trying to remember the lyrics to her favorite song."
                    }
                },
                {
                    "word": "Panoramic",
                    "definition": "Providing a wide view of an area.",
                    "context": {
                        "Context 1": "The panoramic windows allowed us to see the entire skyline.",
                        "Context 2": "He took a panoramic photo of the mountain range during his hike.",
                        "Context 3": "The panoramic view from the top of the tower was breathtaking."
                    }
                },
                {
                    "word": "Comfortable",
                    "definition": "Providing physical ease and relaxation.",
                    "context": {
                        "Context 1": "She felt comfortable sitting in her favorite chair.",
                        "Context 2": "The hotel room was so comfortable that we didn't want to leave.",
                        "Context 3": "He wore comfortable shoes for the long walk."
                    }
                },
                {
                    "word": "Tradition",
                    "definition": "A custom or belief that is passed down through generations.",
                    "context": {
                        "Context 1": "It is a tradition in their family to have dinner together every Sunday.",
                        "Context 2": "The festival is a tradition that celebrates the harvest.",
                        "Context 3": "In some cultures, it is a tradition to wear special clothing during holidays."
                    }
                },
                {
                    "word": "Sibling",
                    "definition": "A brother or sister.",
                    "context": {
                        "Context 1": "She has two siblings, a brother and a sister.",
                        "Context 2": "Siblings often share a unique bond that lasts a lifetime.",
                        "Context 3": "He is the youngest sibling in his family."
                    }
                },
                {
                    "word": "Commute",
                    "definition": "The journey to and from work or school.",
                    "context": {
                        "Context 1": "My daily commute takes about 30 minutes by train.",
                        "Context 2": "He enjoys listening to music during his long commute.",
                        "Context 3": "The commute to the beach is always worth it for a relaxing day."
                    }
                },
                {
                    "word": "Authority",
                    "definition": "The power or right to give orders, make decisions, and enforce obedience.",
                    "context": {
                        "Context 1": "The teacher has the authority to assign homework.",
                        "Context 2": "He is an authority on ancient history and often gives lectures.",
                        "Context 3": "The police officer acted with authority to maintain order."
                    }
                },
                {
                    "word": "Reschedule",
                    "definition": "To change the time of a planned event.",
                    "context": {
                        "Context 1": "We had to reschedule the meeting due to a conflict.",
                        "Context 2": "She decided to reschedule her doctor's appointment for next week.",
                        "Context 3": "They rescheduled their vacation because of bad weather."
                    }
                },
                {
                    "word": "Makeup",
                    "definition": "Cosmetics applied to the face to enhance appearance.",
                    "context": {
                        "Context 1": "She spent an hour applying her makeup before the party.",
                        "Context 2": "He prefers a natural look and rarely wears makeup.",
                        "Context 3": "The artist used makeup to create a dramatic effect for the performance."
                    }
                },
                {
                    "word": "Neat",
                    "definition": "In an orderly and clean condition.",
                    "context": {
                        "Context 1": "Her room is always neat and organized.",
                        "Context 2": "He has a neat handwriting that is easy to read.",
                        "Context 3": "The neat rows of flowers in the garden were impressive."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Blackout",
                    "fact": "Did you know that the term 'blackout' was first used during World War II to describe the practice of turning off lights to avoid detection by enemy aircraft?"
                },
                {
                    "word": "Tradition",
                    "fact": "In some cultures, it's a tradition to throw a tomato at someone on their birthday. Talk about a messy celebration!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Commute",
                    "definition": "To travel some distance between one's home and place of work on a regular basis.",
                    "context": {
                        "Context 1": "My friend has a long commute to his apartment, taking about two hours each way.",
                        "Context 2": "Many people prefer to commute by bike to avoid traffic jams.",
                        "Context 3": "After moving to the city, I had to adjust to my new commute on the subway."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "Having a different perspective can help you understand others better.",
                        "Context 2": "From her perspective, the project was a success despite the challenges.",
                        "Context 3": "The artist's unique perspective is reflected in her vibrant paintings."
                    }
                },
                {
                    "word": "Abstract",
                    "definition": "Existing in thought or as an idea but not having a physical or concrete existence.",
                    "context": {
                        "Context 1": "In part three of the speaking test, questions are more abstract and require deeper thinking.",
                        "Context 2": "The abstract concept of love can be difficult to define.",
                        "Context 3": "He struggled to understand the abstract theories presented in the lecture."
                    }
                },
                {
                    "word": "Character",
                    "definition": "The mental and moral qualities distinctive to an individual.",
                    "context": {
                        "Context 1": "I appreciate teachers for their character, not just their age or experience.",
                        "Context 2": "The character of the protagonist in the novel is very complex.",
                        "Context 3": "Her strong character helped her overcome many obstacles in life."
                    }
                },
                {
                    "word": "Obstacle",
                    "definition": "A thing that blocks one's way or prevents or hinders progress.",
                    "context": {
                        "Context 1": "His age shouldn't be an obstacle to teaching effectively.",
                        "Context 2": "The biggest obstacle to success is often fear of failure.",
                        "Context 3": "They faced many obstacles while trying to start their own business."
                    }
                },
                {
                    "word": "Reflect",
                    "definition": "To throw back (light, heat, or sound) without absorbing it.",
                    "context": {
                        "Context 1": "That thing reflecting light on your face is called a highlighter.",
                        "Context 2": "The calm lake reflected the beautiful sunset perfectly.",
                        "Context 3": "Mirrors reflect light, allowing us to see our own image."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "Practical contact with and observation of facts or events.",
                    "context": {
                        "Context 1": "Old teachers often have more experience in their subjects.",
                        "Context 2": "Traveling abroad can be a life-changing experience.",
                        "Context 3": "Her experience in the industry made her a valuable asset to the team."
                    }
                },
                {
                    "word": "Comfortable",
                    "definition": "Providing physical ease and relaxation.",
                    "context": {
                        "Context 1": "Finding a comfortable chair is important when studying.",
                        "Context 2": "She wore comfortable shoes for the long hike.",
                        "Context 3": "The hotel room was spacious and comfortable, making our stay enjoyable."
                    }
                },
                {
                    "word": "Pleasant",
                    "definition": "Giving a sense of happy satisfaction or enjoyment.",
                    "context": {
                        "Context 1": "An old teacher can be kind and have a pleasant character.",
                        "Context 2": "The pleasant aroma of freshly baked cookies filled the kitchen.",
                        "Context 3": "He has a pleasant voice that makes listening to him enjoyable."
                    }
                },
                {
                    "word": "Knowledge",
                    "definition": "Facts, information, and skills acquired through experience or education.",
                    "context": {
                        "Context 1": "I value teachers for their knowledge and character.",
                        "Context 2": "His extensive knowledge of history impressed everyone at the lecture.",
                        "Context 3": "She shared her knowledge of gardening with the community."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Commute",
                    "fact": "Did you know that the longest commute in the world is over 5 hours one way? Talk about dedication!"
                },
                {
                    "word": "Perspective",
                    "fact": "In some cultures, people believe that standing on your head can give you a new perspective on life—literally!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the teacher go to the beach?",
                    "answer": "Because she wanted to test the waters!"
                },
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Draft",
                    "definition": "To prepare a preliminary version of a document or plan.",
                    "context": {
                        "Context 1": "In the lesson, the teacher mentioned that students should draft their answers before speaking.",
                        "Context 2": "The architect needs to draft the blueprints for the new building.",
                        "Context 3": "Before submitting the essay, she decided to draft it to organize her thoughts."
                    }
                },
                {
                    "word": "Procedure",
                    "definition": "An established or official way of doing something.",
                    "context": {
                        "Context 1": "The teacher explained the procedure for the speaking section of the exam.",
                        "Context 2": "The procedure for applying to college can be quite complicated.",
                        "Context 3": "In the kitchen, the chef followed a strict procedure to ensure food safety."
                    }
                },
                {
                    "word": "Examiner",
                    "definition": "A person who assesses or evaluates something, especially in an academic context.",
                    "context": {
                        "Context 1": "The examiner will ask you questions during the speaking section of the test.",
                        "Context 2": "The examiner graded the exams quickly to provide feedback to the students.",
                        "Context 3": "As a driving examiner, she had to ensure that all candidates followed the rules of the road."
                    }
                },
                {
                    "word": "Memorize",
                    "definition": "To commit something to memory or learn it by heart.",
                    "context": {
                        "Context 1": "The teacher warned students not to memorize answers for the speaking section.",
                        "Context 2": "He had to memorize the entire script for the school play.",
                        "Context 3": "To pass the test, she decided to memorize all the vocabulary words."
                    }
                },
                {
                    "word": "Intimidated",
                    "definition": "Feeling frightened or overawed, especially in a situation that is new or challenging.",
                    "context": {
                        "Context 1": "The teacher reassured students that they shouldn't feel intimidated by the exam.",
                        "Context 2": "She felt intimidated by the large crowd at the concert.",
                        "Context 3": "The new employee was intimidated by his boss's strict demeanor."
                    }
                },
                {
                    "word": "Comfortable",
                    "definition": "Feeling relaxed and at ease; not worried or anxious.",
                    "context": {
                        "Context 1": "The goal is for students to feel comfortable speaking with the examiner.",
                        "Context 2": "He made sure the chair was comfortable before starting the meeting.",
                        "Context 3": "She felt comfortable in her new shoes after wearing them for a few hours."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement or organization of parts to form a whole.",
                    "context": {
                        "Context 1": "The teacher emphasized the importance of having a structure in your answers.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "A good essay has a clear structure with an introduction, body, and conclusion."
                    }
                },
                {
                    "word": "Predictable",
                    "definition": "Able to be foreseen or expected; not surprising.",
                    "context": {
                        "Context 1": "The teacher mentioned that the questions in part one are often predictable.",
                        "Context 2": "The plot of the movie was so predictable that I could guess the ending.",
                        "Context 3": "His behavior was predictable, as he always reacted the same way in similar situations."
                    }
                },
                {
                    "word": "Lifestyle",
                    "definition": "The way in which a person or group lives, including their habits and behaviors.",
                    "context": {
                        "Context 1": "The lesson discussed how to maintain a healthy lifestyle.",
                        "Context 2": "Her lifestyle includes daily yoga and a vegetarian diet.",
                        "Context 3": "The magazine features articles on luxury lifestyles of the rich and famous."
                    }
                },
                {
                    "word": "Honest",
                    "definition": "Truthful and sincere; free of deceit.",
                    "context": {
                        "Context 1": "The teacher encouraged students to be honest in their answers during the exam.",
                        "Context 2": "He was honest about his mistakes and took responsibility for them.",
                        "Context 3": "Being honest with your friends is essential for a strong relationship."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Draft",
                    "fact": "Did you know that the word 'draft' comes from the Old English word 'dræft,' which means 'to pull' or 'to draw'? It’s like pulling your ideas out of your head!"
                },
                {
                    "word": "Memorize",
                    "fact": "The longest word in the English language is 189,819 letters long! Good luck trying to memorize that!"
                },
                {
                    "word": "Intimidated",
                    "fact": "Did you know that many people feel intimidated by public speaking? In fact, it's often cited as a bigger fear than death!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Intimidated",
                    "definition": "Feeling frightened or nervous, especially in a situation where one feels less confident.",
                    "context": {
                        "Context 1": "She felt intimidated when speaking to her classmates in English for the first time.",
                        "Context 2": "The large crowd at the concert intimidated him, making him hesitate to join in.",
                        "Context 3": "He was intimidated by the complexity of the math problem."
                    }
                },
                {
                    "word": "Mistakes",
                    "definition": "Errors or faults resulting from a lack of knowledge, care, or attention.",
                    "context": {
                        "Context 1": "Making mistakes is a natural part of learning a new language.",
                        "Context 2": "She learned from her mistakes and improved her cooking skills.",
                        "Context 3": "The artist made several mistakes before completing the painting."
                    }
                },
                {
                    "word": "Comfortable",
                    "definition": "Feeling relaxed and at ease; free from stress or anxiety.",
                    "context": {
                        "Context 1": "It's important to feel comfortable when practicing speaking English.",
                        "Context 2": "He felt comfortable in his new shoes after wearing them for a while.",
                        "Context 3": "The cozy blanket made her feel comfortable during the cold night."
                    }
                },
                {
                    "word": "Improve",
                    "definition": "To make or become better.",
                    "context": {
                        "Context 1": "Regular practice will help you improve your English speaking skills.",
                        "Context 2": "She wants to improve her fitness by exercising more often.",
                        "Context 3": "The teacher provided feedback to help students improve their essays."
                    }
                },
                {
                    "word": "Abstract",
                    "definition": "Existing in thought or as an idea but not having a physical or concrete existence.",
                    "context": {
                        "Context 1": "Discussing abstract concepts can be challenging in a conversation.",
                        "Context 2": "The artist's abstract painting left viewers pondering its meaning.",
                        "Context 3": "He struggled to understand the abstract theories presented in the lecture."
                    }
                },
                {
                    "word": "Imagination",
                    "definition": "The ability to form new ideas, images, or concepts not present to the senses.",
                    "context": {
                        "Context 1": "Using your imagination can help you respond creatively to questions.",
                        "Context 2": "Children often have vivid imaginations, creating entire worlds in their play.",
                        "Context 3": "The writer relied on her imagination to craft the fantasy novel."
                    }
                },
                {
                    "word": "Balance",
                    "definition": "A state in which different things occur in equal or proper amounts.",
                    "context": {
                        "Context 1": "Finding a balance between making mistakes and improving is essential for language learners.",
                        "Context 2": "He struggled to balance work and family life.",
                        "Context 3": "The gymnast demonstrated perfect balance on the beam."
                    }
                },
                {
                    "word": "Smoother",
                    "definition": "Having a surface or texture that is even and without bumps; also refers to a process that is more efficient or easier.",
                    "context": {
                        "Context 1": "Enjoying the conversation can make the flow of speech smoother.",
                        "Context 2": "The road was smoother after the recent repairs.",
                        "Context 3": "Her presentation was smoother after she practiced several times."
                    }
                },
                {
                    "word": "Cereal",
                    "definition": "A common breakfast food made from processed grains, often eaten with milk.",
                    "context": {
                        "Context 1": "He mistakenly said 'cereal' instead of 'series' during the lesson.",
                        "Context 2": "She enjoys eating cereal with fresh fruit in the morning.",
                        "Context 3": "The cereal box featured a cartoon character to attract children."
                    }
                },
                {
                    "word": "Logical",
                    "definition": "Reasonable or sensible; based on clear reasoning.",
                    "context": {
                        "Context 1": "It’s logical to think that practicing will lead to improvement.",
                        "Context 2": "His logical approach to problem-solving impressed his colleagues.",
                        "Context 3": "The detective used logical reasoning to solve the mystery."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Intimidated",
                    "fact": "Did you know that some people feel intimidated by their own reflection in the mirror?"
                },
                {
                    "word": "Cereal",
                    "fact": "In the U.S., there are over 1,500 different types of cereal available in grocery stores!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the English book go to the doctor?",
                    "answer": "Because it had too many problems!"
                },
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Do you hear me okay?"
                },
                {
                    "Person 2": "Yeah, I hear you loud and clear! But it looks pretty dark where you are. Is it cloudy outside?"
                },
                {
                    "Person 1": "No, it’s just that I like it dark in my room. I close the curtains and it feels cozy."
                },
                {
                    "Person 2": "Really? I can’t stand being in the dark. I need some sunlight!"
                },
                {
                    "Person 1": "I get that! My mom always says I’m like a mole, hiding away. But I just feel more comfortable this way."
                },
                {
                    "Person 2": "That’s interesting! Do you have a good view from your windows?"
                },
                {
                    "Person 1": "Yeah, I can see the school where a lot of rich kids go. But it makes me a bit paranoid, like someone might be watching me."
                },
                {
                    "Person 2": "I can see how that would be uncomfortable. Do you keep your curtains closed all the time?"
                },
                {
                    "Person 1": "Pretty much! It just feels safer that way. Plus, I don’t want anyone peeking in."
                },
                {
                    "Person 2": "Totally understandable! So, are you all dressed up for something special?"
                },
                {
                    "Person 1": "Actually, I thought I didn’t have English today, but I do! I was just about to head to my chemistry class."
                },
                {
                    "Person 2": "Oh no! Surprise English class! Are you dressing up for chemistry?"
                },
                {
                    "Person 1": "Not really, but I planned to go to a restaurant after class with my parents."
                },
                {
                    "Person 2": "That sounds nice! Are you celebrating something?"
                },
                {
                    "Person 1": "Not really, it’s just a family tradition to go out every week or two."
                },
                {
                    "Person 2": "That’s a great tradition! Do you all go together?"
                },
                {
                    "Person 1": "Yeah, it’s just me and my parents. I’m an only child, so it’s nice to have that time together."
                },
                {
                    "Person 2": "I’ve always envied only children! I have two siblings, and it can get chaotic."
                },
                {
                    "Person 1": "I like being an only child! It’s peaceful."
                },
                {
                    "Person 2": "I bet! So, are you going to be late for your chemistry class?"
                },
                {
                    "Person 1": "Not yet! I still have time. I just need to grab my things and head out."
                },
                {
                    "Person 2": "Good luck! I hope you enjoy the restaurant later!"
                },
                {
                    "Person 1": "Thanks! I’ll let you know how it goes!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not much, just trying to survive another busy week. How about you?"
                },
                {
                    "Person 1": "Same here! I feel like I’m always on the go. Just finished a long day at work."
                },
                {
                    "Person 2": "I hear you! What do you do again?"
                },
                {
                    "Person 1": "I work in marketing. It’s fun, but sometimes it gets overwhelming with all the deadlines."
                },
                {
                    "Person 2": "I can imagine! I’m in school right now, and it feels like I have a million assignments due all at once."
                },
                {
                    "Person 1": "Ugh, that sounds stressful. What are you studying?"
                },
                {
                    "Person 2": "I’m majoring in biology. It’s interesting, but the workload is intense."
                },
                {
                    "Person 1": "Biology? That’s cool! Do you have a favorite topic?"
                },
                {
                    "Person 2": "Definitely! I love learning about ecosystems. It’s fascinating how everything is connected."
                },
                {
                    "Person 1": "That is interesting! I’ve always been more of a chemistry person myself."
                },
                {
                    "Person 2": "Chemistry can be fun too! Just a bit more challenging sometimes, right?"
                },
                {
                    "Person 1": "For sure! I remember struggling with all those formulas back in school."
                },
                {
                    "Person 2": "Same! But I think it’s all about finding the right teacher. Some make it so much easier to understand."
                },
                {
                    "Person 1": "Absolutely! I had this one teacher who made chemistry feel like a breeze."
                },
                {
                    "Person 2": "Lucky you! I had a teacher who was nice but could never explain things clearly."
                },
                {
                    "Person 1": "That’s the worst! It’s like, you want to learn, but they just make it harder."
                },
                {
                    "Person 2": "Exactly! Anyway, do you have any plans for the weekend?"
                },
                {
                    "Person 1": "I might catch a movie with some friends. How about you?"
                },
                {
                    "Person 2": "Thinking of just relaxing at home, maybe binge-watch a series."
                },
                {
                    "Person 1": "That sounds nice! What series are you into right now?"
                },
                {
                    "Person 2": "I just started this new sci-fi show. It’s pretty good so far!"
                },
                {
                    "Person 1": "Awesome! I love a good sci-fi series. Let me know if it’s worth watching!"
                },
                {
                    "Person 2": "Will do! And maybe we can catch up next week to talk about it?"
                },
                {
                    "Person 1": "Definitely! Let’s make it happen."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you ever thought about how important it is to eat healthy?"
                },
                {
                    "Person 2": "Definitely! I try to eat fruits and veggies whenever I can. They taste great and keep me feeling good."
                },
                {
                    "Person 1": "Right? Plus, it helps with staying fit. I mean, who doesn’t want to feel good in their own skin?"
                },
                {
                    "Person 2": "Exactly! And when I catch a cold, I just curl up on the couch and binge-watch shows. It’s the best way to recover."
                },
                {
                    "Person 1": "Same here! I’ll grab some soup and just zone out with Netflix. Do you pay attention to health news?"
                },
                {
                    "Person 2": "Not really. I feel like everyone has their own way of eating, and I just stick to what works for me."
                },
                {
                    "Person 1": "That makes sense. So, what do you do to stay healthy?"
                },
                {
                    "Person 2": "I try to work out a few times a week and keep a balanced diet. It’s all about finding what fits your lifestyle."
                },
                {
                    "Person 1": "Totally! And I think it’s important to enjoy life too, not just focus on being healthy all the time."
                },
                {
                    "Person 2": "Absolutely! Moderation is key. You can have a slice of cake and still be healthy, right?"
                },
                {
                    "Person 1": "For sure! Life’s too short to skip dessert. What’s your favorite treat?"
                },
                {
                    "Person 2": "I love ice cream! It’s my guilty pleasure. How about you?"
                },
                {
                    "Person 1": "I’m a sucker for chocolate chip cookies. Fresh out of the oven? Nothing beats that!"
                },
                {
                    "Person 2": "Yum! We should have a baking day sometime. Cookies and ice cream sound like a perfect combo."
                },
                {
                    "Person 1": "That’s a plan! Let’s make it happen soon."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to get through the week. How about you?"
                },
                {
                    "Person 1": "Same here! Work has been a bit hectic, but I'm managing."
                },
                {
                    "Person 2": "I hear you. I feel like I’m always juggling tasks. Any plans for the weekend?"
                },
                {
                    "Person 1": "I was thinking of going hiking if the weather is nice. What about you?"
                },
                {
                    "Person 2": "That sounds fun! I might just relax at home or catch up on some shows."
                },
                {
                    "Person 1": "Nice! What shows are you watching right now?"
                },
                {
                    "Person 2": "I just started that new crime series everyone’s talking about. It’s pretty intense!"
                },
                {
                    "Person 1": "Oh, I’ve heard about that! I need to check it out. I love a good mystery."
                },
                {
                    "Person 2": "For sure! It keeps you guessing. Do you have any recommendations?"
                },
                {
                    "Person 1": "Yeah! If you haven't seen it yet, you should watch that sci-fi show. It’s really good!"
                },
                {
                    "Person 2": "I’ll add it to my list! I’m always looking for something new to binge."
                },
                {
                    "Person 1": "Same! It’s the best way to unwind after a long day."
                },
                {
                    "Person 2": "Absolutely! Let’s plan a movie night soon."
                },
                {
                    "Person 1": "Definitely! I’ll bring the popcorn!"
                },
                {
                    "Person 2": "Perfect! Can’t wait!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "On this week, on Monday and Tuesday, I sleep five hours and Wednesday and Thursday it is for 30 hours.",
                    "corrected": "This week, on Monday and Tuesday, I slept five hours, and on Wednesday and Thursday, it was thirty hours.",
                    "explanation": "The phrase 'on this week' should be 'this week.' The verb tense should be past ('slept') for consistency, and 'it is for 30 hours' should be 'it was thirty hours.'",
                    "context": "I have been reflecting on my sleep patterns lately. This week, on Monday and Tuesday, I slept five hours, and on Wednesday and Thursday, it was thirty hours. I realize that my sleep schedule is becoming increasingly irregular."
                },
                {
                    "original": "And today I slept more five hours.",
                    "corrected": "And today I slept for more than five hours.",
                    "explanation": "The phrase 'more five hours' should be 'more than five hours' to correctly indicate quantity.",
                    "context": "I've been trying to catch up on sleep. And today I slept for more than five hours. I hope this helps me feel more rested."
                },
                {
                    "original": "And I just rest relax.",
                    "corrected": "And I just rest and relax.",
                    "explanation": "The phrase 'rest relax' should be 'rest and relax' to correctly connect the two actions.",
                    "context": "After a long week, I need some time for myself. And I just rest and relax. It's important to take a break."
                },
                {
                    "original": "I met with girlfriend.",
                    "corrected": "I met with my girlfriend.",
                    "explanation": "The article 'my' is needed before 'girlfriend' to specify possession.",
                    "context": "During my busy schedule, I still make time for important people in my life. I met with my girlfriend. It's nice to catch up with her."
                },
                {
                    "original": "But my colleagues didn't do their parts and it is a problem.",
                    "corrected": "But my colleagues didn't do their part, and that is a problem.",
                    "explanation": "The phrase 'their parts' should be 'their part' to refer to the collective responsibility, and 'it is' should be 'that is' for clarity.",
                    "context": "In team projects, everyone has a role to play. But my colleagues didn't do their part, and that is a problem. It affects the entire project's progress."
                },
                {
                    "original": "And after that yesterday I just returned home and just thinking about it, yeah.",
                    "corrected": "And after that, yesterday I just returned home and thought about it.",
                    "explanation": "The verb 'thinking' should be in the past tense 'thought' to match the past context.",
                    "context": "After a long day at work, I needed some time to reflect. And after that, yesterday I just returned home and thought about it. It helped me process everything."
                },
                {
                    "original": "I just decided that it is. It is the end.",
                    "corrected": "I just decided that it was the end.",
                    "explanation": "The verb 'is' should be in the past tense 'was' to maintain consistency with the previous context.",
                    "context": "After much consideration, I reached a conclusion. I just decided that it was the end. It's time for a new chapter in my life."
                },
                {
                    "original": "And I just funny, but it's okay, yeah.",
                    "corrected": "And I just find it funny, but it's okay.",
                    "explanation": "The phrase 'I just funny' is incorrect; it should be 'I just find it funny' to express the sentiment properly.",
                    "context": "Sometimes I reflect on my experiences with humor. And I just find it funny, but it's okay. Laughter helps me cope."
                },
                {
                    "original": "I try to reading every day and it is different articles.",
                    "corrected": "I try to read every day, and they are different articles.",
                    "explanation": "'Try to reading' should be 'try to read' for correct verb form, and 'it is different articles' should be 'they are different articles' for proper subject-verb agreement.",
                    "context": "I believe in the importance of continuous learning. I try to read every day, and they are different articles. It keeps my mind engaged."
                },
                {
                    "original": "Because earlier I read faster, but it is not helpful.",
                    "corrected": "Because earlier I read faster, but that was not helpful.",
                    "explanation": "The phrase 'it is not helpful' should be 'that was not helpful' to maintain past tense consistency.",
                    "context": "I've learned a lot about effective reading strategies. Because earlier I read faster, but that was not helpful. Now, I focus on comprehension."
                },
                {
                    "original": "And I know what should I do and I know what should I actually do.",
                    "corrected": "And I know what I should do and what I should actually do.",
                    "explanation": "The structure should be 'what I should do' instead of 'what should I do' to follow the correct word order in indirect questions.",
                    "context": "Self-awareness is key to my progress. And I know what I should do and what I should actually do. It helps me stay focused."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "my goal just proved my English, actually, in English.",
                    "corrected": "my goal is just to improve my English, actually.",
                    "explanation": "The verb 'proved' is incorrect; it should be 'improve' to indicate the intention of enhancing skills.",
                    "context": "I have a clear goal for my language learning. My goal is just to improve my English, actually. I want to be able to communicate better."
                },
                {
                    "original": "I not improve my skills.",
                    "corrected": "I do not improve my skills.",
                    "explanation": "The auxiliary verb 'do' is needed for negation in the present tense.",
                    "context": "I listen to podcasts every day to support my learning. However, I do not improve my skills. It's just a way to maintain my current level."
                },
                {
                    "original": "I just to choose someone question and just answer to this question.",
                    "corrected": "I just choose a question and answer it.",
                    "explanation": "The infinitive 'to choose' is unnecessary; the simple present 'choose' is correct here.",
                    "context": "I often practice my speaking skills. I just choose a question and answer it. This helps me engage in conversation."
                },
                {
                    "original": "AI tutor correct correct me a lot.",
                    "corrected": "AI tutor corrects me a lot.",
                    "explanation": "The verb 'correct' should be in the third person singular form 'corrects' to match the subject 'AI tutor.'",
                    "context": "I find my AI tutor very helpful. The AI tutor corrects me a lot. This feedback is valuable for my learning."
                },
                {
                    "original": "I would help me with two different things.",
                    "corrected": "It would help me with two different things.",
                    "explanation": "The subject 'It' is needed to clarify what is being referred to in the sentence.",
                    "context": "I have specific goals for my studies. It would help me with two different things: improving my English and furthering my education."
                },
                {
                    "original": "I would to, you know, just open my eyes that, for example, I had, I had lesson with a tutor.",
                    "corrected": "I want to, you know, just open my eyes to the fact that, for example, I had a lesson with a tutor.",
                    "explanation": "'Would to' is incorrect; 'want to' is the appropriate phrase. 'Open my eyes to the fact' is a more idiomatic expression.",
                    "context": "I reflect on my learning experiences. I want to, you know, just open my eyes to the fact that I had a lesson with a tutor. This helps me understand my progress."
                },
                {
                    "original": "I amused a little bit about it.",
                    "corrected": "I was amused a little bit by it.",
                    "explanation": "The verb 'amused' needs a form of 'to be' for proper tense, and 'by' is the correct preposition.",
                    "context": "Learning with AI can be entertaining. I was amused a little bit by it. It adds a fun element to my studies."
                },
                {
                    "original": "we need to prepare to IELTS exam.",
                    "corrected": "we need to prepare for the IELTS exam.",
                    "explanation": "The correct preposition is 'for' when referring to preparing for an exam.",
                    "context": "I have a clear plan for my future. We need to prepare for the IELTS exam. It's an important step for my studies."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "it is really difficult to me.",
                    "corrected": "it is really difficult for me.",
                    "explanation": "'Difficult to' is incorrect; the correct preposition is 'for' when expressing difficulty experienced by someone.",
                    "context": "I was discussing my struggles with reading articles. I know that it is really difficult for me. I need to work on my reading skills."
                },
                {
                    "original": "I should to read this article.",
                    "corrected": "I should read this article.",
                    "explanation": "The infinitive 'to' is unnecessary after 'should'; 'should' already implies the verb form.",
                    "context": "I realize that I need to improve my understanding of the material. I should read this article. It will help me learn new vocabulary."
                },
                {
                    "original": "working on this article and learn new words.",
                    "corrected": "working on this article and learning new words.",
                    "explanation": "The gerund 'learning' should be used to maintain parallel structure with 'working.'",
                    "context": "I know I need to put in more effort. I am working on this article and learning new words. This will enhance my comprehension."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Routine",
                    "definition": "A sequence of actions regularly followed.",
                    "context": {
                        "Context 1": "I need to change my working routine to be more productive.",
                        "Context 2": "Every morning, I follow a routine that includes exercise and breakfast.",
                        "Context 3": "The artist had a unique routine for creating her paintings."
                    }
                },
                {
                    "word": "Distraction",
                    "definition": "A thing that prevents someone from giving full attention to something else.",
                    "context": {
                        "Context 1": "My colleagues are a distraction when I’m trying to focus on my work.",
                        "Context 2": "The loud music was a distraction during the exam.",
                        "Context 3": "He found his phone to be a constant distraction while studying."
                    }
                },
                {
                    "word": "Goal",
                    "definition": "The object of a person's ambition or effort; an aim or desired result.",
                    "context": {
                        "Context 1": "I set a goal to improve my English skills this year.",
                        "Context 2": "Her goal is to run a marathon by the end of the year.",
                        "Context 3": "The team's goal is to win the championship."
                    }
                },
                {
                    "word": "Colleague",
                    "definition": "A person with whom one works in a profession or business.",
                    "context": {
                        "Context 1": "I discussed my workload with my colleague to find a solution.",
                        "Context 2": "My colleague brought donuts to the meeting, which made everyone happy.",
                        "Context 3": "The scientist collaborated with a colleague on a groundbreaking research paper."
                    }
                },
                {
                    "word": "Examine",
                    "definition": "To inspect or scrutinize carefully.",
                    "context": {
                        "Context 1": "I need to examine my schedule to find time for relaxation.",
                        "Context 2": "The doctor will examine you to ensure you're healthy.",
                        "Context 3": "The detective had to examine the crime scene for clues."
                    }
                },
                {
                    "word": "Practice",
                    "definition": "Repeated exercise in an activity to improve proficiency.",
                    "context": {
                        "Context 1": "I need to practice my speaking skills for the IELTS exam.",
                        "Context 2": "The musician practices daily to perfect her performance.",
                        "Context 3": "He decided to practice yoga to relieve stress."
                    }
                },
                {
                    "word": "Relax",
                    "definition": "To make or become less tense or anxious.",
                    "context": {
                        "Context 1": "I plan to relax this weekend after a busy week.",
                        "Context 2": "She likes to relax by reading a good book.",
                        "Context 3": "The spa offers treatments that help you relax and unwind."
                    }
                },
                {
                    "word": "Schedule",
                    "definition": "A plan for carrying out a process or procedure, giving lists of intended events and times.",
                    "context": {
                        "Context 1": "I need to adjust my schedule to fit in more free time.",
                        "Context 2": "The school schedule includes classes, breaks, and lunch.",
                        "Context 3": "He created a schedule for his road trip to ensure he visits all the landmarks."
                    }
                },
                {
                    "word": "Activity",
                    "definition": "A condition in which things are happening or being done.",
                    "context": {
                        "Context 1": "I have too many activities planned for this week.",
                        "Context 2": "The park offers various activities for children and families.",
                        "Context 3": "Her favorite activity is hiking in the mountains."
                    }
                },
                {
                    "word": "Competitions",
                    "definition": "An event in which people compete against each other.",
                    "context": {
                        "Context 1": "I have some competitions coming up that I need to prepare for.",
                        "Context 2": "The cooking competitions on TV are always exciting to watch.",
                        "Context 3": "He entered several competitions to showcase his artwork."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Routine",
                    "fact": "Did you know that some people have a 'morning routine' that includes talking to their plants? They say it helps them grow!"
                },
                {
                    "word": "Distraction",
                    "fact": "Studies show that cats are the biggest distraction for remote workers, often demanding attention right when you need to focus!"
                },
                {
                    "word": "Goal",
                    "fact": "In ancient Rome, people used to set goals for the new year by throwing their old furniture out the window!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of anxiety!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Goal",
                    "definition": "The object of a person's ambition or effort; an aim or desired result.",
                    "context": {
                        "Context 1": "My goal is to improve my English skills by the end of the year.",
                        "Context 2": "The soccer team celebrated after scoring their first goal of the match.",
                        "Context 3": "Her goal in life is to travel to every country in the world."
                    }
                },
                {
                    "word": "Improve",
                    "definition": "To make or become better.",
                    "context": {
                        "Context 1": "I want to improve my English by practicing every day.",
                        "Context 2": "He worked hard to improve his cooking skills for the competition.",
                        "Context 3": "The city plans to improve public transportation to reduce traffic."
                    }
                },
                {
                    "word": "Support",
                    "definition": "To bear all or part of the weight of; to hold up.",
                    "context": {
                        "Context 1": "Listening to podcasts is a great way to support my English learning.",
                        "Context 2": "The beams were installed to support the roof of the building.",
                        "Context 3": "Friends and family often provide emotional support during tough times."
                    }
                },
                {
                    "word": "Routine",
                    "definition": "A sequence of actions regularly followed; a fixed program.",
                    "context": {
                        "Context 1": "Practicing English every day has become my daily routine.",
                        "Context 2": "His morning routine includes jogging and reading the news.",
                        "Context 3": "The teacher introduced a new routine to help students stay organized."
                    }
                },
                {
                    "word": "Correct",
                    "definition": "To make something right or accurate.",
                    "context": {
                        "Context 1": "The AI tutor helps me correct my mistakes in English.",
                        "Context 2": "She needed to correct her essay before submitting it.",
                        "Context 3": "The mechanic will correct the issues with the car's engine."
                    }
                },
                {
                    "word": "Discuss",
                    "definition": "To talk about something with another person or group.",
                    "context": {
                        "Context 1": "We often discuss our progress in learning English during meetings.",
                        "Context 2": "The scientists will discuss their findings at the conference.",
                        "Context 3": "Friends like to discuss their favorite movies over dinner."
                    }
                },
                {
                    "word": "Podcast",
                    "definition": "A digital audio file available for streaming or download, typically part of a series.",
                    "context": {
                        "Context 1": "I listen to English podcasts to improve my listening skills.",
                        "Context 2": "He started a podcast about cooking tips and recipes.",
                        "Context 3": "Many people enjoy podcasts while commuting to work."
                    }
                },
                {
                    "word": "Skill",
                    "definition": "The ability to do something well; expertise.",
                    "context": {
                        "Context 1": "Practicing every day helps me develop my English skills.",
                        "Context 2": "She has a skill for painting that impresses everyone.",
                        "Context 3": "Learning a new skill can be challenging but rewarding."
                    }
                },
                {
                    "word": "Amused",
                    "definition": "To find something funny or entertaining.",
                    "context": {
                        "Context 1": "I was amused by the AI tutor's funny responses.",
                        "Context 2": "The comedian's jokes amused the entire audience.",
                        "Context 3": "She was amused by the antics of her playful puppy."
                    }
                },
                {
                    "word": "Brilliant",
                    "definition": "Very bright or radiant; exceptionally clever or talented.",
                    "context": {
                        "Context 1": "The AI tutor provided brilliant feedback on my English.",
                        "Context 2": "His brilliant idea won the competition.",
                        "Context 3": "The stars looked brilliant in the clear night sky."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Podcast",
                    "fact": "The term 'podcast' comes from combining 'iPod' and 'broadcast,' even though you can listen to them on any device!"
                },
                {
                    "word": "Amused",
                    "fact": "Did you know that laughter is contagious? When you hear someone laugh, your brain might trigger you to laugh too!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the English book go to therapy?",
                    "answer": "Because it had too many issues!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Article",
                    "definition": "A piece of writing included with others in a newspaper, magazine, or other publication.",
                    "context": {
                        "Context 1": "Yesterday, I read an interesting article about climate change.",
                        "Context 2": "The teacher assigned a research article for us to analyze in class.",
                        "Context 3": "She wrote an article for the school newspaper about the upcoming talent show."
                    }
                },
                {
                    "word": "Difficult",
                    "definition": "Hard to do, deal with, or understand.",
                    "context": {
                        "Context 1": "I find it really difficult to understand complex scientific concepts.",
                        "Context 2": "The math test was difficult, and many students struggled.",
                        "Context 3": "Learning a new language can be difficult but rewarding."
                    }
                },
                {
                    "word": "Understand",
                    "definition": "To grasp the meaning, significance, or nature of something.",
                    "context": {
                        "Context 1": "I absolutely understand that I need to work on my vocabulary.",
                        "Context 2": "He tried to understand the instructions but found them confusing.",
                        "Context 3": "It's important to understand different cultures when traveling."
                    }
                },
                {
                    "word": "Learn",
                    "definition": "To gain knowledge or skill by study, experience, or being taught.",
                    "context": {
                        "Context 1": "I want to learn new words to improve my English.",
                        "Context 2": "She decided to learn how to play the guitar during her free time.",
                        "Context 3": "Many people learn best through hands-on experience."
                    }
                },
                {
                    "word": "Session",
                    "definition": "A meeting or period devoted to a particular activity.",
                    "context": {
                        "Context 1": "As you said in our previous session, practice is important.",
                        "Context 2": "The yoga session was very relaxing and rejuvenating.",
                        "Context 3": "We had a brainstorming session to come up with new ideas."
                    }
                },
                {
                    "word": "Problem",
                    "definition": "A matter or situation regarded as unwelcome or harmful and needing to be dealt with.",
                    "context": {
                        "Context 1": "I know that it is absolutely a problem when I don’t read enough.",
                        "Context 2": "The main problem with the project was a lack of funding.",
                        "Context 3": "He faced a problem when his car broke down on the highway."
                    }
                },
                {
                    "word": "Vocabulary",
                    "definition": "The body of words used in a particular language.",
                    "context": {
                        "Context 1": "I need to expand my vocabulary to express myself better.",
                        "Context 2": "The vocabulary of a scientist can be quite specialized.",
                        "Context 3": "Children often learn new vocabulary through reading and conversation."
                    }
                },
                {
                    "word": "Science",
                    "definition": "The systematic study of the structure and behavior of the physical and natural world through observation and experiment.",
                    "context": {
                        "Context 1": "I read an article about science, but it was difficult for me.",
                        "Context 2": "She has always been interested in science and wants to become a doctor.",
                        "Context 3": "Science fairs are a great way for students to showcase their projects."
                    }
                },
                {
                    "word": "Work on",
                    "definition": "To engage in a task or activity to improve or complete something.",
                    "context": {
                        "Context 1": "I should work on this article to enhance my understanding.",
                        "Context 2": "He plans to work on his fitness by going to the gym regularly.",
                        "Context 3": "They need to work on their teamwork skills for the group project."
                    }
                },
                {
                    "word": "Absolutely",
                    "definition": "Completely; totally; without any doubt.",
                    "context": {
                        "Context 1": "I absolutely understand that I need to practice more.",
                        "Context 2": "She is absolutely sure that she will pass the exam.",
                        "Context 3": "The movie was absolutely fantastic and exceeded my expectations."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Article",
                    "fact": "Did you know that the longest article ever written was about 1,000 pages long? It was a detailed analysis of a single topic!"
                },
                {
                    "word": "Difficult",
                    "fact": "The word 'difficult' is often considered difficult to spell, especially for non-native speakers!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What do you call a teacher who never farts in public?",
                    "answer": "A private tutor!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's your morning going?"
                },
                {
                    "Person 2": "Pretty good! Just trying to wake up, you know? How about you?"
                },
                {
                    "Person 1": "Same here! I didn't sleep much last night. Just five hours."
                },
                {
                    "Person 2": "Wow, that's rough. I think I got about six, but I still feel tired."
                },
                {
                    "Person 1": "Yeah, I feel like I keep sleeping less every week. It's not great."
                },
                {
                    "Person 2": "I hear you! I’ve been so busy with work and other stuff, it’s hard to find time to rest."
                },
                {
                    "Person 1": "Exactly! I skipped my gym sessions this week because I was too swamped."
                },
                {
                    "Person 2": "Same! I missed my boxing class too. It’s frustrating."
                },
                {
                    "Person 1": "Right? I feel like I need to find a better balance. Maybe I should take a day off to recharge."
                },
                {
                    "Person 2": "That sounds like a good idea! Just relax and not think about work for a bit."
                },
                {
                    "Person 1": "Yeah, I really need that. I was talking to my boss about my workload, and he said I shouldn’t overdo it."
                },
                {
                    "Person 2": "That’s good advice. Sometimes we push ourselves too hard and forget to take breaks."
                },
                {
                    "Person 1": "For sure! I think I need to set some goals for next week to manage my time better."
                },
                {
                    "Person 2": "Definitely! Setting goals can help keep you on track. What do you have in mind?"
                },
                {
                    "Person 1": "Maybe I’ll plan my workouts and stick to a sleep schedule. How about you?"
                },
                {
                    "Person 2": "I think I’ll do the same! Plus, I want to read more. I’ve been slacking on that."
                },
                {
                    "Person 1": "Reading is a great idea! It helps you unwind. What do you like to read?"
                },
                {
                    "Person 2": "I enjoy travel articles and fiction. It’s nice to escape for a bit."
                },
                {
                    "Person 1": "That sounds fun! I should try that too. Let’s hold each other accountable next week!"
                },
                {
                    "Person 2": "Absolutely! We can check in and see how we’re doing. Let’s make it happen!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you been working on your English lately?"
                },
                {
                    "Person 2": "Yeah, I have! I've been listening to podcasts every day on my way to work."
                },
                {
                    "Person 1": "Nice! Do you find them helpful?"
                },
                {
                    "Person 2": "Mostly! Some parts are tricky, but it definitely helps me stay in the loop."
                },
                {
                    "Person 1": "I get that. I sometimes struggle with understanding everything too."
                },
                {
                    "Person 2": "Right? It’s like, one minute you’re following along, and the next, you’re lost."
                },
                {
                    "Person 1": "Exactly! I tried reading a book to improve my skills, but I kept getting distracted."
                },
                {
                    "Person 2": "Same here! I can barely focus on a movie without checking my phone."
                },
                {
                    "Person 1": "So, what’s your plan? Just keep listening to podcasts?"
                },
                {
                    "Person 2": "I think so! I also started using this AI tutor app. It corrects my mistakes."
                },
                {
                    "Person 1": "Oh, that sounds cool! Does it help you with grammar?"
                },
                {
                    "Person 2": "Yeah, but sometimes it’s a bit harsh! I didn’t realize how many mistakes I was making."
                },
                {
                    "Person 1": "Ouch! But that’s good, right? At least you’re learning."
                },
                {
                    "Person 2": "True! I just want to improve enough to study in Europe next year."
                },
                {
                    "Person 1": "That’s an awesome goal! I’m sure you’ll get there."
                },
                {
                    "Person 2": "Thanks! I just need to keep pushing myself."
                },
                {
                    "Person 1": "You got this! Let’s catch up later and see how we’re both doing."
                },
                {
                    "Person 2": "Definitely! Talk soon!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to catch up on some reading. How about you?"
                },
                {
                    "Person 1": "I hear you! I started this article about space yesterday, but I couldn't finish it."
                },
                {
                    "Person 2": "Space? That sounds interesting! What was it about?"
                },
                {
                    "Person 1": "It was about black holes and how they form. But honestly, it got a bit too technical for me."
                },
                {
                    "Person 2": "Yeah, science articles can be tough sometimes. I struggle with the jargon too."
                },
                {
                    "Person 1": "Right? I feel like I need a dictionary just to get through half of them."
                },
                {
                    "Person 2": "Totally! I usually end up looking up words while I read, which slows me down."
                },
                {
                    "Person 1": "Same here! I guess we just have to keep practicing, huh?"
                },
                {
                    "Person 2": "Exactly! Maybe we should pick a simpler topic next time."
                },
                {
                    "Person 1": "Good idea! Something fun, like the latest tech gadgets or movies."
                },
                {
                    "Person 2": "Yes! I could talk about movies all day. Have you seen anything good lately?"
                },
                {
                    "Person 1": "I just watched that new superhero movie. It was awesome!"
                },
                {
                    "Person 2": "Nice! I’ve heard good things about it. I need to check it out."
                },
                {
                    "Person 1": "Definitely! Let me know what you think after you watch it."
                },
                {
                    "Person 2": "Will do! And maybe we can discuss it over coffee?"
                },
                {
                    "Person 1": "Sounds like a plan! Let’s set a date."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "but not good at all to speak",
                    "corrected": "but I'm not good at speaking at all.",
                    "explanation": "The phrase 'not good at all to speak' is incorrect; it should be 'not good at speaking' to properly use the gerund form.",
                    "context": "I can understand what you say, but I'm not good at speaking at all. I'm trying to improve my speaking skills."
                },
                {
                    "original": "that's why my English so bad",
                    "corrected": "that's why my English is so bad.",
                    "explanation": "The verb 'is' is missing in the sentence; it should be 'my English is so bad.'",
                    "context": "I learn English only in school, and that's why my English is so bad. I'm working on it, though."
                },
                {
                    "original": "I can pronounce the words they think I'm studying in med school",
                    "corrected": "I can pronounce the words, but they think I'm studying in med school.",
                    "explanation": "The original sentence lacks clarity; a conjunction is needed to connect the two ideas properly.",
                    "context": "I love listening to music in English, and I can pronounce the words, but they think I'm studying in med school. I want to improve my English."
                },
                {
                    "original": "I might can study in China",
                    "corrected": "I might be able to study in China.",
                    "explanation": "'Might can' is incorrect; it should be 'might be able to' to express possibility.",
                    "context": "I don't know where I want to go, but this year I might be able to study in China. I'm excited about the opportunity."
                },
                {
                    "original": "it will pass like the requirements to enroll to this course",
                    "corrected": "you need to meet the requirements to enroll in this course.",
                    "explanation": "The phrase 'it will pass like' is awkward; it should be 'you need to meet' for clarity.",
                    "context": "Have you studied the acceptance requirements for your Chinese college? You need to meet the requirements to enroll in this course."
                },
                {
                    "original": "there was no mention of the level",
                    "corrected": "there was no mention of the level required.",
                    "explanation": "The sentence is incomplete; adding 'required' clarifies what is being discussed.",
                    "context": "If I understood correctly, there was no mention of the level required. I want to make sure I meet all criteria."
                },
                {
                    "original": "if you score 5.5 they will accept you anyway",
                    "corrected": "if you score 5.5, they will accept you anyway.",
                    "explanation": "A comma is needed before 'they will accept you anyway' to separate the clauses properly.",
                    "context": "It can't be that if you score 5.5, they will accept you anyway. I need to understand the requirements better."
                },
                {
                    "original": "more like any other specifications",
                    "corrected": "more like any other specific requirements.",
                    "explanation": "'Specifications' is too vague; 'specific requirements' is clearer in this context.",
                    "context": "You just needed a certificate and knowledge of the language, more like any other specific requirements. It's important to know what they expect."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I just watch one time, two times a year maybe.",
                    "corrected": "I just watch once or twice a year maybe.",
                    "explanation": "The phrase 'one time, two times' is awkward; 'once or twice' is the correct idiomatic expression.",
                    "context": "I don't really enjoy watching movies. I just watch once or twice a year maybe. It's not something I prioritize."
                },
                {
                    "original": "I can pronounce it and speak.",
                    "corrected": "I can pronounce it and speak it.",
                    "explanation": "The sentence is missing the object 'it' after 'speak'; it should specify what is being spoken.",
                    "context": "I struggle with listening, but I can pronounce it and speak it. I feel more confident when I talk."
                },
                {
                    "original": "the word that I don't know was too much too many.",
                    "corrected": "the words that I don't know were too many.",
                    "explanation": "'Was too much too many' is incorrect; it should be 'were too many' to agree with the plural 'words.'",
                    "context": "When I read, I often encounter difficulties. The words that I don't know were too many. This makes it hard for me to finish."
                },
                {
                    "original": "let's put Isles aside we're not speaking about Isles.",
                    "corrected": "let's put IELTS aside; we're not speaking about IELTS.",
                    "explanation": "The term 'Isles' is incorrect; it should be 'IELTS,' and a semicolon is needed to separate the clauses.",
                    "context": "We were discussing the IELTS test earlier. Let's put IELTS aside; we're not speaking about IELTS right now. Let's talk about where you live."
                },
                {
                    "original": "what building are you in right now? building, I'm in an apartment.",
                    "corrected": "What building are you in right now? I'm in an apartment.",
                    "explanation": "The repetition of 'building' is unnecessary and disrupts the flow of the conversation.",
                    "context": "I asked about the living situation. What building are you in right now? I'm in an apartment. It's cozy."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I have one room and a kitchen kitchen and bathroom kitchen, bathroom, one room and a living room maybe?",
                    "corrected": "I have one room, a kitchen, and a bathroom. Maybe a living room?",
                    "explanation": "The original sentence lacks proper punctuation and structure, making it confusing. Each item should be clearly separated.",
                    "context": "I live in a small apartment. I have one room, a kitchen, and a bathroom. Maybe I could also have a living room."
                },
                {
                    "original": "no, I can't go to the center in 30 minutes so I don't think it's too far from the center of the city",
                    "corrected": "No, I can't reach the center in 30 minutes, so I don't think it's too far from the city center.",
                    "explanation": "The phrase 'go to the center' is awkward; 'reach the center' is more idiomatic. Also, 'the center of the city' is redundant.",
                    "context": "I live a bit outside the city. No, I can't reach the center in 30 minutes, so I don't think it's too far from the city center."
                },
                {
                    "original": "like your place where you live?",
                    "corrected": "Do you like the place where you live?",
                    "explanation": "The original sentence is missing the subject 'you' and the verb 'do,' making it a fragment.",
                    "context": "I enjoy my living situation. Do you like the place where you live? Yes, I like it."
                },
                {
                    "original": "it's just like one small country in country so that no one can... can come maybe?",
                    "corrected": "It's just like a small country, so that no one can come, maybe?",
                    "explanation": "The phrase 'one small country in country' is unclear and redundant; 'a small country' is sufficient.",
                    "context": "My neighborhood feels very private. It's just like a small country, so that no one can come, maybe?"
                },
                {
                    "original": "no one who lives there a person who doesn't live there can come",
                    "corrected": "No one who lives there can come, a person who doesn't live there.",
                    "explanation": "The sentence structure is awkward; it should be rephrased for clarity.",
                    "context": "I feel safe in my neighborhood. No one who lives there can come, a person who doesn't live there."
                },
                {
                    "original": "I just like to watch shorts on YouTube and spend my time with my friends at home",
                    "corrected": "I just like to watch shorts on YouTube and spend time with my friends at home.",
                    "explanation": "The phrase 'spend my time' is awkward; 'spend time' is more natural.",
                    "context": "In my free time, I relax. I just like to watch shorts on YouTube and spend time with my friends at home."
                },
                {
                    "original": "I have two more friends and when they come, they come to my apartment",
                    "corrected": "I have two friends, and when they come, they visit my apartment.",
                    "explanation": "The phrase 'two more friends' is misleading; 'two friends' is clearer. 'Come to' can be replaced with 'visit.'",
                    "context": "I enjoy hosting friends. I have two friends, and when they come, they visit my apartment."
                },
                {
                    "original": "we can be loud do you speak loudly?",
                    "corrected": "We can be loud. Do you speak loudly?",
                    "explanation": "The original sentence lacks proper punctuation, making it a run-on sentence.",
                    "context": "When we gather, we have fun. We can be loud. Do you speak loudly?"
                },
                {
                    "original": "no, we just speak loud and speaking, laughing and that's why we can't maybe... interrupt the neighbors",
                    "corrected": "No, we just speak loudly, laughing, and that's why we might interrupt the neighbors.",
                    "explanation": "'Speak loud' should be 'speak loudly.' The structure is also awkward and needs clarification.",
                    "context": "When my friends are over, we enjoy ourselves. No, we just speak loudly, laughing, and that's why we might interrupt the neighbors."
                },
                {
                    "original": "we are not disturbing the peace of our neighbors we are not disturbing the peace of our neighbors",
                    "corrected": "We are not disturbing the peace of our neighbors.",
                    "explanation": "The repetition of the sentence is unnecessary; it should be stated once for clarity.",
                    "context": "I value my neighbors' comfort. We are not disturbing the peace of our neighbors."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Comfortable",
                    "definition": "Providing physical ease and relaxation; free from stress or worry.",
                    "context": {
                        "Context 1": "It's important to create a comfortable environment for learning.",
                        "Context 2": "She felt comfortable in her new shoes after breaking them in.",
                        "Context 3": "The couch was so comfortable that he fell asleep while watching TV."
                    }
                },
                {
                    "word": "Pronounce",
                    "definition": "To make the sound of a word or letter in the correct way.",
                    "context": {
                        "Context 1": "It's okay if you struggle to pronounce some words correctly.",
                        "Context 2": "He learned how to pronounce 'quinoa' after hearing it on a cooking show.",
                        "Context 3": "The teacher asked the students to pronounce their names clearly."
                    }
                },
                {
                    "word": "Certificate",
                    "definition": "An official document that proves a particular fact or achievement.",
                    "context": {
                        "Context 1": "You need a certificate to prove your English proficiency for the IELTS exam.",
                        "Context 2": "She received a certificate for completing the cooking class.",
                        "Context 3": "The certificate of authenticity confirmed that the painting was an original."
                    }
                },
                {
                    "word": "Requirements",
                    "definition": "Things that are needed or demanded as part of a process.",
                    "context": {
                        "Context 1": "Have you studied the acceptance requirements for your Chinese college?",
                        "Context 2": "The job posting listed several requirements for applicants.",
                        "Context 3": "To enter the contest, you must meet all the requirements outlined in the rules."
                    }
                },
                {
                    "word": "Imagine",
                    "definition": "To form a mental image or concept of something.",
                    "context": {
                        "Context 1": "It's hard to imagine scoring higher than 7.0 on the IELTS.",
                        "Context 2": "She could only imagine what it would be like to travel to space.",
                        "Context 3": "He asked the children to imagine a world without pollution."
                    }
                },
                {
                    "word": "Journey",
                    "definition": "The act of traveling from one place to another; a process of personal change and development.",
                    "context": {
                        "Context 1": "Tell me about your English learning journey.",
                        "Context 2": "Their journey across the country took them through beautiful landscapes.",
                        "Context 3": "The journey of self-discovery can be challenging but rewarding."
                    }
                },
                {
                    "word": "Score",
                    "definition": "A number or grade that represents the result of an assessment.",
                    "context": {
                        "Context 1": "What score do you need for the IELTS exam?",
                        "Context 2": "He was thrilled to receive a perfect score on his math test.",
                        "Context 3": "The score of the game was tied at 2-2 until the final minutes."
                    }
                },
                {
                    "word": "Med school",
                    "definition": "A colloquial term for medical school, where students learn to become doctors.",
                    "context": {
                        "Context 1": "She is studying in med school and hopes to specialize in pediatrics.",
                        "Context 2": "After graduating from med school, he began his residency in surgery.",
                        "Context 3": "Med school can be very demanding, but it's worth it for those who want to help others."
                    }
                },
                {
                    "word": "Enroll",
                    "definition": "To officially register or sign up for a course or program.",
                    "context": {
                        "Context 1": "You need to enroll in the course before the deadline.",
                        "Context 2": "She decided to enroll in a yoga class to improve her flexibility.",
                        "Context 3": "Many students choose to enroll in summer programs to get ahead."
                    }
                },
                {
                    "word": "Long story short",
                    "definition": "A phrase used to indicate that a summary will be provided.",
                    "context": {
                        "Context 1": "Long story short, you need to take the IELTS test.",
                        "Context 2": "Long story short, we missed the bus and had to walk home.",
                        "Context 3": "Long story short, I ended up winning the contest!"
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Certificate",
                    "fact": "The longest certificate in the world is a diploma from a university in Scotland that measures 3 meters long!"
                },
                {
                    "word": "Med school",
                    "fact": "Did you know that some med schools have a 'white coat ceremony' where students receive their first lab coats? It's like a graduation before graduation!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Certificate",
                    "definition": "An official document that proves a particular fact or achievement.",
                    "context": {
                        "Context 1": "I didn’t have a certificate, so I thought I might not be eligible for the course.",
                        "Context 2": "She proudly displayed her certificate of completion on the wall.",
                        "Context 3": "The certificate of authenticity ensured that the painting was genuine."
                    }
                },
                {
                    "word": "D-day",
                    "definition": "The day on which an important event is scheduled to occur.",
                    "context": {
                        "Context 1": "What is your D-day for taking the IELTS exam?",
                        "Context 2": "The soldiers prepared for D-day, knowing it would change the course of history.",
                        "Context 3": "For the wedding, they set D-day for June 15th."
                    }
                },
                {
                    "word": "Essence",
                    "definition": "The intrinsic nature or indispensable quality of something.",
                    "context": {
                        "Context 1": "The essence of the conversation was about understanding language.",
                        "Context 2": "In the essence of time, we must make a decision quickly.",
                        "Context 3": "The essence of the dish comes from the fresh herbs used in the recipe."
                    }
                },
                {
                    "word": "Lost my mind",
                    "definition": "To become very confused or unable to think clearly.",
                    "context": {
                        "Context 1": "When I met strangers, I just lost my mind.",
                        "Context 2": "After studying for hours, I felt like I was losing my mind.",
                        "Context 3": "He lost his mind when he realized he had forgotten his keys."
                    }
                },
                {
                    "word": "Medical books",
                    "definition": "Books that contain information about medicine and healthcare.",
                    "context": {
                        "Context 1": "I only read medical books in English.",
                        "Context 2": "She has a collection of medical books from various authors.",
                        "Context 3": "The library has a section dedicated to medical books and journals."
                    }
                },
                {
                    "word": "Pronounce",
                    "definition": "To make the sound of a word or letter in a correct way.",
                    "context": {
                        "Context 1": "I can pronounce the words, but I struggle to understand them.",
                        "Context 2": "He learned how to pronounce foreign names correctly.",
                        "Context 3": "The teacher asked the students to pronounce the new vocabulary words."
                    }
                },
                {
                    "word": "Translate",
                    "definition": "To express the meaning of (words or text) in another language.",
                    "context": {
                        "Context 1": "When I find words I don’t know, I try to translate them.",
                        "Context 2": "She can translate documents from Spanish to English with ease.",
                        "Context 3": "The app can translate spoken language in real-time."
                    }
                },
                {
                    "word": "Clips",
                    "definition": "Short segments of video or audio.",
                    "context": {
                        "Context 1": "I enjoy watching clips but not full films.",
                        "Context 2": "The director released several clips from the upcoming movie.",
                        "Context 3": "He shared funny clips from his travels on social media."
                    }
                },
                {
                    "word": "Understand",
                    "definition": "To grasp the meaning, significance, or nature of something.",
                    "context": {
                        "Context 1": "I can pronounce it, but I can’t understand what others say.",
                        "Context 2": "She struggled to understand the complex math problem.",
                        "Context 3": "It took him a while to understand the nuances of the language."
                    }
                },
                {
                    "word": "Test",
                    "definition": "A procedure intended to establish the quality, performance, or reliability of something.",
                    "context": {
                        "Context 1": "The listening test was very hard for me.",
                        "Context 2": "He studied all night for the final test.",
                        "Context 3": "The test results showed significant improvement in her skills."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Certificate",
                    "fact": "The first known certificate was issued in 1325 to a baker in England for his excellent bread!"
                },
                {
                    "word": "D-day",
                    "fact": "D-day is often humorously referred to as 'Decision Day' for those who can't decide what to eat!"
                },
                {
                    "word": "Translate",
                    "fact": "The word 'translate' comes from the Latin 'translatio,' which means 'to carry across.' So, you’re literally carrying words across languages!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Apartment",
                    "definition": "A set of rooms forming an individual residence, typically located in a building.",
                    "context": {
                        "Context 1": "I live in a small apartment with one bedroom and a kitchen.",
                        "Context 2": "After the renovation, the apartment looked brand new and spacious.",
                        "Context 3": "He decided to buy an apartment in the city to be closer to work."
                    }
                },
                {
                    "word": "Suburbs",
                    "definition": "Residential areas on the outskirts of a city.",
                    "context": {
                        "Context 1": "I live in the suburbs, which are quieter than the city center.",
                        "Context 2": "Many families prefer to raise their children in the suburbs for more space.",
                        "Context 3": "The suburbs are known for their parks and community events."
                    }
                },
                {
                    "word": "District",
                    "definition": "A defined area within a city or town, often with specific characteristics.",
                    "context": {
                        "Context 1": "I really like my district; it's peaceful and has a friendly community.",
                        "Context 2": "The arts district is famous for its galleries and street performances.",
                        "Context 3": "She moved to a business district to be closer to her office."
                    }
                },
                {
                    "word": "Free time",
                    "definition": "Time when one is not working or occupied; leisure time.",
                    "context": {
                        "Context 1": "In my free time, I like to watch YouTube shorts and hang out with friends.",
                        "Context 2": "He spends his free time reading books and exploring new hobbies.",
                        "Context 3": "During her free time, she volunteers at the local animal shelter."
                    }
                },
                {
                    "word": "Throw a party",
                    "definition": "To host a social gathering for entertainment.",
                    "context": {
                        "Context 1": "I don't throw parties often, but when my friends come over, we have fun.",
                        "Context 2": "She decided to throw a party for her birthday this year.",
                        "Context 3": "They usually throw a party every summer to celebrate the season."
                    }
                },
                {
                    "word": "Disturb the peace",
                    "definition": "To cause disruption or noise that interrupts tranquility.",
                    "context": {
                        "Context 1": "We try not to disturb the peace of our neighbors when we are loud.",
                        "Context 2": "The loud music from the concert disturbed the peace of the neighborhood.",
                        "Context 3": "He was warned for disturbing the peace during the late-night gathering."
                    }
                },
                {
                    "word": "Respect",
                    "definition": "To show consideration or regard for someone or something.",
                    "context": {
                        "Context 1": "We respect our neighbors by keeping the noise down.",
                        "Context 2": "It's important to respect different cultures and traditions.",
                        "Context 3": "She earned the respect of her colleagues through hard work."
                    }
                },
                {
                    "word": "Loud",
                    "definition": "Producing or capable of producing much noise.",
                    "context": {
                        "Context 1": "When my friends come over, we can be quite loud.",
                        "Context 2": "The loud thunderstorm kept everyone awake at night.",
                        "Context 3": "He prefers to listen to music at a loud volume while studying."
                    }
                },
                {
                    "word": "Cooking",
                    "definition": "The act of preparing food by combining, mixing, and heating ingredients.",
                    "context": {
                        "Context 1": "I enjoy cooking and baking when my friends visit.",
                        "Context 2": "Cooking can be a fun way to experiment with different flavors.",
                        "Context 3": "She took a cooking class to learn how to make Italian dishes."
                    }
                },
                {
                    "word": "Interrupt",
                    "definition": "To break the continuity of something; to stop someone while they are speaking.",
                    "context": {
                        "Context 1": "We try not to interrupt our neighbors with our loud conversations.",
                        "Context 2": "It's rude to interrupt someone when they are telling a story.",
                        "Context 3": "The teacher had to interrupt the class to address a fire drill."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Apartment",
                    "fact": "Did you know that the smallest apartment in the world is just 10 square meters? It's like living in a tiny shoe box!"
                },
                {
                    "word": "Suburbs",
                    "fact": "In some suburbs, people have more lawn ornaments than actual lawn! You might find flamingos, gnomes, and even dinosaurs!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the apartment break up with the house?",
                    "answer": "Because it found someone with more space!"
                },
                {
                    "question": "Why did the neighbor always bring a ladder to the party?",
                    "answer": "Because they heard the drinks were on the house!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to get through the week. How about you?"
                },
                {
                    "Person 1": "Same here! I feel like this week is dragging on forever."
                },
                {
                    "Person 2": "Right? I keep checking the clock, hoping it’ll move faster."
                },
                {
                    "Person 1": "Exactly! Any plans for the weekend?"
                },
                {
                    "Person 2": "I might go hiking if the weather's nice. What about you?"
                },
                {
                    "Person 1": "That sounds fun! I was thinking of catching up on some movies."
                },
                {
                    "Person 2": "Nice! Any specific movies you want to watch?"
                },
                {
                    "Person 1": "I heard that new action movie is really good. You know, the one with the big explosions?"
                },
                {
                    "Person 2": "Oh yeah! I’ve seen the trailer for that. It looks intense!"
                },
                {
                    "Person 1": "For sure! I love a good action flick. It’s like a mini-adventure."
                },
                {
                    "Person 2": "Totally! And it’s a great way to relax after a long week."
                },
                {
                    "Person 1": "Exactly! Plus, I can snack while I watch."
                },
                {
                    "Person 2": "Haha! The best part! What snacks are you thinking?"
                },
                {
                    "Person 1": "Definitely popcorn and maybe some candy. Can’t go wrong with that!"
                },
                {
                    "Person 2": "Sounds perfect! Enjoy your movie night!"
                },
                {
                    "Person 1": "Thanks! You too with your hike! Hope the weather cooperates."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! So, when are you planning to take that English test?"
                },
                {
                    "Person 2": "I’m thinking about it in August. What about you?"
                },
                {
                    "Person 1": "I haven’t decided yet. Maybe I should just get it over with."
                },
                {
                    "Person 2": "Yeah, I get that. I want to go to Kazakhstan for it. Sounds like an adventure!"
                },
                {
                    "Person 1": "Kazakhstan? That’s cool! What do you think English will help you with there?"
                },
                {
                    "Person 2": "Well, I listen to a lot of podcasts and watch videos in English. It helps me a lot."
                },
                {
                    "Person 1": "Nice! I mostly listen to music, but I watch clips sometimes. Not really into full movies."
                },
                {
                    "Person 2": "Same here! I can barely sit through a movie. I usually watch one or two a year."
                },
                {
                    "Person 1": "What about reading? Do you read anything in English?"
                },
                {
                    "Person 2": "Not really. I mostly just listen. Reading is tough for me."
                },
                {
                    "Person 1": "I feel you! I get lost in the words I don’t know."
                },
                {
                    "Person 2": "Exactly! I can pronounce words, but understanding them in conversation is hard."
                },
                {
                    "Person 1": "Did you try that test I sent you?"
                },
                {
                    "Person 2": "Yeah, I did the first part. It was really challenging!"
                },
                {
                    "Person 1": "I know what you mean. It’s like my brain just shuts down when I hear unfamiliar words."
                },
                {
                    "Person 2": "Right? I wish I could just understand everything without getting overwhelmed."
                },
                {
                    "Person 1": "So, where are you living now? Your room looks nice!"
                },
                {
                    "Person 2": "Thanks! I’m in Tula right now, in my own apartment."
                },
                {
                    "Person 1": "That’s awesome! Is it big?"
                },
                {
                    "Person 2": "Not really, but it’s cozy enough for me."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's your new apartment? Is it nice?"
                },
                {
                    "Person 2": "It's great! I have a kitchen, a bathroom, and one big room that serves as my living room and bedroom."
                },
                {
                    "Person 1": "That sounds cozy! Do you rent or own it?"
                },
                {
                    "Person 2": "I own it! It's in the suburbs, but I can get to the city center in about 30 minutes."
                },
                {
                    "Person 1": "Nice! Do you like the area?"
                },
                {
                    "Person 2": "Yeah, I really do. It's quiet and feels a bit like a small town, which I love."
                },
                {
                    "Person 1": "Sounds perfect! How do you usually spend your free time there?"
                },
                {
                    "Person 2": "Mostly just watching YouTube shorts and hanging out with friends. Sometimes we cook or bake together."
                },
                {
                    "Person 1": "That sounds fun! Do you throw parties or is it more of a chill vibe?"
                },
                {
                    "Person 2": "We don’t throw big parties, but when my friends come over, we can get pretty loud just talking and laughing."
                },
                {
                    "Person 1": "I can imagine! Do you ever worry about bothering the neighbors?"
                },
                {
                    "Person 2": "Not really. We try to keep it down, and I think they appreciate that we respect their peace."
                },
                {
                    "Person 1": "That's good! It sounds like you have a nice balance."
                },
                {
                    "Person 2": "Yeah, it’s a great place to unwind and enjoy time with friends."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
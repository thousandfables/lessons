<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "John don't need to know that she is a killer.",
                    "corrected": "John doesn't need to know that she is a killer.",
                    "explanation": "The contraction 'don't' is incorrect here; it should be 'doesn't' because 'John' is a singular subject.",
                    "context": "There are many secrets in her life. John doesn't need to know that she is a killer. She hid her true identity to protect him."
                },
                {
                    "original": "She killed people in the past, many years ago.",
                    "corrected": "She had killed people in the past, many years ago.",
                    "explanation": "The past perfect tense 'had killed' is more appropriate here to indicate that the action occurred before another past action.",
                    "context": "Her life was complicated. She had killed people in the past, many years ago. But she wanted to be a better person now."
                },
                {
                    "original": "She wanted to kill... I don't remember his name.",
                    "corrected": "She wanted to kill... I can't remember his name.",
                    "explanation": "'I don't remember' is less idiomatic; 'I can't remember' is a more natural expression.",
                    "context": "She had a specific target in mind. She wanted to kill... I can't remember his name. But he was very important."
                },
                {
                    "original": "She had a lot of information from Mary.",
                    "corrected": "She had a lot of information about Mary.",
                    "explanation": "'From' is incorrect here; 'about' should be used to indicate the subject of the information.",
                    "context": "She was deeply involved in the situation. She had a lot of information about Mary. This information was crucial for her plans."
                },
                {
                    "original": "She had evidence that proved she was a killer.",
                    "corrected": "She had evidence that proved she was a killer.",
                    "explanation": "This sentence is correct but could be improved for clarity by specifying what kind of evidence.",
                    "context": "Her past was haunting her. She had evidence that proved she was a killer. This evidence could ruin her life."
                },
                {
                    "original": "To alive.",
                    "corrected": "To live.",
                    "explanation": "'Alive' is an adjective; 'live' is the verb form needed here.",
                    "context": "Sherlock helped her escape danger. He helped her to live. She was in a life-threatening situation."
                },
                {
                    "original": "To broke country.",
                    "corrected": "To change the country.",
                    "explanation": "'Broke' is incorrect; 'change' is the correct verb to use in this context.",
                    "context": "She had a daring plan. She wanted to change the country. But her methods were questionable."
                },
                {
                    "original": "She is a good person.",
                    "corrected": "She is not a good person.",
                    "explanation": "The original sentence contradicts the context; it should reflect her morally ambiguous actions.",
                    "context": "Her actions were questionable. She is not a good person. She killed many people to achieve her goals."
                },
                {
                    "original": "She said that series in English will be serial.",
                    "corrected": "She said that 'series' in English is 'serial.'",
                    "explanation": "The verb tense is incorrect; 'will be' should be 'is' to reflect the present state.",
                    "context": "I had a discussion with my teacher. She said that 'series' in English is 'serial.' I knew she was mistaken."
                },
                {
                    "original": "I said to her that no, series in English is not serial.",
                    "corrected": "I told her that no, 'series' in English is not 'serial.'",
                    "explanation": "'Said to her' is less idiomatic; 'told her' is the correct verb to use with a direct object.",
                    "context": "I wanted to clarify the misunderstanding. I told her that no, 'series' in English is not 'serial.' I was confident in my knowledge."
                },
                {
                    "original": "She's a very good woman.",
                    "corrected": "She is a very good woman.",
                    "explanation": "The contraction 'she's' is informal; using 'she is' is more appropriate in this context.",
                    "context": "I appreciate my teacher's support. She is a very good woman. She genuinely cares about her students."
                },
                {
                    "original": "I can tell sometimes teachers come to me to study.",
                    "corrected": "I can tell that sometimes teachers come to me to study.",
                    "explanation": "The sentence is missing 'that' for clarity and grammatical correctness.",
                    "context": "I have experience with language learning. I can tell that sometimes teachers come to me to study. They seek to improve their skills."
                },
                {
                    "original": "If you have to speak constantly every day with people.",
                    "corrected": "If you have to speak with people constantly every day.",
                    "explanation": "The placement of 'constantly' is awkward; it should be moved for better flow.",
                    "context": "Language acquisition requires practice. If you have to speak with people constantly every day, you will improve quickly."
                },
                {
                    "original": "But this happens naturally.",
                    "corrected": "But this happens naturally over time.",
                    "explanation": "Adding 'over time' provides clarity and emphasizes the gradual nature of language learning.",
                    "context": "Language skills develop gradually. But this happens naturally over time. Patience is key in the learning process."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "How I can say... Serial or... Maybe... Is this correct?",
                    "corrected": "How can I say... Serial or... Maybe... Is this correct?",
                    "explanation": "The correct word order for questions in English is 'How can I' instead of 'How I can.'",
                    "context": "I was trying to figure out how to ask about the correct usage of the words 'serial' and 'series.' How can I say... Serial or... Maybe... Is this correct?"
                },
                {
                    "original": "You are just not correct, but you are not sure if this is correct or wrong.",
                    "corrected": "You are just not correct, but you are not sure if this is right or wrong.",
                    "explanation": "'Correct' and 'right' can be used interchangeably, but 'right' is more commonly used in this context.",
                    "context": "I was explaining how to ask for clarification on a mistake. You are just not correct, but you are not sure if this is right or wrong."
                },
                {
                    "original": "Put two sentences and after that ask which one is correct.",
                    "corrected": "Put two sentences, and after that, ask which one is correct.",
                    "explanation": "A comma is needed before 'and' to separate independent clauses.",
                    "context": "I was advising on how to structure a question for clarification. Put two sentences, and after that, ask which one is correct."
                },
                {
                    "original": "You need to make ChaatGPT.",
                    "corrected": "You need to make ChatGPT.",
                    "explanation": "'ChaatGPT' is a misspelling; the correct name is 'ChatGPT.'",
                    "context": "I was instructing on how to use the AI tool effectively. You need to make ChatGPT."
                },
                {
                    "original": "You prompted him. My favorite Sherlock, my favorite serial is Sherlock.",
                    "corrected": "You prompted him. My favorite series is Sherlock.",
                    "explanation": "'Serial' is incorrect in this context; 'series' should be used to refer to a TV show.",
                    "context": "I was discussing how to phrase a prompt for clarification. You prompted him. My favorite series is Sherlock."
                },
                {
                    "original": "Click with your right mouse button. This is left mouse button.",
                    "corrected": "Click with your right mouse button. This is the left mouse button.",
                    "explanation": "The article 'the' is needed before 'left mouse button' for clarity.",
                    "context": "I was explaining how to use the mouse for a task. Click with your right mouse button. This is the left mouse button."
                },
                {
                    "original": "I understand. It doesn't work?",
                    "corrected": "I understand. Does it work?",
                    "explanation": "The correct question form is 'Does it work?' instead of 'It doesn't work?'",
                    "context": "I was checking if the student understood the instructions. I understand. Does it work?"
                },
                {
                    "original": "You are an unauthorized user and that's why you don't have functions that people usually have.",
                    "corrected": "You are an unauthorized user, and that's why you don't have the functions that people usually have.",
                    "explanation": "A comma is needed before 'and' to separate independent clauses.",
                    "context": "I was explaining why the student couldn't access certain features. You are an unauthorized user, and that's why you don't have the functions that people usually have."
                },
                {
                    "original": "When you type something, you type it on your keyboard, right?",
                    "corrected": "When you type something, you use your keyboard, right?",
                    "explanation": "'Type it on your keyboard' is awkward; 'use your keyboard' is more idiomatic.",
                    "context": "I was confirming the student's understanding of keyboard usage. When you type something, you use your keyboard, right?"
                },
                {
                    "original": "How many buttons do we have on the mouse?",
                    "corrected": "How many buttons are there on the mouse?",
                    "explanation": "The phrase 'are there' is more natural for asking about existence.",
                    "context": "I was asking about the mouse's features. How many buttons are there on the mouse?"
                },
                {
                    "original": "Which the sentence is correct.",
                    "corrected": "Which sentence is correct?",
                    "explanation": "The correct structure is 'Which sentence is correct?' without 'the.'",
                    "context": "I was guiding the student on how to ask for clarification. Which sentence is correct?"
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "The spelling of the word sentence.",
                    "corrected": "The spelling of the word 'sentence.'",
                    "explanation": "Quotation marks are needed around 'sentence' to indicate it is a word being referred to.",
                    "context": "During the lesson, we were discussing the spelling of various words. The spelling of the word 'sentence' is important. It's crucial to clarify which word we're talking about."
                },
                {
                    "original": "The word correct is very general.",
                    "corrected": "The word 'correct' is very general.",
                    "explanation": "Quotation marks are needed around 'correct' to indicate it is a word being discussed.",
                    "context": "We were analyzing the use of specific words in our conversation. The word 'correct' is very general. Instead, we should use more precise terms."
                },
                {
                    "original": "I advise you logging in...",
                    "corrected": "I advise you to log in...",
                    "explanation": "The infinitive form 'to log' should be used after 'advise you.'",
                    "context": "I was suggesting ways to improve your learning experience. I advise you to log in to get access to full functionality. This will help you a lot."
                },
                {
                    "original": "If like before the first lesson, watch something.",
                    "corrected": "If you can, watch something before the first lesson.",
                    "explanation": "The sentence structure is awkward; it needs a subject and clearer phrasing.",
                    "context": "I was encouraging you to engage with English content before our lessons. If you can, watch something before the first lesson. It will enhance your understanding."
                },
                {
                    "original": "It's better, it's more advisable to always like...",
                    "corrected": "It's better, it's more advisable to always...",
                    "explanation": "The word 'like' is unnecessary here and makes the sentence informal.",
                    "context": "I was emphasizing the importance of consistent practice. It's better, it's more advisable to always engage with English content regularly."
                },
                {
                    "original": "It's easier to understand me.",
                    "corrected": "It's easier for you to understand me.",
                    "explanation": "The preposition 'for' is needed to clarify the subject of the sentence.",
                    "context": "We were discussing how preparation affects comprehension. It's easier for you to understand me when you watch something beforehand."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Coincidence",
                    "definition": "A situation in which events happen at the same time by chance, without any intention.",
                    "context": {
                        "Context 1": "It was a coincidence that she met her old friend at the cafe after so many years.",
                        "Context 2": "Winning the lottery was a coincidence; he never expected it.",
                        "Context 3": "The two strangers sitting next to each other on the bus shared a coincidence of having the same birthday."
                    }
                },
                {
                    "word": "Intentional",
                    "definition": "Done on purpose; deliberate.",
                    "context": {
                        "Context 1": "She didn't break the vase intentionally; it was an accident.",
                        "Context 2": "His intentional choice to wear mismatched socks made everyone laugh.",
                        "Context 3": "The artist's intentional use of bright colors conveyed a sense of joy in her painting."
                    }
                },
                {
                    "word": "Compromising",
                    "definition": "Involving a risk of damaging or harming someone’s reputation or safety.",
                    "context": {
                        "Context 1": "She had compromising material that could expose the truth about her past.",
                        "Context 2": "The compromising situation arose when he accidentally revealed a secret during the meeting.",
                        "Context 3": "Finding compromising evidence in the old files led to a major investigation."
                    }
                },
                {
                    "word": "Pretend",
                    "definition": "To act as if something is true when it is not; to make believe.",
                    "context": {
                        "Context 1": "He had to pretend to be someone else to protect his identity.",
                        "Context 2": "The children love to pretend they are superheroes during playtime.",
                        "Context 3": "She pretended to be sick to avoid going to school."
                    }
                },
                {
                    "word": "Escape",
                    "definition": "To break free from confinement or control.",
                    "context": {
                        "Context 1": "The character planned her escape from the dangerous situation.",
                        "Context 2": "He needed to escape the noise of the city for a peaceful weekend in the countryside.",
                        "Context 3": "The magician's trick made it look like he could escape from a locked box."
                    }
                },
                {
                    "word": "Ruined",
                    "definition": "To destroy or damage something completely.",
                    "context": {
                        "Context 1": "His careless mistake ruined the surprise party.",
                        "Context 2": "The heavy rain ruined their picnic plans.",
                        "Context 3": "She felt that the movie's ending ruined the entire story."
                    }
                },
                {
                    "word": "Secrets",
                    "definition": "Information that is kept hidden from others.",
                    "context": {
                        "Context 1": "He kept his secrets safe, knowing they could change everything.",
                        "Context 2": "The spy was trained to uncover the secrets of enemy nations.",
                        "Context 3": "She shared her secrets with her best friend, trusting her completely."
                    }
                },
                {
                    "word": "Behavior",
                    "definition": "The way in which one acts or conducts oneself.",
                    "context": {
                        "Context 1": "Her behavior changed after she learned the truth about her past.",
                        "Context 2": "The teacher praised the students for their good behavior during the field trip.",
                        "Context 3": "His behavior at the party surprised everyone; he was usually very quiet."
                    }
                },
                {
                    "word": "Cherish",
                    "definition": "To hold something dear; to value highly.",
                    "context": {
                        "Context 1": "She will always cherish the memories of her childhood.",
                        "Context 2": "He cherishes his collection of rare coins.",
                        "Context 3": "The family cherishes their time together during the holidays."
                    }
                },
                {
                    "word": "Strive",
                    "definition": "To make great efforts to achieve or obtain something.",
                    "context": {
                        "Context 1": "He strives to improve his English every day.",
                        "Context 2": "The athlete strives for excellence in every competition.",
                        "Context 3": "She strives to maintain a healthy work-life balance."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Coincidence",
                    "fact": "Did you know that the odds of winning a lottery are often compared to being struck by lightning? Talk about a coincidence!"
                },
                {
                    "word": "Pretend",
                    "fact": "In some cultures, children are encouraged to pretend to be animals to learn about nature. Imagine a classroom full of roaring lions!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the teacher go to the beach?",
                    "answer": "Because she wanted to test the waters!"
                },
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because she wanted to go to high school!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or statement that help explain its meaning.",
                    "context": {
                        "Context 1": "In the lesson, we discussed how providing context helps clarify your question to ChatGPT.",
                        "Context 2": "The context of the movie made the ending much more impactful.",
                        "Context 3": "Without context, the joke didn't make any sense to the audience."
                    }
                },
                {
                    "word": "Prompt",
                    "definition": "A statement or question that encourages a response or action.",
                    "context": {
                        "Context 1": "You prompted ChatGPT with a question about your favorite series.",
                        "Context 2": "The teacher gave a prompt to the students to start their essays.",
                        "Context 3": "The prompt on the screen instructed users to enter their passwords."
                    }
                },
                {
                    "word": "Clarify",
                    "definition": "To make something clear or easier to understand.",
                    "context": {
                        "Context 1": "You need to clarify your question to get a better answer from ChatGPT.",
                        "Context 2": "The teacher asked the student to clarify their point during the discussion.",
                        "Context 3": "Can you clarify what you meant by that statement?"
                    }
                },
                {
                    "word": "Correct",
                    "definition": "Free from errors; accurate.",
                    "context": {
                        "Context 1": "We need to determine which sentence is correct in your question to ChatGPT.",
                        "Context 2": "The teacher marked the correct answers on the test.",
                        "Context 3": "Is this the correct address for the meeting?"
                    }
                },
                {
                    "word": "Series",
                    "definition": "A number of things or events of a similar kind or related nature coming one after another.",
                    "context": {
                        "Context 1": "You mentioned your favorite series is Sherlock during the lesson.",
                        "Context 2": "The series of events led to a surprising conclusion.",
                        "Context 3": "She binge-watched the entire series over the weekend."
                    }
                },
                {
                    "word": "Serial",
                    "definition": "A story or play appearing in regular installments.",
                    "context": {
                        "Context 1": "We discussed the difference between a serial and a series in the lesson.",
                        "Context 2": "The serial was published weekly in the magazine.",
                        "Context 3": "He enjoys listening to a serial podcast while commuting."
                    }
                },
                {
                    "word": "Function",
                    "definition": "An activity or purpose natural to or intended for a person or thing.",
                    "context": {
                        "Context 1": "You need to understand the function of the keys on your keyboard.",
                        "Context 2": "The main function of the heart is to pump blood.",
                        "Context 3": "The function of this app is to help you learn new languages."
                    }
                },
                {
                    "word": "Option",
                    "definition": "A thing that is or may be chosen.",
                    "context": {
                        "Context 1": "You were shown an option to edit your prompt in ChatGPT.",
                        "Context 2": "There are several options available for lunch today.",
                        "Context 3": "He had the option to travel by train or by plane."
                    }
                },
                {
                    "word": "Cursor",
                    "definition": "A movable indicator on a computer screen that shows the user's position.",
                    "context": {
                        "Context 1": "You were trying to locate your cursor to edit your prompt.",
                        "Context 2": "The cursor changed to a hand icon when hovering over the link.",
                        "Context 3": "She moved the cursor to highlight the text."
                    }
                },
                {
                    "word": "Edit",
                    "definition": "To alter or modify something, especially written content.",
                    "context": {
                        "Context 1": "You needed to edit your prompt before submitting it to ChatGPT.",
                        "Context 2": "He spent hours editing his essay for grammar mistakes.",
                        "Context 3": "You can edit photos using various software applications."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Cursor",
                    "fact": "Did you know that the first computer mouse was made of wood and had only one button?"
                },
                {
                    "word": "Edit",
                    "fact": "The word 'edit' comes from the Latin 'editus,' meaning 'to bring forth.' So, every time you edit, you're bringing your ideas to life!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of anxiety!"
                },
                {
                    "question": "Why was the computer cold?",
                    "answer": "Because it left its Windows open!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Correct",
                    "definition": "Free from error; in accordance with fact or truth.",
                    "context": {
                        "Context 1": "The teacher asked if the spelling of the word 'sentence' was correct.",
                        "Context 2": "He was correct in his assessment of the situation.",
                        "Context 3": "The correct answer to the math problem was written on the board."
                    }
                },
                {
                    "word": "Idiom",
                    "definition": "A group of words whose meaning is not deducible from the individual words.",
                    "context": {
                        "Context 1": "The teacher explained that 'kick the bucket' is an idiom meaning to die.",
                        "Context 2": "In French, there are many idioms that are difficult to translate directly.",
                        "Context 3": "She used an idiom to express her feelings, but he didn't understand it."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or idea.",
                    "context": {
                        "Context 1": "We need to create a context for the sentence to make it clearer.",
                        "Context 2": "Without context, the joke may not make sense.",
                        "Context 3": "The historical context of the novel adds depth to its themes."
                    }
                },
                {
                    "word": "Sentence",
                    "definition": "A set of words that conveys a complete thought.",
                    "context": {
                        "Context 1": "The student struggled to write a correct sentence.",
                        "Context 2": "In English class, we learned how to structure a complex sentence.",
                        "Context 3": "She read a sentence from the book aloud to the class."
                    }
                },
                {
                    "word": "Advise",
                    "definition": "To offer suggestions about the best course of action.",
                    "context": {
                        "Context 1": "The teacher advised the student to use the word 'idiomatic' instead of 'correct.'",
                        "Context 2": "He advised her to take the bus instead of walking home.",
                        "Context 3": "The doctor advised him to exercise regularly for better health."
                    }
                },
                {
                    "word": "Functionality",
                    "definition": "The quality of being suited to serve a purpose well; practicality.",
                    "context": {
                        "Context 1": "The software's functionality improves with each update.",
                        "Context 2": "He tested the functionality of the new phone before buying it.",
                        "Context 3": "The functionality of the website is crucial for user experience."
                    }
                },
                {
                    "word": "Clarification",
                    "definition": "The action of making a statement or situation less confused and more comprehensible.",
                    "context": {
                        "Context 1": "He asked for clarification on the homework assignment.",
                        "Context 2": "The teacher provided clarification on the difficult topic.",
                        "Context 3": "She needed clarification about the meeting time."
                    }
                },
                {
                    "word": "Episode",
                    "definition": "An event or a series of events that form part of a larger narrative.",
                    "context": {
                        "Context 1": "The second episode of the series was very boring.",
                        "Context 2": "She binge-watched the entire season in one weekend.",
                        "Context 3": "Each episode of the documentary covered a different aspect of history."
                    }
                },
                {
                    "word": "Serial",
                    "definition": "A story or play appearing in regular installments.",
                    "context": {
                        "Context 1": "The serial was so captivating that I couldn't wait for the next episode.",
                        "Context 2": "He enjoys reading the serial in the newspaper every week.",
                        "Context 3": "The serial killer was caught after a long investigation."
                    }
                },
                {
                    "word": "Opportunity",
                    "definition": "A set of circumstances that makes it possible to do something.",
                    "context": {
                        "Context 1": "She took the opportunity to improve her English skills before the exam.",
                        "Context 2": "The job fair provided many opportunities for students.",
                        "Context 3": "He missed the opportunity to travel abroad last summer."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Idiom",
                    "fact": "The idiom 'raining cats and dogs' originated in 17th-century England, but thankfully, no actual animals were involved!"
                },
                {
                    "word": "Context",
                    "fact": "In linguistics, context is so important that a single word can have multiple meanings based on how it's used—like 'bark' can mean tree covering or a dog's sound!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What did one grammar book say to the other?",
                    "answer": "I’ve got your back; let’s stick together!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new series everyone's talking about?"
                },
                {
                    "Person 2": "Oh, you mean the one about the detective? Yeah, I started watching it last week!"
                },
                {
                    "Person 1": "Nice! What do you think? I heard it has some crazy plot twists."
                },
                {
                    "Person 2": "For sure! I didn’t expect the main character to have such a dark past. It really adds depth."
                },
                {
                    "Person 1": "Right? I love how they mix drama with suspense. Keeps you on the edge of your seat!"
                },
                {
                    "Person 2": "Exactly! And the way they develop the characters is so interesting. You start to feel for them."
                },
                {
                    "Person 1": "Totally! I was shocked when I found out about the main character's secret. Did you see that coming?"
                },
                {
                    "Person 2": "Not at all! I thought they were just a regular detective. That twist blew my mind!"
                },
                {
                    "Person 1": "Same here! I was like, 'No way!' I had to rewind and watch it again."
                },
                {
                    "Person 2": "Haha, I did the same thing! It’s so addictive. I can’t wait for the next episode."
                },
                {
                    "Person 1": "Me too! I heard the season finale is going to be epic. Any predictions?"
                },
                {
                    "Person 2": "I think there’s going to be a huge showdown. Maybe some characters won’t make it out alive!"
                },
                {
                    "Person 1": "Yikes! That would be intense. I hope they don’t kill off my favorite character."
                },
                {
                    "Person 2": "Same! Let’s hope for the best. We should watch it together when the finale drops."
                },
                {
                    "Person 1": "Definitely! It’ll be fun to see our reactions live."
                },
                {
                    "Person 2": "For sure! Can’t wait!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new show everyone’s talking about?"
                },
                {
                    "Person 2": "Oh, you mean the one about the detective? Yeah, I started watching it last night!"
                },
                {
                    "Person 1": "Nice! What do you think so far?"
                },
                {
                    "Person 2": "I really like it! The plot twists are crazy. I didn’t see that coming!"
                },
                {
                    "Person 1": "Right? I love when a show keeps you guessing. Makes it so much more fun."
                },
                {
                    "Person 2": "Exactly! And the characters are so well-written. I feel like I know them already."
                },
                {
                    "Person 1": "Totally! I can’t wait to see what happens next. Have you finished the first season?"
                },
                {
                    "Person 2": "Not yet! I’m trying to pace myself, but it’s hard to resist binge-watching."
                },
                {
                    "Person 1": "I get that! I usually end up watching three episodes in one sitting."
                },
                {
                    "Person 2": "Same here! I tell myself just one more, and then I’m hooked."
                },
                {
                    "Person 1": "So true! Maybe we should have a watch party this weekend?"
                },
                {
                    "Person 2": "That sounds like a blast! I’ll bring snacks!"
                },
                {
                    "Person 1": "Perfect! I’ll grab some drinks. It’s going to be fun!"
                },
                {
                    "Person 2": "Can’t wait! Let’s make it a movie night too!"
                },
                {
                    "Person 1": "Absolutely! We’ll have the best time!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh, totally! It was intense! I can't believe they came back in the last quarter."
                },
                {
                    "Person 1": "Right? I was on the edge of my seat. That last-minute touchdown was wild!"
                },
                {
                    "Person 2": "I know! And the crowd went crazy. I wish I could have been there."
                },
                {
                    "Person 1": "Same here! Watching it on TV just isn't the same as being in the stadium."
                },
                {
                    "Person 2": "For sure! The atmosphere must have been electric. Did you see the halftime show?"
                },
                {
                    "Person 1": "Yeah! I thought it was pretty good. The special effects were awesome."
                },
                {
                    "Person 2": "Definitely! I loved the fireworks. It really added to the excitement."
                },
                {
                    "Person 1": "So, are you planning to watch the next game?"
                },
                {
                    "Person 2": "Absolutely! I’ll probably invite some friends over for a little watch party."
                },
                {
                    "Person 1": "That sounds fun! Count me in! I’ll bring snacks."
                },
                {
                    "Person 2": "Perfect! I’ll handle the drinks. It’s going to be a blast!"
                },
                {
                    "Person 1": "Can’t wait! Let’s hope for another great game."
                },
                {
                    "Person 2": "For sure! See you then!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
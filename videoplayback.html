<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 2,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "He doesn't like humans.",
                    "corrected": "He doesn't like humans.",
                    "explanation": "No mistake; this sentence is correct.",
                    "context": "Jack was hiding in the pantry, trying to avoid being seen. The giant stomped into the kitchen and sniffed the air. He doesn't like humans."
                },
                {
                    "original": "He was afraid of heights.",
                    "corrected": "He was afraid of heights.",
                    "explanation": "No mistake; this sentence is correct.",
                    "context": "Jack had successfully escaped the giant and was watching him from below. The giant reached the top of the beanstalk and looked down. He was afraid of heights."
                },
                {
                    "original": "The giant came tumbling down from the sky.",
                    "corrected": "The giant came tumbling down from the sky.",
                    "explanation": "No mistake; this sentence is correct.",
                    "context": "After Jack chopped the beanstalk, the giant fell from the sky. The giant came tumbling down from the sky, landing far away on the other side of the foggy mountains."
                },
                {
                    "original": "The giant yelled so loudly that the clouds shook.",
                    "corrected": "The giant yelled so loudly that the clouds shook.",
                    "explanation": "No mistake; this sentence is correct.",
                    "context": "After the giant fell, he realized he was stranded. The giant yelled so loudly that the clouds shook, echoing his frustration."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "Jack calling for his wife.",
                    "corrected": "Jack was calling for his wife.",
                    "explanation": "The verb 'calling' needs an auxiliary verb 'was' to indicate the past continuous tense.",
                    "context": "Jack felt sad and guilty. Every time the wind blew, Jack was calling for his wife. He missed her deeply."
                },
                {
                    "original": "He opened a box on his mantelpiece and pulled out one last shriveled magic bean.",
                    "corrected": "He opened a box from his mantelpiece and pulled out one last shriveled magic bean.",
                    "explanation": "'On' is incorrect here; 'from' is more appropriate to indicate the source of the box.",
                    "context": "One day, when Jack was very old, he decided that he didn't want to be sad anymore. He opened a box from his mantelpiece and pulled out one last shriveled magic bean. This bean held the hope of a new beginning."
                },
                {
                    "original": "If he could find the giant, he could also apologise for being so greedy.",
                    "corrected": "If he could find the giant, he could also apologize for being so greedy.",
                    "explanation": "The spelling of 'apologise' is British English; 'apologize' is the American English spelling.",
                    "context": "Jack packed his bag and walked into the foggy mountains. If he could find the giant, he could also apologize for being so greedy. He wanted to make amends for his past actions."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Furious",
                    "definition": "Extremely angry.",
                    "context": {
                        "Context 1": "Jack's mother was furious when she saw that he had traded their cow for beans.",
                        "Context 2": "The teacher was furious when she found out that the students had not done their homework.",
                        "Context 3": "He became furious when he discovered someone had borrowed his favorite book without asking."
                    }
                },
                {
                    "word": "Devastated",
                    "definition": "Severely shocked or distressed.",
                    "context": {
                        "Context 1": "Jack was devastated after his mother threw the beans out the window.",
                        "Context 2": "She felt devastated when she learned that her best friend was moving away.",
                        "Context 3": "The team was devastated after losing the championship game in the final seconds."
                    }
                },
                {
                    "word": "Disaster",
                    "definition": "A sudden event that causes great damage or distress.",
                    "context": {
                        "Context 1": "Jack thought it was a disaster that he had traded their cow for beans.",
                        "Context 2": "The storm was a disaster for the small town, causing widespread flooding.",
                        "Context 3": "His cooking was a disaster; the cake collapsed and the kitchen was a mess."
                    }
                },
                {
                    "word": "Stomped",
                    "definition": "To tread heavily or noisily.",
                    "context": {
                        "Context 1": "The giant stomped into the kitchen, making the floor shake.",
                        "Context 2": "She stomped her feet in frustration when she couldn't find her keys.",
                        "Context 3": "The children stomped through the puddles, splashing water everywhere."
                    }
                },
                {
                    "word": "Whispered",
                    "definition": "To speak very softly or quietly.",
                    "context": {
                        "Context 1": "Jack whispered to himself that the beans were magic.",
                        "Context 2": "She whispered a secret to her friend during the movie.",
                        "Context 3": "The librarian whispered for everyone to be quiet in the library."
                    }
                },
                {
                    "word": "Treasure",
                    "definition": "Valuable items, often in the form of money or precious objects.",
                    "context": {
                        "Context 1": "Jack decided to look for treasure after climbing the beanstalk.",
                        "Context 2": "The pirate's map led them to a hidden treasure chest on the island.",
                        "Context 3": "She considered her family and friends to be her greatest treasure."
                    }
                },
                {
                    "word": "Magic",
                    "definition": "The power of apparently influencing events using mysterious or supernatural forces.",
                    "context": {
                        "Context 1": "Jack believed the beans were magic because they grew into a giant beanstalk.",
                        "Context 2": "The magician performed a magic trick that left the audience in awe.",
                        "Context 3": "The book was filled with stories of magic and mythical creatures."
                    }
                },
                {
                    "word": "Giantess",
                    "definition": "A female giant.",
                    "context": {
                        "Context 1": "The giantess welcomed Jack into her home and offered him food.",
                        "Context 2": "In folklore, a giantess often plays a protective role for her family.",
                        "Context 3": "The giantess in the story had a kind heart despite her size."
                    }
                },
                {
                    "word": "Chased",
                    "definition": "To run after someone or something in order to catch them.",
                    "context": {
                        "Context 1": "The giant chased Jack after he stole the treasures.",
                        "Context 2": "The dog chased the ball across the yard.",
                        "Context 3": "She chased her dreams of becoming a professional dancer."
                    }
                },
                {
                    "word": "Holes",
                    "definition": "Openings or gaps in a surface.",
                    "context": {
                        "Context 1": "Jack's mother mentioned the holes in their roof that needed fixing.",
                        "Context 2": "The rabbit dug holes in the garden to create a burrow.",
                        "Context 3": "He found holes in his socks and decided it was time to buy new ones."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Magic",
                    "fact": "The word 'magic' comes from the Greek word 'magikos,' which means 'of the Magi,' the ancient priests known for their mystical powers!"
                },
                {
                    "word": "Giantess",
                    "fact": "In mythology, giantesses are often depicted as powerful figures, but they also have a soft side, like the giantess in our story who helped Jack!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did Jack climb the beanstalk?",
                    "answer": "Because he heard the grass was greener on the other side!"
                },
                {
                    "question": "What did the giant say when he lost his beanstalk?",
                    "answer": "I guess I’m just a little down today!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Comfortable",
                    "definition": "Providing physical ease and relaxation; free from stress or worry.",
                    "context": {
                        "Context 1": "Jack and his mother lived a very comfortable life after finding the golden hen.",
                        "Context 2": "The sofa was so comfortable that I fell asleep while watching TV.",
                        "Context 3": "She felt comfortable speaking in front of large crowds after years of practice."
                    }
                },
                {
                    "word": "Millionaire",
                    "definition": "A person whose assets are worth one million dollars or more.",
                    "context": {
                        "Context 1": "The golden hen made Jack a millionaire.",
                        "Context 2": "After winning the lottery, she became a millionaire overnight.",
                        "Context 3": "The millionaire decided to donate a portion of his wealth to charity."
                    }
                },
                {
                    "word": "Famous",
                    "definition": "Known about by many people; renowned.",
                    "context": {
                        "Context 1": "The magic harp made Jack famous.",
                        "Context 2": "She became famous after her book topped the bestseller list.",
                        "Context 3": "The famous actor visited our town for a charity event."
                    }
                },
                {
                    "word": "Guilty",
                    "definition": "Feeling responsible or regretful for a perceived offense or wrongdoing.",
                    "context": {
                        "Context 1": "Jack felt sad and guilty for being so greedy.",
                        "Context 2": "After breaking the vase, he felt guilty for not telling the truth.",
                        "Context 3": "She felt guilty for eating the last piece of cake without asking."
                    }
                },
                {
                    "word": "Apologise",
                    "definition": "To express regret for something that one has done wrong.",
                    "context": {
                        "Context 1": "Jack decided to apologise for being so greedy.",
                        "Context 2": "He needed to apologise to his friend for missing the party.",
                        "Context 3": "The company had to apologise for the delay in service."
                    }
                },
                {
                    "word": "Foggy",
                    "definition": "Filled with fog; not clear due to the presence of mist or haze.",
                    "context": {
                        "Context 1": "Jack walked into the foggy mountains.",
                        "Context 2": "The foggy weather made it difficult to see the road ahead.",
                        "Context 3": "She loved the foggy mornings by the lake, as they felt mysterious."
                    }
                },
                {
                    "word": "Shriveled",
                    "definition": "Wrinkled and shrunken, often due to loss of moisture.",
                    "context": {
                        "Context 1": "He pulled out one last shriveled magic bean.",
                        "Context 2": "The shriveled fruit was no longer edible.",
                        "Context 3": "After spending too much time in the sun, her skin looked shriveled."
                    }
                },
                {
                    "word": "Beanstalk",
                    "definition": "A tall plant that grows from a bean seed, often associated with fairy tales.",
                    "context": {
                        "Context 1": "Jack hoped to grow another beanstalk with the last magic bean.",
                        "Context 2": "In the story, the beanstalk reached high into the clouds.",
                        "Context 3": "She planted a beanstalk in her garden to see how tall it would grow."
                    }
                },
                {
                    "word": "Rumbling",
                    "definition": "A continuous deep, resonant sound, often associated with thunder or machinery.",
                    "context": {
                        "Context 1": "You can hear the rumbling sound of two giants dancing together in the clouds.",
                        "Context 2": "The rumbling of the train could be heard from miles away.",
                        "Context 3": "His stomach made a rumbling noise during the meeting because he was hungry."
                    }
                },
                {
                    "word": "Tears",
                    "definition": "Drops of clear, salty liquid produced by glands in the eyes, often as a result of emotion.",
                    "context": {
                        "Context 1": "Jack heard Mrs. Giant start to cry, and her tears soaked the earth.",
                        "Context 2": "She wiped away her tears after watching the sad movie.",
                        "Context 3": "The child’s tears fell when he scraped his knee."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Millionaire",
                    "fact": "Did you know that the term 'millionaire' was first used in France in the 18th century? It originally referred to someone who had a million livres, which was a currency at that time!"
                },
                {
                    "word": "Foggy",
                    "fact": "In London, there’s a saying: 'If you can see the Shard, it’s going to rain. If you can’t see the Shard, it’s already raining!'"
                }
            ],
            "jokes": [
                {
                    "question": "Why did Jack take a ladder to the bar?",
                    "answer": "Because he heard the drinks were on the house!"
                },
                {
                    "question": "What did the giant say to Jack?",
                    "answer": "You’ve really bean a pain in my neck!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new movie everyone’s talking about?"
                },
                {
                    "Person 2": "Yeah, I saw the trailer! It looks awesome. Are you planning to see it?"
                },
                {
                    "Person 1": "Definitely! I love a good adventure flick. What about you?"
                },
                {
                    "Person 2": "For sure! I’m always up for a movie night. When do you want to go?"
                },
                {
                    "Person 1": "How about this weekend? We can grab some popcorn and make it a fun night."
                },
                {
                    "Person 2": "Sounds perfect! I’ll bring the snacks. You know I can’t resist a good candy selection."
                },
                {
                    "Person 1": "Haha, you and your candy! I’ll handle the drinks then. We’ll be all set."
                },
                {
                    "Person 2": "Great team effort! I can’t wait. It’s been a while since we had a movie night."
                },
                {
                    "Person 1": "I know, right? We should do this more often. It’s always a blast."
                },
                {
                    "Person 2": "Absolutely! Plus, it’s a good way to unwind after a long week."
                },
                {
                    "Person 1": "Exactly! Alright, let’s finalize the plan later this week."
                },
                {
                    "Person 2": "Deal! I’ll text you to confirm the time."
                },
                {
                    "Person 1": "Awesome! Looking forward to it!"
                },
                {
                    "Person 2": "Me too! It’s going to be a fun night!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new movie coming out this weekend?"
                },
                {
                    "Person 2": "Yeah, I saw the trailer! It looks really good. Are you planning to see it?"
                },
                {
                    "Person 1": "Definitely! I love a good adventure film. How about you?"
                },
                {
                    "Person 2": "For sure! I’m all in. I just hope it’s not too long. I have a hard time sitting still for more than two hours."
                },
                {
                    "Person 1": "Same here! I feel like my attention span is getting shorter every day."
                },
                {
                    "Person 2": "Right? I used to binge-watch entire seasons of shows, but now I can barely finish one episode without getting distracted."
                },
                {
                    "Person 1": "Exactly! I think all those short clips on social media are messing with our brains."
                },
                {
                    "Person 2": "Totally! I read somewhere that it actually changes how we focus."
                },
                {
                    "Person 1": "Yeah, I think I saw that too! It’s kind of scary, honestly."
                },
                {
                    "Person 2": "It really is. So, what do you think we should do about it?"
                },
                {
                    "Person 1": "Maybe we should set some limits on our screen time? Like no phone an hour before bed?"
                },
                {
                    "Person 2": "That sounds like a good idea! I might try that too. But first, let me check a couple of videos."
                },
                {
                    "Person 1": "Haha! Classic! We always say we’ll start tomorrow, right?"
                },
                {
                    "Person 2": "Exactly! But hey, tomorrow is a new day. Let’s aim for that!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
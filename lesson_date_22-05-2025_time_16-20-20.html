<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "Like, they are, how to say, sorted out by ethnicity.",
                    "corrected": "They are sorted by ethnicity.",
                    "explanation": "The phrase 'how to say' is unnecessary and makes the sentence awkward.",
                    "context": "When discussing the data, I mentioned that the groups are categorized. They are sorted by ethnicity. This helps in understanding the demographics."
                },
                {
                    "original": "Okay, it's two time periods between 2004 and 2014, so the tense is plus simple.",
                    "corrected": "Okay, there are two time periods between 2004 and 2014, so the tense is simple present.",
                    "explanation": "'It's' is incorrect here; 'there are' is needed for clarity, and 'plus simple' is not standard English.",
                    "context": "While analyzing the data, I noted the time periods involved. There are two time periods between 2004 and 2014, so the tense is simple present. This is important for accurate reporting."
                },
                {
                    "original": "Like when you say in both years, but like we have 12% and versus 11% in non-Hispanic black.",
                    "corrected": "When you say in both years, we have 12% versus 11% in non-Hispanic black.",
                    "explanation": "The word 'like' is used too frequently, making the sentence informal and unclear.",
                    "context": "I was discussing the statistics presented in the report. When you say in both years, we have 12% versus 11% in non-Hispanic black. This comparison is crucial for understanding the data."
                },
                {
                    "original": "So like 12, 17 are definitely not the least likely to be obese.",
                    "corrected": "So 12 and 17 are definitely not the least likely to be obese.",
                    "explanation": "'Like' is unnecessary and makes the statement sound informal.",
                    "context": "In my analysis, I was clarifying the obesity rates. So 12 and 17 are definitely not the least likely to be obese. It's important to be precise with these figures."
                },
                {
                    "original": "I did struggle to kind of pick the things that I wanted to write about because it's a lot of very inconveniently placed information.",
                    "corrected": "I struggled to pick the things I wanted to write about because there is a lot of inconveniently placed information.",
                    "explanation": "The phrase 'kind of' is vague and weakens the statement; 'there is' is more direct.",
                    "context": "While preparing my report, I encountered challenges. I struggled to pick the things I wanted to write about because there is a lot of inconveniently placed information. This made it difficult to organize my thoughts."
                },
                {
                    "original": "A very good way sometimes to think of prototypes is first we talk about similarities.",
                    "corrected": "A very good way to think of prototypes is to first talk about similarities.",
                    "explanation": "The phrase 'sometimes' is unnecessary and 'is to first talk' is more grammatically correct.",
                    "context": "In our discussion about writing prototypes, I shared my approach. A very good way to think of prototypes is to first talk about similarities. This helps in structuring the report effectively."
                },
                {
                    "original": "I'm not sure how I can generalize that.",
                    "corrected": "I'm not sure how to generalize that.",
                    "explanation": "The phrase 'how I can' is less idiomatic than 'how to.'",
                    "context": "As I was trying to summarize the data, I expressed my uncertainty. I'm not sure how to generalize that. It's a complex topic with many variables."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I feel like it would sound nicer if I do include the percentages here, but I shouldn't, okay.",
                    "corrected": "I feel like it would sound nicer if I included the percentages here, but I shouldn't, okay.",
                    "explanation": "The verb 'do' is unnecessary here; the correct form is 'included' to match the conditional structure.",
                    "context": "When discussing the structure of my writing, I think including percentages would enhance clarity. I feel like it would sound nicer if I included the percentages here, but I shouldn't, okay. It's important to keep the focus on the main ideas."
                },
                {
                    "original": "Here in the overall paragraph, we better, like we can use years when we're comparing years, that's fine.",
                    "corrected": "Here in the overall paragraph, we should use years when we're comparing years, that's fine.",
                    "explanation": "'Better' is incorrect in this context; 'should' is the appropriate modal verb to indicate recommendation.",
                    "context": "While reviewing my overall paragraph, I realized that using specific years can help clarify comparisons. Here in the overall paragraph, we should use years when we're comparing years, that's fine. This will make my argument stronger."
                },
                {
                    "original": "Is it in the end or at the end?",
                    "corrected": "Is it 'in the end' or 'at the end'?",
                    "explanation": "Quotation marks are needed to clarify the phrases being compared.",
                    "context": "I was unsure about the correct usage of phrases in my writing. Is it 'in the end' or 'at the end'? I want to ensure I'm using the right expressions."
                },
                {
                    "original": "This paragraph, is it more general or more specific?",
                    "corrected": "This paragraph, is it more general or specific?",
                    "explanation": "The phrase 'more specific' is sufficient; 'more' is redundant before 'specific.'",
                    "context": "I was evaluating the focus of my paragraph to improve clarity. This paragraph, is it more general or specific? I want to ensure it aligns with my overall argument."
                },
                {
                    "original": "I should listen to this.",
                    "corrected": "I should pay attention to this.",
                    "explanation": "'Listen' is not the correct verb here; 'pay attention' conveys the intended meaning better.",
                    "context": "As I reflect on the feedback given, I realize the importance of being attentive to suggestions. I should pay attention to this. It will help me improve my writing."
                },
                {
                    "original": "Like non-Hispanic black girls, we can't really paraphrase that.",
                    "corrected": "For example, non-Hispanic black girls, we can't really paraphrase that.",
                    "explanation": "'Like' is too informal for this context; 'for example' is more appropriate.",
                    "context": "While discussing specific demographics in my writing, I noted the difficulty in paraphrasing certain terms. For example, non-Hispanic black girls, we can't really paraphrase that. It's important to maintain clarity and accuracy."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "Hispanic is the same as Russian, English, German.",
                    "corrected": "Hispanic is the same as Russian, English, and German.",
                    "explanation": "The conjunction 'and' is needed to connect the last item in a list.",
                    "context": "When discussing different ethnicities, I mentioned that Hispanic is the same as Russian, English, and German. It's important to use 'and' for clarity in lists."
                },
                {
                    "original": "The word, the word none is like a prefix.",
                    "corrected": "The word 'none' is like a prefix.",
                    "explanation": "Quotation marks are needed around 'none' to indicate that it is a specific term being referenced.",
                    "context": "I was explaining the concept of prefixes in language. The word 'none' is like a prefix. It’s important to clarify terms when discussing language rules."
                },
                {
                    "original": "I would write it with a lowcase letter.",
                    "corrected": "I would write it with a lowercase letter.",
                    "explanation": "'Lowcase' is incorrect; the proper term is 'lowercase' to describe small letters.",
                    "context": "While discussing capitalization rules, I mentioned that I would write it with a lowercase letter. Using the correct terminology is essential for clarity."
                },
                {
                    "original": "I bet. With underscore.",
                    "corrected": "I bet it has an underscore.",
                    "explanation": "The sentence is incomplete and unclear; it should specify what 'it' refers to.",
                    "context": "I was making a guess about a term's formatting. I bet it has an underscore. Clear references help in understanding."
                },
                {
                    "original": "The figure for boys was 27%.",
                    "corrected": "The figure for boys was 27 percent.",
                    "explanation": "In formal writing, percentages are often written out as words rather than numerals.",
                    "context": "When discussing statistics, I stated that the figure for boys was 27 percent. Writing it out maintains a formal tone."
                },
                {
                    "original": "We are combining them into one main body paragraph.",
                    "corrected": "We are combining them into one overall paragraph.",
                    "explanation": "The term 'main body paragraph' is too specific; 'overall paragraph' is more appropriate here.",
                    "context": "In our writing process, we are combining them into one overall paragraph. This helps in summarizing the information effectively."
                },
                {
                    "original": "But you know what to say.",
                    "corrected": "But you know what I mean.",
                    "explanation": "The phrase 'what to say' is awkward; 'what I mean' is more idiomatic in this context.",
                    "context": "While clarifying my point, I said, 'But you know what I mean.' Using idiomatic expressions makes communication smoother."
                },
                {
                    "original": "We need to report it.",
                    "corrected": "We need to report this.",
                    "explanation": "Using 'this' instead of 'it' makes the reference clearer and more specific.",
                    "context": "In discussing our writing, I stated that we need to report this. Clarity in references is crucial for understanding."
                },
                {
                    "original": "The first strategy is simple.",
                    "corrected": "The first strategy is straightforward.",
                    "explanation": "'Simple' can be vague; 'straightforward' is more precise in this context.",
                    "context": "When outlining our approach, I said the first strategy is straightforward. Being precise helps convey the message better."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "I just can refer to the years, I think.",
                    "corrected": "I can just refer to the years, I think.",
                    "explanation": "The adverb 'just' should come before the main verb 'can' for correct word order.",
                    "context": "At the beginning of the discussion, I mentioned the importance of structuring our paragraphs. I can just refer to the years, I think. This will help clarify our points."
                },
                {
                    "original": "we can do it in 20 minute work.",
                    "corrected": "we can do it in 20 minutes of work.",
                    "explanation": "'20 minute work' is incorrect; it should be '20 minutes of work' to indicate duration.",
                    "context": "We discussed how to efficiently manage our time for the project. We can do it in 20 minutes of work. This way, we can focus on other tasks."
                },
                {
                    "original": "it's more than words.",
                    "corrected": "it's more than just words.",
                    "explanation": "The phrase 'more than words' is incomplete; 'just' adds clarity to the comparison.",
                    "context": "While discussing the depth of our analysis, I emphasized that it's more than just words. We need to convey deeper meanings in our report."
                },
                {
                    "original": "we already wrote about it.",
                    "corrected": "we have already written about it.",
                    "explanation": "The present perfect tense 'have written' is needed to indicate an action completed in the past with relevance to the present.",
                    "context": "When considering how to paraphrase effectively, I noted that we have already written about it. This context helps us avoid redundancy."
                },
                {
                    "original": "the absolute number could be smaller, but the number of boys like this category grew significantly.",
                    "corrected": "the absolute number could be smaller, but the number of boys in this category grew significantly.",
                    "explanation": "The phrase 'like this category' is awkward; 'in this category' is the correct prepositional phrase.",
                    "context": "While analyzing data trends, I pointed out that the absolute number could be smaller, but the number of boys in this category grew significantly. This distinction is crucial for understanding the data."
                },
                {
                    "original": "we constantly need to keep it very general here.",
                    "corrected": "we need to constantly keep it very general here.",
                    "explanation": "The adverb 'constantly' should come after the verb 'need' for correct placement.",
                    "context": "In our analysis, I stressed that we need to constantly keep it very general here. This approach helps us maintain clarity in our findings."
                },
                {
                    "original": "if they want more facts, we can finish them with numbers.",
                    "corrected": "if they want more facts, we can finish with numbers.",
                    "explanation": "The phrase 'finish them with numbers' is awkward; it should be 'finish with numbers' for clarity.",
                    "context": "As we wrap up our presentation, I suggested that if they want more facts, we can finish with numbers. This will provide solid evidence for our claims."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Formatting",
                    "definition": "The arrangement and presentation of text or data in a document.",
                    "context": {
                        "Context 1": "I think that I messed up the formatting of my report.",
                        "Context 2": "The formatting of the website made it difficult to navigate.",
                        "Context 3": "He spent hours formatting his resume to make it look professional."
                    }
                },
                {
                    "word": "Accurate",
                    "definition": "Free from errors; correct in all details.",
                    "context": {
                        "Context 1": "Is it accurate to say they are the least likely to be obese?",
                        "Context 2": "The scientist ensured that the data was accurate before publishing.",
                        "Context 3": "His accurate memory helped him recall every detail of the event."
                    }
                },
                {
                    "word": "Prototype",
                    "definition": "An original model on which something is patterned or based.",
                    "context": {
                        "Context 1": "Let's think of the second prototype that we can use here.",
                        "Context 2": "The engineers created a prototype of the new smartphone before mass production.",
                        "Context 3": "In art class, we made a prototype of our sculpture using clay."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To restate something using different words, often to clarify meaning.",
                    "context": {
                        "Context 1": "We need to paraphrase the information about the data.",
                        "Context 2": "The teacher asked us to paraphrase the poem in our own words.",
                        "Context 3": "He struggled to paraphrase the complex article for his summary."
                    }
                },
                {
                    "word": "Ethnicity",
                    "definition": "A category of people who identify with each other based on shared cultural, social, or historical experiences.",
                    "context": {
                        "Context 1": "They are sorted out by ethnicity in the report.",
                        "Context 2": "The festival celebrates the diversity of ethnicity in our community.",
                        "Context 3": "Understanding ethnicity is important for social studies."
                    }
                },
                {
                    "word": "Obese",
                    "definition": "Having an excess of body fat; overweight.",
                    "context": {
                        "Context 1": "There are much more obese children now than ten years ago.",
                        "Context 2": "The doctor advised her to lose weight to avoid becoming obese.",
                        "Context 3": "Obese animals in the wild often struggle to survive."
                    }
                },
                {
                    "word": "Generalize",
                    "definition": "To make a general or broad statement by inferring from specific cases.",
                    "context": {
                        "Context 1": "I’m not sure how I can generalize that information.",
                        "Context 2": "It's easy to generalize about a group based on a few examples.",
                        "Context 3": "He tried to generalize his findings to apply to a larger population."
                    }
                },
                {
                    "word": "Inconsistent",
                    "definition": "Not compatible or in keeping with; lacking in harmony.",
                    "context": {
                        "Context 1": "The differences are very inconsistent across the data.",
                        "Context 2": "Her performance was inconsistent, varying from excellent to poor.",
                        "Context 3": "The weather has been inconsistent lately, with sun one day and snow the next."
                    }
                },
                {
                    "word": "Percentage",
                    "definition": "A fraction or ratio expressed as a part of 100.",
                    "context": {
                        "Context 1": "On the left, we have percentages of obesity.",
                        "Context 2": "The percentage of students passing the exam increased this year.",
                        "Context 3": "She calculated the percentage of her savings to see how much she could spend."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or situation.",
                    "context": {
                        "Context 1": "We only refer to the years in context of the report.",
                        "Context 2": "Understanding the context of a story can change its meaning.",
                        "Context 3": "In historical research, context is crucial for accurate interpretation."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Obese",
                    "fact": "Did you know that the heaviest recorded human weighed over 1,400 pounds? That's like having a small car as a pet!"
                },
                {
                    "word": "Percentage",
                    "fact": "In a survey, 100% of people said they love pizza. The other 50% were just too shy to admit it!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Prototype",
                    "definition": "An original model or preliminary version of something from which other forms are developed.",
                    "context": {
                        "Context 1": "The first prototype of the new smartphone was released for testing.",
                        "Context 2": "In the art class, we created a prototype of our sculpture using clay.",
                        "Context 3": "The engineer presented a prototype of the new bridge design to the city council."
                    }
                },
                {
                    "word": "Percentage",
                    "definition": "A rate, number, or amount in each hundred.",
                    "context": {
                        "Context 1": "The report showed a percentage increase in sales from 2004 to 2014.",
                        "Context 2": "She scored a high percentage on her math exam, which made her very happy.",
                        "Context 3": "The percentage of people who prefer coffee over tea varies by region."
                    }
                },
                {
                    "word": "General",
                    "definition": "Not specific; relating to all or most members of a category.",
                    "context": {
                        "Context 1": "In general, the feedback on the project was positive.",
                        "Context 2": "The general consensus among students is that the test was difficult.",
                        "Context 3": "He gave a general overview of the topic before diving into specifics."
                    }
                },
                {
                    "word": "Obvious",
                    "definition": "Easily perceived or understood; clear, self-evident.",
                    "context": {
                        "Context 1": "The most obvious difference between the two years is the increase in population.",
                        "Context 2": "It was obvious that she was excited about the surprise party.",
                        "Context 3": "The obvious choice for the team captain was the one with the most experience."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement of and relations between the parts or elements of something complex.",
                    "context": {
                        "Context 1": "The structure of the essay needs to be clear and logical.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "In biology, the structure of DNA is crucial for understanding genetics."
                    }
                },
                {
                    "word": "Task",
                    "definition": "A piece of work to be done or undertaken.",
                    "context": {
                        "Context 1": "Completing this task will help you understand the topic better.",
                        "Context 2": "His task for the day was to clean the garage.",
                        "Context 3": "The teacher assigned a challenging task to encourage critical thinking."
                    }
                },
                {
                    "word": "Boring",
                    "definition": "Not interesting; tedious.",
                    "context": {
                        "Context 1": "The presentation was so boring that many students fell asleep.",
                        "Context 2": "He found the movie boring because it had no action.",
                        "Context 3": "Some people think reading is boring, while others find it relaxing."
                    }
                },
                {
                    "word": "Compare",
                    "definition": "To examine the similarities and/or differences.",
                    "context": {
                        "Context 1": "We need to compare the data from both years to see the trends.",
                        "Context 2": "She compared the two dresses before making her final choice.",
                        "Context 3": "In science class, we compare different species to understand evolution."
                    }
                },
                {
                    "word": "Struggling",
                    "definition": "Experiencing difficulty or hardship.",
                    "context": {
                        "Context 1": "He is struggling to understand the complex math problems.",
                        "Context 2": "The athlete was struggling to keep up with the pace of the race.",
                        "Context 3": "Many students are struggling with the new online learning format."
                    }
                },
                {
                    "word": "View",
                    "definition": "The ability to see something or to be seen from a particular place.",
                    "context": {
                        "Context 1": "The mirrors in the room offer a full view of the surroundings.",
                        "Context 2": "From the top of the mountain, the view was breathtaking.",
                        "Context 3": "He has a unique view on life that inspires others."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Prototype",
                    "fact": "The first prototype of a rubber duck was made in the 1940s and was originally hard, not soft!"
                },
                {
                    "word": "Percentage",
                    "fact": "Did you know that 100% of people are bad at math? Just kidding, but many people do struggle with percentages!"
                },
                {
                    "word": "Obvious",
                    "fact": "The word 'obvious' comes from the Latin 'obvius,' which means 'in the way'—so it’s literally something that’s right in front of you!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Prototype",
                    "definition": "An original model on which something is patterned or based.",
                    "context": {
                        "Context 1": "The teacher explained that a prototype is essential for understanding the main structure of the report.",
                        "Context 2": "The car manufacturer created a prototype to test the new design before mass production.",
                        "Context 3": "In art class, students were encouraged to create a prototype of their final project using clay."
                    }
                },
                {
                    "word": "Percentage",
                    "definition": "A rate, number, or amount in each hundred.",
                    "context": {
                        "Context 1": "The lesson discussed how to calculate the percentage of non-Hispanic black girls in the study.",
                        "Context 2": "The store offered a 20% discount on all items during the sale.",
                        "Context 3": "In a survey, 75% of participants preferred chocolate ice cream over vanilla."
                    }
                },
                {
                    "word": "Proportion",
                    "definition": "A part, share, or number considered in comparative relation to a whole.",
                    "context": {
                        "Context 1": "The teacher mentioned that the proportion of Hispanic boys to girls was significant in the report.",
                        "Context 2": "In cooking, it's important to maintain the right proportion of ingredients for the recipe to succeed.",
                        "Context 3": "The proportion of students passing the exam increased this year compared to last year."
                    }
                },
                {
                    "word": "Body Paragraph",
                    "definition": "A paragraph that develops a specific point or idea in an essay or report.",
                    "context": {
                        "Context 1": "The teacher emphasized the importance of a clear body paragraph to convey the main idea effectively.",
                        "Context 2": "In her essay, she wrote a body paragraph about the effects of pollution on marine life.",
                        "Context 3": "Each body paragraph in the report should include evidence to support the main argument."
                    }
                },
                {
                    "word": "Review",
                    "definition": "To examine or assess something with the possibility of instituting change if necessary.",
                    "context": {
                        "Context 1": "The students were instructed to review their body paragraphs for clarity and coherence.",
                        "Context 2": "Before the exam, the teacher scheduled a review session to help students prepare.",
                        "Context 3": "She decided to review her favorite movie to see if it was still as good as she remembered."
                    }
                },
                {
                    "word": "Figures",
                    "definition": "Numerical symbols representing a quantity or value.",
                    "context": {
                        "Context 1": "The lesson included various figures to illustrate the data being discussed.",
                        "Context 2": "The accountant presented the financial figures to the board of directors.",
                        "Context 3": "In math class, we learned how to interpret figures on a graph."
                    }
                },
                {
                    "word": "Concise",
                    "definition": "Giving a lot of information clearly and in a few words; brief but comprehensive.",
                    "context": {
                        "Context 1": "The teacher advised students to keep their reports concise to maintain the reader's interest.",
                        "Context 2": "Her concise summary of the book helped her classmates understand the main themes quickly.",
                        "Context 3": "The meeting was concise, lasting only 30 minutes, yet covered all necessary topics."
                    }
                },
                {
                    "word": "Capitalized",
                    "definition": "To write or print a letter in uppercase.",
                    "context": {
                        "Context 1": "The teacher reminded the students that 'Hispanic' should be capitalized in their reports.",
                        "Context 2": "In English, proper nouns are always capitalized, like names of people and places.",
                        "Context 3": "He capitalized the first letter of each word in the title for emphasis."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something written or spoken using different words.",
                    "context": {
                        "Context 1": "The lesson included tips on how to paraphrase effectively to avoid plagiarism.",
                        "Context 2": "She had to paraphrase the article for her assignment to demonstrate her understanding.",
                        "Context 3": "During the discussion, he paraphrased the speaker's points to clarify his understanding."
                    }
                },
                {
                    "word": "Conclusion",
                    "definition": "The end or finish of an event, process, or text, often summarizing the main points.",
                    "context": {
                        "Context 1": "The teacher explained that a conclusion is necessary to summarize the findings of the report.",
                        "Context 2": "In her speech, she provided a strong conclusion that left the audience inspired.",
                        "Context 3": "The conclusion of the movie was unexpected and left viewers talking for days."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Prototype",
                    "fact": "The first prototype of a rubber duck was made of hard plastic, not rubber!"
                },
                {
                    "word": "Percentage",
                    "fact": "Did you know that the percentage of people who actually read the terms and conditions is less than 1%?"
                },
                {
                    "word": "Concise",
                    "fact": "The word 'concise' comes from the Latin word 'concise,' which means 'cut off'—just like unnecessary words!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                },
                {
                    "question": "What do you call a paragraph that tells a joke?",
                    "answer": "A punchline paragraph!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Prototype",
                    "definition": "An original model on which something is patterned.",
                    "context": {
                        "Context 1": "The prototype of the new smartphone was unveiled at the tech conference.",
                        "Context 2": "The artist created a prototype of her sculpture using clay before making it in bronze.",
                        "Context 3": "In the world of fashion, a prototype is often created to test the fit and design of a new clothing line."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something written or spoken using different words.",
                    "context": {
                        "Context 1": "It's important to paraphrase the original text to avoid plagiarism.",
                        "Context 2": "During the meeting, she had to paraphrase the CEO's speech for clarity.",
                        "Context 3": "He decided to paraphrase the lyrics of the song to make it more suitable for children."
                    }
                },
                {
                    "word": "Comprehensible",
                    "definition": "Able to be understood; clear enough to be grasped.",
                    "context": {
                        "Context 1": "The teacher made the complex topic comprehensible for her students.",
                        "Context 2": "His explanation was so detailed that it was barely comprehensible.",
                        "Context 3": "The instructions were written in a comprehensible manner, making it easy for everyone to follow."
                    }
                },
                {
                    "word": "Percentage",
                    "definition": "A rate, number, or amount in each hundred.",
                    "context": {
                        "Context 1": "The percentage of students passing the exam increased this year.",
                        "Context 2": "She calculated the percentage of her savings after spending a large amount.",
                        "Context 3": "In cooking, a percentage can refer to the ratio of ingredients in a recipe."
                    }
                },
                {
                    "word": "Data",
                    "definition": "Facts and statistics collected for reference or analysis.",
                    "context": {
                        "Context 1": "The data collected from the survey will help improve the product.",
                        "Context 2": "He loves to analyze data from different sports to predict outcomes.",
                        "Context 3": "The scientist presented her data at the conference to support her findings."
                    }
                },
                {
                    "word": "Trends",
                    "definition": "General directions in which something is developing or changing.",
                    "context": {
                        "Context 1": "The report highlighted trends in consumer behavior over the last decade.",
                        "Context 2": "Fashion trends change rapidly from season to season.",
                        "Context 3": "Social media trends can influence public opinion significantly."
                    }
                },
                {
                    "word": "Intuitive",
                    "definition": "Easy to understand or operate without explicit instruction.",
                    "context": {
                        "Context 1": "The new software has an intuitive interface that users find easy to navigate.",
                        "Context 2": "Her intuitive sense of direction helped her find the way without a map.",
                        "Context 3": "Children often have an intuitive understanding of fairness and sharing."
                    }
                },
                {
                    "word": "Constrained",
                    "definition": "Restricted in some way; limited.",
                    "context": {
                        "Context 1": "The project was constrained by a tight budget and timeline.",
                        "Context 2": "He felt constrained by the rules of the game and wanted to play differently.",
                        "Context 3": "The artist felt constrained by the traditional techniques and sought to innovate."
                    }
                },
                {
                    "word": "Obese",
                    "definition": "Having an excess of body fat; very overweight.",
                    "context": {
                        "Context 1": "The study found that the percentage of obese children has increased in recent years.",
                        "Context 2": "He was concerned about his health after being classified as obese.",
                        "Context 3": "Some animals in captivity can become obese due to lack of exercise."
                    }
                },
                {
                    "word": "Suffered",
                    "definition": "To experience pain, distress, or hardship.",
                    "context": {
                        "Context 1": "Many people suffered during the economic downturn.",
                        "Context 2": "The athlete suffered an injury that kept him out of the game.",
                        "Context 3": "She suffered from allergies every spring when the flowers bloomed."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Data",
                    "fact": "Did you know that the word 'data' is actually the plural form of 'datum'? So, technically, you should say 'these data' instead of 'this data'!"
                },
                {
                    "word": "Obese",
                    "fact": "In ancient Egypt, being obese was considered a sign of wealth and prosperity, as food was plentiful!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the statistician bring a ladder to the bar?",
                    "answer": "Because he heard the drinks were on the house!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of data to process!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going? Did you finish that essay for class?"
                },
                {
                    "Person 2": "Hey! Yeah, I finally wrapped it up. It was about bar charts and comparing data."
                },
                {
                    "Person 1": "Nice! I always struggle with formatting those things. Did you have any issues?"
                },
                {
                    "Person 2": "Oh, totally! I messed up the formatting a couple of times. It was a bit of a headache."
                },
                {
                    "Person 1": "I feel you. Sometimes I get lost in all the numbers and percentages."
                },
                {
                    "Person 2": "Right? I had to spend a good amount of time just trying to understand what the data was saying."
                },
                {
                    "Person 1": "Exactly! And then I second-guess myself on whether I'm interpreting it correctly."
                },
                {
                    "Person 2": "Same here! I ended up just focusing on the main points instead of getting too specific."
                },
                {
                    "Person 1": "That’s smart! I usually get caught up in the details and lose track of the bigger picture."
                },
                {
                    "Person 2": "Yeah, I think it’s better to keep it general in the introduction and then dive into specifics later."
                },
                {
                    "Person 1": "For sure! Did you find any interesting trends in the data?"
                },
                {
                    "Person 2": "Yeah, I noticed some surprising differences between age groups. It was pretty eye-opening."
                },
                {
                    "Person 1": "That sounds cool! I love when data reveals something unexpected."
                },
                {
                    "Person 2": "Definitely! Makes the whole process worth it. So, what's next for you?"
                },
                {
                    "Person 1": "I need to start on my next project, but I might take a break first. Maybe grab some coffee?"
                },
                {
                    "Person 2": "Sounds like a plan! Let’s go!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh, totally! It was such a nail-biter! I couldn’t believe that last-minute goal."
                },
                {
                    "Person 1": "Right? I thought they were done for, but then they pulled it off!"
                },
                {
                    "Person 2": "Yeah, I was jumping up and down in my living room. My dog thought I was crazy!"
                },
                {
                    "Person 1": "Haha! I can imagine! My cat just stared at me like I was losing it."
                },
                {
                    "Person 2": "Cats are so judgmental! What do you think about the team’s chances this season?"
                },
                {
                    "Person 1": "I think they have a good shot! If they keep playing like that, they could go all the way."
                },
                {
                    "Person 2": "Agreed! But they need to tighten up their defense. Too many close calls."
                },
                {
                    "Person 1": "True! I just hope they don’t get too cocky. That’s when things go south."
                },
                {
                    "Person 2": "Exactly! Remember last season? They were on fire until they started underestimating their opponents."
                },
                {
                    "Person 1": "Yeah, that was rough. But I have faith in the coach. He knows what he’s doing."
                },
                {
                    "Person 2": "For sure! I’m excited to see how they do in the next few games."
                },
                {
                    "Person 1": "Same here! Let’s catch the next game together?"
                },
                {
                    "Person 2": "Absolutely! I’ll bring the snacks!"
                },
                {
                    "Person 1": "Deal! Can’t wait!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a finish! I can't believe they pulled it off in the last minute."
                },
                {
                    "Person 1": "I know, right? I was on the edge of my seat! That last touchdown was insane."
                },
                {
                    "Person 2": "Totally! And did you see that catch? I thought it was going to be intercepted for sure."
                },
                {
                    "Person 1": "Same here! I was ready to throw my remote at the TV. But then he just snagged it out of nowhere."
                },
                {
                    "Person 2": "Exactly! It’s moments like that which make sports so exciting. What do you think about the next game?"
                },
                {
                    "Person 1": "I think we have a good shot, especially if our defense steps up. They need to tighten things up."
                },
                {
                    "Person 2": "Agreed. If they can hold the other team back, we’ll be in great shape."
                },
                {
                    "Person 1": "And let’s not forget about our offense. They’ve been on fire lately!"
                },
                {
                    "Person 2": "For sure! I’m really looking forward to seeing how they perform. We should watch it together!"
                },
                {
                    "Person 1": "Absolutely! Let’s plan for it. Snacks and drinks?"
                },
                {
                    "Person 2": "You know it! I’ll bring the chips and dip."
                },
                {
                    "Person 1": "Perfect! I’ll grab some drinks. It’s going to be a blast!"
                },
                {
                    "Person 2": "Can’t wait! It’ll be fun to cheer them on together."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch the game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a nail-biter! I thought they were going to lose for sure."
                },
                {
                    "Person 1": "Right? That last-minute touchdown had me on the edge of my seat!"
                },
                {
                    "Person 2": "Same here! I was jumping around my living room. Did you see that catch?"
                },
                {
                    "Person 1": "I know! It was insane! I still can't believe he managed to hold onto the ball."
                },
                {
                    "Person 2": "Totally! And the crowd went wild. I love moments like that."
                },
                {
                    "Person 1": "Me too! It really makes you appreciate the sport. So, what are your plans for the weekend?"
                },
                {
                    "Person 2": "I might go hiking if the weather's nice. How about you?"
                },
                {
                    "Person 1": "That sounds fun! I’m thinking about catching a movie with some friends."
                },
                {
                    "Person 2": "Nice! What movie are you planning to see?"
                },
                {
                    "Person 1": "I want to see that new action flick. I heard it’s really good!"
                },
                {
                    "Person 2": "Awesome! Let me know how it is. I might check it out next week."
                },
                {
                    "Person 1": "Will do! And if you go hiking, take some cool pictures!"
                },
                {
                    "Person 2": "For sure! I’ll send you some. Have fun at the movies!"
                },
                {
                    "Person 1": "Thanks! You too! Enjoy the hike!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
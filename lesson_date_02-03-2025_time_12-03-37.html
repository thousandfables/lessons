<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "Do you hear me good?",
                    "corrected": "Do you hear me well?",
                    "explanation": "\"Good\" is an adjective and should be replaced with the adverb \"well\" to modify the verb \"hear.\"",
                    "context": "During our conversation, I wanted to confirm if my voice was clear. Do you hear me well? I'm glad we can communicate."
                },
                {
                    "original": "I study English here and I go to English school to improve my English and I want to pass IELTS, but in school I study only general English.",
                    "corrected": "I study English here and I go to an English school to improve my English, and I want to pass IELTS, but in school I study only general English.",
                    "explanation": "The article \"an\" is needed before \"English school\" for grammatical correctness.",
                    "context": "I am currently in London to enhance my language skills. I study English here and I go to an English school to improve my English, and I want to pass IELTS."
                },
                {
                    "original": "It looks like is it a dormitory or just a some rented apartment?",
                    "corrected": "It looks like, is it a dormitory or just a rented apartment?",
                    "explanation": "The phrase \"a some\" is incorrect; it should simply be \"a\" or \"some\" but not both together.",
                    "context": "We were discussing my living situation in London. It looks like, is it a dormitory or just a rented apartment?"
                },
                {
                    "original": "I hope next week.",
                    "corrected": "I hope to do it next week.",
                    "explanation": "The phrase is incomplete; it needs a verb to clarify the intention.",
                    "context": "I am eager to find a place to live. I hope to do it next week."
                },
                {
                    "original": "I don't know which one is better.",
                    "corrected": "I don't know which one is best.",
                    "explanation": "The superlative form \"best\" is more appropriate when comparing two options.",
                    "context": "While discussing the types of IELTS tests, I expressed my uncertainty. I don't know which one is best."
                },
                {
                    "original": "Very often students are able to prepare for themselves to these sections.",
                    "corrected": "Very often students are able to prepare for these sections by themselves.",
                    "explanation": "The phrase \"prepare for themselves to\" is incorrect; it should be \"prepare for these sections by themselves.\"",
                    "context": "I was explaining how students typically study for the IELTS. Very often students are able to prepare for these sections by themselves."
                },
                {
                    "original": "Because you will see a lot of people giving advice on how you should do that, and most of them are very faulty.",
                    "corrected": "Because you will see a lot of people giving advice on how you should do that, and most of it is very faulty.",
                    "explanation": "The pronoun \"them\" should be replaced with \"it\" to refer to the advice collectively.",
                    "context": "I was cautioning about unreliable advice for the writing section. Because you will see a lot of people giving advice on how you should do that, and most of it is very faulty."
                },
                {
                    "original": "How would you explain to me?",
                    "corrected": "How would you explain that to me?",
                    "explanation": "The phrase is missing a direct object; it should specify what is being explained.",
                    "context": "I wanted to clarify a concept. How would you explain that to me?"
                },
                {
                    "original": "For example, but I'm not sure.",
                    "corrected": "For example, but I’m not sure about that.",
                    "explanation": "The phrase is incomplete; it needs a subject to clarify what the speaker is unsure about.",
                    "context": "While trying to give an example, I hesitated. For example, but I’m not sure about that."
                },
                {
                    "original": "It shouldn't be a hundred percent the same statement, but it should be similar.",
                    "corrected": "It shouldn't be a hundred percent the same statement, but it should be similar.",
                    "explanation": "The phrase is correct but could be made more concise.",
                    "context": "I was explaining the concept of paraphrasing. It shouldn't be a hundred percent the same statement, but it should be similar."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I think I know English better than him.",
                    "corrected": "I think I know English better than he does.",
                    "explanation": "The correct form is 'he does' instead of 'him' because 'he' is the subject of the verb.",
                    "context": "I had a lesson with a teacher recently. I think I know English better than he does. It was surprising because he sometimes didn't understand me."
                },
                {
                    "original": "I don't know how to write in other way.",
                    "corrected": "I don't know how to write in another way.",
                    "explanation": "'Other way' should be 'another way' to indicate an alternative method.",
                    "context": "When discussing writing techniques, I expressed my uncertainty. I don't know how to write in another way. I want to improve my skills."
                },
                {
                    "original": "If you are not sure, just don't paraphrase at all.",
                    "corrected": "If you are not sure, just don't paraphrase it at all.",
                    "explanation": "The phrase 'paraphrase at all' requires 'it' to clarify what should not be paraphrased.",
                    "context": "I was explaining how to approach paraphrasing. If you are not sure, just don't paraphrase it at all. It's better to leave it as is."
                },
                {
                    "original": "Your main goal is to express the general idea of the sentence.",
                    "corrected": "Your main goal is to express the general idea of the sentences.",
                    "explanation": "The word 'sentence' should be pluralized to 'sentences' to match the context of discussing multiple sentences.",
                    "context": "While guiding a student, I emphasized the importance of understanding. Your main goal is to express the general idea of the sentences. This helps in effective communication."
                },
                {
                    "original": "For example, then you will discuss with your friend why they think that if you get an education in some country, you have to stay there and work there.",
                    "corrected": "For example, then you will discuss with your friend why they think that if you get an education in some country, you have to stay there and work in that country.",
                    "explanation": "The phrase 'work there' should specify 'in that country' for clarity.",
                    "context": "I was explaining how to structure an argument. For example, then you will discuss with your friend why they think that if you get an education in some country, you have to stay there and work in that country."
                },
                {
                    "original": "I always forgot grammar with when we use if.",
                    "corrected": "I always forget the grammar when we use 'if.'",
                    "explanation": "The verb 'forgot' should be 'forget' to match the present tense, and 'the grammar' is needed for clarity.",
                    "context": "While discussing grammar issues, I admitted my struggles. I always forget the grammar when we use 'if.' It's a common challenge for me."
                },
                {
                    "original": "Abzalyt is just outdated.",
                    "corrected": "Obsolete is just outdated.",
                    "explanation": "The word 'Abzalyt' seems to be a mispronunciation or misspelling of 'obsolete.'",
                    "context": "In our discussion about language, I mentioned a term. Obsolete is just outdated. It refers to things that are no longer in use."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I think she's not British. She just...",
                    "corrected": "I think she's not British; she just...",
                    "explanation": "A semicolon is needed to connect two independent clauses instead of a period.",
                    "context": "I think she's not British; she just speaks English very well. We have many teachers in our school from different countries."
                },
                {
                    "original": "They know English very good.",
                    "corrected": "They know English very well.",
                    "explanation": "\"Good\" is an adjective, while \"well\" is the adverb needed to describe how they know English.",
                    "context": "I think she's not British; she just speaks English very well. The teachers from different countries know English very well."
                },
                {
                    "original": "Because people from other countries they know structure.",
                    "corrected": "Because people from other countries know the structure.",
                    "explanation": "The phrase is awkward; 'the structure' is more appropriate for clarity.",
                    "context": "I think she's not British; she just speaks English very well. The teachers from different countries know the structure of the language."
                },
                {
                    "original": "Vocabulary. Yeah, it's hard to pronounce it.",
                    "corrected": "Vocabulary; yeah, it's hard to pronounce.",
                    "explanation": "A semicolon is needed to connect the two related thoughts more effectively.",
                    "context": "We study vocabulary; yeah, it's hard to pronounce. We have a lot of vocabulary to learn."
                },
                {
                    "original": "I have in my group.",
                    "corrected": "I have five classmates in my group.",
                    "explanation": "The original sentence is incomplete and lacks clarity.",
                    "context": "We work in groups. I have five classmates in my group. It makes the learning process more interactive."
                },
                {
                    "original": "If I was motivated.",
                    "corrected": "If I were motivated.",
                    "explanation": "The subjunctive mood 'were' is used for hypothetical situations.",
                    "context": "Before I had a teacher, I watched movies, but it depended on my motivation. If I were motivated, I watched a lot of movies."
                },
                {
                    "original": "I see. It's about, I think, confidence.",
                    "corrected": "I see; it's about confidence, I think.",
                    "explanation": "A semicolon is needed to connect the two related thoughts more effectively.",
                    "context": "Did you feel improvement? I see; it's about confidence, I think. Now I feel more confident when speaking."
                },
                {
                    "original": "You can say lexical.",
                    "corrected": "You can say 'lexical resource.'",
                    "explanation": "The phrase needs quotation marks to indicate that it's a specific term.",
                    "context": "I don't know enough words. You can say 'lexical resource.' I need to improve my vocabulary."
                },
                {
                    "original": "Usually I use common words which I know.",
                    "corrected": "Usually, I use the common words that I know.",
                    "explanation": "A comma is needed after 'usually,' and 'the' adds specificity.",
                    "context": "When I go out and speak with people, usually, I use the common words that I know. I need to expand my vocabulary."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "I don't know. Yeah, a lot of words actually. But I don't use.",
                    "corrected": "I don't know. Yeah, a lot of words actually. But I don't use them.",
                    "explanation": "The sentence is missing the object 'them' after 'use,' which is necessary for clarity.",
                    "context": "I often feel limited in my vocabulary. I don't know. Yeah, a lot of words actually. But I don't use them."
                },
                {
                    "original": "Instead of redundant, which I used before, we can say it's just... Just more than you need.",
                    "corrected": "Instead of 'redundant,' which I used before, we can say it's just... just more than necessary.",
                    "explanation": "'You need' is informal; 'necessary' is more appropriate in this context.",
                    "context": "When discussing simpler language, I often think of alternatives. Instead of 'redundant,' which I used before, we can say it's just... just more than necessary."
                },
                {
                    "original": "When it comes to IELTS, yeah, first rule.",
                    "corrected": "When it comes to IELTS, yeah, the first rule.",
                    "explanation": "The definite article 'the' is needed before 'first rule' to specify which rule is being referred to.",
                    "context": "I want to share some tips for IELTS preparation. When it comes to IELTS, yeah, the first rule is to keep it simple."
                },
                {
                    "original": "That results in mistakes or improper usage.",
                    "corrected": "That results in mistakes or improper usages.",
                    "explanation": "'Improper usage' should be pluralized to 'improper usages' to match the context of multiple instances.",
                    "context": "Using advanced vocabulary can lead to confusion. That results in mistakes or improper usages."
                },
                {
                    "original": "But afternoon?",
                    "corrected": "But in the afternoon?",
                    "explanation": "The preposition 'in' is needed to correctly phrase the question about the afternoon.",
                    "context": "I was clarifying my schedule. But in the afternoon?"
                },
                {
                    "original": "Actually I can wake up at seven.",
                    "corrected": "Actually, I can wake up at seven.",
                    "explanation": "A comma is needed after 'Actually' to separate the introductory word from the main clause.",
                    "context": "I was discussing my availability for lessons. Actually, I can wake up at seven."
                },
                {
                    "original": "Can you wake up and study comfortably in the morning?",
                    "corrected": "Can you wake up and study comfortably in the mornings?",
                    "explanation": "The plural 'mornings' is more appropriate when referring to the general time frame.",
                    "context": "I was asked about my morning routine. Can you wake up and study comfortably in the mornings?"
                },
                {
                    "original": "Till now it's okay.",
                    "corrected": "Until now, it's been okay.",
                    "explanation": "'Till' is informal; 'until' is more appropriate, and 'it's been' clarifies the tense.",
                    "context": "I was confirming my current situation. Until now, it's been okay."
                },
                {
                    "original": "I'll reach you out later today.",
                    "corrected": "I'll reach out to you later today.",
                    "explanation": "'Reach you out' is incorrect; the correct phrase is 'reach out to you.'",
                    "context": "I was letting the teacher know about my plans. I'll reach out to you later today."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "IELTS",
                    "definition": "International English Language Testing System, a standardized test for non-native English speakers.",
                    "context": {
                        "Context 1": "I want to pass the IELTS to study in the UK.",
                        "Context 2": "Many students take the IELTS to improve their chances of getting a scholarship.",
                        "Context 3": "The IELTS exam is known for its rigorous speaking section."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something using different words.",
                    "context": {
                        "Context 1": "When writing an essay, it's important to paraphrase the question.",
                        "Context 2": "He tried to paraphrase the poem but ended up changing its meaning.",
                        "Context 3": "In a debate, it's useful to paraphrase your opponent's arguments to clarify your response."
                    }
                },
                {
                    "word": "Dormitory",
                    "definition": "A building providing sleeping and residential quarters for a number of people, often students.",
                    "context": {
                        "Context 1": "I’m going to rent an apartment instead of staying in a dormitory.",
                        "Context 2": "The dormitory was filled with students preparing for finals.",
                        "Context 3": "He decided to live in a dormitory to make new friends during his first year at university."
                    }
                },
                {
                    "word": "Credit Card",
                    "definition": "A plastic card issued by a bank or financial services company, allowing the holder to borrow funds.",
                    "context": {
                        "Context 1": "I had some problems with my credit card because I'm from Russia.",
                        "Context 2": "She used her credit card to book a flight for her vacation.",
                        "Context 3": "He forgot to pay his credit card bill and faced late fees."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement or framework of something.",
                    "context": {
                        "Context 1": "Understanding the structure of the IELTS test is crucial for success.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "In writing, a clear structure helps convey ideas more effectively."
                    }
                },
                {
                    "word": "Academic",
                    "definition": "Relating to education, especially at college or university level.",
                    "context": {
                        "Context 1": "I need to take the academic IELTS test for university admission.",
                        "Context 2": "Her academic achievements earned her a scholarship.",
                        "Context 3": "The academic conference attracted researchers from around the world."
                    }
                },
                {
                    "word": "Expensive",
                    "definition": "Costing a lot of money; high-priced.",
                    "context": {
                        "Context 1": "Living in a hotel is very expensive for me right now.",
                        "Context 2": "The concert tickets were so expensive that I couldn't afford them.",
                        "Context 3": "He found out that organic food is often more expensive than regular food."
                    }
                },
                {
                    "word": "Journey",
                    "definition": "An act of traveling from one place to another.",
                    "context": {
                        "Context 1": "Is it just a trip, a short journey to London?",
                        "Context 2": "Her journey across the country took several weeks.",
                        "Context 3": "The journey to self-discovery can be challenging but rewarding."
                    }
                },
                {
                    "word": "Practice",
                    "definition": "The repeated exercise of an activity or skill to acquire or maintain proficiency.",
                    "context": {
                        "Context 1": "You have plenty of speaking practice, I believe.",
                        "Context 2": "He needs more practice to improve his guitar skills.",
                        "Context 3": "The doctor advised her to practice mindfulness for better mental health."
                    }
                },
                {
                    "word": "Prepare",
                    "definition": "To make ready for a specific purpose or event.",
                    "context": {
                        "Context 1": "I want to prepare for the IELTS test.",
                        "Context 2": "She spent the whole day preparing for her job interview.",
                        "Context 3": "They need to prepare the house for the party this weekend."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "IELTS",
                    "fact": "The IELTS test is so popular that more than 3 million people take it every year, making it a global phenomenon!"
                },
                {
                    "word": "Paraphrase",
                    "fact": "Paraphrasing can be so tricky that even professional writers sometimes end up with a completely different meaning!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to the IELTS test?",
                    "answer": "Because they heard the test was all about climbing to new heights!"
                },
                {
                    "question": "Why did the English teacher go to jail?",
                    "answer": "Because she had too many run-on sentences!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Enunciate",
                    "definition": "To pronounce words clearly and distinctly.",
                    "context": {
                        "Context 1": "As a teacher, I need to enunciate every word for my students to understand me.",
                        "Context 2": "The actor had to enunciate his lines perfectly for the audience to grasp the story.",
                        "Context 3": "During the speech, the politician chose to enunciate his promises to ensure clarity."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something written or spoken using different words.",
                    "context": {
                        "Context 1": "If you know how to paraphrase something and you are sure that it is correct, then go for it.",
                        "Context 2": "The student was asked to paraphrase the poem in her own words for better understanding.",
                        "Context 3": "He decided to paraphrase the article to make it easier for his younger siblings to read."
                    }
                },
                {
                    "word": "Enthusiastic",
                    "definition": "Having or showing intense and eager enjoyment, interest, or approval.",
                    "context": {
                        "Context 1": "The main factor is whether the person is enthusiastic about language learning in general.",
                        "Context 2": "She was enthusiastic about the new project and couldn't wait to start working on it.",
                        "Context 3": "His enthusiastic response to the concert made everyone around him smile."
                    }
                },
                {
                    "word": "Effective",
                    "definition": "Successful in producing a desired or intended result.",
                    "context": {
                        "Context 1": "The traditional methods that are used at school are not effective at all.",
                        "Context 2": "The new marketing strategy proved to be effective in increasing sales.",
                        "Context 3": "An effective workout routine can lead to significant health improvements."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event, statement, or idea.",
                    "context": {
                        "Context 1": "We need to try to guess them from the context.",
                        "Context 2": "Understanding the historical context of the novel helps readers appreciate its themes.",
                        "Context 3": "In a conversation, context can change the meaning of a statement entirely."
                    }
                },
                {
                    "word": "Opinion",
                    "definition": "A view or judgment formed about something, not necessarily based on fact or knowledge.",
                    "context": {
                        "Context 1": "There is some opinion that education should be free for everyone.",
                        "Context 2": "Her opinion on the movie was different from everyone else's in the group.",
                        "Context 3": "He expressed his opinion on the matter during the debate."
                    }
                },
                {
                    "word": "Simplify",
                    "definition": "To make something easier to understand or do.",
                    "context": {
                        "Context 1": "Let's just simplify it to make it easier to grasp.",
                        "Context 2": "The teacher tried to simplify the complex math problem for her students.",
                        "Context 3": "He decided to simplify his life by decluttering his home."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement of and relations between the parts or elements of something complex.",
                    "context": {
                        "Context 1": "You may restructure the sentence, for example, use the structures that you are comfortable with.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "Understanding the structure of a story can help in writing better narratives."
                    }
                },
                {
                    "word": "Myth",
                    "definition": "A widely held but false belief or idea.",
                    "context": {
                        "Context 1": "There are a lot of myths surrounding language learning.",
                        "Context 2": "The myth of the Loch Ness Monster has intrigued people for decades.",
                        "Context 3": "In ancient times, myths were used to explain natural phenomena."
                    }
                },
                {
                    "word": "Obsolete",
                    "definition": "No longer produced or used; out of date.",
                    "context": {
                        "Context 1": "Traditional universities will become less popular and may become obsolete because of online learning.",
                        "Context 2": "With the rise of digital media, CDs have become largely obsolete.",
                        "Context 3": "Many consider typewriters to be obsolete in the age of computers."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Enunciate",
                    "fact": "Did you know that some people practice enunciating by reading tongue twisters? They can be quite hilarious!"
                },
                {
                    "word": "Paraphrase",
                    "fact": "The word 'paraphrase' comes from the Greek word 'paraphrasis,' which means 'to tell in other words.'"
                },
                {
                    "word": "Obsolete",
                    "fact": "The first mobile phone was so large it was nicknamed 'the brick' and is now considered completely obsolete!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the teacher go to the beach?",
                    "answer": "Because she wanted to test the waters!"
                },
                {
                    "question": "Why did the student eat his homework?",
                    "answer": "Because the teacher said it was a piece of cake!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Outdated",
                    "definition": "No longer in use or fashion; obsolete.",
                    "context": {
                        "Context 1": "The technology in that old phone is outdated compared to modern smartphones.",
                        "Context 2": "His fashion sense is outdated; he still wears clothes from the 90s.",
                        "Context 3": "The outdated information in the report misled the entire team."
                    }
                },
                {
                    "word": "Popularization",
                    "definition": "The act of making something popular or widely accepted.",
                    "context": {
                        "Context 1": "The popularization of online learning has changed how we view education.",
                        "Context 2": "The popularization of veganism has led to more plant-based options in restaurants.",
                        "Context 3": "The popularization of social media has transformed communication among friends."
                    }
                },
                {
                    "word": "Redundant",
                    "definition": "Not or no longer needed or useful; superfluous.",
                    "context": {
                        "Context 1": "The report contained redundant information that could have been summarized.",
                        "Context 2": "His explanation was redundant since everyone already understood the topic.",
                        "Context 3": "The redundant features in the software made it confusing to use."
                    }
                },
                {
                    "word": "Distort",
                    "definition": "To twist out of shape; to misrepresent or alter the meaning.",
                    "context": {
                        "Context 1": "The media can sometimes distort the facts to create a more sensational story.",
                        "Context 2": "His voice distorted over the phone due to poor reception.",
                        "Context 3": "The artist chose to distort reality in her paintings to convey deeper emotions."
                    }
                },
                {
                    "word": "Formal",
                    "definition": "Following established conventions or rules; official.",
                    "context": {
                        "Context 1": "In formal writing, contractions should be avoided.",
                        "Context 2": "The formal dress code requires men to wear suits and ties.",
                        "Context 3": "She gave a formal presentation to the board of directors."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement or framework of something.",
                    "context": {
                        "Context 1": "The structure of the essay needs to be clear and logical.",
                        "Context 2": "The building's structure was designed to withstand earthquakes.",
                        "Context 3": "The structure of the play included three acts and a prologue."
                    }
                },
                {
                    "word": "Motivation",
                    "definition": "The reason or reasons one has for acting or behaving in a particular way.",
                    "context": {
                        "Context 1": "Her motivation to learn English comes from her desire to travel.",
                        "Context 2": "The coach's speech aimed to boost the team's motivation before the game.",
                        "Context 3": "He lost his motivation to exercise after a long winter."
                    }
                },
                {
                    "word": "Confidence",
                    "definition": "The feeling or belief that one can rely on someone or something; firm trust.",
                    "context": {
                        "Context 1": "Her confidence in speaking English improved after taking the course.",
                        "Context 2": "He lacked confidence when presenting his ideas to the group.",
                        "Context 3": "Building confidence in children is crucial for their development."
                    }
                },
                {
                    "word": "Resource",
                    "definition": "A source of supply or support; a means of assistance.",
                    "context": {
                        "Context 1": "The library is a valuable resource for students conducting research.",
                        "Context 2": "Water is a scarce resource in many parts of the world.",
                        "Context 3": "The company invested in human resources to improve employee satisfaction."
                    }
                },
                {
                    "word": "Immersion",
                    "definition": "The state of being deeply engaged or involved in something.",
                    "context": {
                        "Context 1": "Language immersion programs can greatly enhance learning.",
                        "Context 2": "The immersion in the art world inspired her to create her own pieces.",
                        "Context 3": "He experienced immersion in the culture during his travels abroad."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Outdated",
                    "fact": "Did you know that the first mobile phone was so outdated that it weighed almost 2.5 pounds? That's heavier than a small cat!"
                },
                {
                    "word": "Redundant",
                    "fact": "In the English language, the phrase 'free gift' is considered redundant because gifts are, by definition, free!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the English book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Vocabulary",
                    "definition": "The body of words used in a particular language.",
                    "context": {
                        "Context 1": "I need to expand my vocabulary to express my thoughts more clearly.",
                        "Context 2": "The chef had a rich vocabulary when describing his dishes.",
                        "Context 3": "Children learn vocabulary through reading and conversation."
                    }
                },
                {
                    "word": "Redundant",
                    "definition": "Not or no longer needed or useful; superfluous.",
                    "context": {
                        "Context 1": "The report was filled with redundant information that could have been summarized.",
                        "Context 2": "In a crowded room, his redundant comments only added to the noise.",
                        "Context 3": "The redundant machinery in the factory was removed to increase efficiency."
                    }
                },
                {
                    "word": "Complex",
                    "definition": "Consisting of many different and connected parts; complicated.",
                    "context": {
                        "Context 1": "The complex nature of the problem requires careful analysis.",
                        "Context 2": "Her complex recipe included ingredients from various cuisines.",
                        "Context 3": "The complex structure of the building was designed by a famous architect."
                    }
                },
                {
                    "word": "Properly",
                    "definition": "In a proper manner; correctly.",
                    "context": {
                        "Context 1": "It's important to use words properly to avoid misunderstandings.",
                        "Context 2": "He didn't tie his shoes properly and tripped over them.",
                        "Context 3": "The car needs to be maintained properly to ensure safety."
                    }
                },
                {
                    "word": "Awkward",
                    "definition": "Causing or feeling embarrassment or inconvenience.",
                    "context": {
                        "Context 1": "His awkward use of phrases made the conversation uncomfortable.",
                        "Context 2": "The awkward silence in the room was palpable after the joke fell flat.",
                        "Context 3": "She felt awkward dancing in front of her friends at the party."
                    }
                },
                {
                    "word": "Minimal",
                    "definition": "Of a minimum amount, quantity, or degree; negligible.",
                    "context": {
                        "Context 1": "The minimal recommended number of lessons is two per week.",
                        "Context 2": "He made minimal changes to the design, keeping it simple.",
                        "Context 3": "The minimal effort he put into the project showed in the results."
                    }
                },
                {
                    "word": "Schedule",
                    "definition": "A plan for carrying out a process or procedure, giving lists of intended events and times.",
                    "context": {
                        "Context 1": "I will check the schedule and send it later.",
                        "Context 2": "Her busy schedule left little time for relaxation.",
                        "Context 3": "The train schedule was delayed due to bad weather."
                    }
                },
                {
                    "word": "Comfortably",
                    "definition": "In a way that provides physical comfort; without stress or anxiety.",
                    "context": {
                        "Context 1": "I can wake up and study comfortably in the morning.",
                        "Context 2": "She settled into the chair comfortably with a book.",
                        "Context 3": "The hotel room was spacious enough for us to sleep comfortably."
                    }
                },
                {
                    "word": "Discuss",
                    "definition": "To talk about something with another person or a group.",
                    "context": {
                        "Context 1": "We can discuss some other things after the lesson.",
                        "Context 2": "They decided to discuss their travel plans over dinner.",
                        "Context 3": "The team will discuss the project updates in the meeting."
                    }
                },
                {
                    "word": "Improve",
                    "definition": "To make or become better.",
                    "context": {
                        "Context 1": "I want to improve my English skills for better communication.",
                        "Context 2": "He worked hard to improve his performance in sports.",
                        "Context 3": "The company aims to improve customer service."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Redundant",
                    "fact": "The word 'redundant' itself is often considered redundant in some contexts!"
                },
                {
                    "word": "Awkward",
                    "fact": "The longest word in the English language without a vowel is 'rhythms,' which can feel quite awkward to pronounce!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What do you call a teacher who never farts in public?",
                    "answer": "A private tutor!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just woke up a little while ago. How about you?"
                },
                {
                    "Person 1": "I’m doing well! Just finished my morning coffee. What time is it over there?"
                },
                {
                    "Person 2": "It's 7 a.m. here. I’m still getting used to the time difference."
                },
                {
                    "Person 1": "Ah, I see! Are you in London right now?"
                },
                {
                    "Person 2": "Yeah, I moved here a couple of months ago to study English."
                },
                {
                    "Person 1": "That’s awesome! How’s that going for you?"
                },
                {
                    "Person 2": "It’s going well! I’m taking some courses, but I want to prepare for the IELTS test too."
                },
                {
                    "Person 1": "Nice! I’ve heard that test can be pretty challenging."
                },
                {
                    "Person 2": "Yeah, I’ve never done it before, so I’m a bit nervous."
                },
                {
                    "Person 1": "I can imagine! What part do you think will be the hardest?"
                },
                {
                    "Person 2": "Probably the writing section. I struggle with that sometimes."
                },
                {
                    "Person 1": "I get that. It can be tough to organize your thoughts on paper."
                },
                {
                    "Person 2": "Exactly! I’ve been practicing, but it’s still a work in progress."
                },
                {
                    "Person 1": "That’s great that you’re practicing! Do you have a plan for how to study?"
                },
                {
                    "Person 2": "I’m trying to focus on reading and writing more. I think that will help."
                },
                {
                    "Person 1": "Definitely! And don’t forget to relax a bit too. It’s important to take breaks."
                },
                {
                    "Person 2": "For sure! I’ve been trying to balance studying with some fun activities."
                },
                {
                    "Person 1": "That’s the way to do it! So, what’s on your agenda for today?"
                },
                {
                    "Person 2": "I have a class later, and then I might explore the city a bit."
                },
                {
                    "Person 1": "Sounds like a good plan! Enjoy your day!"
                },
                {
                    "Person 2": "Thanks! You too! Let’s catch up later."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, did you get that link I sent you?"
                },
                {
                    "Person 2": "Yeah, I saw it! But I couldn't open it on my laptop."
                },
                {
                    "Person 1": "Oh no! What happened?"
                },
                {
                    "Person 2": "It kept asking for a backup email. I think it’s a MacBook thing."
                },
                {
                    "Person 1": "That’s frustrating! Want me to send it through Skype instead?"
                },
                {
                    "Person 2": "Sure, that might work better. I just need to be able to type and work on it."
                },
                {
                    "Person 1": "Got it! By the way, your English sounds really good. Have you lived abroad?"
                },
                {
                    "Person 2": "Thanks! No, I haven’t. Just trying to practice as much as I can."
                },
                {
                    "Person 1": "It shows! I remember when I tried learning a new language, it was tough."
                },
                {
                    "Person 2": "Yeah, I think it’s all about finding the right method. Some teachers just stick to old ways."
                },
                {
                    "Person 1": "Exactly! I had a teacher once who spoke so fast, I couldn't keep up."
                },
                {
                    "Person 2": "Right? It’s like they forget we’re still learning!"
                },
                {
                    "Person 1": "Totally! So, what do you think is the best way to learn?"
                },
                {
                    "Person 2": "I think just talking with people helps a lot. It makes it feel real."
                },
                {
                    "Person 1": "Agreed! Plus, you get to learn slang and everyday phrases."
                },
                {
                    "Person 2": "Yes! I love picking up new expressions. Makes conversations more fun."
                },
                {
                    "Person 1": "For sure! Alright, let me send that link now."
                },
                {
                    "Person 2": "Awesome, thanks! Let’s see if this works."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not much, just enjoying the weekend. How about you?"
                },
                {
                    "Person 1": "Same here! I finally got around to watching that new series everyone’s talking about."
                },
                {
                    "Person 2": "Oh, nice! Which one? The one with the time travel?"
                },
                {
                    "Person 1": "Yeah, that one! It’s pretty wild. I can’t believe how they twist the story."
                },
                {
                    "Person 2": "I heard it has a lot of plot twists. Did you finish it already?"
                },
                {
                    "Person 1": "Not yet! I’m only on episode four. I’m trying to pace myself."
                },
                {
                    "Person 2": "Good luck with that! I always end up binge-watching."
                },
                {
                    "Person 1": "Right? It’s so hard to stop once you start. What else have you been up to?"
                },
                {
                    "Person 2": "I’ve been trying to pick up some new hobbies. I started painting!"
                },
                {
                    "Person 1": "That’s awesome! How’s it going so far?"
                },
                {
                    "Person 2": "It’s a bit messy, but I’m having fun. I just paint whatever comes to mind."
                },
                {
                    "Person 1": "That sounds like a great way to express yourself. I’d love to see your work!"
                },
                {
                    "Person 2": "Definitely! I’ll show you next time we hang out."
                },
                {
                    "Person 1": "Looking forward to it! Let’s plan something soon."
                },
                {
                    "Person 2": "For sure! How about next weekend?"
                },
                {
                    "Person 1": "Sounds good to me! Let’s do it."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you been working on your English lately?"
                },
                {
                    "Person 2": "Yeah, a bit! But I feel like I keep using the same words over and over."
                },
                {
                    "Person 1": "I totally get that. It’s like, you know a lot of words, but you stick to the ones you’re comfortable with."
                },
                {
                    "Person 2": "Exactly! I wish I could use more advanced vocabulary, but I just freeze up."
                },
                {
                    "Person 1": "What kind of words do you wish you could use?"
                },
                {
                    "Person 2": "Hmm, maybe words like 'intricate' or 'meticulous.' They sound cool, but I never know when to use them."
                },
                {
                    "Person 1": "Those are great words! But honestly, sometimes simpler is better."
                },
                {
                    "Person 2": "Right? Like instead of saying 'intricate,' I could just say 'complicated.'"
                },
                {
                    "Person 1": "Exactly! And it makes it easier for the listener too."
                },
                {
                    "Person 2": "Yeah, I think I tend to overthink it. I want to sound smart, but then I mess it up."
                },
                {
                    "Person 1": "I’ve been there! It’s better to keep it simple and clear."
                },
                {
                    "Person 2": "For sure! So, how’s your study schedule going?"
                },
                {
                    "Person 1": "Not too busy. I usually study in the mornings. How about you?"
                },
                {
                    "Person 2": "I can only study in the afternoons, but I wish I could do mornings too."
                },
                {
                    "Person 1": "Maybe we can find a time to study together? Twice a week or something?"
                },
                {
                    "Person 2": "That sounds good! I can do mornings on weekends."
                },
                {
                    "Person 1": "Perfect! Let’s set it up. I’ll check my schedule and let you know."
                },
                {
                    "Person 2": "Awesome! Looking forward to it. Thanks for the chat!"
                },
                {
                    "Person 1": "Anytime! Have a great day!"
                },
                {
                    "Person 2": "You too! Bye!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
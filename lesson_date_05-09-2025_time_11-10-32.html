<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "Like you can travel there and just leave there.",
                    "corrected": "Like you can travel there and just live there.",
                    "explanation": "'Leave' means to go away from a place, while 'live' means to reside in a place.",
                    "context": "I've been researching countries like Thailand, Vietnam, and Indonesia. It turns out that actually a lot of things are cheaper there. Like you can travel there and just live there."
                },
                {
                    "original": "the groceries is much cheaper.",
                    "corrected": "the groceries are much cheaper.",
                    "explanation": "'Groceries' is a plural noun, so it should be paired with 'are' instead of 'is.'",
                    "context": "It turns out that actually a lot of things are cheaper there. The rent is much cheaper, the groceries are much cheaper. And I'm actually considering moving there."
                },
                {
                    "original": "If I would do something like that, I guess it's not really...",
                    "corrected": "If I were to do something like that, I guess it's not really...",
                    "explanation": "The subjunctive mood is used here; 'were' is the correct form for hypothetical situations.",
                    "context": "And, I mean, is it a good idea to move from Russia to Thailand and to stay there? How do you think? If I were to do something like that, I guess it's not really..."
                },
                {
                    "original": "I was considering of like applying, of taking out a mortgage in a bank and buying an apartment.",
                    "corrected": "I was considering applying for a mortgage in a bank and buying an apartment.",
                    "explanation": "'Considering of' is incorrect; it should be 'considering' followed by the gerund or 'considering applying for.'",
                    "context": "I was thinking, I was considering applying for a mortgage in a bank and buying an apartment. Yeah. But now, after I moved to Kyrgyzstan, I realized that Moscow isn't really special."
                },
                {
                    "original": "it's rhythm is probably a bit different as well.",
                    "corrected": "its rhythm is probably a bit different as well.",
                    "explanation": "'It's' is a contraction for 'it is,' while 'its' is the possessive form.",
                    "context": "It's true that it's cheaper and I think that life there feels a lot different. Its rhythm is probably a bit different as well."
                },
                {
                    "original": "Why Moscow is better?",
                    "corrected": "Why is Moscow better?",
                    "explanation": "The correct word order for questions in English is 'Why is [subject] [predicate]?'",
                    "context": "It's true that it's cheaper and I think that life there feels a lot different. Why is Moscow better? Why wouldn't you move?"
                },
                {
                    "original": "You don't like?",
                    "corrected": "You don't like it?",
                    "explanation": "The sentence is missing the object 'it' for clarity.",
                    "context": "Yes, the temperatures are really hot for me. You don't like it? Yes, the temperatures are really hot for me."
                },
                {
                    "original": "there are a lot of houses.",
                    "corrected": "there are a lot of residential areas.",
                    "explanation": "The speaker is trying to convey that there are residential areas, not houses, in Moscow.",
                    "context": "There are some. Private houses. Oh. There are some, I think. I've seen even in my..."
                },
                {
                    "original": "for an 18 square meter studio, you'd have to pay 70,000.",
                    "corrected": "for an 18-square-meter studio, you'd have to pay 70,000.",
                    "explanation": "When describing measurements, hyphens are needed between the numbers and the unit.",
                    "context": "In these distant places, the apartment costs, last time I checked, for an 18-square-meter studio, you'd have to pay 70,000."
                },
                {
                    "original": "I pay for this apartment in Astana.",
                    "corrected": "I pay for my apartment in Astana.",
                    "explanation": "The possessive 'my' is needed to clarify ownership.",
                    "context": "Like I pay for my apartment in Astana. Astana, not Moscow, Galax-10, but it costs 70,000 rubles, seal."
                },
                {
                    "original": "it's worth looking into, like it's worth the research.",
                    "corrected": "it's worth looking into; it's worth the research.",
                    "explanation": "A semicolon is more appropriate here to connect two independent clauses.",
                    "context": "It really does sound appealing. Yeah, yeah. So why not? It's worth looking into; it's worth the research."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I do have only one written down in easy accessible to me.",
                    "corrected": "I only have one written down that is easily accessible to me.",
                    "explanation": "The phrase 'in easy accessible' is incorrect; it should be 'easily accessible.'",
                    "context": "I have only one reading section written down that is easily accessible to me. We need to identify your weaknesses to help improve."
                },
                {
                    "original": "But do mistakes occur in the same place?",
                    "corrected": "But do mistakes occur in the same places?",
                    "explanation": "'Place' should be plural ('places') because it refers to multiple instances of mistakes.",
                    "context": "I see every mistake I make, but do mistakes occur in the same places? I just don't pay enough attention."
                },
                {
                    "original": "What about feeling in words, finding the right words, the correct words?",
                    "corrected": "What about filling in words, finding the right words, the correct words?",
                    "explanation": "'Feeling in words' is incorrect; it should be 'filling in words' to refer to completing sentences.",
                    "context": "I usually do well with multiple choice questions. What about filling in words, finding the right words? I am usually right."
                },
                {
                    "original": "So the first harvest takes 25 years and then there's 10 years.",
                    "corrected": "So the first harvest takes 25 years, and then there's a 10-year wait.",
                    "explanation": "The phrase 'there's 10 years' is unclear; it should specify 'a 10-year wait' for clarity.",
                    "context": "The second passage mentions the timing of the harvest. So the first harvest takes 25 years, and then there's a 10-year wait before the next one."
                },
                {
                    "original": "So it is not mentioned here, but in the fourth part they are testing your knowledge of synonyms and antonyms.",
                    "corrected": "So it is not mentioned here, but in the fourth part, they test your knowledge of synonyms and antonyms.",
                    "explanation": "The phrase 'they are testing' should be simplified to 'they test' for conciseness.",
                    "context": "In the reading section, it’s important to understand the context. So it is not mentioned here, but in the fourth part, they test your knowledge of synonyms and antonyms."
                },
                {
                    "original": "Yes, it makes so much sense actually.",
                    "corrected": "Yes, it actually makes so much sense.",
                    "explanation": "The adverb 'actually' should come before the verb 'makes' for proper placement.",
                    "context": "After discussing the reading strategies, I realized the importance of understanding the questions. Yes, it actually makes so much sense."
                },
                {
                    "original": "The first one is not that easy.",
                    "corrected": "The first one is not very easy.",
                    "explanation": "'Not that easy' can be improved to 'not very easy' for clarity and fluency.",
                    "context": "While working on the reading tasks, I found some questions challenging. The first one is not very easy compared to the others."
                },
                {
                    "original": "I was looking for synonyms for the word effect.",
                    "corrected": "I was looking for synonyms for the word 'effect.'",
                    "explanation": "Quotation marks should be used around 'effect' to indicate it is a specific word being discussed.",
                    "context": "When analyzing the text, I focused on understanding the vocabulary. I was looking for synonyms for the word 'effect.'"
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "you have to double again.",
                    "corrected": "you have to double-check again.",
                    "explanation": "The phrase 'double again' is unclear; 'double-check' is the correct term for verifying something.",
                    "context": "In the process of answering questions, you sometimes need to verify your answers. You have to double-check again to ensure accuracy."
                },
                {
                    "original": "the only thing you have to ask yourself are there synonyms?",
                    "corrected": "the only thing you have to ask yourself is whether there are synonyms.",
                    "explanation": "The subject-verb agreement is incorrect; 'the only thing' is singular, so 'is' should be used instead of 'are'.",
                    "context": "When determining the meaning of a word, you should focus on its synonyms. The only thing you have to ask yourself is whether there are synonyms."
                },
                {
                    "original": "I can't say anything regarding the number of people who collect dolls.",
                    "corrected": "I can't say anything about the number of people who collect dolls.",
                    "explanation": "The phrase 'regarding the number' is less idiomatic; 'about' is more commonly used in this context.",
                    "context": "While discussing the text about dolls, I realized I couldn't provide any information. I can't say anything about the number of people who collect dolls."
                },
                {
                    "original": "I don't think it was mentioned before, though I'd say not given.",
                    "corrected": "I don't think it was mentioned before; therefore, I'd say it's not given.",
                    "explanation": "The phrase 'though I'd say not given' is awkward; 'therefore' clarifies the reasoning.",
                    "context": "As I analyze the passage, I reflect on the information provided. I don't think it was mentioned before; therefore, I'd say it's not given."
                },
                {
                    "original": "don't look for deep hidden meanings, for deep hidden ways.",
                    "corrected": "don't look for deep hidden meanings or deep hidden ways.",
                    "explanation": "The use of 'for' is incorrect; 'or' is the appropriate conjunction to connect the two ideas.",
                    "context": "When interpreting the text, it's important to focus on what's clear. Don't look for deep hidden meanings or deep hidden ways."
                },
                {
                    "original": "I'm unsure about the number 24.",
                    "corrected": "I'm unsure about question 24.",
                    "explanation": "The phrase 'the number 24' is vague; specifying 'question 24' clarifies what is being referred to.",
                    "context": "While reviewing the questions, I realized I had some doubts. I'm unsure about question 24."
                },
                {
                    "original": "but here they're pretty much mentioning all commonplace.",
                    "corrected": "but here they're pretty much mentioning all common principles.",
                    "explanation": "'Commonplace' is used incorrectly; 'common principles' is the correct term in this context.",
                    "context": "In discussing how collectors organize their items, I noticed a pattern. But here they're pretty much mentioning all common principles."
                },
                {
                    "original": "the like, how was it called? Second to last passage.",
                    "corrected": "the, like, what was it called? The second to last passage.",
                    "explanation": "The phrase 'how was it called' is awkward; 'what was it called' is more idiomatic.",
                    "context": "As I try to recall specific parts of the text, I hesitate. The, like, what was it called? The second to last passage."
                },
                {
                    "original": "may want others to think that they are also unusual.",
                    "corrected": "may want others to think that they are unusual as well.",
                    "explanation": "The phrase 'also unusual' is awkward; 'unusual as well' is a more natural construction.",
                    "context": "When discussing the motivations behind collecting, I consider the perception of collectors. They may want others to think that they are unusual as well."
                },
                {
                    "original": "this would have been a very weird sentence.",
                    "corrected": "this would have been a very strange sentence.",
                    "explanation": "'Weird' is informal; 'strange' is more appropriate in academic contexts.",
                    "context": "While analyzing the sentence structure, I reflect on its clarity. This would have been a very strange sentence."
                },
                {
                    "original": "there is a very, there is a keyword.",
                    "corrected": "there is a very important keyword.",
                    "explanation": "The repetition of 'there is a very' is unnecessary; simplifying it improves clarity.",
                    "context": "In understanding the text's meaning, I focus on key terms. There is a very important keyword."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "we are taking things a little bit more literal than we usually would in real life.",
                    "corrected": "we are taking things a little bit more literally than we usually would in real life.",
                    "explanation": "The adverb 'literal' should be in its adverbial form 'literally' to modify the verb 'taking.'",
                    "context": "In our discussion, we are analyzing the reading tasks. We are taking things a little bit more literally than we usually would in real life. This helps us focus on keywords and their meanings."
                },
                {
                    "original": "the for-profit course would be useful for people intending to set fire to buildings.",
                    "corrected": "the for-profit course would be useful for people intending to commit arson.",
                    "explanation": "'Set fire to buildings' is a vague expression; 'commit arson' is the correct term for the crime.",
                    "context": "We were discussing the implications of certain courses. The for-profit course would be useful for people intending to commit arson. This highlights the controversial nature of the course content."
                },
                {
                    "original": "I tried to find something about fire science courses being too academic or academic in general.",
                    "corrected": "I tried to find something about fire science courses being too academic or overly academic in general.",
                    "explanation": "The phrase 'too academic or academic in general' is redundant; 'overly academic' is a clearer choice.",
                    "context": "While reviewing the reading material, I tried to find something about fire science courses being too academic or overly academic in general. I felt the content shifted focus unexpectedly."
                },
                {
                    "original": "it was not given in the end.",
                    "corrected": "it was not mentioned in the end.",
                    "explanation": "'Not given' is less idiomatic; 'not mentioned' is more appropriate in this context.",
                    "context": "After discussing various questions, I concluded that it was not mentioned in the end. This often happens when the information is not clearly stated."
                },
                {
                    "original": "I guess in 24, maybe because they did not mention size at all, maybe that's why they thought that it's not given.",
                    "corrected": "I guess in 24, maybe because they did not mention size at all, that's why they thought it was not given.",
                    "explanation": "The phrase 'maybe that's why they thought that it's not given' is awkward; simplifying it improves clarity.",
                    "context": "Reflecting on question 24, I guess in 24, maybe because they did not mention size at all, that's why they thought it was not given. This confusion often arises in these tests."
                },
                {
                    "original": "Like highly welcome...",
                    "corrected": "Like, it's highly welcome...",
                    "explanation": "The phrase is incomplete; adding 'it's' clarifies the statement.",
                    "context": "While discussing academic programs, I expressed my thoughts. Like, it's highly welcome as part of the increasing professionalization of this field."
                },
                {
                    "original": "they mean what they say.",
                    "corrected": "they mean what they say.",
                    "explanation": "The phrase is correct but lacks emphasis; adding a pause or inflection could improve clarity.",
                    "context": "In our debate about the text, I pointed out that they mean what they say. It's crucial to understand the implications of their words."
                },
                {
                    "original": "I will show you a trick, a very good trick.",
                    "corrected": "I will show you a very good trick.",
                    "explanation": "The repetition of 'trick' is unnecessary and can be streamlined.",
                    "context": "As we navigated through the material, I said, I will show you a very good trick. This could help clarify our answers in the future."
                },
                {
                    "original": "If we're talking about chat GPT.",
                    "corrected": "If we're talking about ChatGPT.",
                    "explanation": "The name 'ChatGPT' should be capitalized as it is a proper noun.",
                    "context": "While discussing tools for assistance, I mentioned, If we're talking about ChatGPT, it can be very helpful for finding answers quickly."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Consider",
                    "definition": "To think carefully about something, typically before making a decision.",
                    "context": {
                        "Context 1": "I am considering moving to Thailand for a new adventure.",
                        "Context 2": "Before you decide, you should consider all your options.",
                        "Context 3": "She didn't consider the weather before planning her trip to the beach."
                    }
                },
                {
                    "word": "Proficient",
                    "definition": "Competent or skilled in doing or using something.",
                    "context": {
                        "Context 1": "Being proficient in English opens many job opportunities.",
                        "Context 2": "He is proficient in playing the piano and often performs at local events.",
                        "Context 3": "She is not proficient in cooking, so she often orders takeout."
                    }
                },
                {
                    "word": "Ecstatic",
                    "definition": "Feeling or expressing overwhelming happiness or joyful excitement.",
                    "context": {
                        "Context 1": "My friends who moved to Moscow are ecstatic about their new life.",
                        "Context 2": "The children were ecstatic when they saw the surprise party.",
                        "Context 3": "He felt ecstatic after winning the lottery and couldn't stop smiling."
                    }
                },
                {
                    "word": "Adventure",
                    "definition": "An unusual and exciting experience or activity.",
                    "context": {
                        "Context 1": "I want to try something new and go on an adventure in Thailand.",
                        "Context 2": "The book is about a thrilling adventure in the Amazon rainforest.",
                        "Context 3": "She considers grocery shopping an adventure because she loves exploring new foods."
                    }
                },
                {
                    "word": "Mindset",
                    "definition": "The established set of attitudes held by someone.",
                    "context": {
                        "Context 1": "Moving abroad might change your mindset about life.",
                        "Context 2": "His positive mindset helped him overcome many obstacles.",
                        "Context 3": "She has a fixed mindset and struggles to accept new ideas."
                    }
                },
                {
                    "word": "Research",
                    "definition": "The systematic investigation into and study of materials and sources to establish facts and reach new conclusions.",
                    "context": {
                        "Context 1": "I need to do more research before deciding to move.",
                        "Context 2": "The scientist conducted research on climate change for several years.",
                        "Context 3": "He spent the afternoon researching different pizza recipes online."
                    }
                },
                {
                    "word": "Rent",
                    "definition": "To pay someone for the use of something, typically property.",
                    "context": {
                        "Context 1": "The rent for an apartment in Moscow is quite high.",
                        "Context 2": "They decided to rent a car for their road trip.",
                        "Context 3": "She forgot to pay the rent for her storage unit this month."
                    }
                },
                {
                    "word": "Mortgage",
                    "definition": "A loan specifically for purchasing property, where the property serves as collateral.",
                    "context": {
                        "Context 1": "I was considering taking out a mortgage to buy an apartment.",
                        "Context 2": "They paid off their mortgage early to save on interest.",
                        "Context 3": "He learned about mortgages in his finance class."
                    }
                },
                {
                    "word": "Ties",
                    "definition": "Connections or relationships with people or places.",
                    "context": {
                        "Context 1": "I have strong ties to my hometown, which makes it hard to leave.",
                        "Context 2": "She has ties to several charities and volunteers regularly.",
                        "Context 3": "His ties to the company helped him secure a promotion."
                    }
                },
                {
                    "word": "Distant",
                    "definition": "Far away in space or time; remote.",
                    "context": {
                        "Context 1": "Living in a distant area makes commuting difficult.",
                        "Context 2": "He often reminisces about his distant childhood memories.",
                        "Context 3": "The distant mountains looked beautiful against the sunset."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Proficient",
                    "fact": "Did you know that the word 'proficient' comes from the Latin word 'proficere,' which means 'to make progress'?"
                },
                {
                    "word": "Adventure",
                    "fact": "The longest recorded adventure in history was a 7-year-long journey by a man who traveled around the world on foot!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go on a diet?",
                    "answer": "Because it had too many bytes!"
                },
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Attention Span",
                    "definition": "The length of time for which a person is able to concentrate on a task.",
                    "context": {
                        "Context 1": "My attention span is short, making it hard for me to focus on long readings.",
                        "Context 2": "The teacher noticed that the students' attention span improved after a short break.",
                        "Context 3": "He struggled with his attention span during the movie, often checking his phone."
                    }
                },
                {
                    "word": "Minimize",
                    "definition": "To reduce something to the smallest possible amount or degree.",
                    "context": {
                        "Context 1": "If I pay enough attention, I can minimize my mistakes greatly.",
                        "Context 2": "The company aims to minimize waste in its production process.",
                        "Context 3": "She tried to minimize her exposure to loud noises by wearing earplugs."
                    }
                },
                {
                    "word": "Thoroughly",
                    "definition": "In a detailed and careful way; completely.",
                    "context": {
                        "Context 1": "You don’t really need to read it thoroughly; just skim through the text.",
                        "Context 2": "He cleaned the house thoroughly before the guests arrived.",
                        "Context 3": "The scientist thoroughly examined the samples for any signs of contamination."
                    }
                },
                {
                    "word": "Passage",
                    "definition": "A section of written text, often part of a larger work.",
                    "context": {
                        "Context 1": "The first passage is the easiest; you should spend no more than 10 minutes on it.",
                        "Context 2": "She highlighted the passage from the book that resonated with her the most.",
                        "Context 3": "The teacher assigned a passage from Shakespeare for the students to analyze."
                    }
                },
                {
                    "word": "True or False",
                    "definition": "A type of question that requires the respondent to determine if a statement is correct or incorrect.",
                    "context": {
                        "Context 1": "The hardest task for me is usually the true or false one.",
                        "Context 2": "In the quiz, I had to answer several true or false questions about history.",
                        "Context 3": "The teacher used a true or false format to assess the students' understanding of the lesson."
                    }
                },
                {
                    "word": "Not Given",
                    "definition": "A term used to indicate that information is not provided in the text.",
                    "context": {
                        "Context 1": "I don’t think that was mentioned, so it's not given.",
                        "Context 2": "In the exam, some questions were marked as not given, confusing the students.",
                        "Context 3": "The report had several sections labeled not given due to missing data."
                    }
                },
                {
                    "word": "Succeed",
                    "definition": "To achieve the desired aim or result.",
                    "context": {
                        "Context 1": "The technology has never succeeded in replicating it, so it's false.",
                        "Context 2": "She worked hard and finally succeeded in passing her driving test.",
                        "Context 3": "The team hopes to succeed in their mission to raise funds for charity."
                    }
                },
                {
                    "word": "Atmospheric Conditions",
                    "definition": "The state of the atmosphere at a particular time and place, including factors like temperature and humidity.",
                    "context": {
                        "Context 1": "Cork bark should be stripped in dry atmospheric conditions.",
                        "Context 2": "The weather forecast predicted severe atmospheric conditions that could lead to storms.",
                        "Context 3": "Astronomers study atmospheric conditions on other planets to understand their climates."
                    }
                },
                {
                    "word": "Synonyms",
                    "definition": "Words that have the same or similar meanings.",
                    "context": {
                        "Context 1": "They are testing your knowledge of synonyms and antonyms.",
                        "Context 2": "In English class, we learned about synonyms to expand our vocabulary.",
                        "Context 3": "Using synonyms can make your writing more interesting and varied."
                    }
                },
                {
                    "word": "Antonyms",
                    "definition": "Words that have opposite meanings.",
                    "context": {
                        "Context 1": "They want to know that you know that the antonym of damp is dry.",
                        "Context 2": "In the vocabulary quiz, we had to match words with their antonyms.",
                        "Context 3": "Understanding antonyms can help improve your comprehension of the language."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Attention Span",
                    "fact": "Did you know that the average attention span of a goldfish is about 9 seconds? That's longer than some humans during a boring lecture!"
                },
                {
                    "word": "Thoroughly",
                    "fact": "The word 'thoroughly' comes from the Old English word 'thurh,' meaning 'through.' So when you clean thoroughly, you’re really going through everything!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Doubt",
                    "definition": "A feeling of uncertainty or lack of conviction.",
                    "context": {
                        "Context 1": "She had doubts about whether she would pass the exam after seeing the difficult questions.",
                        "Context 2": "He doubted his ability to finish the marathon after injuring his ankle.",
                        "Context 3": "The detective had no doubt that the suspect was guilty based on the evidence."
                    }
                },
                {
                    "word": "Biodiversity",
                    "definition": "The variety of life in the world or in a particular habitat or ecosystem.",
                    "context": {
                        "Context 1": "The rainforest is known for its rich biodiversity, housing thousands of species.",
                        "Context 2": "The city park was designed to enhance urban biodiversity by planting native species.",
                        "Context 3": "Biodiversity is crucial for maintaining ecological balance and supporting life on Earth."
                    }
                },
                {
                    "word": "Aid",
                    "definition": "To provide support or assistance.",
                    "context": {
                        "Context 1": "The organization aims to aid communities affected by natural disasters.",
                        "Context 2": "He decided to aid his friend with moving to a new apartment over the weekend.",
                        "Context 3": "The government provided aid to farmers during the drought to help them survive."
                    }
                },
                {
                    "word": "Thorough",
                    "definition": "Complete with regard to every detail; not superficial or partial.",
                    "context": {
                        "Context 1": "The teacher gave a thorough explanation of the assignment requirements.",
                        "Context 2": "Before the trip, they conducted a thorough check of all their equipment.",
                        "Context 3": "The detective's thorough investigation uncovered new evidence in the case."
                    }
                },
                {
                    "word": "Collect",
                    "definition": "To gather together; to accumulate.",
                    "context": {
                        "Context 1": "She loves to collect stamps from different countries as a hobby.",
                        "Context 2": "The museum plans to collect artifacts from the ancient civilization.",
                        "Context 3": "He decided to collect all the receipts for his tax return."
                    }
                },
                {
                    "word": "Convey",
                    "definition": "To communicate or express something.",
                    "context": {
                        "Context 1": "The author used vivid imagery to convey the beauty of the landscape.",
                        "Context 2": "He tried to convey his feelings through a heartfelt letter.",
                        "Context 3": "The teacher used examples to convey the importance of teamwork."
                    }
                },
                {
                    "word": "Individualism",
                    "definition": "The habit or principle of being independent and self-reliant.",
                    "context": {
                        "Context 1": "The artist's work reflects a strong sense of individualism and personal expression.",
                        "Context 2": "In some cultures, individualism is celebrated, while in others, collectivism is more valued.",
                        "Context 3": "His individualism was evident in the unique way he approached problem-solving."
                    }
                },
                {
                    "word": "Principle",
                    "definition": "A fundamental truth or proposition that serves as the foundation for a system of belief.",
                    "context": {
                        "Context 1": "She stood by her principles, refusing to compromise her values.",
                        "Context 2": "The principle of gravity explains why objects fall to the ground.",
                        "Context 3": "He believes in the principle of honesty in all his dealings."
                    }
                },
                {
                    "word": "Stated",
                    "definition": "To express something in words; to declare.",
                    "context": {
                        "Context 1": "The report clearly stated the findings of the research.",
                        "Context 2": "He stated his opinion during the meeting, which sparked a lively debate.",
                        "Context 3": "The teacher stated the rules at the beginning of the school year."
                    }
                },
                {
                    "word": "Collecting",
                    "definition": "The action or process of gathering items of a particular type.",
                    "context": {
                        "Context 1": "Collecting coins can be a rewarding hobby for many enthusiasts.",
                        "Context 2": "She enjoys collecting vintage postcards from her travels.",
                        "Context 3": "Collecting data is essential for conducting thorough research."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Biodiversity",
                    "fact": "Did you know that scientists estimate there are about 8.7 million species on Earth, but we’ve only identified about 1.2 million of them?"
                },
                {
                    "word": "Collecting",
                    "fact": "In some cultures, collecting unusual items like bottle caps or rubber bands is considered a sign of creativity!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What did the teacher say when the student asked if they could go to the bathroom?",
                    "answer": "Sure, but don't forget to collect your thoughts first!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Keywords",
                    "definition": "Words or phrases that capture the main ideas of a text.",
                    "context": {
                        "Context 1": "In the lesson, we focused on identifying keywords to understand the main points.",
                        "Context 2": "The detective found keywords in the suspect's diary that led to a breakthrough in the case.",
                        "Context 3": "When searching for a job online, using the right keywords can help you find better opportunities."
                    }
                },
                {
                    "word": "Synonyms",
                    "definition": "Words that have the same or similar meanings.",
                    "context": {
                        "Context 1": "We discussed synonyms to improve our vocabulary during the lesson.",
                        "Context 2": "The teacher asked us to find synonyms for 'happy' like 'joyful' and 'cheerful.'",
                        "Context 3": "In a cooking class, the chef used synonyms for 'boil' such as 'simmer' and 'blanch.'"
                    }
                },
                {
                    "word": "Antonyms",
                    "definition": "Words that have opposite meanings.",
                    "context": {
                        "Context 1": "During the lesson, we explored antonyms to better understand the text.",
                        "Context 2": "The antonyms for 'hot' include 'cold' and 'cool.'",
                        "Context 3": "In a game, players had to come up with antonyms for various adjectives to win points."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or statement.",
                    "context": {
                        "Context 1": "Understanding the context of the lesson helped clarify our discussions.",
                        "Context 2": "In literature, the context of a story can change its meaning significantly.",
                        "Context 3": "The context of the joke made it much funnier when told at a party."
                    }
                },
                {
                    "word": "Generalize",
                    "definition": "To make a broad statement or conclusion based on specific instances.",
                    "context": {
                        "Context 1": "We learned to generalize our findings from the text during the lesson.",
                        "Context 2": "It's easy to generalize about a group based on a few examples, but it can be misleading.",
                        "Context 3": "The scientist warned against generalizing results from a small sample size."
                    }
                },
                {
                    "word": "Detailed",
                    "definition": "Containing a lot of information; thorough.",
                    "context": {
                        "Context 1": "The lesson required us to provide a detailed analysis of the text.",
                        "Context 2": "The report was so detailed that it included every minor expense.",
                        "Context 3": "She gave a detailed description of her vacation, making everyone feel like they were there."
                    }
                },
                {
                    "word": "Thoroughly",
                    "definition": "In a way that is complete and includes everything that is necessary.",
                    "context": {
                        "Context 1": "We need to read the text thoroughly to answer the questions correctly.",
                        "Context 2": "He cleaned his room thoroughly before his parents arrived home.",
                        "Context 3": "The detective investigated the case thoroughly to find all possible clues."
                    }
                },
                {
                    "word": "Navigate",
                    "definition": "To find one's way or to manage a process.",
                    "context": {
                        "Context 1": "It was difficult to navigate through the lesson materials without a guide.",
                        "Context 2": "She learned how to navigate the city using only a map.",
                        "Context 3": "The captain had to navigate the ship through a stormy sea."
                    }
                },
                {
                    "word": "Professionalization",
                    "definition": "The process of becoming professional or more skilled in a particular field.",
                    "context": {
                        "Context 1": "The lesson discussed the professionalization of various occupations.",
                        "Context 2": "The professionalization of sports has led to better training and facilities.",
                        "Context 3": "Many industries are undergoing professionalization to improve standards."
                    }
                },
                {
                    "word": "Articulate",
                    "definition": "To express an idea or feeling fluently and coherently.",
                    "context": {
                        "Context 1": "We practiced how to articulate our thoughts clearly during the lesson.",
                        "Context 2": "He was able to articulate his vision for the project effectively.",
                        "Context 3": "The speaker articulated the importance of teamwork in achieving success."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Navigate",
                    "fact": "Did you know that the word 'navigate' comes from the Latin word 'navigare,' which means 'to sail'?"
                },
                {
                    "word": "Generalize",
                    "fact": "Generalizing can sometimes lead to stereotypes, which is why it's important to look at individuals!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! I love your shirt! Have you worn it before?"
                },
                {
                    "Person 2": "Thanks! I think I wore it once a few months ago. What do you think?"
                },
                {
                    "Person 1": "It looks great! So, what’s new with you? Any big plans?"
                },
                {
                    "Person 2": "Actually, I’ve been thinking about traveling to Southeast Asia. Places like Thailand and Vietnam."
                },
                {
                    "Person 1": "Oh, nice! I’ve heard those places are really affordable. Are you planning to move there?"
                },
                {
                    "Person 2": "Yeah, I’m considering it for December. The rent and food are way cheaper there."
                },
                {
                    "Person 1": "That sounds exciting! But moving from here to Thailand? That’s a big step!"
                },
                {
                    "Person 2": "I know, right? My dad lived in Thailand for a few years, and he loved it. He wants to go back."
                },
                {
                    "Person 1": "What made him leave?"
                },
                {
                    "Person 2": "He had some business to take care of here, but I think he misses the warm weather."
                },
                {
                    "Person 1": "I get that. I’m not a fan of the cold either. But why wouldn’t you just stay here?"
                },
                {
                    "Person 2": "Honestly, I used to think Moscow was the best city ever, but now I’m not so sure."
                },
                {
                    "Person 1": "Really? What changed your mind?"
                },
                {
                    "Person 2": "After living in Kyrgyzstan, I realized Moscow isn’t as special as I thought. It’s just... cold."
                },
                {
                    "Person 1": "That’s interesting. But you have friends and family here, right?"
                },
                {
                    "Person 2": "Yeah, I do. But sometimes I think it would be cool to start fresh somewhere new."
                },
                {
                    "Person 1": "Definitely! If you don’t have much to lose, why not go for it?"
                },
                {
                    "Person 2": "Exactly! I could always come back if it doesn’t work out."
                },
                {
                    "Person 1": "And with your English skills, you’d probably find a job easily over there."
                },
                {
                    "Person 2": "That’s what I’m hoping! It could really open up some opportunities."
                },
                {
                    "Person 1": "For sure! Have you looked into how much rent is in those countries?"
                },
                {
                    "Person 2": "Yeah, it’s way cheaper than Moscow. I heard you can get a nice place for about 30 bucks."
                },
                {
                    "Person 1": "Wow, that’s a steal! I pay way more than that here."
                },
                {
                    "Person 2": "Same here! It’s crazy how expensive it is in Moscow."
                },
                {
                    "Person 1": "Sounds like you should definitely explore that option!"
                },
                {
                    "Person 2": "Yeah, I think I will. Just need to do some more research."
                },
                {
                    "Person 1": "Let me know if you need any help with that!"
                },
                {
                    "Person 2": "Thanks! I appreciate it. By the way, did you finish your homework for class?"
                },
                {
                    "Person 1": "Oh, I almost forgot! I did the reading and listening sections, but I think I made a couple of mistakes."
                },
                {
                    "Person 2": "Want to show me your answers? I can help you check them."
                },
                {
                    "Person 1": "Sure! I’ll send you a photo of my answer sheet."
                },
                {
                    "Person 2": "Awesome! Let’s see how we did."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to get through some reading for class. You know how it is."
                },
                {
                    "Person 1": "Oh, I totally get that. Reading can be a struggle sometimes. What are you working on?"
                },
                {
                    "Person 2": "It's this textbook about environmental science. Some of the passages are super dry."
                },
                {
                    "Person 1": "Yeah, I remember those kinds of books. Do you find yourself zoning out?"
                },
                {
                    "Person 2": "All the time! I start off focused, but then my mind just drifts. It’s like my attention span has shrunk."
                },
                {
                    "Person 1": "Same here! I used to read for hours, but now I can barely finish a chapter without checking my phone."
                },
                {
                    "Person 2": "Right? I think all those short videos online are messing with our brains."
                },
                {
                    "Person 1": "For sure! I read somewhere that it actually changes how we concentrate."
                },
                {
                    "Person 2": "Exactly! I tried reading a novel the other night, and I found myself scrolling through social media after just a few pages."
                },
                {
                    "Person 1": "I know the feeling! So, what do you think we should do about it?"
                },
                {
                    "Person 2": "Maybe we should set some limits? Like no phone during reading time?"
                },
                {
                    "Person 1": "That sounds like a plan! I could definitely use that kind of discipline."
                },
                {
                    "Person 2": "Yeah, and we can hold each other accountable. No distractions!"
                },
                {
                    "Person 1": "Deal! Let’s start tomorrow. I’m ready to focus!"
                },
                {
                    "Person 2": "Awesome! Let’s see if we can actually stick to it this time."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a comeback, right? I thought they were done for."
                },
                {
                    "Person 1": "I know! I was on the edge of my seat. That last-minute goal was insane!"
                },
                {
                    "Person 2": "Totally! And the crowd went wild. I could hear them cheering from my living room!"
                },
                {
                    "Person 1": "Same here! I had to turn the volume down a bit. My neighbors probably thought I was hosting a party."
                },
                {
                    "Person 2": "Haha! I can imagine. So, what do you think about their chances in the playoffs?"
                },
                {
                    "Person 1": "Honestly, I think they have a good shot. If they keep playing like that, they could go far."
                },
                {
                    "Person 2": "Agreed! But they need to tighten up their defense. Those early goals are too risky."
                },
                {
                    "Person 1": "Right? It’s like they forget to defend sometimes. But when they’re on offense, they’re unstoppable!"
                },
                {
                    "Person 2": "Exactly! I love watching them attack. It’s so exciting!"
                },
                {
                    "Person 1": "For sure! So, are you planning to go to the next game?"
                },
                {
                    "Person 2": "I hope so! I just need to check my schedule. It would be awesome to see them live."
                },
                {
                    "Person 1": "Let me know if you go! I’d love to join you."
                },
                {
                    "Person 2": "Definitely! It’ll be a blast. Fingers crossed for tickets!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I went there last weekend! The vibe is really cool, and the coffee is amazing."
                },
                {
                    "Person 1": "Nice! I heard they have some unique flavors. What did you try?"
                },
                {
                    "Person 2": "I had a lavender latte. It sounds weird, but it was surprisingly good!"
                },
                {
                    "Person 1": "Lavender latte? That’s interesting! I usually stick to vanilla or caramel."
                },
                {
                    "Person 2": "I get that! But sometimes it’s fun to try something new. You should give it a shot!"
                },
                {
                    "Person 1": "I might! Do they have any pastries?"
                },
                {
                    "Person 2": "Oh yes! Their croissants are flaky and delicious. You have to try one!"
                },
                {
                    "Person 1": "Sounds like a plan. Maybe we can go together this weekend?"
                },
                {
                    "Person 2": "Definitely! Let’s make it a coffee date."
                },
                {
                    "Person 1": "Awesome! I’ll bring my book, so we can relax and enjoy."
                },
                {
                    "Person 2": "Perfect! I’ll bring my notebook to jot down some ideas for my project."
                },
                {
                    "Person 1": "Sounds like a productive day! Can’t wait."
                },
                {
                    "Person 2": "Me too! See you then!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
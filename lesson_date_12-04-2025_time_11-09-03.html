<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "She has Too many problems for one people.",
                    "corrected": "She has too many problems for one person.",
                    "explanation": "The word 'people' is plural; 'person' should be used to refer to a single individual.",
                    "context": "My friend is going through a tough time. She has too many problems for one person. It's really difficult for her."
                },
                {
                    "original": "It's a Mm Suffering story.",
                    "corrected": "It's a suffering story.",
                    "explanation": "The 'Mm' is unnecessary and disrupts the flow of the sentence.",
                    "context": "My friend's situation is quite challenging. It's a suffering story. I don't want to give you a bad mood."
                },
                {
                    "original": "I can do do action like you.",
                    "corrected": "I can take action like you.",
                    "explanation": "'Do do action' is incorrect; 'take action' is the proper phrase.",
                    "context": "I want to help out. I can take action like you. But please don't be afraid."
                },
                {
                    "original": "I have a super long Super length of my nails.",
                    "corrected": "I have a super long length of my nails.",
                    "explanation": "The phrase 'super long' and 'super length' are redundant; only one should be used.",
                    "context": "My nails are quite an issue for me. I have a super long length of my nails. It's uncomfortable for typing."
                },
                {
                    "original": "I couldn't Look like they're eating the ghost with him.",
                    "corrected": "I couldn't look like I was eating with him.",
                    "explanation": "The phrase is unclear; 'look like they're eating the ghost' does not convey a logical meaning.",
                    "context": "I was trying to enjoy my meal. I couldn't look like I was eating with him. It felt awkward."
                },
                {
                    "original": "I usually I I hearing.",
                    "corrected": "I usually hear.",
                    "explanation": "The phrase 'I usually I I hearing' is grammatically incorrect; it should simply be 'I usually hear.'",
                    "context": "I keep up with trends. I usually hear the news about nail salons. It's important to stay informed."
                },
                {
                    "original": "I stay stay state with the Crazy nails.",
                    "corrected": "I stayed with the crazy nails.",
                    "explanation": "The repetition of 'stay' is incorrect; it should be 'stayed.'",
                    "context": "After my last visit, I was unhappy. I stayed with the crazy nails. I was very angry."
                },
                {
                    "original": "I didn't make conflict with fight.",
                    "corrected": "I didn't have a conflict or fight.",
                    "explanation": "The phrase 'make conflict with fight' is incorrect; 'have a conflict' is the correct expression.",
                    "context": "I tried to remain calm. I didn't have a conflict or fight. It was frustrating."
                },
                {
                    "original": "I could give you crazy words for translation.",
                    "corrected": "I could give you some crazy words for translation.",
                    "explanation": "The phrase is missing 'some' to indicate an unspecified quantity.",
                    "context": "Language can be tricky. I could give you some crazy words for translation. It's fun to compare."
                },
                {
                    "original": "He used my soap and he did his work.",
                    "corrected": "He used my soap while doing his work.",
                    "explanation": "The sentence structure is awkward; 'while doing' clarifies the action.",
                    "context": "I was very upset. He used my soap while doing his work. It felt disrespectful."
                },
                {
                    "original": "I lost my opportunity to speak.",
                    "corrected": "I lost my ability to speak.",
                    "explanation": "The phrase 'opportunity to speak' is incorrect; 'ability to speak' is the correct term.",
                    "context": "During the incident, I was so shocked. I lost my ability to speak. It was overwhelming."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "What is to do on?",
                    "corrected": "What is to do?",
                    "explanation": "The phrase 'to do on' is incorrect; it should simply be 'to do' to convey the intended meaning.",
                    "context": "I was trying to express my confusion about the situation. What is to do? It's a super long distance for me."
                },
                {
                    "original": "I visited it rarely.",
                    "corrected": "I rarely visited it.",
                    "explanation": "The adverb 'rarely' should precede the verb 'visited' for proper sentence structure.",
                    "context": "I have one point where I like to go. I rarely visited it, but all my experiences there were brilliant."
                },
                {
                    "original": "I broke any attention in the future.",
                    "corrected": "I didn't attract any attention in the future.",
                    "explanation": "'Broke any attention' is incorrect; 'attract' is the appropriate verb here.",
                    "context": "I live in Vidneye and tried to find brilliant masters there. I didn't attract any attention in the future because they weren't cool."
                },
                {
                    "original": "It's very stressful for teacher.",
                    "corrected": "It's very stressful for a teacher.",
                    "explanation": "The article 'a' is needed before 'teacher' to indicate one of many.",
                    "context": "I think English lessons are okay, just speaking to each other. But it's very stressful for a teacher."
                },
                {
                    "original": "I have two or three private teacher.",
                    "corrected": "I have two or three private teachers.",
                    "explanation": "The plural form 'teachers' is needed to match the quantity indicated.",
                    "context": "I had two or three private teachers. One of them explained difficult rules in Russian."
                },
                {
                    "original": "Explanation me difficult rules in Russian languages.",
                    "corrected": "Explained difficult rules in the Russian language to me.",
                    "explanation": "The verb form and word order are incorrect; it should be 'explained to me.'",
                    "context": "I had a teacher who explained difficult rules in the Russian language to me."
                },
                {
                    "original": "She lost her subject physics.",
                    "corrected": "She was passionate about her subject, physics.",
                    "explanation": "'Lost her subject' is incorrect; 'was passionate about' conveys the intended meaning.",
                    "context": "I fell in love with my teacher because she was passionate about her subject, physics."
                },
                {
                    "original": "She would stop Refuse.",
                    "corrected": "She would refuse.",
                    "explanation": "The word 'stop' is unnecessary and incorrect in this context.",
                    "context": "She would refuse to teach a student who didn't understand elementary things."
                },
                {
                    "original": "She could explain me difficult things.",
                    "corrected": "She could explain difficult things to me.",
                    "explanation": "The correct structure requires 'to' before 'me' when indicating the recipient of the explanation.",
                    "context": "She could explain difficult things to me using simple words."
                },
                {
                    "original": "I improve my level of physics on this in in this lessons.",
                    "corrected": "I improved my level of physics in these lessons.",
                    "explanation": "The verb tense is incorrect; 'improve' should be 'improved' and 'on this in in this lessons' should be 'in these lessons.'",
                    "context": "I improved my level of physics in these lessons, but I mostly enjoyed them."
                },
                {
                    "original": "I love smart person who?",
                    "corrected": "I love smart people who.",
                    "explanation": "The plural form 'people' is needed to match the context.",
                    "context": "I love smart people who are passionate about their work and can share their knowledge."
                },
                {
                    "original": "I played the role like a teacher.",
                    "corrected": "I played the role of a teacher.",
                    "explanation": "The phrase 'like a teacher' should be 'of a teacher' to indicate the role taken.",
                    "context": "I remember when I played the role of a teacher during my student years."
                },
                {
                    "original": "You give me explanation Much more better than Prosta better than my teacher.",
                    "corrected": "You give me explanations that are much better than my teacher's.",
                    "explanation": "The structure needs to be corrected for clarity and 'much more better' should be 'much better.'",
                    "context": "I told the girl I was teaching that you give me explanations that are much better than my teacher's."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I my favorite play video games, it's a quake.",
                    "corrected": "My favorite game is playing video games; it's Quake.",
                    "explanation": "The structure is incorrect; 'I my favorite play' should be rephrased for clarity and grammatical correctness.",
                    "context": "In the past, I enjoyed playing video games. My favorite game is playing video games; it's Quake. I haven't played it in a long time."
                },
                {
                    "original": "I didn't interested in interesting in.",
                    "corrected": "I wasn't interested in it.",
                    "explanation": "'Didn't interested' is incorrect; the correct form is 'wasn't interested.'",
                    "context": "Five years ago, I played a little combat game. I wasn't interested in it. But I have a major in something related."
                },
                {
                    "original": "I have a major in about it.",
                    "corrected": "I have a major in that.",
                    "explanation": "'In about it' is incorrect; 'in that' is the proper phrase to indicate a subject of study.",
                    "context": "I didn't find the game interesting. I have a major in that. It's related to my studies."
                },
                {
                    "original": "If you told to you that I can, your brain catches it.",
                    "corrected": "If you tell yourself that I can, your brain catches it.",
                    "explanation": "'Told to you' is incorrect; it should be 'tell yourself' to indicate self-affirmation.",
                    "context": "I believe that our brain listens to our thinking. If you tell yourself that you can, your brain catches it. This helps in achieving your goals."
                },
                {
                    "original": "It gives you interest, gives you positive emotions, gives you enthusiasm.",
                    "corrected": "It gives you interest, positive emotions, and enthusiasm.",
                    "explanation": "The repetition of 'gives you' is unnecessary; it can be streamlined for better flow.",
                    "context": "When you think positively, it gives you interest, positive emotions, and enthusiasm. You and your brain together can do everything, I think."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Suffering",
                    "definition": "The state of undergoing pain, distress, or hardship.",
                    "context": {
                        "Context 1": "She shared her suffering story to help others understand her struggles.",
                        "Context 2": "The suffering of the characters in the novel added depth to the story.",
                        "Context 3": "He felt a sense of suffering when he lost his favorite pet."
                    }
                },
                {
                    "word": "Conflict",
                    "definition": "A serious disagreement or argument.",
                    "context": {
                        "Context 1": "The conflict between the two friends was resolved after a long discussion.",
                        "Context 2": "The movie portrayed a conflict between good and evil.",
                        "Context 3": "She faced an internal conflict about whether to accept the job offer."
                    }
                },
                {
                    "word": "Quality",
                    "definition": "The standard of something as measured against other things of a similar kind; the degree of excellence.",
                    "context": {
                        "Context 1": "The quality of her work was evident in the final product.",
                        "Context 2": "He always looks for quality ingredients when cooking.",
                        "Context 3": "The quality of the concert was outstanding, leaving the audience in awe."
                    }
                },
                {
                    "word": "Exhausting",
                    "definition": "Causing extreme tiredness; very tiring.",
                    "context": {
                        "Context 1": "The exhausting day at work left him ready for bed by 8 PM.",
                        "Context 2": "Running a marathon can be an exhausting experience.",
                        "Context 3": "Her exhausting schedule made it hard to find time for relaxation."
                    }
                },
                {
                    "word": "Salon",
                    "definition": "A place where people go to receive beauty treatments.",
                    "context": {
                        "Context 1": "She visited the salon for a manicure and pedicure.",
                        "Context 2": "The art salon featured works from local artists.",
                        "Context 3": "He opened a new hair salon in the downtown area."
                    }
                },
                {
                    "word": "Trust",
                    "definition": "Firm belief in the reliability, truth, or ability of someone or something.",
                    "context": {
                        "Context 1": "She had to learn to trust her new stylist after several bad experiences.",
                        "Context 2": "Trust is essential in any healthy relationship.",
                        "Context 3": "He placed his trust in the team to complete the project on time."
                    }
                },
                {
                    "word": "Procedure",
                    "definition": "An established or official way of doing something.",
                    "context": {
                        "Context 1": "The procedure for getting a refund was clearly outlined on the website.",
                        "Context 2": "The medical procedure was successful, and the patient recovered quickly.",
                        "Context 3": "Following the correct procedure is crucial for safety in the workplace."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "Practical contact with and observation of facts or events.",
                    "context": {
                        "Context 1": "Her experience with different salons taught her what to look for.",
                        "Context 2": "Traveling abroad was a life-changing experience for him.",
                        "Context 3": "He gained valuable experience during his internship."
                    }
                },
                {
                    "word": "Length",
                    "definition": "The measurement of something from end to end.",
                    "context": {
                        "Context 1": "She wanted to change the length of her nails for a special occasion.",
                        "Context 2": "The length of the river is over 400 miles.",
                        "Context 3": "He measured the length of the table to see if it would fit in the room."
                    }
                },
                {
                    "word": "Layer",
                    "definition": "A single thickness, coating, or stratum of material.",
                    "context": {
                        "Context 1": "She prefers a single layer of polish on her nails for a natural look.",
                        "Context 2": "The cake had multiple layers of chocolate and vanilla.",
                        "Context 3": "The atmosphere has several layers, each with different characteristics."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Salon",
                    "fact": "Did you know that the word 'salon' originally referred to a large room for entertaining guests in the 17th century?"
                },
                {
                    "word": "Exhausting",
                    "fact": "The term 'exhausting' comes from the Latin word 'exhaurire,' which means 'to draw out or drain.' So, next time you're tired, just say you've been 'drained'!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the nail salon get a bad review?",
                    "answer": "Because they really 'nailed' it with the bad service!"
                },
                {
                    "question": "Why did the hair stylist break up with their partner?",
                    "answer": "Because they just couldn't handle the 'split ends' in the relationship!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Experience",
                    "definition": "The knowledge or skill acquired by a period of practical experience of something, especially that gained in a particular profession.",
                    "context": {
                        "Context 1": "My experience at the beauty salon was brilliant; I always leave feeling great.",
                        "Context 2": "The experience of climbing a mountain can be both challenging and rewarding.",
                        "Context 3": "She has a lot of experience in teaching English to non-native speakers."
                    }
                },
                {
                    "word": "Stressful",
                    "definition": "Causing mental or emotional stress.",
                    "context": {
                        "Context 1": "Teaching can be very stressful, especially when preparing students for exams.",
                        "Context 2": "Planning a wedding can be a stressful experience for many couples.",
                        "Context 3": "Running a marathon is often described as a stressful but exhilarating challenge."
                    }
                },
                {
                    "word": "Brilliant",
                    "definition": "Exceptionally clever or talented.",
                    "context": {
                        "Context 1": "The teacher was brilliant at explaining complex physics concepts.",
                        "Context 2": "The artist's brilliant use of color made the painting stand out.",
                        "Context 3": "He had a brilliant idea for a new invention that could change the world."
                    }
                },
                {
                    "word": "Private",
                    "definition": "Intended for or restricted to the use of a particular person, group, or class.",
                    "context": {
                        "Context 1": "I had a private lesson with a teacher who helped me improve my physics skills.",
                        "Context 2": "She prefers to keep her private life separate from her professional life.",
                        "Context 3": "The private garden was a serene escape from the bustling city."
                    }
                },
                {
                    "word": "Explanation",
                    "definition": "A statement or account that makes something clear.",
                    "context": {
                        "Context 1": "The teacher's explanation of the difficult rules in Russian was very helpful.",
                        "Context 2": "His explanation of the scientific theory was so clear that everyone understood it.",
                        "Context 3": "The explanation of the movie's plot twist left the audience in shock."
                    }
                },
                {
                    "word": "Knowledge",
                    "definition": "Information, understanding, or skill that you get from experience or education.",
                    "context": {
                        "Context 1": "I gained a lot of knowledge about physics from my private tutor.",
                        "Context 2": "Her knowledge of ancient history is impressive and extensive.",
                        "Context 3": "He has a wealth of knowledge about different cultures from his travels."
                    }
                },
                {
                    "word": "Fanatic",
                    "definition": "A person filled with excessive and single-minded zeal, especially for an extreme religious or political cause.",
                    "context": {
                        "Context 1": "The teacher was a fanatic about physics, which made her classes exciting.",
                        "Context 2": "He's a sports fanatic, never missing a game of his favorite team.",
                        "Context 3": "The fanatic for environmental causes organized a rally to raise awareness."
                    }
                },
                {
                    "word": "Goal",
                    "definition": "The object of a person's ambition or effort; an aim or desired result.",
                    "context": {
                        "Context 1": "My goal is to improve my English speaking skills by practicing regularly.",
                        "Context 2": "Her goal is to run a marathon by the end of the year.",
                        "Context 3": "Setting a goal to read more books can help develop a love for literature."
                    }
                },
                {
                    "word": "Relaxing",
                    "definition": "Making or becoming less tense or anxious.",
                    "context": {
                        "Context 1": "I find it relaxing to have a good conversation during English lessons.",
                        "Context 2": "Listening to music can be very relaxing after a long day.",
                        "Context 3": "A warm bath is a relaxing way to unwind before bed."
                    }
                },
                {
                    "word": "Attention",
                    "definition": "Notice taken of someone or something; the regarding of someone or something as interesting or important.",
                    "context": {
                        "Context 1": "I broke any attention in the future because the lessons were not engaging.",
                        "Context 2": "The teacher's engaging style captured the students' attention immediately.",
                        "Context 3": "He needed to pay more attention to the road while driving."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Brilliant",
                    "fact": "Did you know that the word 'brilliant' originally referred to the brightness of a diamond?"
                },
                {
                    "word": "Fanatic",
                    "fact": "The term 'fanatic' comes from the Latin word 'fanaticus,' which means 'of the temple' or 'inspired by a deity.'"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the physics teacher break up with the biology teacher?",
                    "answer": "There was no chemistry!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Habits",
                    "definition": "Regular practices or routines that are often automatic.",
                    "context": {
                        "Context 1": "I have developed good habits that help me study effectively.",
                        "Context 2": "Eating healthy habits can improve your overall well-being.",
                        "Context 3": "He has a habit of talking to himself when he's alone."
                    }
                },
                {
                    "word": "Enthusiasm",
                    "definition": "Intense and eager enjoyment, interest, or approval.",
                    "context": {
                        "Context 1": "Her enthusiasm for learning new languages is contagious.",
                        "Context 2": "The crowd showed great enthusiasm during the concert.",
                        "Context 3": "He approached the project with enthusiasm, eager to impress his boss."
                    }
                },
                {
                    "word": "Instruction",
                    "definition": "A direction or order; guidance on how to do something.",
                    "context": {
                        "Context 1": "The teacher provided clear instructions for the assignment.",
                        "Context 2": "He followed the instructions carefully to assemble the furniture.",
                        "Context 3": "The instructions for the game were confusing, leading to misunderstandings."
                    }
                },
                {
                    "word": "Presentation",
                    "definition": "The act of presenting information to an audience.",
                    "context": {
                        "Context 1": "She prepared a detailed presentation on climate change.",
                        "Context 2": "The presentation was filled with engaging visuals and statistics.",
                        "Context 3": "He gave a presentation on the importance of teamwork in sports."
                    }
                },
                {
                    "word": "Positive",
                    "definition": "Characterized by or expressing certainty or affirmation.",
                    "context": {
                        "Context 1": "Having a positive attitude can greatly influence your success.",
                        "Context 2": "She received positive feedback on her project from her peers.",
                        "Context 3": "The doctor gave him a positive diagnosis after the tests."
                    }
                },
                {
                    "word": "Brain",
                    "definition": "The organ in the head that controls thought, memory, feelings, and activity.",
                    "context": {
                        "Context 1": "The brain is responsible for processing information and making decisions.",
                        "Context 2": "He exercises his brain by solving puzzles and reading.",
                        "Context 3": "The brain can adapt and change throughout a person's life."
                    }
                },
                {
                    "word": "Combat",
                    "definition": "Fighting between armed forces; a struggle or conflict.",
                    "context": {
                        "Context 1": "The video game features intense combat scenarios.",
                        "Context 2": "The soldiers trained for combat in various terrains.",
                        "Context 3": "He loves watching movies that depict historical combat."
                    }
                },
                {
                    "word": "Interest",
                    "definition": "The feeling of wanting to know or learn about something.",
                    "context": {
                        "Context 1": "Her interest in science led her to pursue a career in research.",
                        "Context 2": "He has a strong interest in photography and often takes classes.",
                        "Context 3": "The book sparked his interest in ancient history."
                    }
                },
                {
                    "word": "Unexpectedly",
                    "definition": "In a way that is not expected; suddenly.",
                    "context": {
                        "Context 1": "She unexpectedly won the award at the ceremony.",
                        "Context 2": "The storm arrived unexpectedly, catching everyone off guard.",
                        "Context 3": "He unexpectedly ran into an old friend at the café."
                    }
                },
                {
                    "word": "Together",
                    "definition": "With or in proximity to another person or people.",
                    "context": {
                        "Context 1": "We worked together to complete the project on time.",
                        "Context 2": "The family enjoys spending time together during the holidays.",
                        "Context 3": "They walked together in the park, enjoying each other's company."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Enthusiasm",
                    "fact": "The word 'enthusiasm' comes from the Greek word 'enthousiasmos,' which means 'to be inspired by a god!'"
                },
                {
                    "word": "Brain",
                    "fact": "Your brain is more active when you're asleep than when you're awake, processing all the information from the day!"
                },
                {
                    "word": "Unexpectedly",
                    "fact": "The longest word in the English language without a vowel is 'rhythms,' which is quite unexpected!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the brain go to school?",
                    "answer": "Because it wanted to improve its 'thinking' skills!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to figure out my nail situation. You know how it is."
                },
                {
                    "Person 1": "Oh, I totally get that! Did you go to a new salon or something?"
                },
                {
                    "Person 2": "Yeah, I tried a new place, but it was a disaster. My nails came out all thick and uneven!"
                },
                {
                    "Person 1": "Ugh, that's the worst! I hate when they don't listen to what you want."
                },
                {
                    "Person 2": "Exactly! I told them I wanted them slim, but they just didn't get it. I ended up leaving so frustrated."
                },
                {
                    "Person 1": "I feel your pain. I once had a stylist who made my hair way too short. I was in shock!"
                },
                {
                    "Person 2": "Oh no! That’s a nightmare. Did you at least find a good place for your hair?"
                },
                {
                    "Person 1": "Yeah, I finally found a great stylist. She really knows what she's doing. But it took a while!"
                },
                {
                    "Person 2": "Lucky you! I think I need to stick to my regular place. At least I know what to expect."
                },
                {
                    "Person 1": "Smart move! Sometimes it's better to play it safe. Have you thought about doing your nails at home?"
                },
                {
                    "Person 2": "I have! But I’m not sure I have the patience for it. Plus, I always mess it up!"
                },
                {
                    "Person 1": "I get that! Maybe just practice a little? It could be fun!"
                },
                {
                    "Person 2": "True! I might give it a shot this weekend. What about you? Any plans?"
                },
                {
                    "Person 1": "Just hanging out and maybe catching up on some shows. You know, the usual."
                },
                {
                    "Person 2": "Sounds perfect! Let's catch up later and compare nail disasters!"
                },
                {
                    "Person 1": "Definitely! Talk to you later!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going? Did you do anything fun this weekend?"
                },
                {
                    "Person 2": "Hey! Not much, just caught up on some shows. How about you?"
                },
                {
                    "Person 1": "I went hiking! The weather was perfect for it. We found this amazing trail."
                },
                {
                    "Person 2": "That sounds awesome! Where did you go?"
                },
                {
                    "Person 1": "We went to the state park up north. The views were incredible! You would have loved it."
                },
                {
                    "Person 2": "I need to check that out! I’ve been wanting to get outdoors more."
                },
                {
                    "Person 1": "Definitely! It’s a great way to relax. Plus, you get to see some cool wildlife."
                },
                {
                    "Person 2": "Nice! Did you see anything interesting?"
                },
                {
                    "Person 1": "Yeah, we saw a family of deer! They were just chilling by the trail."
                },
                {
                    "Person 2": "That’s so cool! I always love seeing deer. Did you take any pictures?"
                },
                {
                    "Person 1": "Of course! I took a ton. I’ll show you later."
                },
                {
                    "Person 2": "Awesome! I can’t wait to see them. So, are you planning to go hiking again soon?"
                },
                {
                    "Person 1": "For sure! I’m thinking of trying a different trail next time. Want to join?"
                },
                {
                    "Person 2": "Absolutely! Just let me know when. I could use some fresh air."
                },
                {
                    "Person 1": "Sounds like a plan! We’ll make a day of it."
                },
                {
                    "Person 2": "Perfect! I’ll bring snacks!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new video game that just came out?"
                },
                {
                    "Person 2": "Oh, totally! I've been hearing a lot about it. Is it any good?"
                },
                {
                    "Person 1": "Yeah, it's pretty awesome! The graphics are insane, and the gameplay is super fun."
                },
                {
                    "Person 2": "Nice! I used to play video games a lot, but I haven’t had much time lately."
                },
                {
                    "Person 1": "I get that. Life gets busy. What was your favorite game back in the day?"
                },
                {
                    "Person 2": "I loved playing 'Halo'! I could spend hours on it with friends."
                },
                {
                    "Person 1": "Classic choice! I was more into 'Call of Duty' myself. The multiplayer was so addictive."
                },
                {
                    "Person 2": "Right? There’s something about teaming up with friends that makes it so much fun."
                },
                {
                    "Person 1": "For sure! We should have a gaming night soon. It’d be a blast!"
                },
                {
                    "Person 2": "Absolutely! I’ll bring some snacks, and we can play for hours."
                },
                {
                    "Person 1": "Sounds like a plan! Let’s set a date."
                },
                {
                    "Person 2": "How about this weekend? I’m free Saturday evening."
                },
                {
                    "Person 1": "Perfect! I can’t wait. It’ll be just like old times."
                },
                {
                    "Person 2": "Yeah! I’m looking forward to it. Let’s make it epic!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
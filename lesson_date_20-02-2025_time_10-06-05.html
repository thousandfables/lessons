<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "Because usually very call you very cold winters.",
                    "corrected": "Because usually it's very cold in winter.",
                    "explanation": "The phrase 'very call you very cold winters' is incorrect; it should be 'it's very cold in winter' for clarity.",
                    "context": "Today is one of those rare sunny days. Because usually it's very cold in winter. I prefer sunny days over the cold."
                },
                {
                    "original": "Sunny is the most important more important than temperate.",
                    "corrected": "Sunny is more important than temperate.",
                    "explanation": "The phrase 'the most important more important' is redundant; it should just be 'more important.'",
                    "context": "For me, sunny weather is essential. Sunny is more important than temperate. I feel happier when the sun is shining."
                },
                {
                    "original": "I didn't. I was I don't see some.",
                    "corrected": "I didn't see some.",
                    "explanation": "The phrase is jumbled; it should be simplified to 'I didn't see some.'",
                    "context": "I was trying to recall something. I didn't see some of the things I wanted to mention. But I remember them now."
                },
                {
                    "original": "I broke in anything.",
                    "corrected": "I break anything.",
                    "explanation": "The phrase 'broke in anything' is incorrect; it should be 'break anything' to convey the present tense.",
                    "context": "I tend to be clumsy with fragile items. I break anything I touch. It's a running joke among my friends."
                },
                {
                    "original": "This couple it's. Was pretty.",
                    "corrected": "This cup is pretty.",
                    "explanation": "The phrase 'this couple it's' is incorrect; it should be 'this cup is' for proper subject-verb agreement.",
                    "context": "I have a special cup that I cherish. This cup is pretty. It reminds me of my childhood."
                },
                {
                    "original": "I should strong. For. For keep it.",
                    "corrected": "I should be strong to keep it.",
                    "explanation": "The phrase 'I should strong' is incorrect; it should be 'I should be strong' for correct verb form.",
                    "context": "I'm trying to maintain my new habits. I should be strong to keep it up. It's challenging but necessary."
                },
                {
                    "original": "It's like. Reviews of. Coffee or. Sugar or.",
                    "corrected": "It's like the effects of coffee or sugar.",
                    "explanation": "The phrase is fragmented; it should be 'the effects of coffee or sugar' for clarity.",
                    "context": "I've been reflecting on my consumption habits. It's like the effects of coffee or sugar. They can be quite overwhelming."
                },
                {
                    "original": "I dreamt about drinking coffee from this with this cup.",
                    "corrected": "I dreamt about drinking coffee from this cup.",
                    "explanation": "The phrase 'from this with this cup' is redundant; it should be 'from this cup.'",
                    "context": "This cup holds sentimental value for me. I dreamt about drinking coffee from this cup. It reminds me of my grandmother."
                },
                {
                    "original": "Didn't give me accept.",
                    "corrected": "Didn't allow me.",
                    "explanation": "'Didn't give me accept' is incorrect; it should be 'didn't allow me' for proper expression.",
                    "context": "I had a cherished cup that I wanted. They didn't allow me to keep it. It was disappointing."
                },
                {
                    "original": "But now I see different couples of cup on the show...",
                    "corrected": "But now I see different cups on display...",
                    "explanation": "'Couples of cup' is incorrect; it should be 'cups on display' for clarity.",
                    "context": "I've been looking for new cups. But now I see different cups on display. They remind me of the ones I used to have."
                },
                {
                    "original": "What is the name of the fort?",
                    "corrected": "What is the name of the material?",
                    "explanation": "'Fort' is incorrect; it should be 'material' to refer to porcelain.",
                    "context": "We were discussing different types of cups. What is the name of the material? I love porcelain cups."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "But as elegant as modern expensive items.",
                    "corrected": "But they are as elegant as modern expensive items.",
                    "explanation": "The sentence lacks a subject; 'they' should be included to clarify what is being compared.",
                    "context": "I find that items from the past can be just as beautiful. But they are as elegant as modern expensive items. This makes me appreciate their value even more."
                },
                {
                    "original": "Not price, but value.",
                    "corrected": "It's not about price, but value.",
                    "explanation": "The original sentence is a fragment; adding 'It's' makes it a complete thought.",
                    "context": "I cherish the dishes from my childhood. It's not about price, but value. They hold a special place in my heart."
                },
                {
                    "original": "We have this type of things in... Limited count.",
                    "corrected": "We have this type of thing in limited quantities.",
                    "explanation": "'Things' should be singular to match 'this type,' and 'count' is not idiomatic here; 'quantities' is more appropriate.",
                    "context": "The dishes I love are unique. We have this type of thing in limited quantities. They remind me of my childhood."
                },
                {
                    "original": "I think that my friend... Is cursed.",
                    "corrected": "I think that my friend is cursed.",
                    "explanation": "The ellipsis is unnecessary and disrupts the flow of the sentence.",
                    "context": "My friend has been going through a tough time. I think that my friend is cursed. It feels like trouble follows her everywhere."
                },
                {
                    "original": "Limited on time for action.",
                    "corrected": "Limited in time.",
                    "explanation": "'Limited on time for action' is awkward; 'limited in time' is a more natural expression.",
                    "context": "I hope her troubles are temporary. I hope that this action is limited in time. She deserves a break."
                },
                {
                    "original": "Two thirds... Lamp... Is broken.",
                    "corrected": "Two thirds of the lamp are broken.",
                    "explanation": "The subject 'two thirds' is plural, so the verb should be 'are' instead of 'is.'",
                    "context": "After the accident, I noticed some damage. Two thirds of the lamp are broken. It's frustrating, but at least one third is still working."
                },
                {
                    "original": "You will don't have Internet.",
                    "corrected": "You will not have Internet.",
                    "explanation": "'You will don't' is incorrect; 'will not' is the proper future negative form.",
                    "context": "I received a notice from my provider. You will not have Internet for the next three days. It's inconvenient, but there's nothing I can do."
                },
                {
                    "original": "Change their... Equipment early.",
                    "corrected": "Change their equipment early.",
                    "explanation": "The ellipsis is unnecessary and disrupts the sentence structure.",
                    "context": "I wonder about the service interruptions. Maybe my provider will change their equipment early. It could improve the situation."
                },
                {
                    "original": "The action like sharing Internet.",
                    "corrected": "The action of sharing Internet.",
                    "explanation": "'Like' is not appropriate here; 'of' is needed to indicate the type of action.",
                    "context": "My friend has issues with her mobile provider. The action of sharing Internet is more expensive for her. It's just one more challenge she faces."
                },
                {
                    "original": "Who... Who has... Who has... Who has... She has cancer.",
                    "corrected": "Who is seriously sick.",
                    "explanation": "The repetition is confusing; simplifying the sentence improves clarity.",
                    "context": "My friend's brother is struggling. He is seriously sick. It's heartbreaking to see her go through this."
                },
                {
                    "original": "Working on to... Have worked to... Works.",
                    "corrected": "Has been working to.",
                    "explanation": "The original forms are incorrect; 'has been working to' is the correct present perfect continuous form.",
                    "context": "My friend is dedicated to her job. She has been working to support her family. It's exhausting for her."
                },
                {
                    "original": "She... She sharing... No, no, no, not sharing.",
                    "corrected": "She usually shares.",
                    "explanation": "The original sentence is fragmented; using 'usually shares' clarifies the intended meaning.",
                    "context": "When she has free time, she enjoys being with friends. She usually shares her experiences. But lately, it's been tough for her."
                },
                {
                    "original": "20 uncalled... No, no, not uncalled.",
                    "corrected": "20 missed calls.",
                    "explanation": "'Uncalled' is not the correct term; 'missed calls' is the appropriate phrase.",
                    "context": "After a lovely day out, she checked her phone. She saw 20 missed calls. All of them were from her brother."
                },
                {
                    "original": "Nobody want to help to her.",
                    "corrected": "Nobody wants to help her.",
                    "explanation": "The verb 'want' should be 'wants' to agree with the singular subject 'nobody.'",
                    "context": "It's disheartening to see her struggle. Nobody wants to help her. It feels like she is all alone in this."
                },
                {
                    "original": "I didn't know. I don't know any details.",
                    "corrected": "I don't know any details.",
                    "explanation": "The first part is unnecessary; the second sentence alone suffices.",
                    "context": "I feel helpless in this situation. I don't know any details about her family. It's a private matter."
                },
                {
                    "original": "Super private territory.",
                    "corrected": "It's a super private matter.",
                    "explanation": "The phrase is awkward; adding 'It's a' makes it clearer.",
                    "context": "I respect her family's privacy. It's a super private matter. I just want to be there for her."
                },
                {
                    "original": "But... I realized how it's... How it's difficult.",
                    "corrected": "But I realized how difficult it is.",
                    "explanation": "The original phrasing is awkward; 'how difficult it is' is more concise.",
                    "context": "I want to help her as much as I can. But I realized how difficult it is. It's a heavy burden to carry."
                },
                {
                    "original": "Continuously. Two years, it's too much.",
                    "corrected": "For two years, it's been too much.",
                    "explanation": "The original sentence is fragmented; restructuring it improves clarity.",
                    "context": "Her struggles have been ongoing. For two years, it's been too much. I worry about her well-being."
                },
                {
                    "original": "She dream about new clothes.",
                    "corrected": "She dreams about new clothes.",
                    "explanation": "The verb should be in the present tense to match the subject.",
                    "context": "Despite her hardships, she still has hopes. She dreams about new clothes. It's a small wish, but it matters to her."
                },
                {
                    "original": "What happened when she arrived at her brother's place?",
                    "corrected": "What happened when she got to her brother's place?",
                    "explanation": "'Arrived' is correct, but 'got to' is more idiomatic in this context.",
                    "context": "She rushed to see him. What happened when she got to her brother's place? It was a moment of fear."
                },
                {
                    "original": "In the time... He lost his... His mind.",
                    "corrected": "At that time, he lost his consciousness.",
                    "explanation": "The phrase 'in the time' is incorrect; 'at that time' is the correct expression.",
                    "context": "When she arrived, things were chaotic. At that time, he lost his consciousness. It was terrifying for her."
                },
                {
                    "original": "Got stuck. In the... Shell?",
                    "corrected": "Got stuck in the mechanism of his bed.",
                    "explanation": "'Shell' is not the correct term; 'mechanism' is more appropriate in this context.",
                    "context": "He had an accident. He got stuck in the mechanism of his bed. It was a frightening experience."
                },
                {
                    "original": "Why you call to ambulance?",
                    "corrected": "Why did you call the ambulance?",
                    "explanation": "The sentence lacks proper tense and article usage; 'did' is needed for past tense, and 'the' should be included.",
                    "context": "When the ambulance arrived, they questioned her. Why did you call the ambulance? It was a moment of confusion."
                },
                {
                    "original": "The hospital didn't answer for... For any request.",
                    "corrected": "The hospital didn't respond to any requests.",
                    "explanation": "'Answer for' is incorrect; 'respond to' is the proper phrase.",
                    "context": "She felt helpless in the situation. The hospital didn't respond to any requests. It was frustrating and disheartening."
                },
                {
                    "original": "Nobody could... Nobody want to help her.",
                    "corrected": "Nobody could help her; nobody wants to help her.",
                    "explanation": "The original sentence structure is awkward; separating the two ideas with a semicolon improves clarity.",
                    "context": "She felt utterly alone. Nobody could help her; nobody wants to help her. It was a heavy burden to bear."
                },
                {
                    "original": "It's a big... My big fear in the future.",
                    "corrected": "It's a big fear of mine for the future.",
                    "explanation": "The phrasing is awkward; 'fear of mine for the future' is more idiomatic.",
                    "context": "I worry about what lies ahead. It's a big fear of mine for the future. I want to live a fulfilling life."
                },
                {
                    "original": "I want to finish my... My life on my leg.",
                    "corrected": "I want to finish my life on my own two feet.",
                    "explanation": "The phrase 'on my leg' is incorrect; 'on my own two feet' is the idiomatic expression.",
                    "context": "I think about my future often. I want to finish my life on my own two feet. Independence is important to me."
                },
                {
                    "original": "When people laying... More than two or three years.",
                    "corrected": "When people are lying down for more than two or three years.",
                    "explanation": "'Laying' is incorrect; 'lying down' is the right form, and 'are' is needed for grammatical accuracy.",
                    "context": "I see the struggles of others. When people are lying down for more than two or three years, it’s heartbreaking. I hope to avoid that fate."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "Discussing anything problems... With this person.",
                    "corrected": "Discussing any problems with this person.",
                    "explanation": "The phrase 'anything problems' is incorrect; it should be 'any problems' to refer to unspecified issues.",
                    "context": "I know that nobody can speak to this person. Discussing any problems with this person is difficult because she can't communicate well."
                },
                {
                    "original": "I always think that consequence is a sequence.",
                    "corrected": "I always think that consequence is a sequence.",
                    "explanation": "The original sentence is correct, but it was repeated unnecessarily, indicating confusion.",
                    "context": "I often confuse words. I always think that consequence is a sequence, but they have different meanings."
                },
                {
                    "original": "The brain... Begin... To... To... To... To... To... To lower activity and... Dying?",
                    "corrected": "The brain begins to lower activity and fade.",
                    "explanation": "The verb 'begin' should be in the third person singular form 'begins' to match the subject 'the brain.'",
                    "context": "When people lose social interactions, the brain begins to lower activity and fade."
                },
                {
                    "original": "Like, by the end of her life, she even lost... She couldn't speak as well.",
                    "corrected": "By the end of her life, she even lost the ability to speak.",
                    "explanation": "The phrase 'she couldn't speak as well' is awkward; 'the ability to speak' is clearer.",
                    "context": "I remember my grand-grandmother. By the end of her life, she even lost the ability to speak."
                },
                {
                    "original": "I have many deal at home.",
                    "corrected": "I have many deals at home.",
                    "explanation": "'Deal' should be pluralized to 'deals' to indicate multiple responsibilities.",
                    "context": "My mom often tells me, 'I have many deals at home.' She feels overwhelmed with her tasks."
                },
                {
                    "original": "I don't know to learn in French.",
                    "corrected": "I don't know how to learn French.",
                    "explanation": "The phrase 'to learn in French' is incorrect; it should be 'how to learn French.'",
                    "context": "My mom is hesitant about learning. She says, 'I don't know how to learn French with some people.'"
                },
                {
                    "original": "It's like the action for... For... Kill time.",
                    "corrected": "It's like an activity to kill time.",
                    "explanation": "The phrase 'the action for... For... Kill time' is awkward; it should be 'an activity to kill time.'",
                    "context": "I think Duolingo is not very effective. It's like an activity to kill time, rather than a serious learning tool."
                },
                {
                    "original": "Because your whole life you've been... You've been looking this word up in Duolingo.",
                    "corrected": "Because your whole life you've been looking this word up in Duolingo.",
                    "explanation": "The sentence is correct, but the repetition of 'you've been' is unnecessary.",
                    "context": "When learning a language, it's important to understand context. Because your whole life you've been looking this word up in Duolingo, you might miss its nuances."
                },
                {
                    "original": "If you are bored, very fast.",
                    "corrected": "If you are bored, you'll stop quickly.",
                    "explanation": "The phrase 'very fast' is awkward; it should be 'you'll stop quickly' for clarity.",
                    "context": "It's crucial to enjoy the learning process. If you are bored, you'll stop quickly and won't continue watching more movies."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Envy",
                    "definition": "A feeling of discontented or resentful longing aroused by someone else's possessions, qualities, or luck.",
                    "context": {
                        "Context 1": "I envy your ability to travel so often; I wish I could do that too.",
                        "Context 2": "She felt envy when she saw her friend’s new car.",
                        "Context 3": "The envy in the room was palpable when the winner was announced."
                    }
                },
                {
                    "word": "Instant",
                    "definition": "Happening or done immediately; without delay.",
                    "context": {
                        "Context 1": "I prefer instant coffee because it’s quick to prepare.",
                        "Context 2": "The instant response from the audience showed they were engaged.",
                        "Context 3": "He had an instant connection with his new puppy."
                    }
                },
                {
                    "word": "Addicted",
                    "definition": "Physically and mentally dependent on a particular substance.",
                    "context": {
                        "Context 1": "I’m addicted to coffee; I can’t start my day without it.",
                        "Context 2": "She became addicted to video games and lost track of time.",
                        "Context 3": "Many people are addicted to social media these days."
                    }
                },
                {
                    "word": "Promise",
                    "definition": "A declaration or assurance that one will do something or that a particular thing will happen.",
                    "context": {
                        "Context 1": "My mother promised to make me coffee today.",
                        "Context 2": "He broke his promise to help me move this weekend.",
                        "Context 3": "The politician made a promise to improve public transportation."
                    }
                },
                {
                    "word": "Refuse",
                    "definition": "To indicate or show that one is not willing to do something.",
                    "context": {
                        "Context 1": "I want to refuse all types of unhealthy habits from my life.",
                        "Context 2": "She had to refuse the invitation due to prior commitments.",
                        "Context 3": "He decided to refuse the job offer because it didn’t meet his expectations."
                    }
                },
                {
                    "word": "Exception",
                    "definition": "A person or thing that is excluded from a general statement or does not follow a rule.",
                    "context": {
                        "Context 1": "This cup is an exception; I usually break all my dishes.",
                        "Context 2": "There is always an exception to every rule.",
                        "Context 3": "He is the exception in a family of athletes, as he prefers reading."
                    }
                },
                {
                    "word": "Porcelain",
                    "definition": "A white vitrified translucent ceramic; china.",
                    "context": {
                        "Context 1": "My grandmother had a beautiful set of porcelain cups.",
                        "Context 2": "The museum displayed ancient porcelain artifacts.",
                        "Context 3": "She chose a porcelain vase to decorate her living room."
                    }
                },
                {
                    "word": "Elegant",
                    "definition": "Graceful and stylish in appearance or manner.",
                    "context": {
                        "Context 1": "I find the design of these cups to be very elegant.",
                        "Context 2": "She wore an elegant dress to the gala.",
                        "Context 3": "The elegant architecture of the building impressed all the visitors."
                    }
                },
                {
                    "word": "Strategy",
                    "definition": "A plan of action designed to achieve a long-term or overall aim.",
                    "context": {
                        "Context 1": "I need a strategy to maintain healthier habits.",
                        "Context 2": "The team developed a new marketing strategy for the product launch.",
                        "Context 3": "His strategy for winning the game involved careful planning."
                    }
                },
                {
                    "word": "Cups",
                    "definition": "Small, typically cylindrical containers used for drinking beverages.",
                    "context": {
                        "Context 1": "I have a special cup that my mother gifted me.",
                        "Context 2": "They collected cups from every country they visited.",
                        "Context 3": "He accidentally knocked over his cup of coffee."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Addicted",
                    "fact": "Did you know that coffee is the most popular drink in the world? It’s no wonder so many people are addicted!"
                },
                {
                    "word": "Porcelain",
                    "fact": "Porcelain was invented in China over 1,000 years ago, and it was so valuable that it was often referred to as 'white gold.'"
                },
                {
                    "word": "Exception",
                    "fact": "In the world of grammar, the word 'exception' is often an exception to the rule!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the coffee file a police report?",
                    "answer": "It got mugged!"
                },
                {
                    "question": "What do you call a cup that can’t stop talking?",
                    "answer": "A mug-nificent chatterbox!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Elegant",
                    "definition": "Graceful and stylish in appearance or manner.",
                    "context": {
                        "Context 1": "The dress she wore to the gala was elegant and made her stand out.",
                        "Context 2": "The elegant design of the new smartphone attracted many buyers.",
                        "Context 3": "He spoke in an elegant manner that impressed everyone at the meeting."
                    }
                },
                {
                    "word": "Nostalgia",
                    "definition": "A sentimental longing for the past.",
                    "context": {
                        "Context 1": "Looking at old photographs filled her with nostalgia for her childhood.",
                        "Context 2": "The movie was a nostalgia trip, reminding viewers of the 80s.",
                        "Context 3": "He felt nostalgia when he heard the song from his high school days."
                    }
                },
                {
                    "word": "Value",
                    "definition": "The importance, worth, or usefulness of something.",
                    "context": {
                        "Context 1": "The value of her grandmother's jewelry is not just monetary but sentimental.",
                        "Context 2": "He learned the value of hard work after struggling to find a job.",
                        "Context 3": "The value of education is often underestimated in today's society."
                    }
                },
                {
                    "word": "Cursed",
                    "definition": "Under a spell or a hex; experiencing misfortune.",
                    "context": {
                        "Context 1": "She felt cursed after losing her job and her car in the same week.",
                        "Context 2": "The old house was said to be cursed, with strange noises heard at night.",
                        "Context 3": "He joked that he was cursed with bad luck every time he played the lottery."
                    }
                },
                {
                    "word": "Provider",
                    "definition": "A person or organization that supplies something.",
                    "context": {
                        "Context 1": "The internet provider promised faster speeds in the coming months.",
                        "Context 2": "She is the primary provider for her family, working two jobs.",
                        "Context 3": "The healthcare provider offered various plans to suit different needs."
                    }
                },
                {
                    "word": "Equipment",
                    "definition": "The necessary items for a particular purpose.",
                    "context": {
                        "Context 1": "The gym upgraded its equipment to attract more members.",
                        "Context 2": "He packed all his camping equipment for the weekend trip.",
                        "Context 3": "The school received new science equipment for the laboratory."
                    }
                },
                {
                    "word": "Consciousness",
                    "definition": "The state of being aware of and able to think and perceive.",
                    "context": {
                        "Context 1": "After the accident, he regained consciousness and recognized his family.",
                        "Context 2": "Meditation can help increase your consciousness and awareness.",
                        "Context 3": "The novel explores themes of consciousness and identity."
                    }
                },
                {
                    "word": "Supportive",
                    "definition": "Providing encouragement or emotional help.",
                    "context": {
                        "Context 1": "Her friends were very supportive during her difficult times.",
                        "Context 2": "A supportive work environment can lead to higher employee satisfaction.",
                        "Context 3": "He found a supportive community in the local art group."
                    }
                },
                {
                    "word": "Continuous",
                    "definition": "Uninterrupted in time; without cessation.",
                    "context": {
                        "Context 1": "The continuous rain caused flooding in several areas.",
                        "Context 2": "She faced continuous challenges while trying to complete her degree.",
                        "Context 3": "The continuous hum of the refrigerator was comforting in the quiet house."
                    }
                },
                {
                    "word": "Adventure",
                    "definition": "An unusual and exciting experience or activity.",
                    "context": {
                        "Context 1": "Their trip to the mountains turned into an unexpected adventure.",
                        "Context 2": "He loves reading books about adventure and exploration.",
                        "Context 3": "The children were excited about the adventure of camping in the backyard."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Cursed",
                    "fact": "In some cultures, it's believed that breaking a mirror brings seven years of bad luck. So, be careful when cleaning!"
                },
                {
                    "word": "Nostalgia",
                    "fact": "Nostalgia can actually make you feel happier! Studies show that reminiscing about the past can boost your mood."
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of nostalgia!"
                },
                {
                    "question": "Why don’t scientists trust atoms?",
                    "answer": "Because they make up everything, including their own past!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Consequence",
                    "definition": "A result or effect of an action or condition.",
                    "context": {
                        "Context 1": "The consequence of not studying for the exam was a poor grade.",
                        "Context 2": "If you eat too much sugar, the consequence could be weight gain.",
                        "Context 3": "The consequence of the storm was widespread flooding in the area."
                    }
                },
                {
                    "word": "Social interaction",
                    "definition": "The process by which people act and react in relation to others.",
                    "context": {
                        "Context 1": "Social interaction is essential for developing communication skills.",
                        "Context 2": "The cat seemed to enjoy social interaction with the children.",
                        "Context 3": "During the party, social interaction was encouraged through games and activities."
                    }
                },
                {
                    "word": "Engaged",
                    "definition": "Involved in an activity or committed to a task.",
                    "context": {
                        "Context 1": "She was fully engaged in the conversation about her favorite book.",
                        "Context 2": "The children were engaged in a lively game of tag in the park.",
                        "Context 3": "He felt engaged while painting, losing track of time completely."
                    }
                },
                {
                    "word": "Polyglot",
                    "definition": "A person who knows and is able to use several languages.",
                    "context": {
                        "Context 1": "Being a polyglot can open many doors in international business.",
                        "Context 2": "The polyglot amazed everyone by switching between five languages effortlessly.",
                        "Context 3": "She became a polyglot after years of traveling and learning from different cultures."
                    }
                },
                {
                    "word": "Misconception",
                    "definition": "A view or opinion that is incorrect based on faulty thinking or understanding.",
                    "context": {
                        "Context 1": "There is a common misconception that all snakes are dangerous.",
                        "Context 2": "His misconception about the project led to a lot of confusion.",
                        "Context 3": "The misconception that you need to be a genius to learn math is simply not true."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or situation.",
                    "context": {
                        "Context 1": "Understanding the context of a story helps to grasp its deeper meaning.",
                        "Context 2": "In a historical context, the event was significant for many reasons.",
                        "Context 3": "Without context, the joke might not make sense to everyone."
                    }
                },
                {
                    "word": "Effective",
                    "definition": "Successful in producing a desired or intended result.",
                    "context": {
                        "Context 1": "The new teaching method proved to be very effective in improving student grades.",
                        "Context 2": "She found an effective way to organize her time and tasks.",
                        "Context 3": "The medicine was effective in reducing the patient's symptoms."
                    }
                },
                {
                    "word": "Bright",
                    "definition": "Full of light; shining; also means intelligent or cheerful.",
                    "context": {
                        "Context 1": "Her bright smile lit up the room.",
                        "Context 2": "He has a bright future ahead of him with his talents.",
                        "Context 3": "The bright colors of the painting caught everyone's attention."
                    }
                },
                {
                    "word": "Engaging",
                    "definition": "Attractive or interesting; capable of holding attention.",
                    "context": {
                        "Context 1": "The lecture was so engaging that the students didn't want it to end.",
                        "Context 2": "She wrote an engaging story that captivated readers of all ages.",
                        "Context 3": "The engaging presentation kept everyone awake and interested."
                    }
                },
                {
                    "word": "Dying",
                    "definition": "The process of approaching death; also used metaphorically to describe something that is fading or losing vitality.",
                    "context": {
                        "Context 1": "The flowers were dying due to lack of water.",
                        "Context 2": "He felt like his enthusiasm for the project was dying.",
                        "Context 3": "The old tree was dying, but it still provided shade."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Polyglot",
                    "fact": "The term 'polyglot' comes from the Greek words 'poly' meaning 'many' and 'glotta' meaning 'tongue'—so, many tongues!"
                },
                {
                    "word": "Misconception",
                    "fact": "Did you know that many people think that goldfish have a three-second memory? In reality, they can remember things for months!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Good morning! How’s it going?"
                },
                {
                    "Person 2": "Good morning! I’m doing well, just enjoying this sunny day. How about you?"
                },
                {
                    "Person 1": "Same here! It’s nice to finally see some sun. I was getting tired of all the gray days."
                },
                {
                    "Person 2": "Right? I feel like winter just drags on forever sometimes. Did you have your coffee yet?"
                },
                {
                    "Person 1": "Not yet! I’m still trying to wake up. I need my caffeine fix to get going."
                },
                {
                    "Person 2": "I hear you! I just made some instant coffee. It’s not the best, but it does the job."
                },
                {
                    "Person 1": "Instant coffee? I used to drink that all the time. Now I’m all about the fresh brew."
                },
                {
                    "Person 2": "Yeah, I get that. Fresh coffee is definitely better. I just didn’t have time this morning."
                },
                {
                    "Person 1": "No worries! At least you have something. I’ve been trying to cut back on sugar in my coffee."
                },
                {
                    "Person 2": "Good idea! I should probably do that too. I feel like I’m addicted to it."
                },
                {
                    "Person 1": "Same here! It’s tough, though. I love my sweet coffee."
                },
                {
                    "Person 2": "Yeah, it’s a hard habit to break. But maybe we can motivate each other to stick to it."
                },
                {
                    "Person 1": "That sounds like a plan! Let’s check in with each other about it."
                },
                {
                    "Person 2": "Definitely! And hey, if you find a good coffee recipe, share it with me!"
                },
                {
                    "Person 1": "For sure! I’ll look for some healthy options. Let’s make this a fun challenge!"
                },
                {
                    "Person 2": "Absolutely! Here’s to healthier coffee habits!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to get through the week. How about you?"
                },
                {
                    "Person 1": "Same here! Work has been pretty hectic. I feel like I need a vacation."
                },
                {
                    "Person 2": "I hear you! I was just thinking about how nice it would be to escape somewhere warm."
                },
                {
                    "Person 1": "Right? I could use some sun and sand. Do you have any places in mind?"
                },
                {
                    "Person 2": "I’ve been wanting to check out the beaches in Florida. They look amazing!"
                },
                {
                    "Person 1": "Florida sounds great! I love the beach vibe there. Plus, the seafood is delicious."
                },
                {
                    "Person 2": "Absolutely! And I could go for some fresh shrimp right now."
                },
                {
                    "Person 1": "Yum! Speaking of food, have you tried that new Italian place downtown?"
                },
                {
                    "Person 2": "Not yet, but I’ve heard good things! What did you think of it?"
                },
                {
                    "Person 1": "It was fantastic! The pasta was homemade, and the sauce was to die for."
                },
                {
                    "Person 2": "Now I really want to go! We should plan a dinner there soon."
                },
                {
                    "Person 1": "Definitely! Let’s make it happen. Maybe this weekend?"
                },
                {
                    "Person 2": "Sounds perfect! I’ll check my schedule and let you know."
                },
                {
                    "Person 1": "Awesome! Looking forward to it."
                },
                {
                    "Person 2": "Me too! It’ll be nice to catch up over some good food."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I saw it on Instagram! They have some crazy flavors. Have you been yet?"
                },
                {
                    "Person 1": "Not yet, but I’m planning to check it out this weekend. I heard their caramel sea salt latte is amazing."
                },
                {
                    "Person 2": "That sounds delicious! I love anything with caramel. I might join you if you want some company."
                },
                {
                    "Person 1": "Absolutely! The more, the merrier. We can make a day of it and explore the area."
                },
                {
                    "Person 2": "Sounds like a plan! We can grab coffee and then maybe hit that new bookstore nearby."
                },
                {
                    "Person 1": "Oh, I love that idea! I’ve been wanting to find a new book to read."
                },
                {
                    "Person 2": "Same here! I’ve heard they have a great selection of mystery novels."
                },
                {
                    "Person 1": "Perfect! I could use a good mystery to get lost in. What time do you want to meet?"
                },
                {
                    "Person 2": "How about 10 AM? That way we can beat the weekend crowd."
                },
                {
                    "Person 1": "10 AM it is! I’ll bring my book list, just in case."
                },
                {
                    "Person 2": "Great idea! I’ll bring my recommendations too. Can’t wait!"
                },
                {
                    "Person 1": "Me neither! It’s going to be a fun day."
                },
                {
                    "Person 2": "Definitely! See you Saturday!"
                },
                {
                    "Person 1": "See you then!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
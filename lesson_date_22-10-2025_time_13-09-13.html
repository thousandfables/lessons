<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "first paragraph, you develop an idea, write a however, and then give your opinion, why you think it doesn't quite work, or why you think your idea is better.",
                    "corrected": "In the first paragraph, you develop an idea, write a 'however,' and then give your opinion about why you think it doesn't quite work or why you think your idea is better.",
                    "explanation": "The original sentence lacks proper punctuation and structure; quotation marks are needed around 'however', and 'about' should be added to clarify the opinion context.",
                    "context": "When writing an essay, in the first paragraph, you develop an idea, write a 'however,' and then give your opinion about why you think it doesn't quite work. This format helps to clarify your argument and improves coherence."
                },
                {
                    "original": "like, this is the kind of mistake that not only affects your score for lexical resource, but also for coherence, because I just don't get it.",
                    "corrected": "This is the kind of mistake that affects not only your score for lexical resource but also for coherence because I just don't get it.",
                    "explanation": "'Like' is unnecessary filler here, and the phrase 'not only affects ... but also' should be rearranged for better clarity.",
                    "context": "As we're analyzing sentences, this is the kind of mistake that affects not only your score for lexical resource but also for coherence because I just don't get it. Clear language is critical for better understanding."
                },
                {
                    "original": "what do we usually do with responsibility? Even in Russian it sounds awkward.",
                    "corrected": "What do we usually associate with responsibility? Even in Russian, it sounds awkward.",
                    "explanation": "The term 'do' is vague; 'associate' is more precise for the context. Additionally, a comma is needed after 'Russian' for proper punctuation.",
                    "context": "In our discussion, I asked, what do we usually associate with responsibility? Even in Russian, it sounds awkward. It's important to understand how concepts translate across languages."
                },
                {
                    "original": "own doesn't like, own should belong to some pronoun.",
                    "corrected": "The word 'own' should belong to a pronoun.",
                    "explanation": "The phrase is confusing and not standard English; it needs to be rephrased for clarity.",
                    "context": "While we were discussing ownership, I mentioned that the word 'own' should belong to a pronoun. This distinction is essential for correct phrasing."
                },
                {
                    "original": "If something is written without spaces, usually it's an adjective.",
                    "corrected": "If something is written without spaces, it's usually an adjective.",
                    "explanation": "The original sentence is grammatically correct, but 'usually' should come before 'it's' for better flow.",
                    "context": "In our discussion about writing, I noted that if something is written without spaces, it's usually an adjective. This helps to clarify the grammar rules we're going over."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "It's like literally everyday.",
                    "corrected": "It should be every day.",
                    "explanation": "The phrase 'literally everyday' uses 'everyday' incorrectly; 'everyday' is an adjective, while 'every day' is the correct adverbial phrase.",
                    "context": "In discussing my daily life, I mentioned how I find routine activities so consistent. It should be every day. I like to enjoy my everyday cup of coffee."
                },
                {
                    "original": "They restrain from possible opportunities.",
                    "corrected": "They limit possible opportunities.",
                    "explanation": "'Restrain' is incorrectly used here; 'limit' is more appropriate to convey a reduction in opportunities.",
                    "context": "I was trying to explain how strict regulations affect people. They limit possible opportunities. Regulations can have a big impact on individuals."
                },
                {
                    "original": "I started... I'm using it for approximately six months already.",
                    "corrected": "I started using it approximately six months ago.",
                    "explanation": "The phrase mixes tenses awkwardly; 'I started using' should be in the past to match the timeline.",
                    "context": "While sharing about my new laptop, I explained its impact on my life. I started using it approximately six months ago. It's been an essential tool for my studies."
                },
                {
                    "original": "I post something in Instagram stories like a couple of times in a week.",
                    "corrected": "I post something in Instagram stories a couple of times a week.",
                    "explanation": "The phrase 'in a week' should be 'a week' to correctly convey frequency.",
                    "context": "I like to keep connected with friends through social media. I post something in Instagram stories a couple of times a week. It's a fun way to share moments."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I'm using it for six months already.",
                    "corrected": "I have been using it for six months.",
                    "explanation": "The present perfect continuous tense ('have been using') should be used here instead of the present continuous tense ('am using') to indicate an action that started in the past and is still ongoing.",
                    "context": "In my studies, I've been focusing on different aspects of using technology. I have been using it for six months. This has greatly helped me improve my skills."
                },
                {
                    "original": "I was very happy for it.",
                    "corrected": "I am happy about it.",
                    "explanation": "'Happy for' is incorrect in this context; 'happy about' should be used to express happiness regarding a situation or event.",
                    "context": "When I received the news, I was thrilled. I am happy about it. It was a wonderful moment in my life."
                },
                {
                    "original": "Happy about.",
                    "corrected": "Happy about.",
                    "explanation": "The phrase is repeating 'happy about' which was already correctly identified without further elaboration. This might confuse the listener.",
                    "context": "After the event, I reflected on my emotions. Happy about the outcome, I found myself smiling. It was a joyous occasion."
                },
                {
                    "original": "I felt happy about it.",
                    "corrected": "I felt happy about that.",
                    "explanation": "'It' should be replaced with 'that' for clarity and consistency with previous statements.",
                    "context": "When I thought about my achievements, I smiled to myself. I felt happy about that. It was a great moment of accomplishment."
                },
                {
                    "original": "I don't remember this.",
                    "corrected": "I don't remember it.",
                    "explanation": "'This' is too vague here; 'it' is more appropriate as it refers back to the specific laptop they're discussing.",
                    "context": "We were reminiscing about my first experience with technology. I don’t remember it. But I know it was impactful."
                },
                {
                    "original": "Couple of games maybe.",
                    "corrected": "A couple of games maybe.",
                    "explanation": "The article 'A' is necessary to properly introduce the noun phrase 'couple of games.'",
                    "context": "In those early days with my laptop, I tried many activities. A couple of games maybe entertained me while I was learning. It was a fun experience."
                },
                {
                    "original": "A good like a... A fresh new laptop.",
                    "corrected": "A good, fresh new laptop.",
                    "explanation": "The phrase is awkward and repetitive; it should be streamlined by removing unnecessary filler words.",
                    "context": "When I finally saved enough money, I bought a new computer. A good, fresh new laptop opened up so many possibilities for me."
                },
                {
                    "original": "You're showing your formal language in the writing section.",
                    "corrected": "You're demonstrating your formal language in the writing section.",
                    "explanation": "The word 'showing' should be replaced with 'demonstrating' for a stronger connotation in this context.",
                    "context": "When preparing for exams, I focus on my skills. You're demonstrating your formal language in the writing section. It's crucial for success."
                },
                {
                    "original": "It usually gives misleading information.",
                    "corrected": "It often gives misleading information.",
                    "explanation": "The adverb 'usually' implies a frequency which isn't as strong as 'often' in this instance, especially to stress regular occurrences.",
                    "context": "Reflecting on the use of technology in education, I've noticed some issues. It often gives misleading information that can confuse students."
                },
                {
                    "original": "Like for example, for me, it's important that my tutor has their own personal experience.",
                    "corrected": "For example, for me, it's important that my tutor has their own personal experience.",
                    "explanation": "The phrase 'like for example' is redundant; one can simply use 'for example.'",
                    "context": "When discussing teaching methods, I consider what makes a great tutor. For example, for me, it's important that my tutor has their own personal experience. This enriches my learning."
                },
                {
                    "original": "You can't really rely on its answers.",
                    "corrected": "You can't truly rely on its answers.",
                    "explanation": "'Really' is too informal here; 'truly' conveys a stronger sense of skepticism about the reliability of the answers.",
                    "context": "In my discussions about AI in education, I share concerns. You can't truly rely on its answers. It's crucial to verify information."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "You start giving answers that actually make more sense.",
                    "corrected": "You start giving answers that actually make more sense.",
                    "explanation": "This sentence is correct and does not need any changes.",
                    "context": "When you’re trying to establish a connection with the examiner, you start giving answers that actually make more sense. It’s important to feel comfortable in the conversation."
                },
                {
                    "original": "Not just general broad answers.",
                    "corrected": "Not just general or broad answers.",
                    "explanation": "The use of 'and' is needed to correctly connect 'general' and 'broad.'",
                    "context": "It's important to provide specific responses. Not just general or broad answers, as those lack detail and depth."
                },
                {
                    "original": "To impress this person maybe.",
                    "corrected": "Maybe to impress this person.",
                    "explanation": "The sentence structure is awkward; it should start with 'Maybe' to flow better.",
                    "context": "You should aim to engage the examiner. Maybe to impress this person is a good strategy."
                },
                {
                    "original": "Because when you're speaking from your heart, when you don't have to make up stuff.",
                    "corrected": "Because when you speak from your heart, you don't have to make up stuff.",
                    "explanation": "The use of 'you're speaking' should be simplified to 'you speak' to maintain consistency in verb form.",
                    "context": "Authenticity is key during the exam. Because when you speak from your heart, you don't have to make up stuff, making it easier to respond."
                },
                {
                    "original": "Tension is lower, performance is better.",
                    "corrected": "Tension is lower, and performance is better.",
                    "explanation": "'And' is needed to connect the two independent clauses properly.",
                    "context": "Maintaining a good mindset is crucial. Tension is lower, and performance is better when you feel relaxed."
                },
                {
                    "original": "Generally I can say that you are quite well prepared.",
                    "corrected": "Generally, I can say that you are quite well prepared.",
                    "explanation": "A comma is needed after 'generally' to correctly punctuate the introductory phrase.",
                    "context": "As a teacher, I observe progress in my students. Generally, I can say that you are quite well prepared for your exam."
                },
                {
                    "original": "And I hope that you will do good, you will do well on Saturday.",
                    "corrected": "And I hope that you will do well on Saturday.",
                    "explanation": "'Do good' is incorrect in this context; the phrase 'do well' is the appropriate expression.",
                    "context": "I want the best for my students. And I hope that you will do well on Saturday during your exam."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Risky",
                    "definition": "Involving the possibility of danger, harm, or loss.",
                    "context": {
                        "Context 1": "Using the internet without protection can be risky for children.",
                        "Context 2": "Skydiving is an incredibly risky activity that requires proper training.",
                        "Context 3": "Investing in stocks can be risky, but it also has the potential for high returns."
                    }
                },
                {
                    "word": "Behavior",
                    "definition": "The way in which one acts or conducts oneself, especially towards others.",
                    "context": {
                        "Context 1": "Poor online behavior can lead to cyberbullying.",
                        "Context 2": "Her positive behavior in class earned her a reward.",
                        "Context 3": "Some animals exhibit strange behaviors during mating season."
                    }
                },
                {
                    "word": "Threat",
                    "definition": "A person or thing likely to cause damage or danger.",
                    "context": {
                        "Context 1": "Online predators are a serious threat to children's safety on the internet.",
                        "Context 2": "The heavy rain posed a threat to the outdoor festival.",
                        "Context 3": "Ignoring a threat can sometimes make it even worse."
                    }
                },
                {
                    "word": "Influence",
                    "definition": "The capacity to have an effect on the character, development, or behavior of someone or something.",
                    "context": {
                        "Context 1": "Social media can greatly influence the opinions of young people.",
                        "Context 2": "The influence of music can be seen in fashion trends.",
                        "Context 3": "His influence on the team's strategy was evident during the game."
                    }
                },
                {
                    "word": "Cyberbullying",
                    "definition": "The use of electronic communication to bully a person, typically by sending messages of an intimidating or threatening nature.",
                    "context": {
                        "Context 1": "Cyberbullying can have severe consequences for its victims.",
                        "Context 2": "He once made a movie about the consequences of cyberbullying.",
                        "Context 3": "She started a campaign against cyberbullying in her school."
                    }
                },
                {
                    "word": "Opinion",
                    "definition": "A view or judgment formed about something, not necessarily based on fact or knowledge.",
                    "context": {
                        "Context 1": "Everyone in the class shared their opinion about internet safety.",
                        "Context 2": "In her opinion, cats are better pets than dogs.",
                        "Context 3": "His opinion on travel varies depending on the season."
                    }
                },
                {
                    "word": "Conclude",
                    "definition": "To bring something to an end; to arrive at a judgment or opinion.",
                    "context": {
                        "Context 1": "We will conclude our discussion on children's safety online.",
                        "Context 2": "At the end of the meeting, they concluded that changes were necessary.",
                        "Context 3": "After much debate, they concluded it was time to vote."
                    }
                },
                {
                    "word": "Paraphrasing",
                    "definition": "The act of rewording something written or spoken, while retaining the original meaning.",
                    "context": {
                        "Context 1": "Paraphrasing is a useful skill for summarizing discussions.",
                        "Context 2": "He struggled with paraphrasing the complex text in his homework.",
                        "Context 3": "In other languages, paraphrasing can help with understanding idiomatic expressions."
                    }
                },
                {
                    "word": "Awkward",
                    "definition": "Causing difficulty; hard to deal with; socially uncomfortable.",
                    "context": {
                        "Context 1": "The conversation became awkward when the topic turned to politics.",
                        "Context 2": "He felt awkward giving a speech in front of so many people.",
                        "Context 3": "Her attempt to dance was so awkward that everyone laughed."
                    }
                },
                {
                    "word": "Analyze",
                    "definition": "To examine in detail the structure of something, typically for purposes of explanation and interpretation.",
                    "context": {
                        "Context 1": "We need to analyze the reasons behind increased internet usage among teens.",
                        "Context 2": "She was asked to analyze the character development in the novel.",
                        "Context 3": "We will analyze the results of the survey in next week's class."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Awkward",
                    "fact": "The word 'awkward' comes from the Old Norse word 'afugr,' meaning 'turned the wrong way.'"
                },
                {
                    "word": "Cyberbullying",
                    "fact": "In some countries, there's a law against cyberbullying, and the penalties can include fines or community service!"
                }
            ],
            "jokes": [
                {
                    "question": "What do you call an internet troll who has come out of their cave?",
                    "answer": "A social media commentator!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many issues!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Everyday",
                    "definition": "Commonplace; routine; occurring daily.",
                    "context": {
                        "Context 1": "I enjoy my everyday cup of coffee before starting work.",
                        "Context 2": "The fireworks were an everyday occurrence in the festival.",
                        "Context 3": "For her, running was an everyday activity that kept her fit."
                    }
                },
                {
                    "word": "Minister",
                    "definition": "A member of the clergy or government; an official.",
                    "context": {
                        "Context 1": "The minister discussed new policies during the meeting.",
                        "Context 2": "She was the minister of finance in the local theater group.",
                        "Context 3": "The cricket minister led the game to victory."
                    }
                },
                {
                    "word": "Regulation",
                    "definition": "A rule or directive made and maintained by an authority.",
                    "context": {
                        "Context 1": "The new regulation on speeding has reduced accidents.",
                        "Context 2": "The regulation of dog barking times caused confusion in the neighborhood.",
                        "Context 3": "Regulation on haircuts was implemented in the school."
                    }
                },
                {
                    "word": "Restrain",
                    "definition": "To hold back or limit something.",
                    "context": {
                        "Context 1": "The teacher needs to restrain students from using their phones in class.",
                        "Context 2": "He used a rope to restrain the boat at the dock.",
                        "Context 3": "Restrain your excitement; the surprise party is next week."
                    }
                },
                {
                    "word": "Overusing",
                    "definition": "Using something too frequently or excessively.",
                    "context": {
                        "Context 1": "Overusing complex vocabulary can confuse your readers.",
                        "Context 2": "Overusing sunscreen led to a greasy feeling on her skin.",
                        "Context 3": "He is overusing all the colors in his painting, making it chaotic."
                    }
                },
                {
                    "word": "Simplify",
                    "definition": "To make something less complex or easier to understand.",
                    "context": {
                        "Context 1": "We should simplify our explanations for better understanding.",
                        "Context 2": "To simplify dinner, I decided to order takeout instead of cooking.",
                        "Context 3": "He tried to simplify the math problem, but it became more complicated."
                    }
                },
                {
                    "word": "Opportunity",
                    "definition": "A set of circumstances that makes it possible to do something.",
                    "context": {
                        "Context 1": "This internship offers a great opportunity for professional growth.",
                        "Context 2": "The opportunity to swim with dolphins was a dream come true!",
                        "Context 3": "He missed the opportunity to buy the last ticket for the concert."
                    }
                },
                {
                    "word": "Comfortable",
                    "definition": "Providing physical ease and relaxation.",
                    "context": {
                        "Context 1": "My new chair is incredibly comfortable for long study hours.",
                        "Context 2": "He felt comfortable asking his friends for help.",
                        "Context 3": "The panda looked comfortable, lounging in the sun."
                    }
                },
                {
                    "word": "Anxiety",
                    "definition": "A feeling of worry, nervousness, or unease.",
                    "context": {
                        "Context 1": "She felt anxiety about her upcoming exams.",
                        "Context 2": "He found that eating pizza helped reduce his anxiety before performances.",
                        "Context 3": "The cat seemed to sense her owner's anxiety during the storm."
                    }
                },
                {
                    "word": "Practice",
                    "definition": "The repeated exercise in a skill to acquire proficiency.",
                    "context": {
                        "Context 1": "She needed more practice writing essays before the exam.",
                        "Context 2": "Workout practice is essential for athletes to succeed.",
                        "Context 3": "The band had a practice session every Wednesday night."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Anxiety",
                    "fact": "Did you know that even cats can experience anxiety? They might hide or act strange during thunderstorms!"
                },
                {
                    "word": "Minister",
                    "fact": "In some countries, 'Minister' is a title for a cabinet member, but in others, it’s just someone who really likes coffee!"
                }
            ],
            "jokes": [
                {
                    "question": "Why do teachers always carry a pencil?",
                    "answer": "In case they need to draw a line!"
                },
                {
                    "question": "Why did the student eat his homework?",
                    "answer": "Because the teacher said it was a piece of cake!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Notify",
                    "definition": "To inform someone of something.",
                    "context": {
                        "Context 1": "You should notify the examiner when you’re finished speaking.",
                        "Context 2": "Please notify me when the guests arrive at the party.",
                        "Context 3": "I forgot to notify my boss about my vacation plans."
                    }
                },
                {
                    "word": "Mistake",
                    "definition": "An error or fault resulting from defective judgment, deficient knowledge, or carelessness.",
                    "context": {
                        "Context 1": "You made a mistake by saying 'I am using it for six months' instead of 'I have been using it for six months.'",
                        "Context 2": "If you make a mistake on the test, don't worry; you can always retake it.",
                        "Context 3": "She learned from her mistake of forgetting her friend's birthday."
                    }
                },
                {
                    "word": "Emotions",
                    "definition": "A natural instinctive state of mind deriving from one's circumstances, mood, or relationship with others.",
                    "context": {
                        "Context 1": "It’s important to think about your emotions when describing an experience.",
                        "Context 2": "His emotions were heightened during the thrilling concert.",
                        "Context 3": "Cats can sense human emotions and often respond to them."
                    }
                },
                {
                    "word": "Essential",
                    "definition": "Absolutely necessary; extremely important.",
                    "context": {
                        "Context 1": "It is essential to have computer classes from a young age.",
                        "Context 2": "Water is essential for survival; without it, you cannot live.",
                        "Context 3": "A good night's sleep is essential for a healthy lifestyle."
                    }
                },
                {
                    "word": "Connection",
                    "definition": "A relationship in which a person or thing is linked or associated with something else.",
                    "context": {
                        "Context 1": "Having a connection with your examiner can make you feel more comfortable during the test.",
                        "Context 2": "The Wi-Fi connection was weak, making it hard to stream the movie.",
                        "Context 3": "There is a strong connection between diet and health."
                    }
                },
                {
                    "word": "Formal language",
                    "definition": "A style of speech or writing which follows certain conventions and rules.",
                    "context": {
                        "Context 1": "In part two, it’s important to understand when to use formal language.",
                        "Context 2": "He always uses formal language when addressing the board of directors.",
                        "Context 3": "Using formal language in a text message may seem too stiff."
                    }
                },
                {
                    "word": "Slang",
                    "definition": "Informal language that is typically used by specific groups or in casual settings.",
                    "context": {
                        "Context 1": "Using slang is allowed during the speaking section.",
                        "Context 2": "Many teenagers communicate using slang that adults often don't understand.",
                        "Context 3": "In the wildlife documentary, the narrator used no slang, maintaining a serious tone."
                    }
                },
                {
                    "word": "Entrepreneur",
                    "definition": "A person who starts and runs their own business, often taking financial risks.",
                    "context": {
                        "Context 1": "Being an entrepreneur requires creativity and a strong work ethic.",
                        "Context 2": "He always dreamed of being an entrepreneur and starting his own restaurant.",
                        "Context 3": "The documentary followed an entrepreneur who launched a tech startup."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "Practical contact with and observation of facts or events.",
                    "context": {
                        "Context 1": "You mentioned the importance of personal experience in learning.",
                        "Context 2": "Her traveling experience helped her understand different cultures.",
                        "Context 3": "He shared his experience of skydiving during the summer."
                    }
                },
                {
                    "word": "Test",
                    "definition": "A method of assessing someone's knowledge or skills.",
                    "context": {
                        "Context 1": "The examiner will stop you when two minutes are gone during the test.",
                        "Context 2": "She was nervous about her upcoming math test this Friday.",
                        "Context 3": "Some animals respond to test stimuli differently in scientific experiments."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Notify",
                    "fact": "Did you know that in Japan, there's a custom called 'tatemae' where people are expected to notify others politely, even if they don't want to?"
                },
                {
                    "word": "Emotions",
                    "fact": "Surprisingly, laughing can actually help reduce the physical pain you might experience. So, laughing is not just an emotion!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the teacher wear sunglasses during the exam?",
                    "answer": "Because their students were so bright!"
                },
                {
                    "question": "What do you call a teacher who tells the worst jokes?",
                    "answer": "A pun-derful instructor!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Relaxed",
                    "definition": "Free from tension and anxiety; at ease.",
                    "context": {
                        "Context 1": "When you're relaxed, it's easier to think about emotions.",
                        "Context 2": "He felt relaxed after a long day at the beach.",
                        "Context 3": "To stay relaxed during the exam, she practiced deep breathing."
                    }
                },
                {
                    "word": "Emotion",
                    "definition": "A natural instinctive state of mind deriving from one's circumstances, mood, or relationships with others.",
                    "context": {
                        "Context 1": "Thinking about emotions makes it easier to stay relaxed.",
                        "Context 2": "Sometimes, emotions can cloud our judgment in the workplace.",
                        "Context 3": "The movie was so touching that it stirred a mix of emotions."
                    }
                },
                {
                    "word": "Reinforce",
                    "definition": "To strengthen or support, especially with additional personnel or material.",
                    "context": {
                        "Context 1": "These two things reinforce each other.",
                        "Context 2": "The teacher used examples to reinforce the lesson’s concepts.",
                        "Context 3": "The new marketing campaign aims to reinforce the brand's image."
                    }
                },
                {
                    "word": "Connection",
                    "definition": "A relationship in which a person or thing is linked or associated with something else.",
                    "context": {
                        "Context 1": "Try to establish a personal connection with the examiner.",
                        "Context 2": "She felt a strong connection with her childhood friends.",
                        "Context 3": "The network connection dropped during the important presentation."
                    }
                },
                {
                    "word": "Impress",
                    "definition": "To have a strong effect on the mind or feelings; to influence someone positively.",
                    "context": {
                        "Context 1": "You start making answers that you feel are right to impress the person.",
                        "Context 2": "He wanted to impress his boss with a great presentation.",
                        "Context 3": "She dressed to impress for the formal event."
                    }
                },
                {
                    "word": "Comfortable",
                    "definition": "Being in a state of physical ease and relaxation.",
                    "context": {
                        "Context 1": "When you're speaking from your heart, you can be more comfortable.",
                        "Context 2": "The sofa was so comfortable that he fell asleep immediately.",
                        "Context 3": "She always felt comfortable sharing her ideas with the team."
                    }
                },
                {
                    "word": "Tension",
                    "definition": "Mental or emotional strain; a state of being stretched tight.",
                    "context": {
                        "Context 1": "Tension is lower, performance is better.",
                        "Context 2": "He felt a lot of tension before his big presentation.",
                        "Context 3": "The tension between the two rival teams was palpable."
                    }
                },
                {
                    "word": "Performance",
                    "definition": "The action or occurrence of doing something.",
                    "context": {
                        "Context 1": "Lower tension leads to better performance.",
                        "Context 2": "Her performance in the play earned her a standing ovation.",
                        "Context 3": "They were thrilled with the team's performance in the match."
                    }
                },
                {
                    "word": "Practice",
                    "definition": "Repeated exercise in an activity to improve proficiency.",
                    "context": {
                        "Context 1": "Practice, speak, talk to the recorder to improve.",
                        "Context 2": "He decided to practice the piano every day to master the piece.",
                        "Context 3": "Good athletes always prioritize practice over idle time."
                    }
                },
                {
                    "word": "Prepared",
                    "definition": "Ready for a specific purpose or activity.",
                    "context": {
                        "Context 1": "Generally, you are quite well prepared for the exam.",
                        "Context 2": "She felt well prepared for her job interview after several mock sessions.",
                        "Context 3": "He went into the meeting prepared with all the necessary documents."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Tension",
                    "fact": "Did you know that 'Tension' in music refers to a feeling of suspense created by a specific chord progression?"
                },
                {
                    "word": "Relaxed",
                    "fact": "In ancient Rome, they actually practiced relaxation techniques long before yoga or meditation was popular!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the scarecrow win an award?",
                    "answer": "Because he was outstanding in his field!"
                },
                {
                    "question": "What do you call a fish wearing a bowtie?",
                    "answer": "Sofishticated!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you seen the new game everyone's talking about?"
                },
                {
                    "Person 2": "Yeah! I can't believe how much hype it's getting. What do you think about it?"
                },
                {
                    "Person 1": "It looks amazing! I'm just worried it might be too addictive."
                },
                {
                    "Person 2": "Right? I saw a review that said it has a ton of side quests, and I could lose track of time."
                },
                {
                    "Person 1": "Exactly! I already have trouble keeping focus on simple tasks."
                },
                {
                    "Person 2": "Same here! Last weekend, I planned to read some chapters of my book but ended up playing video games all day."
                },
                {
                    "Person 1": "Haha! That sounds familiar. I might have to set a timer to keep myself in check."
                },
                {
                    "Person 2": "Good idea! Maybe I should do that too. Just one more chapter…or one more mission!"
                },
                {
                    "Person 1": "Yep! Let me know if you want to team up when you start playing."
                },
                {
                    "Person 2": "Definitely! Just don’t forget to remind me not to play all night again."
                },
                {
                    "Person 1": "I promise! We'll keep each other accountable."
                },
                {
                    "Person 2": "Deal! Now I’m actually excited about playing it responsibly."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you tried that new coffee place downtown yet?"
                },
                {
                    "Person 2": "Oh, I was just there yesterday! It’s awesome. They have this caramel latte that's to die for."
                },
                {
                    "Person 1": "Nice! I’ve been hearing a lot about their pastries too. Did you try any?"
                },
                {
                    "Person 2": "Yeah, I had their blueberry muffin, and it was super fresh. I might have to make that a regular stop."
                },
                {
                    "Person 1": "Sounds like a plan! I could go for a muffin right now. How was your week overall?"
                },
                {
                    "Person 2": "Pretty good, actually! Just busy with work stuff. How about you?"
                },
                {
                    "Person 1": "Not too bad. I finally started that new book I’ve been meaning to read. It’s really good!"
                },
                {
                    "Person 2": "Oh nice! What’s it about?"
                },
                {
                    "Person 1": "It’s a mystery novel, and it keeps me guessing! I can’t wait to see how it ends."
                },
                {
                    "Person 2": "I love a good mystery. Do you think it’s worth recommending?"
                },
                {
                    "Person 1": "Definitely! I’ll lend it to you when I’m done."
                },
                {
                    "Person 2": "Awesome! I need to get back into reading. It’s been too long."
                },
                {
                    "Person 1": "Maybe we can start a little book club—just the two of us?"
                },
                {
                    "Person 2": "That sounds fun! We can meet at that coffee place to discuss."
                },
                {
                    "Person 1": "Perfect! I’ll finish this book and let you know when I’m ready."
                },
                {
                    "Person 2": "Looking forward to it! Let’s grab that coffee soon too!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new show everyone is talking about?"
                },
                {
                    "Person 2": "Which one? There are so many out there right now!"
                },
                {
                    "Person 1": "The one about the family that wins the lottery and everything goes wild!"
                },
                {
                    "Person 2": "Oh, yes! I think it’s called 'Lucky Break' or something like that. I binged it in a weekend!"
                },
                {
                    "Person 1": "Same here! I couldn’t stop watching. It’s so crazy how they ended up in all those ridiculous situations."
                },
                {
                    "Person 2": "Right? I loved the part where they thought they could buy a private island. So unrealistic but hilarious!"
                },
                {
                    "Person 1": "Exactly! And the interactions between the family members were just the best. So relatable."
                },
                {
                    "Person 2": "Totally! It reminded me a bit of my own family. We have our fair share of drama!"
                },
                {
                    "Person 1": "For sure! Do you think they will get a second season?"
                },
                {
                    "Person 2": "I hope so! It would be interesting to see how they handle their new wealth."
                },
                {
                    "Person 1": "Yeah, and I want to see if they learn anything from their crazy experiences!"
                },
                {
                    "Person 2": "Me too! Hopefully, they won’t just keep making the same mistakes."
                },
                {
                    "Person 1": "Exactly! Alright, let’s keep our fingers crossed for that second season."
                },
                {
                    "Person 2": "Definitely! By the way, any plans for the weekend?"
                },
                {
                    "Person 1": "Thinking of just relaxing and maybe starting a new book. How about you?"
                },
                {
                    "Person 2": "Same here! I’ve got a book on my list too. Maybe we can exchange recommendations!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Hey! I'm doing pretty well. Just trying to relax a bit, you know?"
                },
                {
                    "Person 1": "Yeah, I know what you mean. Sometimes it's hard to just chill out."
                },
                {
                    "Person 2": "Totally. I feel like when I'm relaxed, I can think more clearly about stuff."
                },
                {
                    "Person 1": "Right? And when you think about your feelings, it just makes everything easier."
                },
                {
                    "Person 2": "Exactly! It's like a cycle—relaxing helps you understand your emotions better."
                },
                {
                    "Person 1": "Oh! Speaking of emotions, have you tried talking to someone about them? Like a friend?"
                },
                {
                    "Person 2": "Yeah, I actually did! I found it really helps to connect with someone instead of keeping things bottled up."
                },
                {
                    "Person 1": "For sure! Sometimes it feels like talking to a friend makes the tough stuff less heavy."
                },
                {
                    "Person 2": "Absolutely! And it’s like they’re on your side, wanting to help you feel better."
                },
                {
                    "Person 1": "Exactly! So, what do you usually do to unwind when you’re feeling stressed?"
                },
                {
                    "Person 2": "I like to go for a walk or listen to music. It really puts me in a better mood."
                },
                {
                    "Person 1": "Nice! I should try that. I usually just binge-watch shows, but it doesn't always help."
                },
                {
                    "Person 2": "Yeah, that can be a bit much sometimes. Maybe we can go for a walk together sometime?"
                },
                {
                    "Person 1": "That sounds great! Let’s plan for the weekend."
                },
                {
                    "Person 2": "Perfect! I’ll bring my favorite playlist."
                },
                {
                    "Person 1": "Deal! I can't wait!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
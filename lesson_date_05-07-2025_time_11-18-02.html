<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "it's not so occasion",
                    "corrected": "it's not such an occasion",
                    "explanation": "'So' is incorrect here; 'such' should be used to describe the noun 'occasion.'",
                    "context": "I've been quite busy lately, but it's okay for me. It's not such an occasion to worry about."
                },
                {
                    "original": "I really don't remember our last classes it is really a long time ago",
                    "corrected": "I really don't remember our last classes; it was really a long time ago.",
                    "explanation": "The verb 'is' should be changed to 'was' to match the past tense of the context.",
                    "context": "It's been a while since we last met. I really don't remember our last classes; it was really a long time ago."
                },
                {
                    "original": "I just waiting English with her",
                    "corrected": "I'm just waiting for English with her.",
                    "explanation": "The verb 'waiting' needs an auxiliary verb 'am' to form the present continuous tense.",
                    "context": "I'm preparing for my upcoming trip. I'm just waiting for English with her, and then we'll see what happens."
                },
                {
                    "original": "it is really interesting it's not my unusual visa",
                    "corrected": "it is really interesting; it's not my usual visa.",
                    "explanation": "'Unusual' is incorrect here; 'usual' should be used to describe the common type of visa.",
                    "context": "I'm excited about my upcoming travels. It is really interesting; it's not my usual visa."
                },
                {
                    "original": "I have some friends who live who lives in Great Britain",
                    "corrected": "I have some friends who live in Great Britain.",
                    "explanation": "The verb 'lives' should be 'live' to agree with the plural subject 'friends.'",
                    "context": "I have some friends who live in Great Britain, including London and Glasgow."
                },
                {
                    "original": "she's musician girls",
                    "corrected": "she's a musician girl.",
                    "explanation": "The article 'a' is needed before 'musician,' and 'girls' should be singular to match the subject.",
                    "context": "I have a friend named Veronica. She's a musician girl, and she's amazing."
                },
                {
                    "original": "she got talented with her in England",
                    "corrected": "she got her talent in England.",
                    "explanation": "The phrase 'got talented with her' is incorrect; it should be 'got her talent.'",
                    "context": "My friend Erica is very talented. She got her talent in England, and she's a musician."
                },
                {
                    "original": "it is my near friend",
                    "corrected": "it is my close friend.",
                    "explanation": "'Near' is incorrect here; 'close' should be used to describe a friendship.",
                    "context": "I have a friend in Glasgow. It is my close friend, and I absolutely love this man."
                },
                {
                    "original": "we just talking we talked we talked no we talked a lot online",
                    "corrected": "we just talked a lot online.",
                    "explanation": "The verb 'talking' should be changed to 'talked' to maintain past tense consistency.",
                    "context": "Even though we haven't seen each other in two years, we just talked a lot online."
                },
                {
                    "original": "I wanted I wanted to buy something in a Vito",
                    "corrected": "I wanted to buy something in a video.",
                    "explanation": "'A Vito' is unclear; it should be 'a video' for clarity.",
                    "context": "I remember a time when I wanted to buy something in a video. It was a long time ago."
                },
                {
                    "original": "it was native speaker",
                    "corrected": "he was a native speaker.",
                    "explanation": "The subject 'it' should be changed to 'he' for clarity, and 'was' needs the article 'a.'",
                    "context": "I had an interesting conversation. He was a native speaker, and we discussed many topics."
                },
                {
                    "original": "I don't know it is just friendly situation",
                    "corrected": "I don't know; it was just a friendly situation.",
                    "explanation": "The verb 'is' should be changed to 'was' to match the past context, and a semicolon is needed.",
                    "context": "After our meeting, I felt a connection. I don't know; it was just a friendly situation."
                },
                {
                    "original": "he returned now he he went to Moscow",
                    "corrected": "he returned; now he has gone to Moscow.",
                    "explanation": "The verb 'went' should be changed to 'has gone' to indicate a recent action, and a semicolon is needed.",
                    "context": "After some time in Europe, he returned; now he has gone to Moscow."
                },
                {
                    "original": "it's a moment Eric lives in Moscow",
                    "corrected": "at the moment, Eric lives in Moscow.",
                    "explanation": "'It's a moment' is incorrect; it should be 'at the moment' to indicate the current time.",
                    "context": "Currently, my friend Eric is in Moscow. At the moment, Eric lives in Moscow."
                },
                {
                    "original": "I mean I'm in person who lives in Glasgow",
                    "corrected": "I mean I'm a person who lives in Glasgow.",
                    "explanation": "The phrase 'in person' is incorrect; it should be 'a person' to clarify the subject.",
                    "context": "I have friends in different cities. I mean I'm a person who lives in Glasgow."
                },
                {
                    "original": "it is just interesting situation",
                    "corrected": "it is just an interesting situation.",
                    "explanation": "The article 'an' is needed before 'interesting situation.'",
                    "context": "I had a unique experience. It is just an interesting situation that I encountered."
                },
                {
                    "original": "she got a concert in Moscow in March this year is this year",
                    "corrected": "she had a concert in Moscow in March this year.",
                    "explanation": "The phrase 'is this year' is redundant; 'had' should be used for past events.",
                    "context": "My friend had a concert in Moscow in March this year. It was a memorable event."
                },
                {
                    "original": "we are you know we are close after this concert",
                    "corrected": "we became close after this concert.",
                    "explanation": "'We are close' should be changed to 'we became close' to indicate a change in relationship.",
                    "context": "After attending her concert, we developed a bond. We became close after this concert."
                },
                {
                    "original": "I mean our friendship",
                    "corrected": "I mean it's our friendship.",
                    "explanation": "The phrase 'I mean our friendship' lacks clarity; 'it's' should be added for coherence.",
                    "context": "Our connection has grown over time. I mean it's our friendship that makes it special."
                },
                {
                    "original": "it is really interesting trip for me because we it is my it's not my first place with friends",
                    "corrected": "it is really an interesting trip for me because it's not my first time traveling with friends.",
                    "explanation": "The phrase 'first place' is incorrect; it should be 'first time traveling' for clarity.",
                    "context": "Traveling with friends is always fun. It is really an interesting trip for me because it's not my first time traveling with friends."
                },
                {
                    "original": "we my friends and I we are fans of GDM",
                    "corrected": "my friends and I are fans of GDM.",
                    "explanation": "The phrase 'we my friends and I we are' is redundant; it should be simplified.",
                    "context": "We share a common interest. My friends and I are fans of GDM."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "my friend have my friend have my close friends in Russian have friend in Japan",
                    "corrected": "my friend has my close friends in Russia and has a friend in Japan",
                    "explanation": "The verb 'have' should be 'has' for third-person singular subjects. 'In Russian' should be 'in Russia' to refer to the country.",
                    "context": "I have a close friend in Russia who also has a friend in Japan. My friend has shared interesting stories about their experiences."
                },
                {
                    "original": "it is not not safety",
                    "corrected": "it is not safe",
                    "explanation": "The phrase 'not not safety' is incorrect; it should be 'not safe' to describe the situation.",
                    "context": "My friend mentioned that night racing is not safe. The police often intervene during these events."
                },
                {
                    "original": "we are don't take a photo or maybe video",
                    "corrected": "we don't take photos or videos",
                    "explanation": "The phrase 'we are don't' is incorrect; it should be 'we don't.' 'Photo' should be pluralized to 'photos.'",
                    "context": "Our friends advised us that we don't take photos or videos during the night racing. It's a problem because it is illegal."
                },
                {
                    "original": "we are take a photo when we when we went to this night racing",
                    "corrected": "we took a photo when we went to this night racing",
                    "explanation": "The phrase 'we are take' is incorrect; it should be 'we took' to indicate past tense.",
                    "context": "Despite the warnings, we took a photo when we went to the night racing. It was an exciting experience."
                },
                {
                    "original": "I was I don't know five yeah five five days in Beijing",
                    "corrected": "I was in Beijing for five days",
                    "explanation": "The phrase 'I was I don't know five' is awkward; it should be rephrased for clarity.",
                    "context": "I spent five days in Beijing. It was a fascinating trip filled with many interesting places."
                },
                {
                    "original": "I absolutely know Istanbul and absolutely love this place",
                    "corrected": "I absolutely know Istanbul and love this place",
                    "explanation": "The repetition of 'absolutely' is unnecessary; it should be used once.",
                    "context": "I absolutely know Istanbul and love this place. It has so much to offer in terms of culture and history."
                },
                {
                    "original": "it is like a topic I mean like the first topic",
                    "corrected": "it is like a topic, I mean the first topic",
                    "explanation": "The phrase is awkward; a comma is needed for clarity.",
                    "context": "When discussing my travel plans, I mentioned it is like a topic, I mean the first topic. I have many places in mind."
                },
                {
                    "original": "store is like a grocery store no store it is a name of mountain",
                    "corrected": "Store is not like a grocery store; it is the name of a mountain.",
                    "explanation": "The sentence structure is confusing; it should be clarified with proper punctuation.",
                    "context": "I was talking about a place called Store. It's not a grocery store; it's the name of a mountain."
                },
                {
                    "original": "I visit Scotland Lake",
                    "corrected": "I will visit Loch Ness",
                    "explanation": "The term 'Scotland Lake' is incorrect; it should refer to 'Loch Ness' specifically.",
                    "context": "I plan to visit Loch Ness in Scotland. Maybe I will see the Loch Ness creature while I'm there."
                },
                {
                    "original": "I have zero like Manchester United",
                    "corrected": "I have zero knowledge about Manchester United",
                    "explanation": "The phrase is unclear; 'zero knowledge' is the correct expression.",
                    "context": "I have zero knowledge about Manchester United and other soccer teams. I need to learn more about them."
                },
                {
                    "original": "I just lose my money",
                    "corrected": "I would just lose my money",
                    "explanation": "The phrase should use 'would' to indicate a hypothetical situation.",
                    "context": "If they refuse my visa, I would just lose my money. It's a risk I'm aware of."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I failed to remember this name like I remember the name Balkanski right him I remember then there was Rastov and Natasha Rastov and there there was this this guy like he was fat that thing I remember he was fat and he was a count.",
                    "corrected": "I failed to remember this name, but I remember the name Balkanski. I remember there was Rastov and Natasha Rastov, and there was this guy who was fat; I remember he was a count.",
                    "explanation": "The original sentence is a run-on with unclear structure. It needs punctuation and clearer connections between ideas.",
                    "context": "We were discussing characters from Tolstoy's book. I failed to remember this name, but I remember the name Balkanski. I remember there was Rastov and Natasha Rastov, and there was this guy who was fat; I remember he was a count."
                },
                {
                    "original": "my family went once yeah and it's so really cool yeah and my my grant my grandfather knows each how I say and sisters no ancestors yeah yeah yeah",
                    "corrected": "My family went once, and it was really cool. My grandfather knows many of our ancestors.",
                    "explanation": "The phrase 'each how I say and sisters no ancestors' is unclear and grammatically incorrect. It should be simplified for clarity.",
                    "context": "I was talking about my family's history. My family went once, and it was really cool. My grandfather knows many of our ancestors."
                },
                {
                    "original": "and my grandfather and I we are laughing about it yeah but it's okay for us so like seven children and they're all your like what your not uncles but like I have I have a lot of family",
                    "corrected": "My grandfather and I laugh about it, but it's okay for us. I have a lot of family, including seven children, but they're not all my uncles.",
                    "explanation": "The original sentence is convoluted and lacks proper punctuation, making it difficult to follow. It should be broken down for clarity.",
                    "context": "We were discussing my family dynamics. My grandfather and I laugh about it, but it's okay for us. I have a lot of family, including seven children, but they're not all my uncles."
                },
                {
                    "original": "and about my sister in Boston we are we are writing in what's on whatsapp and it's okay for us it's a problem because she has she has a Boston time zone and I have Moscow time zone",
                    "corrected": "Regarding my sister in Boston, we communicate on WhatsApp, and it's okay for us. The problem is that she is in the Boston time zone, while I am in the Moscow time zone.",
                    "explanation": "The original sentence is repetitive and lacks clarity. It needs to be restructured for better flow.",
                    "context": "I was explaining how I keep in touch with my sister. Regarding my sister in Boston, we communicate on WhatsApp, and it's okay for us. The problem is that she is in the Boston time zone, while I am in the Moscow time zone."
                },
                {
                    "original": "and I hope that I was it in next year USA yeah",
                    "corrected": "I hope to visit the USA next year.",
                    "explanation": "The phrase 'I was it in next year USA' is grammatically incorrect and unclear. It should be simplified to convey the intended meaning.",
                    "context": "I was sharing my travel plans. I hope to visit the USA next year."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "this book wrote Russian journalist USSR journalist",
                    "corrected": "this book was written by a Russian journalist from the USSR",
                    "explanation": "The original sentence lacks the correct passive voice structure; 'was written by' is needed to indicate that the book was created by someone.",
                    "context": "I have an interesting story about a book I read. This book was written by a Russian journalist from the USSR. It explores various aspects of Japan."
                },
                {
                    "original": "this book named Sakura and Oak",
                    "corrected": "this book is named Sakura and Oak",
                    "explanation": "The original sentence is missing the verb 'is' to properly introduce the title of the book.",
                    "context": "I have read an interesting book. This book is named Sakura and Oak. It delves into the traditions of Japan."
                },
                {
                    "original": "maybe 20 years or and in Great Britain 10 years",
                    "corrected": "maybe 20 years and in Great Britain for 10 years",
                    "explanation": "The phrase 'or and' is incorrect; it should simply be 'and' to connect the two durations.",
                    "context": "This journalist lived in Japan for maybe 20 years and in Great Britain for 10 years. His experiences in both countries were quite unique."
                },
                {
                    "original": "he's not diploma just writer and journalist",
                    "corrected": "he's not a diplomat, just a writer and journalist",
                    "explanation": "The word 'diploma' is incorrect; it should be 'diplomat,' and articles ('a') are needed before 'diplomat' and 'writer.'",
                    "context": "He was not a diplomat, just a writer and journalist. His expertise was in the cultures of Japan and China."
                },
                {
                    "original": "it's you know maybe when you visit a lot of countries you don't count it",
                    "corrected": "you know, maybe when you visit a lot of countries, you don't count them",
                    "explanation": "The sentence is missing the pronoun 'them' after 'count' for clarity.",
                    "context": "You know, maybe when you visit a lot of countries, you don't count them. It can feel like the world is small and interconnected."
                },
                {
                    "original": "and it is not a large",
                    "corrected": "and it is not large",
                    "explanation": "The article 'a' is unnecessary before 'large' in this context.",
                    "context": "You absolutely know that the world is small and it is not large. People everywhere share similar problems and traditions."
                },
                {
                    "original": "this importance spoken like a person who has traveled a lot",
                    "corrected": "this is important, spoken like a person who has traveled a lot",
                    "explanation": "The phrase is missing the verb 'is' and needs a comma for clarity.",
                    "context": "This is important, spoken like a person who has traveled a lot. It reflects a deep understanding of the world."
                },
                {
                    "original": "I would like to throw to Scotland",
                    "corrected": "I would like to travel to Scotland",
                    "explanation": "'Throw' is incorrect in this context; 'travel' is the appropriate verb.",
                    "context": "But in Scotland, you know, I would like to travel there. It has beautiful mountains and a great atmosphere."
                },
                {
                    "original": "I hope everything works out and we'll see each other hopefully next weekend",
                    "corrected": "I hope everything works out and we'll hopefully see each other next weekend",
                    "explanation": "The placement of 'hopefully' is awkward; it should come before 'see' for better flow.",
                    "context": "I hope everything works out and we'll hopefully see each other next weekend. I'm looking forward to it!"
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Vacation",
                    "definition": "A period of time spent away from home or school for relaxation or travel.",
                    "context": {
                        "Context 1": "I am planning my vacation for September.",
                        "Context 2": "During my vacation, I visited several historical sites.",
                        "Context 3": "He took a vacation to learn how to surf in Hawaii."
                    }
                },
                {
                    "word": "Marathon",
                    "definition": "A long-distance running race, typically 26.2 miles (42.195 kilometers).",
                    "context": {
                        "Context 1": "I participated in two marathons this year.",
                        "Context 2": "The marathon was held in the city center and attracted thousands of runners.",
                        "Context 3": "She trained for months to run her first marathon in New York."
                    }
                },
                {
                    "word": "Triathlon",
                    "definition": "A multi-sport race that includes swimming, cycling, and running.",
                    "context": {
                        "Context 1": "Tomorrow, I will compete in a triathlon.",
                        "Context 2": "He decided to join a triathlon team to improve his fitness.",
                        "Context 3": "The triathlon was so challenging that many participants had to drop out."
                    }
                },
                {
                    "word": "Visa",
                    "definition": "An official document allowing a person to enter, stay, or leave a country.",
                    "context": {
                        "Context 1": "I am waiting for my visa to travel to England.",
                        "Context 2": "She applied for a student visa to study abroad.",
                        "Context 3": "Without a visa, he couldn't board the flight to Australia."
                    }
                },
                {
                    "word": "Concert",
                    "definition": "A live performance of music before an audience.",
                    "context": {
                        "Context 1": "I got a ticket to her concert in Moscow.",
                        "Context 2": "The concert featured several famous artists and was sold out.",
                        "Context 3": "He plays guitar in a band and performs at local concerts."
                    }
                },
                {
                    "word": "Talented",
                    "definition": "Having a natural aptitude or skill for something.",
                    "context": {
                        "Context 1": "She is a talented musician who plays multiple instruments.",
                        "Context 2": "The talented artist painted a mural for the city.",
                        "Context 3": "He is so talented at cooking that he should open a restaurant."
                    }
                },
                {
                    "word": "Friendship",
                    "definition": "A close and trusting relationship between two or more people.",
                    "context": {
                        "Context 1": "Our friendship grew stronger after the concert.",
                        "Context 2": "Friendship is important for emotional support and happiness.",
                        "Context 3": "They formed a friendship while working on a group project."
                    }
                },
                {
                    "word": "Interesting",
                    "definition": "Arousing curiosity or interest; holding or catching the attention.",
                    "context": {
                        "Context 1": "It will be an interesting trip for me to Great Britain.",
                        "Context 2": "The documentary was so interesting that I watched it twice.",
                        "Context 3": "She finds science fiction books particularly interesting."
                    }
                },
                {
                    "word": "Culture",
                    "definition": "The ideas, customs, and social behavior of a particular people or society.",
                    "context": {
                        "Context 1": "Japan has a unique culture that fascinates many travelers.",
                        "Context 2": "The festival celebrated the culture of different countries.",
                        "Context 3": "He enjoys learning about the culture of ancient civilizations."
                    }
                },
                {
                    "word": "Explore",
                    "definition": "To travel through an unfamiliar area to learn about it.",
                    "context": {
                        "Context 1": "I want to explore different countries during my vacation.",
                        "Context 2": "The scientist went to the rainforest to explore new species.",
                        "Context 3": "They decided to explore the city on foot to discover hidden gems."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Vacation",
                    "fact": "Did you know that the word 'vacation' comes from the Latin word 'vacare,' which means 'to be empty'? So, when you go on vacation, you're emptying your schedule!"
                },
                {
                    "word": "Marathon",
                    "fact": "The original marathon was run by a Greek soldier who ran about 26 miles to announce victory in battle, then promptly collapsed. Talk about dedication!"
                },
                {
                    "word": "Visa",
                    "fact": "In some countries, a visa can be issued for just a few hours, which is perfect for a quick coffee run across the border!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the musician get kicked out of the concert?",
                    "answer": "Because he kept playing the wrong notes and couldn't find his key!"
                },
                {
                    "question": "Why did the runner bring a ladder to the marathon?",
                    "answer": "Because they heard the race had a lot of ups and downs!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Drifting",
                    "definition": "A driving technique where the driver intentionally oversteers, causing loss of traction in the rear wheels while maintaining control.",
                    "context": {
                        "Context 1": "In Russia, we enjoy drifting cars during nighttime races.",
                        "Context 2": "The leaves were drifting gently down from the trees in autumn.",
                        "Context 3": "He was drifting off to sleep while listening to music."
                    }
                },
                {
                    "word": "Illegal",
                    "definition": "Not allowed by law; unlawful.",
                    "context": {
                        "Context 1": "The police consider night racing to be illegal.",
                        "Context 2": "It is illegal to park your car in a no-parking zone.",
                        "Context 3": "In some countries, it is illegal to own certain exotic pets."
                    }
                },
                {
                    "word": "Spontaneous",
                    "definition": "Occurring as a result of a sudden inner impulse or inclination; not planned or premeditated.",
                    "context": {
                        "Context 1": "Sometimes I take spontaneous trips without a plan.",
                        "Context 2": "The spontaneous laughter of children filled the park.",
                        "Context 3": "He made a spontaneous decision to buy a new car."
                    }
                },
                {
                    "word": "Cosmetic",
                    "definition": "Relating to beauty or appearance; often used to describe products that enhance appearance.",
                    "context": {
                        "Context 1": "She wore a cosmetic mask for the beauty event.",
                        "Context 2": "The cosmetic changes to the car made it look brand new.",
                        "Context 3": "He was more interested in the cosmetic aspects of the project than the technical details."
                    }
                },
                {
                    "word": "Misty",
                    "definition": "Characterized by mist; having a hazy or unclear quality.",
                    "context": {
                        "Context 1": "Scotland is often described as a misty place with beautiful landscapes.",
                        "Context 2": "The misty morning made the city look magical.",
                        "Context 3": "She had a misty memory of her childhood home."
                    }
                },
                {
                    "word": "Culture",
                    "definition": "The social behavior and norms found in human societies; the arts and other manifestations of human intellectual achievement regarded collectively.",
                    "context": {
                        "Context 1": "I love experiencing the culture in Japan during my travels.",
                        "Context 2": "The culture of the ancient Greeks has influenced modern philosophy.",
                        "Context 3": "He studied the culture of the indigenous tribes in the Amazon."
                    }
                },
                {
                    "word": "Adventure",
                    "definition": "An unusual and exciting experience or activity.",
                    "context": {
                        "Context 1": "Traveling to different countries is always an adventure for me.",
                        "Context 2": "The book is filled with tales of adventure on the high seas.",
                        "Context 3": "They planned an adventure to climb the highest mountain in the region."
                    }
                },
                {
                    "word": "Plan",
                    "definition": "A detailed proposal for doing or achieving something.",
                    "context": {
                        "Context 1": "I always have a plan for my trips to new places.",
                        "Context 2": "The architect presented a plan for the new building.",
                        "Context 3": "They made a plan to meet for dinner next week."
                    }
                },
                {
                    "word": "Match",
                    "definition": "A contest in which people or teams compete against each other.",
                    "context": {
                        "Context 1": "I hope to see a football match in London during my visit.",
                        "Context 2": "The match between the two rival teams was very exciting.",
                        "Context 3": "She struck a match to light the candle."
                    }
                },
                {
                    "word": "Creature",
                    "definition": "A living being, especially an animal.",
                    "context": {
                        "Context 1": "I hope to see the Loch Ness creature during my trip to Scotland.",
                        "Context 2": "The forest was filled with strange creatures at night.",
                        "Context 3": "He created a creature for his fantasy novel."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Drifting",
                    "fact": "Did you know that drifting originated in Japan in the 1970s and was popularized by street racers?"
                },
                {
                    "word": "Spontaneous",
                    "fact": "Spontaneous combustion is a real phenomenon, but thankfully, it doesn't happen to people!"
                },
                {
                    "word": "Misty",
                    "fact": "The word 'misty' is often used in poetry to evoke feelings of nostalgia and mystery!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the car apply for a job?",
                    "answer": "Because it wanted to get a little more 'drive' in its life!"
                },
                {
                    "question": "Why did the ghost go to the party?",
                    "answer": "Because he heard it was going to be a 'boo'-last!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Visa",
                    "definition": "An official document allowing a person to enter, stay, or leave a country.",
                    "context": {
                        "Context 1": "I need to apply for a visa to visit my family in the USA.",
                        "Context 2": "The visa process can be complicated, especially for students.",
                        "Context 3": "He forgot to bring his visa when he traveled to France."
                    }
                },
                {
                    "word": "Lineage",
                    "definition": "Direct descent from an ancestor; ancestry.",
                    "context": {
                        "Context 1": "I can trace my lineage back to the 19th century.",
                        "Context 2": "Her lineage includes several famous artists from the 20th century.",
                        "Context 3": "The lineage of the royal family is well documented."
                    }
                },
                {
                    "word": "Ancestor",
                    "definition": "A person from whom one is descended, typically more distant than a grandparent.",
                    "context": {
                        "Context 1": "My grandfather knows many of our ancestors.",
                        "Context 2": "She researched her ancestors and found out they were farmers.",
                        "Context 3": "Ancestors often influence our family traditions."
                    }
                },
                {
                    "word": "Reunion",
                    "definition": "An instance of two or more people coming together again after a period of separation.",
                    "context": {
                        "Context 1": "We are planning a family reunion this summer.",
                        "Context 2": "The school organized a reunion for all the alumni.",
                        "Context 3": "After years apart, the friends had a joyful reunion at the café."
                    }
                },
                {
                    "word": "High-ranking",
                    "definition": "Holding a position of great importance or authority.",
                    "context": {
                        "Context 1": "Some of my ancestors were high-ranking officers in the army.",
                        "Context 2": "The high-ranking officials met to discuss the new policy.",
                        "Context 3": "He was promoted to a high-ranking position in the company."
                    }
                },
                {
                    "word": "Kazakhstan",
                    "definition": "A country in Central Asia, known for its vast steppes and nomadic culture.",
                    "context": {
                        "Context 1": "My family moved to Kazakhstan after the war.",
                        "Context 2": "Kazakhstan is famous for its beautiful landscapes and rich history.",
                        "Context 3": "He plans to travel to Kazakhstan next summer."
                    }
                },
                {
                    "word": "Soldier",
                    "definition": "A person who serves in an army.",
                    "context": {
                        "Context 1": "Many of my ancestors were soldiers during the wars.",
                        "Context 2": "The soldier received a medal for bravery in battle.",
                        "Context 3": "He dreams of becoming a soldier and serving his country."
                    }
                },
                {
                    "word": "Citizenship",
                    "definition": "The status of being a legal member of a particular country.",
                    "context": {
                        "Context 1": "I can apply for citizenship based on my family's history.",
                        "Context 2": "She gained citizenship after living in the country for several years.",
                        "Context 3": "Citizenship comes with rights and responsibilities."
                    }
                },
                {
                    "word": "Time zone",
                    "definition": "A region of the globe that observes a uniform standard time for legal, commercial, and social purposes.",
                    "context": {
                        "Context 1": "My sister lives in a different time zone, which makes communication tricky.",
                        "Context 2": "Traveling across time zones can disrupt your sleep schedule.",
                        "Context 3": "He set his watch to the local time zone when he arrived."
                    }
                },
                {
                    "word": "Relative",
                    "definition": "A person connected by blood or marriage.",
                    "context": {
                        "Context 1": "I have relatives in Germany and the USA.",
                        "Context 2": "She invited all her relatives to her wedding.",
                        "Context 3": "Finding a long-lost relative can be an emotional experience."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Visa",
                    "fact": "Did you know that the word 'visa' comes from the Latin word 'charta visa,' meaning 'the paper that has been seen'?"
                },
                {
                    "word": "Lineage",
                    "fact": "Some people can trace their lineage back to famous historical figures, like kings or queens, making family reunions quite royal!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the visa application go to therapy?",
                    "answer": "Because it had too many issues with rejection!"
                },
                {
                    "question": "Why did the ancestor bring a ladder to the family reunion?",
                    "answer": "Because they wanted to reach new heights in the family tree!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Tradition",
                    "definition": "The transmission of customs or beliefs from generation to generation.",
                    "context": {
                        "Context 1": "The book discusses the tradition of tea ceremonies in Japan.",
                        "Context 2": "Every year, our family has a tradition of gathering for Thanksgiving dinner.",
                        "Context 3": "In many cultures, storytelling is a tradition that keeps history alive."
                    }
                },
                {
                    "word": "Journalist",
                    "definition": "A person who writes for newspapers, magazines, or news websites or prepares news to be broadcast.",
                    "context": {
                        "Context 1": "The journalist wrote an article about the cultural differences between Japan and Great Britain.",
                        "Context 2": "She always dreamed of becoming a journalist after watching the news as a child.",
                        "Context 3": "The journalist was awarded for her investigative reporting on environmental issues."
                    }
                },
                {
                    "word": "Expert",
                    "definition": "A person who has a comprehensive and authoritative knowledge of or skill in a particular area.",
                    "context": {
                        "Context 1": "He is an expert in oriental culture, having lived in Japan for many years.",
                        "Context 2": "The expert was invited to speak at the conference about climate change.",
                        "Context 3": "As a cooking expert, she has her own television show on gourmet recipes."
                    }
                },
                {
                    "word": "Diplomat",
                    "definition": "An official representing a country abroad.",
                    "context": {
                        "Context 1": "Although he lived in Japan, he was not a diplomat but a journalist.",
                        "Context 2": "The diplomat negotiated a peace treaty between the two nations.",
                        "Context 3": "Being a diplomat requires excellent communication and negotiation skills."
                    }
                },
                {
                    "word": "Amusing",
                    "definition": "Causing laughter or providing entertainment.",
                    "context": {
                        "Context 1": "The story about his travels was quite amusing and kept everyone entertained.",
                        "Context 2": "She found the movie amusing and laughed throughout the entire film.",
                        "Context 3": "His amusing anecdotes about childhood made the lecture enjoyable."
                    }
                },
                {
                    "word": "Culture",
                    "definition": "The social behavior and norms found in human societies.",
                    "context": {
                        "Context 1": "The book explores the culture of Japan and its traditions.",
                        "Context 2": "Learning about different cultures can broaden your perspective on life.",
                        "Context 3": "The festival celebrates the culture of various ethnic groups in the city."
                    }
                },
                {
                    "word": "Visa",
                    "definition": "An official document allowing a foreign person to enter, stay, or leave a country.",
                    "context": {
                        "Context 1": "I hope you get your visa to travel to Scotland soon.",
                        "Context 2": "He applied for a visa to study abroad for a year.",
                        "Context 3": "Without a visa, you cannot legally enter the country."
                    }
                },
                {
                    "word": "Atmosphere",
                    "definition": "The pervading tone or mood of a place, situation, or creative work.",
                    "context": {
                        "Context 1": "The mountains in Scotland create a beautiful atmosphere for hiking.",
                        "Context 2": "The restaurant has a romantic atmosphere perfect for date nights.",
                        "Context 3": "The atmosphere at the concert was electric, with fans cheering loudly."
                    }
                },
                {
                    "word": "Travel",
                    "definition": "To make a journey, typically of some length.",
                    "context": {
                        "Context 1": "He is not half as fond of traveling as I am, despite my many trips.",
                        "Context 2": "Traveling can be a great way to learn about different cultures.",
                        "Context 3": "She plans to travel across Europe next summer."
                    }
                },
                {
                    "word": "Similar",
                    "definition": "Having a resemblance in appearance, character, or quantity, without being identical.",
                    "context": {
                        "Context 1": "People around the world are similar in many ways, despite cultural differences.",
                        "Context 2": "The two paintings are similar in style but differ in color.",
                        "Context 3": "Their opinions on the matter are similar, leading to a strong agreement."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Tradition",
                    "fact": "In some cultures, it’s traditional to eat 12 grapes at midnight on New Year’s Eve for good luck!"
                },
                {
                    "word": "Visa",
                    "fact": "In some countries, it’s easier to get a visa to visit than to get a library card!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the journalist bring a ladder to the interview?",
                    "answer": "Because they wanted to reach new heights in their career!"
                },
                {
                    "question": "Why don’t scientists trust atoms?",
                    "answer": "Because they make up everything!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Long time no see! How have you been?"
                },
                {
                    "Person 2": "Hey! I know, right? I've been pretty busy, but it's all good. Just got back from a few trips."
                },
                {
                    "Person 1": "Nice! Where did you go?"
                },
                {
                    "Person 2": "I visited a couple of countries and even ran two marathons! Tomorrow, I'm gearing up for a triathlon."
                },
                {
                    "Person 1": "Wow, that's impressive! I need to get back into shape. What countries did you visit?"
                },
                {
                    "Person 2": "Oh, I went to England, Scotland, and a few others. I have some friends there, which made it even better."
                },
                {
                    "Person 1": "That sounds amazing! Do you have any cool stories from your trips?"
                },
                {
                    "Person 2": "Definitely! I met this incredible musician in Brighton. She’s super talented and has concerts all over."
                },
                {
                    "Person 1": "That's awesome! I love discovering new music. What kind of music does she play?"
                },
                {
                    "Person 2": "She plays a mix of indie and folk. It’s really refreshing. And I also caught up with a friend in Glasgow who I hadn’t seen in years."
                },
                {
                    "Person 1": "Reconnecting with old friends is the best! How did you meet all these people?"
                },
                {
                    "Person 2": "A lot of them I met while traveling or through mutual friends. It’s funny how connections work."
                },
                {
                    "Person 1": "For sure! I should plan a trip and meet some new people too. Any recommendations?"
                },
                {
                    "Person 2": "Absolutely! London is a must. It’s such a vibrant city with so much to explore."
                },
                {
                    "Person 1": "I’ve always wanted to go! What about Japan? I heard it’s amazing."
                },
                {
                    "Person 2": "Oh, Japan was incredible! I spent three weeks there and visited so many cities. The culture is so different."
                },
                {
                    "Person 1": "That sounds like a dream! I need to add that to my travel list."
                },
                {
                    "Person 2": "You should! It’s an experience you won’t forget. Let’s plan a trip together sometime!"
                },
                {
                    "Person 1": "That would be awesome! Let’s make it happen!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you heard about that new car show in town?"
                },
                {
                    "Person 2": "Yeah, I saw some ads for it! Is it the one with the drifting cars?"
                },
                {
                    "Person 1": "Exactly! My friends are really into that stuff. They say it's super exciting."
                },
                {
                    "Person 2": "I can imagine! I’ve seen some videos online, and those cars look amazing."
                },
                {
                    "Person 1": "Right? And they have these night racing events too, but I hear it can get a bit risky."
                },
                {
                    "Person 2": "Yeah, I’ve heard the police don’t really like it. Sounds thrilling, though!"
                },
                {
                    "Person 1": "Totally! I think it would be fun to check it out, but I’d probably just watch."
                },
                {
                    "Person 2": "Same here! I’d be too scared to actually race. Just watching is enough excitement for me."
                },
                {
                    "Person 1": "Speaking of excitement, have you traveled anywhere interesting lately?"
                },
                {
                    "Person 2": "Actually, I just got back from a trip to Beijing! The Great Wall was incredible."
                },
                {
                    "Person 1": "Wow, that sounds amazing! I’ve always wanted to see that."
                },
                {
                    "Person 2": "You should definitely go! The views are breathtaking. I spent five days there."
                },
                {
                    "Person 1": "Nice! I’d love to explore more places like that. Any plans for your next trip?"
                },
                {
                    "Person 2": "Yes! I’m thinking about going to the UK next. London, Oxford, maybe even Scotland."
                },
                {
                    "Person 1": "That sounds like a great plan! I’ve heard so much about Edinburgh."
                },
                {
                    "Person 2": "Yeah, I want to see the castles and maybe even the Loch Ness monster!"
                },
                {
                    "Person 1": "Ha! Good luck with that! I’ve heard it’s all just legends."
                },
                {
                    "Person 2": "True, but it’s fun to think about! Plus, I want to catch a football match while I’m there."
                },
                {
                    "Person 1": "That would be awesome! Which teams are you hoping to see?"
                },
                {
                    "Person 2": "Maybe Manchester United or Liverpool. I hear the atmosphere is electric!"
                },
                {
                    "Person 1": "For sure! You’ll have to tell me all about it when you get back."
                },
                {
                    "Person 2": "Definitely! I can’t wait to share all the stories and photos."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new visa application process?"
                },
                {
                    "Person 2": "Yeah, I did! It sounds pretty complicated. Are you thinking about applying?"
                },
                {
                    "Person 1": "I might. I just realized my last name is the same as a character from a Tolstoy book. Kind of funny, right?"
                },
                {
                    "Person 2": "No way! Which character? I love Tolstoy's work!"
                },
                {
                    "Person 1": "It's the character Rostov. I was just talking about it with someone in class the other day."
                },
                {
                    "Person 2": "Ah, I remember him! He was quite the character. Did you read 'War and Peace'?"
                },
                {
                    "Person 1": "Yeah, I did! It was a bit of a marathon, but totally worth it."
                },
                {
                    "Person 2": "For sure! I love how it dives into history. Speaking of history, do you know much about your family tree?"
                },
                {
                    "Person 1": "Actually, I do! My grandfather traced our lineage back six generations."
                },
                {
                    "Person 2": "Wow, that's impressive! How far back does it go?"
                },
                {
                    "Person 1": "To the early 19th century, during the Russian Empire. It's fascinating!"
                },
                {
                    "Person 2": "That is cool! So, were your ancestors in the military?"
                },
                {
                    "Person 1": "Yes, they were mostly soldiers. My great-grandfather was a captain during some tough times."
                },
                {
                    "Person 2": "That sounds intense. Did he have any interesting stories?"
                },
                {
                    "Person 1": "Oh, definitely! He survived two world wars but lost two sons in the second one. It was heartbreaking."
                },
                {
                    "Person 2": "That’s so tragic. It must have been tough for him."
                },
                {
                    "Person 1": "Yeah, he had seven children to care for, but he always talked about his lost sons."
                },
                {
                    "Person 2": "That's a big family! Do you keep in touch with them?"
                },
                {
                    "Person 1": "I do! I have relatives all over—Germany, the U.S., and even New Zealand."
                },
                {
                    "Person 2": "That's awesome! Have you ever thought about applying for citizenship based on your family connections?"
                },
                {
                    "Person 1": "I have! My sister in Boston is working on it. It would make traveling so much easier."
                },
                {
                    "Person 2": "Absolutely! Imagine how much simpler it would be to visit places like Great Britain."
                },
                {
                    "Person 1": "Right? I can't wait to travel more. I've been to Japan and Norway, and I loved both!"
                },
                {
                    "Person 2": "Those are great destinations! We should plan a trip together sometime."
                },
                {
                    "Person 1": "Definitely! Let’s make it happen!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you ever thought about traveling to different countries?"
                },
                {
                    "Person 2": "Oh, for sure! I’ve always wanted to visit places like Norway and New Zealand."
                },
                {
                    "Person 1": "Those sound amazing! I’ve read some interesting things about Japan too."
                },
                {
                    "Person 2": "Really? What did you read?"
                },
                {
                    "Person 1": "There’s this book by a Russian journalist who lived in Japan for a while. It’s called 'Sakura and Oak.'"
                },
                {
                    "Person 2": "That title sounds familiar! What’s it about?"
                },
                {
                    "Person 1": "It talks about the traditions of Japan and England. The author really dives into the cultures."
                },
                {
                    "Person 2": "That’s cool! It must be fascinating to see how different yet similar cultures can be."
                },
                {
                    "Person 1": "Exactly! He lived in both countries for years, so he has a unique perspective."
                },
                {
                    "Person 2": "Wow, that’s impressive! Was he a diplomat or something?"
                },
                {
                    "Person 1": "No, he was just a journalist. An expert on Oriental culture, I guess."
                },
                {
                    "Person 2": "That’s awesome! You seem to know a lot about travel."
                },
                {
                    "Person 1": "I try! But honestly, I’m not as big on traveling as some people."
                },
                {
                    "Person 2": "I get that. Sometimes it feels like the world is smaller than we think."
                },
                {
                    "Person 1": "Right? People everywhere have similar problems and traditions."
                },
                {
                    "Person 2": "True! But I still want to visit places like Scotland for the mountains."
                },
                {
                    "Person 1": "Oh, for sure! The scenery there is breathtaking."
                },
                {
                    "Person 2": "I hope I can get my visa soon!"
                },
                {
                    "Person 1": "Me too! Let’s catch up next weekend and see how it goes."
                },
                {
                    "Person 2": "Sounds good! I’ll see you then!"
                },
                {
                    "Person 1": "Take care!"
                },
                {
                    "Person 2": "You too! Bye!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
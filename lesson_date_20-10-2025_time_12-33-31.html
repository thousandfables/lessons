<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 5,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "Yeah, you wrote four of them.",
                    "corrected": "Yeah, you wrote four essays.",
                    "explanation": "The word 'them' is vague; it's clearer to specify 'essays' for better comprehension.",
                    "context": "In our last assignment, I reviewed your progress. Yeah, you wrote four essays. I hope you focused on improving your argumentative skills."
                },
                {
                    "original": "Like just two questions.",
                    "corrected": "They are just two questions.",
                    "explanation": "The phrase 'like just' is informal and unclear; 'they are just' provides clarity.",
                    "context": "I want to clarify the types of essays we've worked on. They are just two questions. This will help you focus on your arguments."
                },
                {
                    "original": "This is your idea.",
                    "corrected": "This is what you should include in your essay.",
                    "explanation": "'Your idea' can be vague; specifying 'what you should include' makes it clear what is expected.",
                    "context": "As we refine your writing, it's crucial to focus on clarity. This is what you should include in your essay. Highlight the main points effectively."
                },
                {
                    "original": "Yeah, I want your idea why they support local economy.",
                    "corrected": "Yeah, I want your explanation of why they support the local economy.",
                    "explanation": "'Your idea why they support local economy' is unstructured; 'your explanation of why they support the local economy' is more precise.",
                    "context": "I am trying to help you understand the writing expectations. Yeah, I want your explanation of why they support the local economy. Let's clarify that to strengthen your argument."
                },
                {
                    "original": "That is, here you have to write why people think that you support the economy when you travel in your country.",
                    "corrected": "In this case, you need to write why people believe that traveling within your country supports the economy.",
                    "explanation": "The phrase 'you have to write' is too informal; 'you need to write' maintains a more academic tone.",
                    "context": "To enhance your clarity and support your argument better, I'm guiding you through the essay requirements. In this case, you need to write why people believe that traveling within your country supports the economy."
                },
                {
                    "original": "Yes, just say, but I think it's more important.",
                    "corrected": "Yes, just say that I think it's more important.",
                    "explanation": "The original lacks clarity; adding 'that' specifies the connection to the thought being expressed.",
                    "context": "As we work on speech clarity, it's essential to articulate ideas properly. Yes, just say that I think it's more important to highlight your opinion in the essay."
                },
                {
                    "original": "And just leave this essay here?",
                    "corrected": "Should we just leave this essay as it is?",
                    "explanation": "The original phrase is too informal; rephrasing makes the question clearer and more formal.",
                    "context": "I've been pondering the final touches on your work. Should we just leave this essay as it is, or do we need further edits?"
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "It's just again, a paraphrasing or paraphrasing.",
                    "corrected": "It's just again, a paraphrase.",
                    "explanation": "The word 'paraphrasing' is incorrect in this context; 'paraphrase' is the correct noun form.",
                    "context": "In our discussion, we are addressing how the conclusion aligns with the main argument. It's just again, a paraphrase. Recognizing this helps us refine our essays."
                },
                {
                    "original": "But our job is to express these ideas in a clear way.",
                    "corrected": "But our job is to express these ideas clearly.",
                    "explanation": "The phrase 'in a clear way' is less idiomatic; 'clearly' is more direct and concise.",
                    "context": "As we write, clarity is key to effective communication. But our job is to express these ideas clearly. This ensures that readers comprehend our arguments."
                },
                {
                    "original": "They can be complicated only to the point that really is necessary.",
                    "corrected": "They can be complicated only to the extent that is truly necessary.",
                    "explanation": "The phrase 'to the point that really is necessary' is awkward; 'to the extent that is truly necessary' is more idiomatic.",
                    "context": "While some complexity is acceptable in writing, clarity should not be sacrificed. They can be complicated only to the extent that is truly necessary. This balance is crucial in effective writing."
                },
                {
                    "original": "It just means when the native speaker reads our essay, everything is natural.",
                    "corrected": "It just means that when a native speaker reads our essay, everything sounds natural.",
                    "explanation": "'Is natural' is less precise; 'sounds natural' better conveys the idea of language perception.",
                    "context": "Understanding idiomatic expressions is vital for writing success. It just means that when a native speaker reads our essay, everything sounds natural. This flow is essential for good writing."
                },
                {
                    "original": "I want all my students to know what it is.",
                    "corrected": "I want all my students to understand it.",
                    "explanation": "'Know what it is' is less formal; 'understand it' conveys a deeper comprehension.",
                    "context": "It's important for me to highlight key concepts in our lessons. I want all my students to understand it. This will enhance their writing skills effectively."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "It's like somehow helps you to not lose your idea in your head.",
                    "corrected": "It somehow helps you not lose your idea in your head.",
                    "explanation": "'It's like' is unnecessary and can be simplified to make the sentence more direct.",
                    "context": "When writing, it's essential to maintain clarity in your thoughts. It somehow helps you not lose your idea in your head. This way, your ideas can flow more naturally."
                },
                {
                    "original": "Completely wrong.",
                    "corrected": "That is completely wrong.",
                    "explanation": "The sentence lacks a subject, leading to ambiguity; it needs 'that' for clarity.",
                    "context": "When discussing the use of connectors in essays, it’s crucial to understand their role. That is completely wrong. Relying solely on connectors can make the writing seem forced."
                },
                {
                    "original": "If you put a lot of connectors, that doesn't sound smooth.",
                    "corrected": "If you use a lot of connectors, that doesn't sound smooth.",
                    "explanation": "'Put' is less precise than 'use' in this context; 'use' better conveys the intended action.",
                    "context": "Using various tools can enhance your writing. If you use a lot of connectors, that doesn't sound smooth. It might disrupt the flow of your ideas."
                },
                {
                    "original": "So every possible way of connecting ideas, maybe we should change the structure of our sentence.",
                    "corrected": "So every possible way of connecting ideas means we should maybe change the structure of our sentences.",
                    "explanation": "A grammatical structure error exists with 'our sentence,' which should be plural to match 'ideas.'",
                    "context": "When crafting essays, flexibility is key. So every possible way of connecting ideas means we should maybe change the structure of our sentences. This can enhance coherence."
                },
                {
                    "original": "Cohesion, it is also, we can check the cohesion when we see that.",
                    "corrected": "Cohesion can also be checked when we see that.",
                    "explanation": "The original sentence structure is awkward; 'it is also' is unnecessary and makes the sentence confusing.",
                    "context": "Analyzing your writing is vital for improvement. Cohesion can also be checked when we see that. This helps us ensure our message is clear and connected."
                },
                {
                    "original": "Most of your time will take, of course, lexical resource.",
                    "corrected": "Of course, most of your time will be spent on lexical resource.",
                    "explanation": "The original sentence has errors in structure and word order, making it confusing.",
                    "context": "When writing, the focus shifts to various aspects. Of course, most of your time will be spent on lexical resource. This is essential for clarity and precision."
                },
                {
                    "original": "Is there a more natural way to express that?",
                    "corrected": "Is there a more natural way to express this?",
                    "explanation": "'That' is vague here; 'this' refers directly to the phrase in question.",
                    "context": "In writing, clarity is crucial for effective communication. Is there a more natural way to express this? Exploring alternatives can enhance the quality of your work."
                },
                {
                    "original": "Whenever you see that you kind of maybe remembered a very good word, you might think that it's very good.",
                    "corrected": "Whenever you think you might remember a very good word, you might believe it's very good.",
                    "explanation": "The construction is too wordy and can be simplified for better flow.",
                    "context": "Words enhance our writing, but clarity is key. Whenever you think you might remember a very good word, you might believe it's very good. Yet, it's important to ensure you're confident in its use."
                },
                {
                    "original": "Say, I don't know. Stuffs.",
                    "corrected": "For example, I don't know. Stuff.",
                    "explanation": "'Stuffs' is not standard English; the correct term is 'stuff,' which is uncountable.",
                    "context": "In writing, choosing the right vocabulary is important. For example, I don't know. Stuff. Choosing the correct words can make your writing clearer and more effective."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "I'm not sure about within their own.",
                    "corrected": "I'm not sure about that within their own.",
                    "explanation": "The sentence is missing the word 'that' to refer back to the previous statement properly.",
                    "context": "When discussing perspectives, I expressed my uncertainty. I'm not sure about that within their own country. Views can differ based on location."
                },
                {
                    "original": "It's okay when people choose to have sounds natural.",
                    "corrected": "It's okay when people choose to make it sound natural.",
                    "explanation": "'Have' is incorrectly used; 'make' should be used to indicate creating or formulating something that sounds natural.",
                    "context": "In analyzing the phrasing of sentences, I tried to reassure the students about their choices. It's okay when people choose to make it sound natural. Clarity in their writing is essential."
                },
                {
                    "original": "But maybe it's better to say domestic traveling.",
                    "corrected": "But maybe it's better to say traveling domestically.",
                    "explanation": "The structure 'domestic traveling' is awkward; 'traveling domestically' flows better and sounds more idiomatic.",
                    "context": "While discussing phrasing, I recommended improving sentence clarity. But maybe it's better to say traveling domestically. It's important to express thoughts correctly."
                },
                {
                    "original": "What might be wrong here? It's okay when people choose to have sounds natural.",
                    "corrected": "What might be wrong here? It's okay when people choose to make it sound natural.",
                    "explanation": "Similar to the previous instance, the verb 'have' should be corrected to 'make' for proper expression.",
                    "context": "As we reviewed the text collectively, I pointed out potential inaccuracies. What might be wrong here? It's okay when people choose to make it sound natural. It’s important to communicate effectively."
                },
                {
                    "original": "Can we say it's more natural?",
                    "corrected": "Can we say it's more natural?",
                    "explanation": "While the sentence is technically correct, it may have been asked in a confusing context.",
                    "context": "During the session, I wanted to clarify common language usage. Can we say it's more natural? Ensuring everyone understands is vital."
                },
                {
                    "original": "Being in a foreign place, what does it mean?",
                    "corrected": "What does being in a foreign place mean?",
                    "explanation": "The phrase construction is awkward; it should be restructured for clarity.",
                    "context": "In our discussion about travel experiences, I aimed for clarity. What does being in a foreign place mean? Understanding this helps in writing and communication."
                },
                {
                    "original": "Absorb yourself.",
                    "corrected": "Immerse yourself.",
                    "explanation": "'Absorb yourself' is not an idiomatic phrase; 'immerse yourself' is a more common expression for engaging deeply.",
                    "context": "As I gave synonyms for engagement, I steered the conversation towards common expressions. Immerse yourself. It's a better choice to convey the idea of deep involvement."
                },
                {
                    "original": "How can we say it's easier?",
                    "corrected": "What is an easier way to say this?",
                    "explanation": "The question's structure is unclear; it should more clearly ask about alternatives.",
                    "context": "I wanted to encourage creative rephrasing. What is an easier way to say this? Clarity can enhance the overall quality of writing."
                }
            ]
        },
        "mistakes_5": {
            "mistakes_list": []
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Monopoly",
                    "definition": "The exclusive possession or control of the supply or trade in a commodity or service.",
                    "context": {
                        "Context 1": "In the discussion, it was suggested that only one group could maintain a monopoly on Pilatus.",
                        "Context 2": "The tech company tried to establish a monopoly by buying out all its competitors.",
                        "Context 3": "In the game of Monopoly, the goal is to bankrupt your opponents."
                    }
                },
                {
                    "word": "Enhance",
                    "definition": "To improve the quality, value, or extent of something.",
                    "context": {
                        "Context 1": "The speaker expressed a desire not to enhance their body through weightlifting.",
                        "Context 2": "Designers aim to enhance the user experience of their products.",
                        "Context 3": "She decided to enhance her garden with colorful flowers."
                    }
                },
                {
                    "word": "Distinct",
                    "definition": "Recognizably different in nature from something else of a similar type.",
                    "context": {
                        "Context 1": "She described wanting pronounced or distinct six-packs.",
                        "Context 2": "Distinct flavors can make a dish memorable.",
                        "Context 3": "Each culture has distinct traditions that set it apart."
                    }
                },
                {
                    "word": "Logical",
                    "definition": "Of or according to the rules of logic or formal argument.",
                    "context": {
                        "Context 1": "The explanation provided was logical and easy to understand.",
                        "Context 2": "It makes logical sense to study for exams to improve your grades.",
                        "Context 3": "His logical approach to solving puzzles impressed everyone."
                    }
                },
                {
                    "word": "Counter argument",
                    "definition": "An argument made to oppose another argument.",
                    "context": {
                        "Context 1": "The essay included a strong counter argument that highlighted potential downsides.",
                        "Context 2": "In the debate, she presented a counter argument against the proposed law.",
                        "Context 3": "They prepared a counter argument to address the criticisms they received."
                    }
                },
                {
                    "word": "Support",
                    "definition": "To give assistance to, especially financially or emotionally.",
                    "context": {
                        "Context 1": "The discussion revolved around how traveling can support the local economy.",
                        "Context 2": "He decided to support his friend during a difficult time.",
                        "Context 3": "Finding a way to support local musicians is important for community culture."
                    }
                },
                {
                    "word": "Rephrase",
                    "definition": "To express something in another way, typically to clarify.",
                    "context": {
                        "Context 1": "The instructor advised to rephrase the sentence to avoid repetition.",
                        "Context 2": "When editing, it's often helpful to rephrase for better clarity.",
                        "Context 3": "To improve the essay, she needed to rephrase some of her arguments."
                    }
                },
                {
                    "word": "Economy",
                    "definition": "The system of production and management of material wealth.",
                    "context": {
                        "Context 1": "The lesson discussed how traveling supports the local economy.",
                        "Context 2": "The pandemic has significantly affected the global economy.",
                        "Context 3": "A healthy economy is crucial for job creation and growth."
                    }
                },
                {
                    "word": "Vacations",
                    "definition": "An extended period of leisure and recreation, especially away from home.",
                    "context": {
                        "Context 1": "The student mentioned giving four essays when the student was on vacation.",
                        "Context 2": "During summer vacations, many families go on road trips.",
                        "Context 3": "Vacations are important for mental well-being and relaxation."
                    }
                },
                {
                    "word": "Claim",
                    "definition": "To assert or demand recognition of something as a fact.",
                    "context": {
                        "Context 1": "The essay required the student to support their claim about local economy support.",
                        "Context 2": "His claim that he could run a mile in under five minutes was met with skepticism.",
                        "Context 3": "The claim that the product works exactly as advertised was impressive."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Monopoly",
                    "fact": "Did you know that the game Monopoly was originally created to teach players about the pitfalls of capitalism?"
                },
                {
                    "word": "Economy",
                    "fact": "In a small country, a literal 'economy' team of squirrels was once formed to 'collect' acorns!"
                },
                {
                    "word": "Enhance",
                    "fact": "The word 'enhance' comes from the Latin 'in' (in) + 'hance' (to raise), which literally means 'to raise to a higher status.'"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the essay go to therapy?",
                    "answer": "Because it had too many issues!"
                },
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Paraphrasing",
                    "definition": "The act of restating something using different words while retaining the original meaning.",
                    "context": {
                        "Context 1": "In the lesson, we discussed the importance of paraphrasing to avoid plagiarism.",
                        "Context 2": "He tried paraphrasing the song lyrics to make them his own.",
                        "Context 3": "Paraphrasing complex legal texts can help make them more understandable."
                    }
                },
                {
                    "word": "Criteria",
                    "definition": "Standards or principles by which something is judged or decided.",
                    "context": {
                        "Context 1": "The examiner uses specific criteria to assess your essay’s quality.",
                        "Context 2": "The criteria for deciding the best pizza includes taste, presentation, and price.",
                        "Context 3": "Selecting a new employee often involves criteria like experience, skills, and attitude."
                    }
                },
                {
                    "word": "Cohesion",
                    "definition": "The action of forming a united whole; how parts of a text connect logically.",
                    "context": {
                        "Context 1": "Using linking words improves the cohesion of your writing.",
                        "Context 2": "In a successful team, cohesion is essential for collaboration and trust.",
                        "Context 3": "The cohesion of the fabric prevented it from tearing easily during washing."
                    }
                },
                {
                    "word": "Coherence",
                    "definition": "The quality of being logical, consistent, and forming a unified whole.",
                    "context": {
                        "Context 1": "The essay lacked coherence, making it difficult to understand the main argument.",
                        "Context 2": "The coherence of the plot kept the audience engaged throughout the movie.",
                        "Context 3": "In a recipe, coherence in steps helps prevent mistakes when cooking."
                    }
                },
                {
                    "word": "Lexical Resource",
                    "definition": "The range and appropriateness of vocabulary used in communication.",
                    "context": {
                        "Context 1": "A higher lexical resource score indicates a strong vocabulary in your essay.",
                        "Context 2": "His lexical resource was impressive when he delivered a speech in five languages.",
                        "Context 3": "Having a good lexical resource enhances communication in a foreign language."
                    }
                },
                {
                    "word": "Task Response",
                    "definition": "The degree to which a response meets the requirements of a given task.",
                    "context": {
                        "Context 1": "A strong task response directly answers the essay question.",
                        "Context 2": "For this cooking challenge, the task response should include a detailed recipe.",
                        "Context 3": "The task response in the job interview was clear and addressed all the questions."
                    }
                },
                {
                    "word": "Grammar",
                    "definition": "The system and structure of a language, including rules governing the composition of sentences.",
                    "context": {
                        "Context 1": "Proper grammar is essential for clear communication in your writing.",
                        "Context 2": "He struggled with grammar when he first started learning Spanish.",
                        "Context 3": "Many people enjoy playing grammar games to improve their language skills."
                    }
                },
                {
                    "word": "Descriptive",
                    "definition": "Serving or seeking to describe; providing details about something.",
                    "context": {
                        "Context 1": "A descriptive essay paints a vivid picture using sensory details.",
                        "Context 2": "The review was very descriptive, making the viewer excited to watch the film.",
                        "Context 3": "Her descriptive storytelling captivated the children during storytime."
                    }
                },
                {
                    "word": "Assess",
                    "definition": "To evaluate or estimate the nature, ability, or quality of something.",
                    "context": {
                        "Context 1": "Students are taught how to assess their own essays for improvement.",
                        "Context 2": "The teacher will assess the students’ projects at the end of the term.",
                        "Context 3": "Before investing, financial analysts assess the risk involved."
                    }
                },
                {
                    "word": "Complex",
                    "definition": "Consisting of many different and connected parts; not simple.",
                    "context": {
                        "Context 1": "Her complex argument required careful reading to fully understand.",
                        "Context 2": "The engineered structure was far more complex than the initial drawings suggested.",
                        "Context 3": "Dealing with complex emotions can be challenging for many individuals."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Cohesion",
                    "fact": "The word 'cohesion' comes from the Latin word 'cohaesio', meaning 'sticking together' — think of it like glue for your sentences!"
                },
                {
                    "word": "Criteria",
                    "fact": "The term 'criteria' is actually the plural of 'criterion', so when you see 'criteria', you know it's a party of standards!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the essay go to school?",
                    "answer": "Because it wanted to improve its paragraph structure!"
                },
                {
                    "question": "Why do writers always feel cold?",
                    "answer": "Because they’re surrounded by drafts!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Cohesion",
                    "definition": "The action or fact of forming a united whole; the quality of being logical and consistent.",
                    "context": {
                        "Context 1": "To ensure proper cohesion in our essay, we need to connect our ideas smoothly.",
                        "Context 2": "The cohesion of the team's performance was evident during the championship game.",
                        "Context 3": "In nature, water molecules exhibit cohesion, allowing them to form droplets."
                    }
                },
                {
                    "word": "Logical Progression",
                    "definition": "A sequence of ideas or arguments that follow a clear and reasonable order.",
                    "context": {
                        "Context 1": "The logical progression of her argument made it easy to follow the essay’s structure.",
                        "Context 2": "During the cooking class, the chef explained the logical progression of flavors in the dish.",
                        "Context 3": "The logical progression from simple to complex math problems helps students learn effectively."
                    }
                },
                {
                    "word": "Linking Devices",
                    "definition": "Words or phrases used to connect ideas, sentences, or paragraphs in writing.",
                    "context": {
                        "Context 1": "Using linking devices will enhance the clarity of your essay.",
                        "Context 2": "The teacher showed us how linking devices help improve our spoken language skills.",
                        "Context 3": "The linking devices in the movie’s plot helped tie all the characters’ stories together."
                    }
                },
                {
                    "word": "Smooth",
                    "definition": "Having an even and regular surface; also refers to ideas that flow well without interruption.",
                    "context": {
                        "Context 1": "A smooth transition between paragraphs is crucial in maintaining cohesion.",
                        "Context 2": "The glass was so smooth that it slipped right out of his hands.",
                        "Context 3": "Her dance moves were incredibly smooth, captivating the audience."
                    }
                },
                {
                    "word": "Natural",
                    "definition": "Existing in or derived from nature; not made or caused by humankind.",
                    "context": {
                        "Context 1": "The essay felt very natural when read aloud, showing good cohesion.",
                        "Context 2": "She has a natural talent for painting that impresses everyone.",
                        "Context 3": "In a natural setting, the animals behave differently without human interference."
                    }
                },
                {
                    "word": "Forced",
                    "definition": "To compel someone to do something against their will; can also refer to situations or expressions that lack authenticity.",
                    "context": {
                        "Context 1": "Using too many connectors can make your writing sound forced.",
                        "Context 2": "His laugh seemed forced, indicating he wasn't really having a good time.",
                        "Context 3": "The actor's forced performance made the movie less believable."
                    }
                },
                {
                    "word": "Simplification",
                    "definition": "The act of making something simpler or easier to understand.",
                    "context": {
                        "Context 1": "Simplification of complex ideas can help improve the overall clarity of your writing.",
                        "Context 2": "The simplification of the recipe made it accessible to beginner cooks.",
                        "Context 3": "He used simplification to explain quantum physics to his kids."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something using different words, often to clarify or simplify.",
                    "context": {
                        "Context 1": "When unsure about a phrase, attempting to paraphrase can often help clarify your point.",
                        "Context 2": "In the meeting, she had to paraphrase the complicated instructions for her team.",
                        "Context 3": "He was asked to paraphrase the poem in his own words for a school assignment."
                    }
                },
                {
                    "word": "Grammar",
                    "definition": "The system and structure of a language, including the rules for combining words.",
                    "context": {
                        "Context 1": "Correct grammar is essential for ensuring clear communication in writing.",
                        "Context 2": "Her knowledge of grammar helped her excel in language classes.",
                        "Context 3": "The new robot has been programmed to recognize grammar errors in real-time."
                    }
                },
                {
                    "word": "Accuracy",
                    "definition": "The quality or state of being correct or precise.",
                    "context": {
                        "Context 1": "Maintaining accuracy in your writing is crucial for effective communication.",
                        "Context 2": "The watch displayed remarkable accuracy, never losing or gaining time.",
                        "Context 3": "To ensure accuracy, the scientist repeated the experiment several times."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Cohesion",
                    "fact": "Cohesion is often confused with conference call listening, where everyone hears the same echo!"
                },
                {
                    "word": "Paraphrase",
                    "fact": "The term 'paraphrase' sounds like the name of a superhero who changes words to save sentences!"
                },
                {
                    "word": "Grammar",
                    "fact": "In 2016, a grammar book now has a foreword by a famous comedian. It’s no joke—kept laughing!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the grammar teacher break up with their partner?",
                    "answer": "They had too many problems with past participles!"
                },
                {
                    "question": "Why did the essay go to therapy?",
                    "answer": "Because it had too many issues with cohesion!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Analyze",
                    "definition": "To examine something in detail to understand it better or draw conclusions.",
                    "context": {
                        "Context 1": "It’s important to analyze your essay carefully before submitting it.",
                        "Context 2": "The scientist needs to analyze the data to draw accurate conclusions.",
                        "Context 3": "Before baking, you should analyze the recipe to make sure you have the ingredients."
                    }
                },
                {
                    "word": "Error-free",
                    "definition": "Free from mistakes or errors.",
                    "context": {
                        "Context 1": "Your essay should be as error-free as possible to impress your reader.",
                        "Context 2": "The report was approved because it was error-free and well-written.",
                        "Context 3": "My goal for the math test is to achieve an error-free score!"
                    }
                },
                {
                    "word": "Polished",
                    "definition": "Refined, sophisticated, and free of flaws.",
                    "context": {
                        "Context 1": "Make sure your final draft is polished before you present it.",
                        "Context 2": "The actor's polished performance earned him several awards.",
                        "Context 3": "The polished car gleamed under the sunlight."
                    }
                },
                {
                    "word": "Perceive",
                    "definition": "To become aware or conscious of something; to interpret or look at something in a specific way.",
                    "context": {
                        "Context 1": "It’s easy to perceive your work as perfect if you don’t critically assess it.",
                        "Context 2": "She can easily perceive the emotions of others through body language.",
                        "Context 3": "How we perceive art can differ greatly among individuals."
                    }
                },
                {
                    "word": "Doubt",
                    "definition": "To feel uncertain about something.",
                    "context": {
                        "Context 1": "You shouldn’t doubt your abilities when writing an essay.",
                        "Context 2": "He began to doubt the integrity of the survey results.",
                        "Context 3": "I have no doubt that ice cream is the best dessert!"
                    }
                },
                {
                    "word": "Tempting",
                    "definition": "Appealing to or attracting someone, often in a way that may lead to a bad decision.",
                    "context": {
                        "Context 1": "It’s tempting to ignore your mistakes when you’re feeling proud of your work.",
                        "Context 2": "The cake in the bakery window was so tempting that I couldn’t resist buying a slice.",
                        "Context 3": "The sale on shoes was tempting, and I ended up buying two pairs!"
                    }
                },
                {
                    "word": "Acquaint",
                    "definition": "To make someone aware of or familiar with something.",
                    "context": {
                        "Context 1": "You should acquaint yourself with the writing guidelines before submitting.",
                        "Context 2": "Let's acquaint the new team member with the project details.",
                        "Context 3": "I had to acquaint my friend with the rules of chess before we started playing."
                    }
                },
                {
                    "word": "Strategy",
                    "definition": "A plan of action designed to achieve a long-term or overall aim.",
                    "context": {
                        "Context 1": "Developing a solid proofreading strategy can significantly improve your essays.",
                        "Context 2": "The military's strategy was to outsmart their opponents.",
                        "Context 3": "My strategy for the game is to be defensive and wait for the right moment to attack."
                    }
                },
                {
                    "word": "Nasty",
                    "definition": "Very unpleasant or bad.",
                    "context": {
                        "Context 1": "Don’t let a nasty mistake ruin the overall quality of your essay.",
                        "Context 2": "The dog bit me, and it left a nasty bruise.",
                        "Context 3": "It was a nasty surprise to find out I had further assignments due."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting in which something occurs.",
                    "context": {
                        "Context 1": "Understanding the context of your essay will help you write better.",
                        "Context 2": "In the context of the conversation, his comment was inappropriate.",
                        "Context 3": "The movie's context made the ending much more emotional."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Analyze",
                    "fact": "Did you know that if you analyze your pizza before eating, you can better enjoy the combination of flavors?"
                },
                {
                    "word": "Tempting",
                    "fact": "In Switzerland, it's tempting to take a chocolate break every hour, but really it's just the rules of happiness!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What did the paper say to the pencil?",
                    "answer": "Write on!"
                }
            ]
        },
        "vocabulary_5": {
            "vocabulary_list": [
                {
                    "word": "Examiner",
                    "definition": "A person who assesses or evaluates something, especially in an academic or qualification context.",
                    "context": {
                        "Context 1": "The examiner will grade the exams next week.",
                        "Context 2": "The dog barked at the examiner during the entrance test.",
                        "Context 3": "She decided to become an examiner in order to help students succeed."
                    }
                },
                {
                    "word": "Assess",
                    "definition": "To evaluate or estimate the nature, ability, or quality of something.",
                    "context": {
                        "Context 1": "The teacher will assess the students' projects tomorrow.",
                        "Context 2": "They needed to assess the damage after the storm.",
                        "Context 3": "The gardener will assess how much water the plants need."
                    }
                },
                {
                    "word": "Evaluate",
                    "definition": "To determine the value, significance, or worth of something through careful analysis.",
                    "context": {
                        "Context 1": "We must evaluate the results of the experiment thoroughly.",
                        "Context 2": "He decided to evaluate his options before making a purchase.",
                        "Context 3": "The cook will evaluate the dishes based on taste and presentation."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting in which an event occurs, which helps to clarify its meaning.",
                    "context": {
                        "Context 1": "Understanding the context of the conversation is crucial.",
                        "Context 2": "In a historical context, the invention of the wheel was revolutionary.",
                        "Context 3": "The context of the movie changed the audience's interpretation drastically."
                    }
                },
                {
                    "word": "Nature",
                    "definition": "The inherent or essential qualities or characteristics of something.",
                    "context": {
                        "Context 1": "His kind nature made him well-liked among his peers.",
                        "Context 2": "The nature of the competition pushed everyone to do their best.",
                        "Context 3": "In nature, animals often adapt to their environments in fascinating ways."
                    }
                },
                {
                    "word": "Qualify",
                    "definition": "To meet the necessary conditions or criteria to be eligible for something.",
                    "context": {
                        "Context 1": "She managed to qualify for the national team after extensive training.",
                        "Context 2": "To qualify for the job, you must have at least five years of experience.",
                        "Context 3": "The athlete had to qualify for the finals by winning the semifinals."
                    }
                },
                {
                    "word": "Understand",
                    "definition": "To grasp the meaning, significance, or nature of something.",
                    "context": {
                        "Context 1": "It's important to understand the rules before the game begins.",
                        "Context 2": "Do you understand the math problem, or do you need help?",
                        "Context 3": "Understanding different cultures can enhance your worldview."
                    }
                },
                {
                    "word": "Think",
                    "definition": "To have a particular opinion, belief, or idea about something.",
                    "context": {
                        "Context 1": "I think it would be best to reschedule our meeting.",
                        "Context 2": "She always thinks about how to improve her garden.",
                        "Context 3": "He loves to think of creative stories for his children."
                    }
                },
                {
                    "word": "Great",
                    "definition": "Of an extent, quality, or intensity considerably above the normal or average.",
                    "context": {
                        "Context 1": "That sounds like a great plan for the weekend.",
                        "Context 2": "She had a great time at the amusement park.",
                        "Context 3": "His great enthusiasm made the project more enjoyable for everyone."
                    }
                },
                {
                    "word": "Say",
                    "definition": "To express something in spoken words.",
                    "context": {
                        "Context 1": "What did you say during the presentation?",
                        "Context 2": "He loves to say funny things to make people laugh.",
                        "Context 3": "It's polite to say thank you when you receive a gift."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Examiner",
                    "fact": "Did you know that some examiners have to grade hundreds of papers in one night? Talk about an exam-ination!"
                },
                {
                    "word": "Assess",
                    "fact": "In ancient Rome, they would assess a gladiator's skills by watching him fight wild animals—no pressure there!"
                },
                {
                    "word": "Nature",
                    "fact": "The nature of puns is quite complex; they always leave us groaning!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the teacher wear sunglasses during class?",
                    "answer": "Because her students were so bright!"
                },
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How was your weekend?"
                },
                {
                    "Person 2": "It was pretty good! I went hiking. How about you?"
                },
                {
                    "Person 1": "Nice! I just relaxed at home and binge-watched a new show."
                },
                {
                    "Person 2": "What show did you watch?"
                },
                {
                    "Person 1": "It's called 'The Outer Banks.' It’s super thrilling!"
                },
                {
                    "Person 2": "I’ve heard about that one! Is it as good as they say?"
                },
                {
                    "Person 1": "Totally! The plot twists keep you on your toes. I finished the whole season in two days."
                },
                {
                    "Person 2": "Wow, that’s impressive! I wish I had that kind of time."
                },
                {
                    "Person 1": "I know, right? Just a cozy couch and snacks, and I’m set!"
                },
                {
                    "Person 2": "Sounds perfect! I need to catch up on my shows. Any other recommendations?"
                },
                {
                    "Person 1": "Yeah, if you like thrillers, check out 'The Haunting of Hill House.' It’s scary but so good."
                },
                {
                    "Person 2": "Ooh, I love a good scare! I’ll add that to my list."
                },
                {
                    "Person 1": "You'll love it! Just don’t watch it alone at night."
                },
                {
                    "Person 2": "Haha, noted! Maybe I’ll save it for a weekend when I have friends over."
                },
                {
                    "Person 1": "Great plan! Watching with friends makes it even more fun."
                },
                {
                    "Person 2": "Exactly! Let me know next time you’re up for a binge-watching session."
                },
                {
                    "Person 1": "For sure! I’ll bring snacks!"
                },
                {
                    "Person 2": "It’s a deal! Snacks are a must!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night? It was intense!"
                },
                {
                    "Person 2": "I know, right? I almost couldn’t believe that last-minute goal!"
                },
                {
                    "Person 1": "Crazy! I thought they were going to lose for sure. What a comeback!"
                },
                {
                    "Person 2": "Totally! And the atmosphere in the stadium must have been wild. Did you see those fans?"
                },
                {
                    "Person 1": "I did! They were jumping up and down. It looked like such a blast."
                },
                {
                    "Person 2": "For sure! I wish I could've gone. Maybe we should go to the next home game together?"
                },
                {
                    "Person 1": "Great idea! I’d love that. It’s always more fun to go with someone."
                },
                {
                    "Person 2": "Exactly! Plus, we can grab some snacks and cheer for our team!"
                },
                {
                    "Person 1": "Definitely! What’s your go-to game snack?"
                },
                {
                    "Person 2": "I’m all about those nachos and cheese. They’re so cheesy!"
                },
                {
                    "Person 1": "Yum! I usually go for the hot dogs. They just taste better at the game."
                },
                {
                    "Person 2": "Haha, truth! Nothing beats game day food. When do you think tickets go on sale?"
                },
                {
                    "Person 1": "I’m not sure, but I’ll check the website later. Let’s make sure we grab them early!"
                },
                {
                    "Person 2": "Sounds like a plan! Can’t wait!"
                },
                {
                    "Person 1": "Me neither! It’s going to be awesome!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch the game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a finish, right? I couldn't believe the last-minute goal!"
                },
                {
                    "Person 1": "I know! I was jumping up and down in my living room. It was crazy!"
                },
                {
                    "Person 2": "Same here! And the way the team came back from being down? Just amazing."
                },
                {
                    "Person 1": "Totally! I thought they were done for, but they really pulled through."
                },
                {
                    "Person 2": "What do you think about the referee's call? A bit controversial, don’t you think?"
                },
                {
                    "Person 1": "Definitely! I thought it was a questionable decision. It could have gone either way."
                },
                {
                    "Person 2": "Right? I guess that’s part of the game, though. Decisions like that can change everything."
                },
                {
                    "Person 1": "True! But it always sparks a debate afterward. Did you see the social media reaction?"
                },
                {
                    "Person 2": "Oh yes! People were split. It was a wild thread. Some were even calling for the referee to be suspended!"
                },
                {
                    "Person 1": "Wow, that's a bit extreme, don’t you think? Refereeing is tough."
                },
                {
                    "Person 2": "For sure. They have one of the hardest jobs out there. It’s easy for us to criticize from the couch."
                },
                {
                    "Person 1": "Exactly! Next week’s game should be interesting too, though. I can't wait!"
                },
                {
                    "Person 2": "Me too! Let's watch it together! Snacks on me!"
                },
                {
                    "Person 1": "Deal! I’ll bring some drinks. It’ll be a perfect game day."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you ever looked back at something you wrote and thought, 'Whoa, what was I thinking?'"
                },
                {
                    "Person 2": "All the time! I mean, I feel like I get so caught up in my ideas that I miss a ton of mistakes."
                },
                {
                    "Person 1": "Exactly! It’s like, you put so much effort into it that you don’t want to admit it needs fixing."
                },
                {
                    "Person 2": "Right? It's like when you're so in love, you can’t see the flaws."
                },
                {
                    "Person 1": "Totally! Sometimes I think I need someone else to look at my work, like my mom or a friend."
                },
                {
                    "Person 2": "That’s a great idea! They’d point out all the little things I wouldn’t notice."
                },
                {
                    "Person 1": "Yeah! I mean, I might look at my essay and feel like it’s perfect, but I know there are mistakes hiding in there."
                },
                {
                    "Person 2": "For sure! And then there's always that one mistake that jumps out at you after you submit it."
                },
                {
                    "Person 1": "Oh man, that’s the worst! You read it again and you're like, 'How did I miss that?'"
                },
                {
                    "Person 2": "Exactly! It’s like a game of hide-and-seek with errors."
                },
                {
                    "Person 1": "So, what do you think is the best strategy? Should we just read it out loud?"
                },
                {
                    "Person 2": "Reading out loud is good! You catch a lot of things you wouldn't notice in your head."
                },
                {
                    "Person 1": "Or even taking a break and coming back to it later can help, right?"
                },
                {
                    "Person 2": "Absolutely! Fresh eyes can make such a difference. Plus, a good snack helps!"
                },
                {
                    "Person 1": "Haha, I agree! Let's grab some coffee and tackle our essays later."
                },
                {
                    "Person 2": "Sounds like a plan! But first, let's finish this episode of our show."
                }
            ]
        },
        "dialogue_5": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new coffee shop that opened up downtown?"
                },
                {
                    "Person 2": "Yeah! I read they have some amazing cold brews. We should check it out this weekend!"
                },
                {
                    "Person 1": "Definitely! I’ve been looking for a place with good coffee. My usual spot is getting a bit boring."
                },
                {
                    "Person 2": "Same here! Plus, it's always fun to try out new places. What else do they have?"
                },
                {
                    "Person 1": "I think they have pastries and breakfast sandwiches too. Sounds perfect for a Saturday morning."
                },
                {
                    "Person 2": "Awesome! We could grab coffee, then maybe walk around the park afterward."
                },
                {
                    "Person 1": "That sounds like a great plan! I love walking around the park when the weather’s nice."
                },
                {
                    "Person 2": "Right? And maybe we could bring a frisbee or something to throw around."
                },
                {
                    "Person 1": "Oh, I’m terrible at throwing a frisbee, but I’m down for the fun!"
                },
                {
                    "Person 2": "Don’t worry, it's all about having a good time. I’ll just make sure to avoid any big crowds!"
                },
                {
                    "Person 1": "Good idea! I can't wait for the weekend. It’ll be a nice break."
                },
                {
                    "Person 2": "For sure! Let’s make it a little adventure."
                },
                {
                    "Person 1": "Sounds perfect. I’ll text you later to confirm the time!"
                },
                {
                    "Person 2": "Looking forward to it! Enjoy the rest of your day!"
                },
                {
                    "Person 1": "You too! See you soon!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "you have two basically, two past points in your sentence, you have students... their realization point?",
                    "corrected": "you have basically two past points in your sentence: students and their realization point.",
                    "explanation": "The word 'two' is repeated unnecessarily, and a colon should be used to introduce the list of points.",
                    "context": "In your writing, you mentioned students and their realization point. You have basically two past points in your sentence: students and their realization point. This clarity will help your readers understand your argument better."
                },
                {
                    "original": "you're making the student realize you're using a gerund.",
                    "corrected": "you're making the student realize that you're using a gerund.",
                    "explanation": "The sentence is missing 'that' to connect the clauses properly.",
                    "context": "When discussing your sentence structure, I pointed out that you're making the student realize that you're using a gerund. This connection helps clarify your thought."
                },
                {
                    "original": "the lexical suggestion to spend money on tickets and residence, does it sound natural to you?",
                    "corrected": "the lexical suggestion to spend money on tickets and accommodation, does it sound natural to you?",
                    "explanation": "'Residence' is less commonly used in this context; 'accommodation' is the more natural choice.",
                    "context": "I asked you about your word choice in your writing. The lexical suggestion to spend money on tickets and accommodation, does it sound natural to you? This will enhance the clarity of your essay."
                },
                {
                    "original": "if we wanted to write about something, we better write it in main body paragraph",
                    "corrected": "if we want to write about something, we better write it in the main body paragraph.",
                    "explanation": "The verb 'wanted' should be in the present tense 'want' to match the conditional structure.",
                    "context": "When discussing the structure of your essay, I emphasized that if we want to write about something, we better write it in the main body paragraph. This ensures all ideas are properly explained."
                },
                {
                    "original": "but here you are saying it online education won't replace every traditional education facility.",
                    "corrected": "but here you are saying that online education won't replace every traditional education facility.",
                    "explanation": "The phrase 'it online education' is incorrect; 'that' should be used to introduce the clause.",
                    "context": "In your conclusion, I pointed out a mistake. But here you are saying that online education won't replace every traditional education facility. This clarification is essential for your argument."
                },
                {
                    "original": "you can only talk about something that about the point that you already established in your essay.",
                    "corrected": "you can only talk about something that you have already established in your essay.",
                    "explanation": "The phrase 'that about the point that' is awkward and redundant; it should be simplified.",
                    "context": "While reviewing your conclusion, I noted an important guideline. You can only talk about something that you have already established in your essay. This keeps your writing focused."
                },
                {
                    "original": "it's not a big deal if it's a one sentence conclusion, if it does what it needs to do.",
                    "corrected": "it's not a big deal if it's a one-sentence conclusion, as long as it does what it needs to do.",
                    "explanation": "A hyphen is needed in 'one-sentence' to indicate that it is a compound adjective, and 'as long as' is a clearer conjunction.",
                    "context": "When discussing the length of your conclusion, I reassured you. It's not a big deal if it's a one-sentence conclusion, as long as it does what it needs to do. Focus on the content rather than the length."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "it really depends on, you know, manufacturers.",
                    "corrected": "it really depends on the manufacturers.",
                    "explanation": "The article 'the' is needed before 'manufacturers' to specify which manufacturers are being referred to.",
                    "context": "Today, I'm not feeling very confident about my English. It really depends on the manufacturers. Some lessons are easier than others."
                },
                {
                    "original": "if we're having a fourth lesson a day, yeah, I'm warmed up or and ready to go.",
                    "corrected": "if we're having a fourth lesson a day, yeah, I'm warmed up and ready to go.",
                    "explanation": "The word 'or' is incorrectly used here; it should be 'and' to connect the two states of being ready.",
                    "context": "When we have multiple lessons, I feel more prepared. If we're having a fourth lesson a day, yeah, I'm warmed up and ready to go."
                },
                {
                    "original": "it depends on our emotional state on our many, many factors that kind of should meet.",
                    "corrected": "it depends on our emotional state and many factors that should align.",
                    "explanation": "The phrase 'on our many, many factors' is awkward; 'and many factors' is more concise and clear. 'Meet' should be replaced with 'align' for better clarity.",
                    "context": "Our performance can vary greatly. It depends on our emotional state and many factors that should align."
                },
                {
                    "original": "you basically did what you did before.",
                    "corrected": "you basically did what you did previously.",
                    "explanation": "'Before' is less formal; 'previously' is more appropriate in this context.",
                    "context": "You made progress in your writing. You basically did what you did previously, which is a good approach."
                },
                {
                    "original": "it does not. It's very balanced.",
                    "corrected": "it is very balanced.",
                    "explanation": "The phrase 'it does not' is incomplete and unclear; it should be omitted for clarity.",
                    "context": "When evaluating your writing, I noticed the structure. It is very balanced, which is important for clarity."
                },
                {
                    "original": "you mentioned two points here, right in your thesis statement.",
                    "corrected": "you mentioned two points here in your thesis statement.",
                    "explanation": "The word 'right' is unnecessary and informal; it should be omitted for a more formal tone.",
                    "context": "In your essay, clarity is key. You mentioned two points here in your thesis statement, which is effective."
                },
                {
                    "original": "that they don't have to be physically present.",
                    "corrected": "that you don't have to be physically present.",
                    "explanation": "The pronoun 'they' is incorrect; it should refer to 'you' to maintain consistency in addressing the audience.",
                    "context": "In discussing remote work, it's essential to highlight flexibility. That you don't have to be physically present is a major advantage."
                },
                {
                    "original": "you're talking about expenses. Yeah, not like something.",
                    "corrected": "you're talking about expenses, not something else.",
                    "explanation": "The phrase 'not like something' is vague; 'not something else' is clearer.",
                    "context": "When discussing remote work, it's crucial to focus on financial aspects. You're talking about expenses, not something else."
                },
                {
                    "original": "students, they are not students yet because they're only applying.",
                    "corrected": "students are not students yet because they're only applying.",
                    "explanation": "The phrase 'students, they' is redundant; it should be simplified to 'students are' for clarity.",
                    "context": "In discussing potential applicants, it's important to clarify their status. Students are not students yet because they're only applying."
                },
                {
                    "original": "to pursue the academic goals.",
                    "corrected": "to pursue academic goals.",
                    "explanation": "The article 'the' is unnecessary; 'academic goals' is a general term that does not require it.",
                    "context": "When applying to universities, many young people have aspirations. They aim to pursue academic goals."
                },
                {
                    "original": "you can like explaining detail.",
                    "corrected": "you can explain in detail.",
                    "explanation": "'Like' is informal and unnecessary; 'explain in detail' is the correct phrase.",
                    "context": "In your writing, clarity is essential. You can explain in detail to enhance understanding."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "A certain type of physical tasks, maybe.",
                    "corrected": "A certain type of physical task, maybe.",
                    "explanation": "The noun 'tasks' should be singular 'task' to agree with 'a certain type of.'",
                    "context": "When discussing robots and their capabilities, I mentioned that they can handle many physical tasks. A certain type of physical task, maybe, is what we should focus on."
                },
                {
                    "original": "But these paintings are always based on someone else's paintings.",
                    "corrected": "But these paintings are always based on someone else's work.",
                    "explanation": "'Paintings' should be replaced with 'work' to avoid redundancy and to encompass all forms of artistic creation.",
                    "context": "In my discussion about AI and creativity, I pointed out that AI-generated art lacks originality. But these paintings are always based on someone else's work."
                },
                {
                    "original": "It looks like it's not an example.",
                    "corrected": "It looks like it's not an example.",
                    "explanation": "The sentence is correct, but it could be clearer by specifying what 'it' refers to.",
                    "context": "While analyzing the student's argument, I noted that their point was unclear. It looks like it's not an example, but rather an explanation."
                },
                {
                    "original": "This is just reproduction.",
                    "corrected": "This is just a reproduction.",
                    "explanation": "The article 'a' is needed before 'reproduction' to indicate it is a singular noun.",
                    "context": "I emphasized the lack of originality in AI art. This is just a reproduction of existing works."
                },
                {
                    "original": "Like here, the best approach is not when we are just talking generally about something.",
                    "corrected": "Here, the best approach is not when we are just talking generally about something.",
                    "explanation": "The word 'like' is unnecessary and informal in this context; 'here' is sufficient.",
                    "context": "During our discussion on effective communication, I mentioned the importance of specificity. Here, the best approach is not when we are just talking generally about something."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Conclusion",
                    "definition": "The end or finish of an event, process, or text, summarizing the main points.",
                    "context": {
                        "Context 1": "In conclusion, the online learning experience has its pros and cons.",
                        "Context 2": "The conclusion of the movie left everyone in tears.",
                        "Context 3": "After a long discussion, they finally reached a conclusion about where to eat."
                    }
                },
                {
                    "word": "Correspond",
                    "definition": "To be in agreement or conformity with something.",
                    "context": {
                        "Context 1": "Does your argument correspond to the thesis statement you presented?",
                        "Context 2": "The colors of the painting correspond beautifully with the room's decor.",
                        "Context 3": "Her actions did not correspond with her words during the meeting."
                    }
                },
                {
                    "word": "Natural",
                    "definition": "Existing in or caused by nature; not made or caused by humankind.",
                    "context": {
                        "Context 1": "It feels natural to express your thoughts in this essay.",
                        "Context 2": "The natural beauty of the landscape took my breath away.",
                        "Context 3": "He has a natural talent for playing the piano."
                    }
                },
                {
                    "word": "Suggestion",
                    "definition": "An idea or plan put forward for consideration.",
                    "context": {
                        "Context 1": "I have a suggestion to improve your essay structure.",
                        "Context 2": "Her suggestion to visit the new restaurant was well-received.",
                        "Context 3": "The teacher made a suggestion to help the students with their project."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something written or spoken using different words.",
                    "context": {
                        "Context 1": "You should paraphrase your introduction in the conclusion.",
                        "Context 2": "He had to paraphrase the complex text for his classmates to understand.",
                        "Context 3": "The teacher asked the students to paraphrase the poem in their own words."
                    }
                },
                {
                    "word": "Lexical",
                    "definition": "Relating to the words or vocabulary of a language.",
                    "context": {
                        "Context 1": "The lexical choice in your essay can impact its clarity.",
                        "Context 2": "She studied lexical semantics to better understand word meanings.",
                        "Context 3": "The lexical diversity of his speech impressed the audience."
                    }
                },
                {
                    "word": "Connector",
                    "definition": "A word or phrase that links ideas or sentences together.",
                    "context": {
                        "Context 1": "Using a connector can help improve the flow of your writing.",
                        "Context 2": "He used a connector to join two independent clauses.",
                        "Context 3": "The connector on the cable was loose, causing the device to malfunction."
                    }
                },
                {
                    "word": "Minor",
                    "definition": "Lesser in importance, seriousness, or significance.",
                    "context": {
                        "Context 1": "This is just a minor error that can be easily fixed.",
                        "Context 2": "She played a minor role in the school play.",
                        "Context 3": "The minor details of the project were overlooked."
                    }
                },
                {
                    "word": "Recommendation",
                    "definition": "A suggestion or proposal as to the best course of action.",
                    "context": {
                        "Context 1": "The recommendation to revise your conclusion is helpful.",
                        "Context 2": "He received a recommendation for a job from his former boss.",
                        "Context 3": "The doctor gave her a recommendation to exercise more."
                    }
                },
                {
                    "word": "Obsolete",
                    "definition": "No longer produced or used; out of date.",
                    "context": {
                        "Context 1": "Some educational methods may become obsolete with new technology.",
                        "Context 2": "The typewriter is now considered an obsolete device.",
                        "Context 3": "His fashion sense was so outdated that it seemed almost obsolete."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Natural",
                    "fact": "Did you know that honey never spoils? Archaeologists have found pots of honey in ancient Egyptian tombs that are over 3,000 years old and still perfectly edible!"
                },
                {
                    "word": "Obsolete",
                    "fact": "In the 1800s, people used to send messages via carrier pigeons. Imagine trying to explain that to someone today—talk about obsolete!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the essay go to school?",
                    "answer": "Because it wanted to improve its grammar!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Analyze",
                    "definition": "To examine something in detail in order to understand it better or draw conclusions.",
                    "context": {
                        "Context 1": "I need to analyze your train of thought to provide better feedback.",
                        "Context 2": "The scientist will analyze the data collected from the experiment.",
                        "Context 3": "Before making a decision, it's important to analyze all possible outcomes."
                    }
                },
                {
                    "word": "Expectation",
                    "definition": "A belief that something will happen or that something should be done.",
                    "context": {
                        "Context 1": "I will set the expectation mark very high for your writing.",
                        "Context 2": "Her parents had high expectations for her academic performance.",
                        "Context 3": "The expectation of rain led us to carry umbrellas."
                    }
                },
                {
                    "word": "Accessible",
                    "definition": "Able to be reached or entered; easy to approach or use.",
                    "context": {
                        "Context 1": "The lesson should be more accessible for all students.",
                        "Context 2": "The new website design makes information more accessible to users.",
                        "Context 3": "The park is accessible by public transport, making it easy to visit."
                    }
                },
                {
                    "word": "Elaborate",
                    "definition": "To explain something in more detail.",
                    "context": {
                        "Context 1": "You should elaborate on both points in your thesis statement.",
                        "Context 2": "The chef will elaborate on the ingredients used in the dish.",
                        "Context 3": "During the presentation, she will elaborate on her research findings."
                    }
                },
                {
                    "word": "Cohesive",
                    "definition": "Forming a united whole; well-organized and connected.",
                    "context": {
                        "Context 1": "Your essay has cohesive devices that connect your ideas logically.",
                        "Context 2": "The cohesive nature of the team helped them win the championship.",
                        "Context 3": "A cohesive argument is crucial for a successful debate."
                    }
                },
                {
                    "word": "Enhance",
                    "definition": "To improve the quality, value, or extent of something.",
                    "context": {
                        "Context 1": "We can enhance your essay by using more advanced vocabulary.",
                        "Context 2": "The new software will enhance the performance of the computer.",
                        "Context 3": "She took a course to enhance her skills in graphic design."
                    }
                },
                {
                    "word": "Recommendation",
                    "definition": "A suggestion or proposal as to the best course of action.",
                    "context": {
                        "Context 1": "I'm giving my recommendations to improve your writing.",
                        "Context 2": "The doctor made a recommendation for a healthier diet.",
                        "Context 3": "Based on my experience, I have a recommendation for a great restaurant."
                    }
                },
                {
                    "word": "Transition",
                    "definition": "The process or a period of changing from one state or condition to another.",
                    "context": {
                        "Context 1": "You used logical transitions to connect your ideas effectively.",
                        "Context 2": "The transition from high school to college can be challenging.",
                        "Context 3": "The movie had a smooth transition between scenes."
                    }
                },
                {
                    "word": "Expenditure",
                    "definition": "An amount of money spent on something.",
                    "context": {
                        "Context 1": "We discussed ways to reduce expenditures in your essay.",
                        "Context 2": "The government's expenditure on education has increased this year.",
                        "Context 3": "He tracked his monthly expenditures to save money."
                    }
                },
                {
                    "word": "Commuting",
                    "definition": "Traveling some distance between one's home and place of work on a regular basis.",
                    "context": {
                        "Context 1": "You don't have to commute if you work remotely.",
                        "Context 2": "Commuting by train can be more relaxing than driving.",
                        "Context 3": "She enjoys listening to podcasts during her daily commuting."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Analyze",
                    "fact": "Did you know that the word 'analyze' comes from the Greek word 'analusis,' which means 'a breaking up'?"
                },
                {
                    "word": "Expectation",
                    "fact": "The word 'expectation' can also refer to the act of waiting for something to happen, which is why waiting rooms are often so boring!"
                },
                {
                    "word": "Cohesive",
                    "fact": "In linguistics, cohesive devices are like glue for sentences; they help keep everything together, just like a good friendship!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Cohesive Devices",
                    "definition": "Words or phrases that connect ideas in writing and help the text flow smoothly.",
                    "context": {
                        "Context 1": "Using cohesive devices correctly can enhance the clarity of your writing.",
                        "Context 2": "In cooking, cohesive devices are like the spices that bring all the flavors together.",
                        "Context 3": "The cohesive devices in a soccer team are the players who pass the ball effectively."
                    }
                },
                {
                    "word": "Comma",
                    "definition": "A punctuation mark used to indicate a pause between parts of a sentence or to separate items in a list.",
                    "context": {
                        "Context 1": "It's important to place a comma before 'and' when listing three or more items.",
                        "Context 2": "The cat, which was very fluffy, sat on the windowsill.",
                        "Context 3": "He forgot to put a comma in his grocery list and ended up buying apples oranges and bananas."
                    }
                },
                {
                    "word": "Hyphenated",
                    "definition": "A word that is joined by a hyphen, often to create a compound word.",
                    "context": {
                        "Context 1": "The term 'real-life' should be hyphenated when used as an adjective.",
                        "Context 2": "My favorite dessert is chocolate-covered strawberries.",
                        "Context 3": "The well-known author gave a lecture on writing techniques."
                    }
                },
                {
                    "word": "Independent Clauses",
                    "definition": "Groups of words that can stand alone as complete sentences.",
                    "context": {
                        "Context 1": "You should use a comma before 'and' when connecting two independent clauses.",
                        "Context 2": "The dog barked loudly, and the cat ran away.",
                        "Context 3": "I love ice cream; it melts quickly on hot days."
                    }
                },
                {
                    "word": "Suggestions",
                    "definition": "Ideas or plans put forward for consideration.",
                    "context": {
                        "Context 1": "The teacher provided suggestions on how to improve the essay.",
                        "Context 2": "He made several suggestions for the new restaurant menu.",
                        "Context 3": "Her suggestions for the vacation included visiting the mountains or the beach."
                    }
                },
                {
                    "word": "Improvements",
                    "definition": "Changes made to enhance or make something better.",
                    "context": {
                        "Context 1": "The student made several improvements to their writing after feedback.",
                        "Context 2": "The city is planning improvements to the public transportation system.",
                        "Context 3": "She made improvements to her garden by planting more flowers."
                    }
                },
                {
                    "word": "Specific",
                    "definition": "Clearly defined or identified; precise.",
                    "context": {
                        "Context 1": "You need to provide a specific example to support your argument.",
                        "Context 2": "He asked for specific details about the project.",
                        "Context 3": "The recipe calls for specific measurements to ensure the dish turns out well."
                    }
                },
                {
                    "word": "Pinpoint",
                    "definition": "To identify or locate something exactly.",
                    "context": {
                        "Context 1": "You need to pinpoint the main idea of the paragraph.",
                        "Context 2": "The detective was able to pinpoint the location of the missing item.",
                        "Context 3": "She can pinpoint the exact moment when she fell in love."
                    }
                },
                {
                    "word": "Natural",
                    "definition": "Existing in or caused by nature; not made or caused by humankind.",
                    "context": {
                        "Context 1": "It's more natural to use a comma in that sentence.",
                        "Context 2": "The park is filled with natural beauty and wildlife.",
                        "Context 3": "He prefers natural remedies over pharmaceuticals."
                    }
                },
                {
                    "word": "Casual",
                    "definition": "Relaxed and unconcerned; informal.",
                    "context": {
                        "Context 1": "The conversation felt casual and friendly.",
                        "Context 2": "She wore a casual outfit to the picnic.",
                        "Context 3": "His casual attitude made everyone feel at ease."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Comma",
                    "fact": "In the Oxford comma debate, some people argue that it can save lives—like in the sentence: 'Let's eat, Grandma!' vs. 'Let's eat Grandma!'"
                },
                {
                    "word": "Hyphenated",
                    "fact": "Did you know that 'mother-in-law' is a hyphenated word? It’s the only way to keep your mother-in-law from being a 'mother in law'!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the grammar teacher break up with the punctuation mark?",
                    "answer": "Because he was too possessive!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a finish, right? I thought they were done for."
                },
                {
                    "Person 1": "I know! I was on the edge of my seat. That last-minute goal was insane!"
                },
                {
                    "Person 2": "Totally! And the crowd went wild. I could hear them cheering from my living room!"
                },
                {
                    "Person 1": "Same here! I love how sports can bring everyone together like that."
                },
                {
                    "Person 2": "Absolutely! Speaking of which, are you planning to watch the next game?"
                },
                {
                    "Person 1": "For sure! I’m thinking of having a few friends over for it."
                },
                {
                    "Person 2": "That sounds like a blast! I’d love to join if you don’t mind."
                },
                {
                    "Person 1": "Of course! The more, the merrier. We can order some pizza and make it a party."
                },
                {
                    "Person 2": "Perfect! I’ll bring some snacks too. Can’t have a game night without chips!"
                },
                {
                    "Person 1": "Exactly! And maybe we can even do a little friendly betting on the score."
                },
                {
                    "Person 2": "Oh, I’m in! Just don’t cry when I win, okay?"
                },
                {
                    "Person 1": "Ha! We’ll see about that. May the best fan win!"
                },
                {
                    "Person 2": "Deal! Can’t wait for the game!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going today?"
                },
                {
                    "Person 2": "Not too bad! Just trying to get through the day. How about you?"
                },
                {
                    "Person 1": "Same here! I feel like I need more coffee to keep me awake."
                },
                {
                    "Person 2": "Right? I had a cup this morning, but I think I need a second one already."
                },
                {
                    "Person 1": "I know the feeling! I was up late binge-watching that new show."
                },
                {
                    "Person 2": "Oh, which one? I’ve been looking for something new to watch."
                },
                {
                    "Person 1": "It’s called 'The Midnight Club.' It’s a bit spooky but really good!"
                },
                {
                    "Person 2": "Nice! I love a good thriller. I’ll have to check it out."
                },
                {
                    "Person 1": "You should! Just be ready for some twists. It keeps you on your toes."
                },
                {
                    "Person 2": "Sounds perfect! I could use a good plot twist in my life right now."
                },
                {
                    "Person 1": "Haha! Same! So, any plans for the weekend?"
                },
                {
                    "Person 2": "Thinking about going hiking if the weather holds up. How about you?"
                },
                {
                    "Person 1": "That sounds great! I might join you if you don’t mind."
                },
                {
                    "Person 2": "Of course! The more, the merrier. Let’s make it a fun day."
                },
                {
                    "Person 1": "Awesome! I’ll bring some snacks for the trail."
                },
                {
                    "Person 2": "Perfect! I’ll bring the drinks. It’s a plan!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch the game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a finish, right? I can't believe they pulled it off in the last minute."
                },
                {
                    "Person 1": "I know! I was on the edge of my seat. That last touchdown was insane!"
                },
                {
                    "Person 2": "Totally! And that catch? I thought he was going to drop it for sure."
                },
                {
                    "Person 1": "Right? It was like a scene from a movie. Did you see the highlights this morning?"
                },
                {
                    "Person 2": "Yeah, I watched them while having breakfast. I love how they break down the plays."
                },
                {
                    "Person 1": "Same here! It really helps to see what went right and wrong."
                },
                {
                    "Person 2": "Exactly! So, what do you think about their chances next week?"
                },
                {
                    "Person 1": "I think they have a good shot, but they need to tighten up their defense."
                },
                {
                    "Person 2": "Agreed. If they can stop those big plays, they’ll be in great shape."
                },
                {
                    "Person 1": "For sure! Want to catch the next game together?"
                },
                {
                    "Person 2": "Absolutely! Let’s make it a game night with snacks!"
                },
                {
                    "Person 1": "Sounds perfect! I’ll bring the chips and salsa."
                },
                {
                    "Person 2": "And I’ll grab some drinks. Can’t wait!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
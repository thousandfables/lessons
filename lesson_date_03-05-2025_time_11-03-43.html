<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I will pass exam and 8th of May I will go to Istanbul.",
                    "corrected": "I will pass the exam and on the 8th of May, I will go to Istanbul.",
                    "explanation": "Missing article 'the' before 'exam' and 'on' is needed to indicate the specific date.",
                    "context": "I am preparing for my exam. I will pass the exam and on the 8th of May, I will go to Istanbul."
                },
                {
                    "original": "Spending enough time. Before exam.",
                    "corrected": "I need to spend enough time before the exam.",
                    "explanation": "The original sentences are fragments; they need to be combined into a complete thought.",
                    "context": "I have a lot to prepare for. I need to spend enough time before the exam."
                },
                {
                    "original": "Not ask in my work to take me a full vacation like 1 week or 2 weeks because I work there just not half a year.",
                    "corrected": "I didn't ask my work for a full vacation like 1 week or 2 weeks because I have only worked there for less than half a year.",
                    "explanation": "Incorrect verb form 'ask' should be 'asked' and 'just not half a year' is awkward; 'for less than half a year' is clearer.",
                    "context": "I wanted to take a vacation. I didn't ask my work for a full vacation like 1 week or 2 weeks because I have only worked there for less than half a year."
                },
                {
                    "original": "But you know usually people if they come to do new work they should spend maybe 6 months and after that they can take vacation.",
                    "corrected": "But you know, usually, people who start a new job should spend maybe 6 months there before they can take a vacation.",
                    "explanation": "The phrase 'if they come to do new work' is awkward; 'who start a new job' is more idiomatic.",
                    "context": "I understand the workplace norms. But you know, usually, people who start a new job should spend maybe 6 months there before they can take a vacation."
                },
                {
                    "original": "And I just asked to take me 3 days but of course with 3 days they won't pay money.",
                    "corrected": "And I just asked for 3 days off, but of course, they won't pay me for those 3 days.",
                    "explanation": "Incorrect preposition 'to take me' should be 'for' and 'won't pay money' is awkward; 'won't pay me' is clearer.",
                    "context": "I needed some time off. And I just asked for 3 days off, but of course, they won't pay me for those 3 days."
                },
                {
                    "original": "So, because also I will spend time in July, I mean maybe in July or maybe in August it works.",
                    "corrected": "So, since I will also spend time in July, I might go in July or maybe in August.",
                    "explanation": "The phrase 'because also' is awkward; 'since I will also' is clearer.",
                    "context": "I have plans for the summer. So, since I will also spend time in July, I might go in July or maybe in August."
                },
                {
                    "original": "It's about surgery, it's others problems.",
                    "corrected": "It's about surgery and other problems.",
                    "explanation": "Incorrect use of 'it's others problems'; it should be 'and other problems' for clarity.",
                    "context": "I have various responsibilities. It's about surgery and other problems."
                },
                {
                    "original": "And I should also add that the diagram illustrates a portion of the world's water.",
                    "corrected": "I should also add that the diagram illustrates the distribution of a portion of the world's water.",
                    "explanation": "The original sentence lacks clarity; adding 'the distribution of' makes it clearer.",
                    "context": "I'm reviewing my report. I should also add that the diagram illustrates the distribution of a portion of the world's water."
                },
                {
                    "original": "And you here only talk about Egypt, Saudi Arabia and Canada.",
                    "corrected": "But you only talk about Egypt, Saudi Arabia, and Canada here.",
                    "explanation": "The word order is awkward; 'you only talk about' is more natural.",
                    "context": "I'm trying to clarify my points. But you only talk about Egypt, Saudi Arabia, and Canada here."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "What is the world's water in Egypt?",
                    "corrected": "What is the water situation in Egypt?",
                    "explanation": "The phrase 'world's water' is unclear and should be rephrased for clarity.",
                    "context": "I'm trying to understand the water situation in Egypt. What is the water situation in Egypt? It's important to clarify how water is used there."
                },
                {
                    "original": "But why it's world's?",
                    "corrected": "But why is it the world's?",
                    "explanation": "The sentence structure is incorrect; it should be 'why is it' instead of 'why it's'.",
                    "context": "I’m questioning the phrase used earlier. But why is it the world's? I need to understand the context better."
                },
                {
                    "original": "I mean, I represent better to use.",
                    "corrected": "I mean, I would recommend using.",
                    "explanation": "The phrase 'represent better to use' is awkward; 'would recommend using' is clearer.",
                    "context": "I’m suggesting a better way to express the idea. I mean, I would recommend using the present simple tense here."
                },
                {
                    "original": "Most of all.",
                    "corrected": "Most importantly.",
                    "explanation": "'Most of all' is informal; 'most importantly' is more appropriate in a report context.",
                    "context": "I want to emphasize a key point in my report. Most importantly, we need to be accurate with our data."
                },
                {
                    "original": "Two countries use more water in agriculture than.",
                    "corrected": "Two countries use more water in agriculture than the third country.",
                    "explanation": "The sentence is incomplete; it needs a comparison to be clear.",
                    "context": "I’m discussing the water usage in agriculture. Two countries use more water in agriculture than the third country."
                },
                {
                    "original": "Why do we need 70 to 80 percent?",
                    "corrected": "Why do we need to specify 70 to 80 percent?",
                    "explanation": "The sentence lacks clarity; it should specify what is being asked.",
                    "context": "I'm questioning the necessity of a specific range in the report. Why do we need to specify 70 to 80 percent?"
                },
                {
                    "original": "This expression compare Canada with others.",
                    "corrected": "This expression compares Canada with the others.",
                    "explanation": "The verb 'compare' should be in the third person singular form 'compares'.",
                    "context": "I’m analyzing how Canada’s water usage relates to other countries. This expression compares Canada with the others."
                },
                {
                    "original": "In contrast and on the other hand, are two most useful expressions for giving contrast.",
                    "corrected": "In contrast and on the other hand are two of the most useful expressions for giving contrast.",
                    "explanation": "The phrase is missing 'of' to correctly structure the sentence.",
                    "context": "I’m explaining useful expressions for contrast. In contrast and on the other hand are two of the most useful expressions for giving contrast."
                },
                {
                    "original": "You're talking so much about one aspect.",
                    "corrected": "You're focusing too much on one aspect.",
                    "explanation": "'Talking so much' is informal; 'focusing too much' is more precise.",
                    "context": "I’m noting that the discussion is too narrow. You're focusing too much on one aspect of the report."
                },
                {
                    "original": "The person wants clear data.",
                    "corrected": "The reader wants clear data.",
                    "explanation": "'Person' is too vague; 'reader' is more specific in this context.",
                    "context": "I’m emphasizing the need for clarity in the report. The reader wants clear data presented simply."
                },
                {
                    "original": "Don't forget about splitting sentences.",
                    "corrected": "Don't forget to split sentences.",
                    "explanation": "The phrase 'about splitting' should be 'to split' for correct infinitive usage.",
                    "context": "I’m reminding myself to improve sentence structure. Don't forget to split sentences for clarity."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "The most favorite entertainment for teenagers was watching TV.",
                    "corrected": "The most favorite form of entertainment for teenagers was watching TV.",
                    "explanation": "The phrase 'most favorite entertainment' is awkward; 'form of entertainment' is more idiomatic.",
                    "context": "When discussing what teenagers enjoy, I mentioned that the most favorite form of entertainment for teenagers was watching TV. It's a common activity among them."
                },
                {
                    "original": "There was a trip to the malls or there was a trip to pubs.",
                    "corrected": "There were trips to the malls or there were trips to pubs.",
                    "explanation": "The subject 'trips' is plural, so the verb should also be in the plural form.",
                    "context": "In talking about teenagers' activities, I noted that there were trips to the malls or there were trips to pubs. These are popular hangout spots."
                },
                {
                    "original": "What is extracurricular activity?",
                    "corrected": "What are extracurricular activities?",
                    "explanation": "The term 'extracurricular activities' is plural, so the verb should match in number.",
                    "context": "I was explaining what students can do after school. I asked, 'What are extracurricular activities?' to clarify the concept."
                },
                {
                    "original": "This is usually usually.",
                    "corrected": "This is usually.",
                    "explanation": "The word 'usually' is repeated unnecessarily.",
                    "context": "While discussing common activities, I mistakenly said, 'This is usually usually.' I meant to emphasize that this is usually the case."
                },
                {
                    "original": "What is the minus of the time?",
                    "corrected": "What is the downside of the time?",
                    "explanation": "'Minus' is not idiomatic in this context; 'downside' is more appropriate.",
                    "context": "I was trying to discuss the negative aspects of how time is spent. I asked, 'What is the downside of the time?' to get the conversation going."
                },
                {
                    "original": "They spend almost the same time.",
                    "corrected": "They spend nearly the same amount of time.",
                    "explanation": "'Almost' is less formal; 'nearly' is more precise in this context.",
                    "context": "When comparing activities, I noted that they spend nearly the same amount of time on various pursuits. This highlights their balanced interests."
                },
                {
                    "original": "Can we say favorite, your most favorite activities?",
                    "corrected": "Can we say your favorite activities?",
                    "explanation": "The phrase 'your most favorite activities' is redundant; 'favorite' suffices.",
                    "context": "I was trying to clarify how to express preferences. I asked, 'Can we say your favorite activities?' to simplify the language."
                },
                {
                    "original": "It's like a million of people.",
                    "corrected": "It's like a million people.",
                    "explanation": "The phrase 'a million of people' is incorrect; 'a million people' is the correct form.",
                    "context": "While discussing statistics, I mentioned that the number of people involved is significant. I said, 'It's like a million people' to emphasize the scale."
                },
                {
                    "original": "What are those numbers?",
                    "corrected": "What do those numbers represent?",
                    "explanation": "The original phrasing is vague; 'represent' clarifies the inquiry about the numbers.",
                    "context": "In analyzing data, I asked, 'What do those numbers represent?' to seek clarity on the statistics presented."
                },
                {
                    "original": "I myself, I didn't understand.",
                    "corrected": "I didn't understand.",
                    "explanation": "The phrase 'I myself' is unnecessary; simply stating 'I didn't understand' is clearer.",
                    "context": "While reflecting on the data, I admitted, 'I didn't understand.' This was to express my confusion about the information."
                },
                {
                    "original": "It should be easier to say here.",
                    "corrected": "It should be easier to express here.",
                    "explanation": "'Say' is informal; 'express' is more appropriate in this context.",
                    "context": "In discussing how to communicate ideas, I suggested, 'It should be easier to express here.' This indicates a need for clarity."
                },
                {
                    "original": "By watching the TV, I grow year after year, and became 37 hours.",
                    "corrected": "By watching TV, I grew year after year to 37 hours.",
                    "explanation": "The phrase 'the TV' is unnecessary; 'grew' should be used instead of 'grow' for past tense.",
                    "context": "I was trying to illustrate my viewing habits. I said, 'By watching TV, I grew year after year to 37 hours,' to show the increase in time spent."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "I would say that it's quite a sharp increase like every year plus five hours it's not slight it's quite big like we started from 25 and in only five years we almost doubled the initial value.",
                    "corrected": "I would say that it's quite a sharp increase; like every year, plus five hours, it's not slight; it's quite big. We started from 25, and in only five years, we almost doubled the initial value.",
                    "explanation": "The original sentence is a run-on sentence; it needs proper punctuation to separate the ideas clearly.",
                    "context": "When discussing the increase in hours, I mentioned that it's quite a sharp increase. Like every year, plus five hours, it's not slight; it's quite big. We started from 25, and in only five years, we almost doubled the initial value."
                },
                {
                    "original": "If you describe the most difficult graph, you can write in very simple words.",
                    "corrected": "If you describe the most difficult graph, you can write it in very simple words.",
                    "explanation": "The phrase 'write in very simple words' is missing the object 'it'; it should specify what is being written.",
                    "context": "When discussing how to approach a complex graph, I suggested that if you describe the most difficult graph, you can write it in very simple words. This makes it easier to understand."
                },
                {
                    "original": "I don't know how to write it, I don't know how to write it, I don't know how to write it, but I know this.",
                    "corrected": "I don't know how to write it, but I know this.",
                    "explanation": "The repetition of 'I don't know how to write it' is unnecessary; it can be streamlined for clarity.",
                    "context": "In expressing my uncertainty about writing, I initially repeated that I don't know how to write it. But I know this: I can convey my ideas clearly."
                },
                {
                    "original": "How much time did the children spend on these three types of... ... three types of... ... time of escort.",
                    "corrected": "How much time did the children spend on these three types of activities?",
                    "explanation": "The phrase 'time of escort' is unclear and likely incorrect; it should specify 'activities' for clarity.",
                    "context": "While analyzing children's activities, I asked how much time they spent on these three types of activities. It was important to clarify what I meant."
                },
                {
                    "original": "If you look at it, first there were higher grades, then there were lower grades.",
                    "corrected": "If you look at it, first there were higher grades, and then there were lower grades.",
                    "explanation": "The original sentence lacks a conjunction 'and' to connect the two clauses properly.",
                    "context": "When discussing the trend in grades, I pointed out that if you look at it, first there were higher grades, and then there were lower grades. This shows a clear progression."
                },
                {
                    "original": "Although not this one.",
                    "corrected": "Although not this one, it is important to consider other factors.",
                    "explanation": "The original phrase is incomplete and lacks clarity; it should be part of a complete thought.",
                    "context": "While analyzing various data points, I noted that although not this one, it is important to consider other factors that might influence the results."
                },
                {
                    "original": "Yes, that's cool and clear.",
                    "corrected": "Yes, that's clear and understandable.",
                    "explanation": "'Cool' is informal and might not fit the context; 'clear and understandable' is more appropriate.",
                    "context": "After discussing the data trends, I affirmed that the explanation was clear and understandable. This helps reinforce the points made."
                },
                {
                    "original": "But they became less sporty.",
                    "corrected": "However, they became less sporty.",
                    "explanation": "'But' is often used to contrast ideas; 'however' is more formal and fits better in this context.",
                    "context": "In discussing changes in behavior, I noted that however, they became less sporty over time. This observation is significant for our analysis."
                },
                {
                    "original": "That's how we can say.",
                    "corrected": "That's how we can express it.",
                    "explanation": "'Say' is too informal for this context; 'express it' is more precise.",
                    "context": "When summarizing our findings, I concluded by stating that's how we can express it in our report. Clarity is key in our communication."
                },
                {
                    "original": "You just need to learn the vocabulary.",
                    "corrected": "You just need to review the vocabulary.",
                    "explanation": "'Learn' implies starting from scratch; 'review' suggests familiarity and reinforcement.",
                    "context": "As we wrap up our lesson, I emphasized that you just need to review the vocabulary. This will help solidify your understanding."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Preparation",
                    "definition": "The action or process of making ready or being made ready for use or consideration.",
                    "context": {
                        "Context 1": "I am in the last week of preparation before my exam.",
                        "Context 2": "The chef spent hours in preparation for the big dinner party.",
                        "Context 3": "She made her preparation for the marathon by training every day."
                    }
                },
                {
                    "word": "Vacation",
                    "definition": "An extended period of leisure and recreation, especially away from home or business.",
                    "context": {
                        "Context 1": "I will go to Istanbul for my vacation after the exam.",
                        "Context 2": "During summer vacation, many families travel to the beach.",
                        "Context 3": "He decided to take a vacation from work to focus on his hobbies."
                    }
                },
                {
                    "word": "Employer",
                    "definition": "A person or organization that employs people.",
                    "context": {
                        "Context 1": "I asked my employer for a 3-day vacation.",
                        "Context 2": "The employer provided excellent benefits to all employees.",
                        "Context 3": "As an employer, she values creativity and innovation in her team."
                    }
                },
                {
                    "word": "Invoice",
                    "definition": "A list of goods sent or services provided, with a statement of the sum due for these; a bill.",
                    "context": {
                        "Context 1": "I need to create an invoice for the services rendered.",
                        "Context 2": "The restaurant sent an invoice for the catering services.",
                        "Context 3": "He received an invoice in the mail for his recent online purchase."
                    }
                },
                {
                    "word": "Confirmation",
                    "definition": "The action of confirming something or the state of being confirmed.",
                    "context": {
                        "Context 1": "I handle confirmation calls for the hotel bookings.",
                        "Context 2": "She received a confirmation email for her flight.",
                        "Context 3": "The confirmation of the meeting time was sent out yesterday."
                    }
                },
                {
                    "word": "Sector",
                    "definition": "An area or portion that is distinct from others.",
                    "context": {
                        "Context 1": "I work in the sales sector of the hotel industry.",
                        "Context 2": "The technology sector is rapidly growing in the economy.",
                        "Context 3": "He is interested in the public sector and wants to work for the government."
                    }
                },
                {
                    "word": "Combine",
                    "definition": "To unite or merge two or more things into one.",
                    "context": {
                        "Context 1": "I plan to combine my exam preparation with some leisure time.",
                        "Context 2": "She decided to combine her love for art with her career in marketing.",
                        "Context 3": "The chef will combine different flavors to create a unique dish."
                    }
                },
                {
                    "word": "Productive",
                    "definition": "Achieving a significant amount or result; effective.",
                    "context": {
                        "Context 1": "This week is my most productive week ever.",
                        "Context 2": "She felt productive after organizing her workspace.",
                        "Context 3": "The team had a productive meeting that resulted in new ideas."
                    }
                },
                {
                    "word": "Diagram",
                    "definition": "A simplified drawing showing the appearance, structure, or workings of something.",
                    "context": {
                        "Context 1": "We reviewed the diagram about the distribution of the world's water.",
                        "Context 2": "The teacher used a diagram to explain the water cycle.",
                        "Context 3": "He created a diagram to illustrate his research findings."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something written or spoken using different words.",
                    "context": {
                        "Context 1": "I need to paraphrase the title of the report.",
                        "Context 2": "In her essay, she had to paraphrase several sources.",
                        "Context 3": "He was asked to paraphrase the instructions for clarity."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Vacation",
                    "fact": "Did you know that the word 'vacation' comes from the Latin word 'vacare,' which means 'to be empty' or 'free'?"
                },
                {
                    "word": "Invoice",
                    "fact": "The first recorded invoice dates back to ancient Mesopotamia around 5,000 years ago!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Prototype",
                    "definition": "An original model on which something is patterned.",
                    "context": {
                        "Context 1": "The teacher reviewed the prototype of the report to ensure it met the requirements.",
                        "Context 2": "The car company unveiled a new prototype that could revolutionize electric vehicles.",
                        "Context 3": "In the art class, students created a prototype of their sculpture before the final version."
                    }
                },
                {
                    "word": "Accurate",
                    "definition": "Correct in all details; exact.",
                    "context": {
                        "Context 1": "The report needs to be accurate to reflect the data shown on the graphs.",
                        "Context 2": "Her accurate memory helped her win the trivia contest.",
                        "Context 3": "The weather forecast was surprisingly accurate, predicting rain just as it started."
                    }
                },
                {
                    "word": "Consists",
                    "definition": "To be made up or composed of.",
                    "context": {
                        "Context 1": "The report consists of three main sections: introduction, body, and conclusion.",
                        "Context 2": "The cake consists of flour, sugar, eggs, and butter.",
                        "Context 3": "The committee consists of five members who represent different departments."
                    }
                },
                {
                    "word": "Comparison",
                    "definition": "The act of comparing two or more things.",
                    "context": {
                        "Context 1": "The report includes a comparison of water usage between Canada and Egypt.",
                        "Context 2": "In her essay, she made a comparison between two famous novels.",
                        "Context 3": "The teacher asked for a comparison of the two historical events."
                    }
                },
                {
                    "word": "Overall",
                    "definition": "Taking everything into account; in general.",
                    "context": {
                        "Context 1": "Overall, the findings of the report indicate a significant difference in water usage.",
                        "Context 2": "Overall, the movie received positive reviews from critics.",
                        "Context 3": "Overall, the team performed well throughout the season."
                    }
                },
                {
                    "word": "Explicitly",
                    "definition": "In a clear and detailed manner, leaving no room for confusion.",
                    "context": {
                        "Context 1": "The report should explicitly state the data to avoid misunderstandings.",
                        "Context 2": "The teacher explicitly explained the rules of the game before starting.",
                        "Context 3": "The contract explicitly outlines the responsibilities of both parties."
                    }
                },
                {
                    "word": "Sector",
                    "definition": "A distinct part or subdivision of a larger area or system.",
                    "context": {
                        "Context 1": "The agricultural sector in Egypt uses a large amount of water.",
                        "Context 2": "The technology sector is rapidly growing in many countries.",
                        "Context 3": "The healthcare sector faces many challenges in providing services."
                    }
                },
                {
                    "word": "Tense",
                    "definition": "A form of a verb that indicates the time of an action.",
                    "context": {
                        "Context 1": "Choosing the correct tense is crucial for clarity in the report.",
                        "Context 2": "In English, there are three main tenses: past, present, and future.",
                        "Context 3": "The teacher emphasized the importance of using the right tense in writing."
                    }
                },
                {
                    "word": "Rephrase",
                    "definition": "To express something in a different way.",
                    "context": {
                        "Context 1": "You may need to rephrase your sentence for better clarity.",
                        "Context 2": "The student was asked to rephrase the question to make it clearer.",
                        "Context 3": "She had to rephrase her explanation after the audience looked confused."
                    }
                },
                {
                    "word": "Data",
                    "definition": "Facts and statistics collected for reference or analysis.",
                    "context": {
                        "Context 1": "The data presented in the report shows significant trends in water usage.",
                        "Context 2": "Scientists rely on data to support their research findings.",
                        "Context 3": "The survey collected data on consumer preferences."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Prototype",
                    "fact": "The first prototype of a rubber duck was made of hard plastic, not rubber!"
                },
                {
                    "word": "Accurate",
                    "fact": "The word 'accurate' comes from the Latin 'accuratus,' which means 'carefully done.'"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the report go to therapy?",
                    "answer": "Because it had too many unresolved issues!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Extracurricular",
                    "definition": "Activities that fall outside the realm of the normal curriculum of school education.",
                    "context": {
                        "Context 1": "Extracurricular activities can help students develop new skills and interests.",
                        "Context 2": "He spent his summer vacation participating in extracurricular activities like hiking and painting.",
                        "Context 3": "Many students find extracurricular clubs to be a great way to make friends."
                    }
                },
                {
                    "word": "Indicators",
                    "definition": "Statistics or data points that provide information about a particular situation or trend.",
                    "context": {
                        "Context 1": "The indicators showed that students preferred watching TV over other activities.",
                        "Context 2": "Economic indicators can help predict the future of the job market.",
                        "Context 3": "Weather indicators are crucial for farmers to plan their planting seasons."
                    }
                },
                {
                    "word": "Ratio",
                    "definition": "A relationship between two numbers indicating how many times the first number contains the second.",
                    "context": {
                        "Context 1": "The ratio of students to teachers in the school is 20 to 1.",
                        "Context 2": "In a recipe, the ratio of flour to sugar is essential for the right taste.",
                        "Context 3": "The ratio of cats to dogs in the neighborhood is surprisingly high."
                    }
                },
                {
                    "word": "Analyze",
                    "definition": "To examine something in detail for purposes of explanation and interpretation.",
                    "context": {
                        "Context 1": "Students need to analyze the data carefully before drawing conclusions.",
                        "Context 2": "The detective had to analyze the clues to solve the mystery.",
                        "Context 3": "Scientists analyze the results of their experiments to understand their findings."
                    }
                },
                {
                    "word": "Accuracy",
                    "definition": "The quality or state of being correct or precise.",
                    "context": {
                        "Context 1": "The accuracy of the data is crucial for making informed decisions.",
                        "Context 2": "In archery, accuracy is more important than strength.",
                        "Context 3": "The accuracy of GPS technology has improved significantly over the years."
                    }
                },
                {
                    "word": "Favorite",
                    "definition": "Preferred or liked above all others.",
                    "context": {
                        "Context 1": "Her favorite activity is watching movies on weekends.",
                        "Context 2": "Chocolate is his favorite flavor of ice cream.",
                        "Context 3": "My favorite season is autumn because of the beautiful colors."
                    }
                },
                {
                    "word": "Confusing",
                    "definition": "Causing uncertainty or bewilderment.",
                    "context": {
                        "Context 1": "The instructions were so confusing that I had to ask for help.",
                        "Context 2": "The plot of the movie was confusing and hard to follow.",
                        "Context 3": "Math can be confusing for many students without proper guidance."
                    }
                },
                {
                    "word": "Describe",
                    "definition": "To give an account of something in words.",
                    "context": {
                        "Context 1": "The teacher asked the students to describe their favorite hobbies.",
                        "Context 2": "Can you describe the painting you saw at the museum?",
                        "Context 3": "He described his vacation in such detail that I felt like I was there."
                    }
                },
                {
                    "word": "Growth",
                    "definition": "The process of increasing in size, number, value, or strength.",
                    "context": {
                        "Context 1": "There has been a significant growth in the number of students participating in sports.",
                        "Context 2": "The growth of the tree was evident after a year of good weather.",
                        "Context 3": "Economic growth is essential for improving living standards."
                    }
                },
                {
                    "word": "Period",
                    "definition": "A length or portion of time.",
                    "context": {
                        "Context 1": "The study covered a period of five years.",
                        "Context 2": "During the medieval period, many significant events occurred in Europe.",
                        "Context 3": "She plans to travel for a period of two months next summer."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Extracurricular",
                    "fact": "Did you know that some schools have extracurricular activities like underwater basket weaving?"
                },
                {
                    "word": "Indicators",
                    "fact": "In some cultures, the number 13 is considered an indicator of bad luck!"
                },
                {
                    "word": "Confusing",
                    "fact": "The word 'set' has the most definitions of any word in the English language, making it quite confusing!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Increase",
                    "definition": "To become or make greater in size, amount, or degree.",
                    "context": {
                        "Context 1": "The number of hours spent on sports has increased over the years.",
                        "Context 2": "The bakery decided to increase the price of their pastries due to rising costs.",
                        "Context 3": "She hopes to increase her savings by budgeting more effectively."
                    }
                },
                {
                    "word": "Sharp",
                    "definition": "Having a thin edge or point that can cut or pierce something.",
                    "context": {
                        "Context 1": "There was a sharp increase in the number of students enrolling in the program.",
                        "Context 2": "He used a sharp knife to slice the vegetables for the salad.",
                        "Context 3": "The sharp sound of the whistle startled everyone in the room."
                    }
                },
                {
                    "word": "Slightly",
                    "definition": "To a small degree; not considerably.",
                    "context": {
                        "Context 1": "The increase in hours was slightly noticeable compared to last year.",
                        "Context 2": "She was slightly nervous before her presentation but did well.",
                        "Context 3": "The weather is slightly warmer today than it was yesterday."
                    }
                },
                {
                    "word": "Dramatically",
                    "definition": "In a way that is sudden and striking.",
                    "context": {
                        "Context 1": "The graph showed a dramatically sharp increase in sales last quarter.",
                        "Context 2": "The actor's performance was dramatically different from his previous roles.",
                        "Context 3": "The landscape changed dramatically after the storm."
                    }
                },
                {
                    "word": "Rate",
                    "definition": "A measure, quantity, or frequency, typically one measured against another quantity or measure.",
                    "context": {
                        "Context 1": "The rate of increase in hours spent on shopping is concerning.",
                        "Context 2": "The interest rate on loans has gone up recently.",
                        "Context 3": "She was surprised by the high rate of speed at which the car was traveling."
                    }
                },
                {
                    "word": "Strategy",
                    "definition": "A plan of action designed to achieve a long-term or overall aim.",
                    "context": {
                        "Context 1": "The strategy to analyze the data helped clarify the trends.",
                        "Context 2": "His strategy for winning the game involved careful planning.",
                        "Context 3": "The company developed a new marketing strategy to attract younger customers."
                    }
                },
                {
                    "word": "Incomparable",
                    "definition": "Without an equal in quality or extent; matchless.",
                    "context": {
                        "Context 1": "The figures for shopping and sports are incomparable in this analysis.",
                        "Context 2": "Her talent for singing is truly incomparable to anyone else in the competition.",
                        "Context 3": "The view from the mountain top was incomparable to anything he had seen before."
                    }
                },
                {
                    "word": "Conclusions",
                    "definition": "Judgments or decisions reached after consideration.",
                    "context": {
                        "Context 1": "We should avoid making conclusions about the reasons for the changes in activity.",
                        "Context 2": "After reviewing the evidence, the jury reached their conclusions.",
                        "Context 3": "The scientist's conclusions were published in a prestigious journal."
                    }
                },
                {
                    "word": "Peak",
                    "definition": "The highest point or level.",
                    "context": {
                        "Context 1": "The peak value of sports participation was reached in 2004.",
                        "Context 2": "The mountain's peak was covered in snow all year round.",
                        "Context 3": "The stock market reached its peak before the sudden crash."
                    }
                },
                {
                    "word": "Decline",
                    "definition": "A gradual and continuous loss of strength, numbers, quality, or value.",
                    "context": {
                        "Context 1": "There has been a decline in the number of hours spent on sports.",
                        "Context 2": "The decline in bee populations is concerning for the environment.",
                        "Context 3": "His health began to decline after he stopped exercising regularly."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Sharp",
                    "fact": "Did you know that a sharp pencil can actually help you think better? It's true! Studies show that people perform better on tests with sharper pencils!"
                },
                {
                    "word": "Slightly",
                    "fact": "The word 'slightly' is often used in cooking. For example, 'slightly overcooked' means you might have a deliciously crispy edge!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                },
                {
                    "question": "Why did the student eat his homework?",
                    "answer": "Because the teacher said it was a piece of cake!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Are you all set for your trip to Istanbul next week?"
                },
                {
                    "Person 2": "Yeah, I’m super excited! Just a week of prep left before the exam."
                },
                {
                    "Person 1": "Nice! Are you doing anything special while you're there?"
                },
                {
                    "Person 2": "Definitely! I want to explore a bit before the exam. Maybe check out some local spots."
                },
                {
                    "Person 1": "That sounds awesome! Have you been to Istanbul before?"
                },
                {
                    "Person 2": "No, this will be my first time. I’ve heard it’s beautiful!"
                },
                {
                    "Person 1": "It really is! The food, the architecture... you’re going to love it."
                },
                {
                    "Person 2": "I can’t wait to try the street food! I’ve heard the kebabs are a must."
                },
                {
                    "Person 1": "For sure! And don’t forget to visit the Grand Bazaar. It’s a shopping paradise."
                },
                {
                    "Person 2": "I’ll add that to my list! How’s your week going, by the way?"
                },
                {
                    "Person 1": "Pretty good! Just busy with work and trying to catch up on some reading."
                },
                {
                    "Person 2": "Nice! What are you reading?"
                },
                {
                    "Person 1": "Just a mystery novel. It’s pretty gripping! What about you?"
                },
                {
                    "Person 2": "I’ve been trying to brush up on my English for the exam. Lots of practice!"
                },
                {
                    "Person 1": "That’s smart! Are you finding it helpful?"
                },
                {
                    "Person 2": "Yeah, I think so. I’ve been using some apps and listening to podcasts."
                },
                {
                    "Person 1": "Great idea! Podcasts are a fun way to learn."
                },
                {
                    "Person 2": "Exactly! Anyway, I should get back to studying. We’ll catch up later?"
                },
                {
                    "Person 1": "Absolutely! Good luck with your prep!"
                },
                {
                    "Person 2": "Thanks! Talk soon!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh, for sure! It was intense! I can't believe how close it was."
                },
                {
                    "Person 1": "Right? I thought they were going to lose for a second there."
                },
                {
                    "Person 2": "Same! But that last-minute goal was epic. I jumped off the couch!"
                },
                {
                    "Person 1": "Haha, I can imagine! I was pacing around my living room."
                },
                {
                    "Person 2": "What do you think about the next game? Do we have a chance?"
                },
                {
                    "Person 1": "I think so! If we play like we did in the second half, we can definitely win."
                },
                {
                    "Person 2": "Agreed! Plus, our star player is back from injury, so that should help."
                },
                {
                    "Person 1": "Yeah, I heard he’s been training hard. It’s going to be exciting!"
                },
                {
                    "Person 2": "For sure! We should watch it together. Make it a game night."
                },
                {
                    "Person 1": "Absolutely! I’ll bring the snacks!"
                },
                {
                    "Person 2": "Perfect! I’ll bring the drinks. Can’t wait!"
                },
                {
                    "Person 1": "Same here! Let’s hope for a win!"
                },
                {
                    "Person 2": "Definitely! See you then!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new show everyone's talking about?"
                },
                {
                    "Person 2": "Oh, you mean the one about the detective in the small town? Yeah, I started watching it last night!"
                },
                {
                    "Person 1": "Nice! What do you think so far?"
                },
                {
                    "Person 2": "I really like it! The plot is super interesting, and the characters are relatable."
                },
                {
                    "Person 1": "Totally! I love how they develop the characters over time. It makes you care about what happens to them."
                },
                {
                    "Person 2": "Exactly! And the cliffhangers at the end of each episode? Ugh, they drive me crazy!"
                },
                {
                    "Person 1": "Right? I almost binge-watched the whole season in one sitting!"
                },
                {
                    "Person 2": "Same here! But then I realized I’d have to wait forever for the next season."
                },
                {
                    "Person 1": "Yeah, that’s the downside. But at least we can rewatch the old episodes in the meantime!"
                },
                {
                    "Person 2": "Good point! Plus, there are so many other shows to check out."
                },
                {
                    "Person 1": "For sure! Have you seen that one about the cooking competition?"
                },
                {
                    "Person 2": "Oh, I love that one! The dishes they create are just amazing."
                },
                {
                    "Person 1": "I know, right? It makes me want to try cooking something fancy!"
                },
                {
                    "Person 2": "Same! Maybe we should have a cooking night and try to recreate some of those dishes."
                },
                {
                    "Person 1": "That sounds like a blast! Let’s plan it!"
                },
                {
                    "Person 2": "Absolutely! I can’t wait!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you see that new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I did! I heard they have some amazing pastries too."
                },
                {
                    "Person 1": "I love pastries! We should definitely check it out this weekend."
                },
                {
                    "Person 2": "Absolutely! I could go for a good croissant and a cappuccino."
                },
                {
                    "Person 1": "Sounds perfect! What time do you want to go?"
                },
                {
                    "Person 2": "How about Saturday morning? Around 10?"
                },
                {
                    "Person 1": "10 works for me! We can grab a table and relax."
                },
                {
                    "Person 2": "Yeah, I could use a chill morning. It’s been a hectic week."
                },
                {
                    "Person 1": "Tell me about it! I feel like I’ve been running around non-stop."
                },
                {
                    "Person 2": "Right? A little coffee and pastry will definitely help."
                },
                {
                    "Person 1": "For sure! Plus, I want to try their seasonal flavors."
                },
                {
                    "Person 2": "Ooh, I love seasonal flavors! I hope they have pumpkin spice."
                },
                {
                    "Person 1": "If they do, I’m definitely getting that! It’s a fall classic."
                },
                {
                    "Person 2": "Agreed! Can’t wait for Saturday!"
                },
                {
                    "Person 1": "Me too! It’ll be a nice break."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
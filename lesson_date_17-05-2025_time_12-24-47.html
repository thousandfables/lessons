<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I have studied English in school. In second class.",
                    "corrected": "I studied English in school in the second grade.",
                    "explanation": "The phrase 'have studied' is incorrect in this context; 'studied' is the simple past tense needed here. Additionally, 'second class' should be 'second grade' in American English.",
                    "context": "I studied English in school in the second grade. However, when I graduated, I didn't know any English at all."
                },
                {
                    "original": "But then I continue studying English. Myself and myself.",
                    "corrected": "But then I continued studying English by myself.",
                    "explanation": "The verb 'continue' should be in the past tense 'continued' to match the narrative. 'Myself and myself' is redundant; 'by myself' is the correct phrase.",
                    "context": "After that, I continued studying English by myself. Eventually, I found a teacher to help me."
                },
                {
                    "original": "And I want to study to new country.",
                    "corrected": "And I want to study in a new country.",
                    "explanation": "'To new country' is incorrect; 'in a new country' is the proper prepositional phrase.",
                    "context": "I am studying clinical psychology at university. I want to study in a new country to further my education."
                },
                {
                    "original": "I just forget the words.",
                    "corrected": "I just forget words.",
                    "explanation": "The article 'the' is unnecessary here; 'forget words' is more idiomatic.",
                    "context": "I sometimes struggle with my vocabulary. I just forget words when I try to speak."
                },
                {
                    "original": "But I really like this series and it is very fun.",
                    "corrected": "But I really like this series; it is very fun.",
                    "explanation": "A semicolon is needed to connect two independent clauses instead of a conjunction.",
                    "context": "I enjoy watching shows in English. But I really like this series; it is very fun and entertaining."
                },
                {
                    "original": "I didn't expect this results.",
                    "corrected": "I didn't expect these results.",
                    "explanation": "'This' is singular, while 'results' is plural; 'these' should be used instead.",
                    "context": "I was surprised by my performance on the test. I didn't expect these results at all."
                },
                {
                    "original": "I didn't do nothing because it's more...",
                    "corrected": "I didn't do anything because it's more...",
                    "explanation": "Double negatives are incorrect in standard English; 'anything' should be used instead of 'nothing.'",
                    "context": "I struggled with the reading section. I didn't do anything because it was too difficult for me."
                },
                {
                    "original": "I cannot include this one point and I cannot understand this text.",
                    "corrected": "I cannot grasp this point, and I cannot understand this text.",
                    "explanation": "'Include this one point' is awkward; 'grasp this point' is a more idiomatic expression.",
                    "context": "I found the reading material challenging. I cannot grasp this point, and I cannot understand this text."
                },
                {
                    "original": "It's strange for me.",
                    "corrected": "It's strange to me.",
                    "explanation": "The phrase 'strange for me' is less idiomatic; 'strange to me' is the correct expression.",
                    "context": "I find the differences in language learning interesting. It's strange to me how some things work."
                },
                {
                    "original": "So your level is expected to be higher if you want to study.",
                    "corrected": "So your level is expected to be higher if you want to study here.",
                    "explanation": "The sentence lacks clarity; adding 'here' specifies where the level is expected to be higher.",
                    "context": "If you want to apply to universities, your English level needs to be higher. So your level is expected to be higher if you want to study here."
                },
                {
                    "original": "I graduated in February 2027.",
                    "corrected": "I will graduate in February 2027.",
                    "explanation": "The use of 'graduated' implies past tense; 'will graduate' is needed for future tense.",
                    "context": "I'm currently in university, and I have a few more years to go. I will graduate in February 2027."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I push me.",
                    "corrected": "I push myself.",
                    "explanation": "The reflexive pronoun 'myself' should be used instead of 'me' to indicate that the subject is performing the action on itself.",
                    "context": "I try to write only English subtitles, but then I don't understand. I push myself to write only in English. It's a challenge, but I believe it helps."
                },
                {
                    "original": "I wrote Russian subtitles.",
                    "corrected": "I used to write Russian subtitles.",
                    "explanation": "The past simple 'wrote' is not appropriate here; 'used to' indicates a past habit or action that is no longer done.",
                    "context": "I try to write only English subtitles, but then I don't understand. I used to write Russian subtitles, but I'm trying to improve."
                },
                {
                    "original": "I can say that if you were close to a beginner level a year ago, then now it's a big improvement because now we can communicate.",
                    "corrected": "I can say that if you were close to a beginner level a year ago, then now there's been a big improvement because we can communicate.",
                    "explanation": "The phrase 'it's a big improvement' should be 'there's been a big improvement' to indicate a change over time.",
                    "context": "Your progress has been noticeable. I can say that if you were close to a beginner level a year ago, then now there's been a big improvement."
                },
                {
                    "original": "I would have lost myself and I wouldn't be able to speak or understand anything.",
                    "corrected": "I would have lost myself, and I wouldn't have been able to speak or understand anything.",
                    "explanation": "The past perfect 'wouldn't have been able' is necessary to maintain the correct conditional structure.",
                    "context": "When I first started, I struggled a lot. I would have lost myself, and I wouldn't have been able to speak or understand anything."
                },
                {
                    "original": "I feel like I heard the topic of the use to.",
                    "corrected": "I feel like I heard the topic of 'used to.'",
                    "explanation": "'The use to' is incorrect; it should be 'used to' to refer to the grammatical structure.",
                    "context": "In our discussions, I often reflect on what I've learned. I feel like I heard the topic of 'used to.'"
                },
                {
                    "original": "I can do the task, but rarely use it in the conversation.",
                    "corrected": "I can do the task, but I rarely use it in conversation.",
                    "explanation": "The article 'the' is unnecessary before 'conversation' in this context.",
                    "context": "I understand the grammar rules. I can do the task, but I rarely use it in conversation."
                },
                {
                    "original": "I just came to prepare.",
                    "corrected": "I just came to prepare for the exam.",
                    "explanation": "The phrase is incomplete; adding 'for the exam' clarifies the purpose of the preparation.",
                    "context": "I want to improve my English skills. I just came to prepare for the exam."
                },
                {
                    "original": "It's a very good practice.",
                    "corrected": "It's a very good practice.",
                    "explanation": "No correction needed; however, the context could be clearer.",
                    "context": "I find that watching content in English boosts my skills. It's a very good practice."
                },
                {
                    "original": "You shouldn't pay attention to grammar.",
                    "corrected": "You shouldn't focus too much on grammar.",
                    "explanation": "The phrase 'pay attention to' is acceptable, but 'focus too much on' is more idiomatic in this context.",
                    "context": "When learning a language, it's important to enjoy the process. You shouldn't focus too much on grammar."
                },
                {
                    "original": "All the times, the tenses, the moments you go through, it's never...",
                    "corrected": "All the times, the tenses, and the moments you go through, they are never...",
                    "explanation": "The sentence lacks clarity; using 'they are' instead of 'it's' makes it clearer.",
                    "context": "Learning English can be overwhelming. All the times, the tenses, and the moments you go through, they are never easy."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I understand. Language is not a logical system.",
                    "corrected": "I understand. Language is not a logical system.",
                    "explanation": "No mistake; this sentence is correct.",
                    "context": "I often reflect on how language works. I understand. Language is not a logical system."
                },
                {
                    "original": "They can't write in a different way, because no teacher can say, listen, the language is not logical at all.",
                    "corrected": "They can't write in a different way because no teacher can say, 'Listen, the language is not logical at all.'",
                    "explanation": "The comma before 'because' is unnecessary, and quotation marks should be used for direct speech.",
                    "context": "Teachers often struggle to convey the complexities of language. They can't write in a different way because no teacher can say, 'Listen, the language is not logical at all.'"
                },
                {
                    "original": "But it's practically pointless, in fact.",
                    "corrected": "But it's practically pointless, in fact.",
                    "explanation": "No mistake; this sentence is correct.",
                    "context": "I often feel frustrated with traditional methods. But it's practically pointless, in fact."
                },
                {
                    "original": "So the best option is to just immerse yourself, to increase the volume of the material you get.",
                    "corrected": "So the best option is to just immerse yourself and increase the volume of the material you get.",
                    "explanation": "The conjunction 'and' is more appropriate than the comma before 'to increase.'",
                    "context": "I believe in the power of immersion. So the best option is to just immerse yourself and increase the volume of the material you get."
                },
                {
                    "original": "It's a great game.",
                    "corrected": "It's a great way to learn.",
                    "explanation": "The phrase 'a great game' is vague; specifying 'way to learn' makes it clearer.",
                    "context": "I enjoy various methods of learning. It's a great way to learn."
                },
                {
                    "original": "It's never, at a short distance, you can't track it.",
                    "corrected": "It's never possible to track it at a short distance.",
                    "explanation": "The original structure is awkward; rephrasing clarifies the meaning.",
                    "context": "Learning a language takes time. It's never possible to track it at a short distance."
                },
                {
                    "original": "If you do everything right, then somewhere in a year, you see, I can say this and that, and I don't even need to think in Russian.",
                    "corrected": "If you do everything right, then somewhere in a year, you'll see that you can say this and that without even needing to think in Russian.",
                    "explanation": "The tense and structure need adjustment for clarity and correctness.",
                    "context": "I believe in gradual progress. If you do everything right, then somewhere in a year, you'll see that you can say this and that without even needing to think in Russian."
                },
                {
                    "original": "But it doesn't happen in two or three months, it happens in a year.",
                    "corrected": "But it doesn't happen in two or three months; it happens in a year.",
                    "explanation": "A semicolon is needed to separate two independent clauses.",
                    "context": "I often hear people underestimate the time needed. But it doesn't happen in two or three months; it happens in a year."
                },
                {
                    "original": "I often make the mistake that I am now intensively studying for three months, I will learn all English and then I will study online.",
                    "corrected": "I often make the mistake of thinking that if I study intensively for three months, I will learn all of English and then study online.",
                    "explanation": "The phrase 'make the mistake that' should be 'make the mistake of thinking that,' and 'all English' should be 'all of English.'",
                    "context": "I sometimes set unrealistic goals for my learning. I often make the mistake of thinking that if I study intensively for three months, I will learn all of English and then study online."
                },
                {
                    "original": "A person who puts in 90% of his effort, he is completely concentrated in this, he is looking for something, looking for words, this person will burn out in two or three months, but it will not be enough.",
                    "corrected": "A person who puts in 90% of his effort and is completely concentrated on this, looking for something, looking for words, will burn out in two or three months, but that will not be enough.",
                    "explanation": "The structure is awkward; combining clauses and adjusting prepositions improves clarity.",
                    "context": "I see many learners struggle with burnout. A person who puts in 90% of his effort and is completely concentrated on this, looking for something, looking for words, will burn out in two or three months, but that will not be enough."
                },
                {
                    "original": "I could not express my thoughts freely, he will not express it freely in three months.",
                    "corrected": "I could not express my thoughts freely, and he will not be able to express them freely in three months.",
                    "explanation": "The conjunction 'and' is needed to connect the two clauses, and 'it' should be 'them' for agreement.",
                    "context": "I remember my own struggles with speaking. I could not express my thoughts freely, and he will not be able to express them freely in three months."
                },
                {
                    "original": "I spend so much effort, and they go somewhere else.",
                    "corrected": "I spend so much effort, and it feels like it goes somewhere else.",
                    "explanation": "The pronoun 'they' is unclear; 'it' should refer to 'effort' for clarity.",
                    "context": "I often feel frustrated with my progress. I spend so much effort, and it feels like it goes somewhere else."
                },
                {
                    "original": "Yes, well, it's difficult.",
                    "corrected": "Yes, well, it is difficult.",
                    "explanation": "The contraction 'it's' is informal; using 'it is' is more appropriate in this context.",
                    "context": "I acknowledge the challenges of learning. Yes, well, it is difficult."
                },
                {
                    "original": "In Germany, you need to know German.",
                    "corrected": "In Germany, you need to know German.",
                    "explanation": "No mistake; this sentence is correct.",
                    "context": "I consider studying abroad. In Germany, you need to know German."
                },
                {
                    "original": "Well, there is an English program.",
                    "corrected": "Well, there is an English-language program.",
                    "explanation": "Specifying 'English-language' clarifies the type of program.",
                    "context": "I am exploring my options for studying. Well, there is an English-language program."
                },
                {
                    "original": "I know that in all countries except Germany you can study Russian.",
                    "corrected": "I know that in all countries except Germany, you can study Russian.",
                    "explanation": "A comma is needed before 'you can study Russian' to separate clauses.",
                    "context": "I have researched language programs. I know that in all countries except Germany, you can study Russian."
                },
                {
                    "original": "What will you do?",
                    "corrected": "What will you do?",
                    "explanation": "No mistake; this sentence is correct.",
                    "context": "I often wonder about future plans. What will you do?"
                },
                {
                    "original": "I live in Moscow now.",
                    "corrected": "I currently live in Moscow.",
                    "explanation": "Using 'currently' is more idiomatic than 'now' in this context.",
                    "context": "I have relocated for my studies. I currently live in Moscow."
                },
                {
                    "original": "I have problems with communication.",
                    "corrected": "I have some problems with communication.",
                    "explanation": "Adding 'some' makes the statement more natural.",
                    "context": "I face challenges in social situations. I have some problems with communication."
                },
                {
                    "original": "In Germany, I heard that they are there, I don't know how, from the registration office, because I had students who were in Bukhara.",
                    "corrected": "In Germany, I heard that they have a system, but I'm not sure how it works, from the registration office, because I had students who were in Bukhara.",
                    "explanation": "The original phrasing is unclear; rephrasing improves clarity.",
                    "context": "I gather information from various sources. In Germany, I heard that they have a system, but I'm not sure how it works, from the registration office, because I had students who were in Bukhara."
                },
                {
                    "original": "They told me that Germany is very close to the German country, and they need to pass the tests there.",
                    "corrected": "They told me that Germany is very strict about language requirements, and you need to pass tests there.",
                    "explanation": "The phrase 'close to the German country' is awkward; rephrasing clarifies the meaning.",
                    "context": "I learn about the requirements for studying abroad. They told me that Germany is very strict about language requirements, and you need to pass tests there."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Exposure",
                    "definition": "The state of being exposed to something, especially a language or culture.",
                    "context": {
                        "Context 1": "I realized that I need more exposure to English to improve my speaking skills.",
                        "Context 2": "The artist's work gained exposure after being featured in a major gallery.",
                        "Context 3": "Traveling abroad provides exposure to different cultures and traditions."
                    }
                },
                {
                    "word": "Immersed",
                    "definition": "Involved deeply in a particular activity or interest.",
                    "context": {
                        "Context 1": "When I lived in England, I was immersed in the language and culture.",
                        "Context 2": "He was so immersed in his book that he didn't notice the time passing.",
                        "Context 3": "The children were immersed in the game, forgetting about their surroundings."
                    }
                },
                {
                    "word": "Passive Vocabulary",
                    "definition": "Words that a person understands but does not actively use in speech or writing.",
                    "context": {
                        "Context 1": "Many learners have a large passive vocabulary but struggle to use it actively.",
                        "Context 2": "His passive vocabulary in Spanish is impressive, but he rarely speaks it.",
                        "Context 3": "She built her passive vocabulary through reading extensively in English."
                    }
                },
                {
                    "word": "Reproduce",
                    "definition": "To produce again or to repeat something.",
                    "context": {
                        "Context 1": "I can understand the words, but I struggle to reproduce them in conversation.",
                        "Context 2": "The scientist was able to reproduce the experiment with the same results.",
                        "Context 3": "The artist tried to reproduce the famous painting in her own style."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or situation.",
                    "context": {
                        "Context 1": "Understanding the context of a conversation is crucial for effective communication.",
                        "Context 2": "The historical context of the novel adds depth to the characters' motivations.",
                        "Context 3": "In a scientific context, the findings were groundbreaking."
                    }
                },
                {
                    "word": "Specific",
                    "definition": "Clearly defined or identified; particular.",
                    "context": {
                        "Context 1": "The IELTS test requires specific vocabulary related to academic subjects.",
                        "Context 2": "He has a specific interest in marine biology.",
                        "Context 3": "The recipe calls for specific ingredients that are hard to find."
                    }
                },
                {
                    "word": "Puzzled",
                    "definition": "Confused or unable to understand something.",
                    "context": {
                        "Context 1": "I was puzzled by the reading passage because of the difficult vocabulary.",
                        "Context 2": "She looked puzzled when I asked her a tricky question.",
                        "Context 3": "The complex puzzle left everyone feeling puzzled and frustrated."
                    }
                },
                {
                    "word": "Satisfy",
                    "definition": "To meet the needs or expectations of someone.",
                    "context": {
                        "Context 1": "It's important to satisfy your curiosity when learning a new language.",
                        "Context 2": "The meal was designed to satisfy even the pickiest eaters.",
                        "Context 3": "He worked hard to satisfy his boss's demands."
                    }
                },
                {
                    "word": "Journey",
                    "definition": "An act of traveling from one place to another; a process of personal development.",
                    "context": {
                        "Context 1": "My English journey has been filled with ups and downs.",
                        "Context 2": "The journey through the mountains was breathtaking.",
                        "Context 3": "Her journey to becoming a doctor took many years of hard work."
                    }
                },
                {
                    "word": "Apply",
                    "definition": "To make a formal request for something, typically a job or admission to a school.",
                    "context": {
                        "Context 1": "I plan to apply for a master's degree after I graduate.",
                        "Context 2": "He decided to apply for a job at the local bookstore.",
                        "Context 3": "You need to apply sunscreen before going out in the sun."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Puzzled",
                    "fact": "The word 'puzzle' comes from the Old French word 'pousser,' which means 'to push.' So, next time you're puzzled, just remember youâ€™re being pushed to think!"
                },
                {
                    "word": "Satisfy",
                    "fact": "Did you know that the word 'satisfy' comes from the Latin word 'satisfacere,' which means 'to make enough'? So, if you eat enough pizza, you can satisfy your hunger!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the English book go to school?",
                    "answer": "Because it wanted to improve its grammar!"
                },
                {
                    "question": "What did one English teacher say to another?",
                    "answer": "I have a lot of problems with my students, but I can always count on them to be 'punny'!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Motivate",
                    "definition": "To provide someone with a reason for doing something; to inspire.",
                    "context": {
                        "Context 1": "The teacher tried to motivate her students to watch English series for better learning.",
                        "Context 2": "He needed to motivate himself to go to the gym every day.",
                        "Context 3": "The motivational speaker inspired the audience to pursue their dreams."
                    }
                },
                {
                    "word": "Reluctant",
                    "definition": "Unwilling or hesitant to do something.",
                    "context": {
                        "Context 1": "Many students were reluctant to watch English series at first.",
                        "Context 2": "She was reluctant to try the new dish at the restaurant.",
                        "Context 3": "He felt reluctant to join the dance class because he was shy."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or situation.",
                    "context": {
                        "Context 1": "Learning vocabulary in context helps students remember words better.",
                        "Context 2": "The historical context of the novel is essential to understanding its themes.",
                        "Context 3": "In a conversation, the context can change the meaning of a statement."
                    }
                },
                {
                    "word": "Practice",
                    "definition": "To perform an activity repeatedly to improve skill.",
                    "context": {
                        "Context 1": "The student needs to practice speaking English more often.",
                        "Context 2": "He decided to practice the piano for an hour every day.",
                        "Context 3": "The team must practice their plays before the big game."
                    }
                },
                {
                    "word": "Improve",
                    "definition": "To make or become better.",
                    "context": {
                        "Context 1": "She has improved her English skills by watching series.",
                        "Context 2": "He worked hard to improve his grades in school.",
                        "Context 3": "The company aims to improve customer satisfaction with better service."
                    }
                },
                {
                    "word": "Frozen",
                    "definition": "Unable to move or act; paralyzed by fear or uncertainty.",
                    "context": {
                        "Context 1": "When faced with a difficult question, she felt frozen and couldn't respond.",
                        "Context 2": "The lake was frozen solid, allowing people to skate on it.",
                        "Context 3": "He was frozen in place when he saw the surprise party."
                    }
                },
                {
                    "word": "Boost",
                    "definition": "To increase or improve something.",
                    "context": {
                        "Context 1": "Watching English content can boost language skills.",
                        "Context 2": "The new marketing strategy is expected to boost sales significantly.",
                        "Context 3": "A good night's sleep can boost your mood and energy levels."
                    }
                },
                {
                    "word": "Subtitles",
                    "definition": "Text displayed at the bottom of a screen that translates or transcribes the dialogue.",
                    "context": {
                        "Context 1": "Using English subtitles can help learners understand the language better.",
                        "Context 2": "The movie had subtitles in multiple languages for international audiences.",
                        "Context 3": "He turned on the subtitles to follow the fast-paced dialogue."
                    }
                },
                {
                    "word": "Vocabulary",
                    "definition": "The body of words used in a particular language or by a particular person.",
                    "context": {
                        "Context 1": "Expanding your vocabulary is essential for language learning.",
                        "Context 2": "She created flashcards to help memorize new vocabulary.",
                        "Context 3": "His vocabulary was impressive, filled with complex words."
                    }
                },
                {
                    "word": "Examine",
                    "definition": "To inspect or scrutinize carefully.",
                    "context": {
                        "Context 1": "The teacher will examine the students' progress in English.",
                        "Context 2": "The doctor will examine the patient to determine the cause of the symptoms.",
                        "Context 3": "They need to examine the evidence before making a decision."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Subtitles",
                    "fact": "Did you know that the first-ever subtitles were created in the 1920s for silent films?"
                },
                {
                    "word": "Motivate",
                    "fact": "The word 'motivate' comes from the Latin word 'movere,' which means 'to move.' So, motivation is all about getting you moving!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the English teacher go to the beach?",
                    "answer": "Because she wanted to work on her 'sandwich' vocabulary!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Immersion",
                    "definition": "The act of being deeply engaged or involved in something, often used in the context of language learning.",
                    "context": {
                        "Context 1": "The best option is to just immerse yourself in the language to learn effectively.",
                        "Context 2": "He decided to immerse himself in the world of painting by visiting galleries every weekend.",
                        "Context 3": "The children were immersed in the story as their teacher read aloud."
                    }
                },
                {
                    "word": "Burnout",
                    "definition": "A state of emotional, physical, and mental exhaustion caused by prolonged stress or overwork.",
                    "context": {
                        "Context 1": "A person who puts in 90% of his effort may burn out in two or three months.",
                        "Context 2": "After working long hours without a break, she experienced burnout and needed a vacation.",
                        "Context 3": "The athlete faced burnout after training intensively for several months without rest."
                    }
                },
                {
                    "word": "Cognitive",
                    "definition": "Related to the mental processes of perception, memory, judgment, and reasoning.",
                    "context": {
                        "Context 1": "I liked cognitive sciences in Germany, which study how we think and learn.",
                        "Context 2": "Cognitive development in children is crucial for their future learning abilities.",
                        "Context 3": "The cognitive effects of sleep deprivation can lead to poor decision-making."
                    }
                },
                {
                    "word": "Express",
                    "definition": "To convey thoughts, feelings, or ideas through words, gestures, or other forms of communication.",
                    "context": {
                        "Context 1": "He could not express his thoughts freely in English after just three months of study.",
                        "Context 2": "She found it hard to express her emotions during the difficult times.",
                        "Context 3": "Artists often express their feelings through their artwork."
                    }
                },
                {
                    "word": "Effort",
                    "definition": "A vigorous or determined attempt; the exertion of physical or mental energy.",
                    "context": {
                        "Context 1": "He spends so much effort studying but feels it goes nowhere.",
                        "Context 2": "The team put in a lot of effort to win the championship.",
                        "Context 3": "She made an effort to learn how to cook for her family."
                    }
                },
                {
                    "word": "Gradually",
                    "definition": "In a gradual manner; slowly over a period of time.",
                    "context": {
                        "Context 1": "You will gradually see improvement in your language skills.",
                        "Context 2": "The weather gradually became warmer as spring approached.",
                        "Context 3": "He gradually learned to play the guitar by practicing every day."
                    }
                },
                {
                    "word": "Concentrated",
                    "definition": "Focused and directed towards a specific task or goal.",
                    "context": {
                        "Context 1": "He was completely concentrated on finding the right words in English.",
                        "Context 2": "The students were concentrated during the exam, trying to remember everything they studied.",
                        "Context 3": "She concentrated on her breathing during yoga to find inner peace."
                    }
                },
                {
                    "word": "Logical",
                    "definition": "Characterized by clear, sound reasoning; rational.",
                    "context": {
                        "Context 1": "Language is not a logical system, as stated in the lesson.",
                        "Context 2": "His logical approach to solving problems made him a great engineer.",
                        "Context 3": "The detective used logical reasoning to piece together the clues."
                    }
                },
                {
                    "word": "Track",
                    "definition": "To follow the progress or development of something.",
                    "context": {
                        "Context 1": "You can't track your progress in language learning at a short distance.",
                        "Context 2": "The scientist used a computer program to track the migration patterns of birds.",
                        "Context 3": "She decided to track her expenses to save money."
                    }
                },
                {
                    "word": "Journey",
                    "definition": "An act of traveling from one place to another; a process of personal change and development.",
                    "context": {
                        "Context 1": "Prepare for such a long journey when learning a new language.",
                        "Context 2": "His journey to becoming a doctor took many years of hard work.",
                        "Context 3": "They documented their journey across the country in a travel blog."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Burnout",
                    "fact": "Did you know that 'burnout' was originally a term used to describe the exhaustion of a candle? Now it describes exhausted humans!"
                },
                {
                    "word": "Express",
                    "fact": "The word 'express' comes from the Latin 'exprimere,' which means 'to press out.' So, when you express yourself, you are literally pressing out your thoughts!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of stress!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going this afternoon?"
                },
                {
                    "Person 2": "Hi! I'm doing pretty well, thanks! Just trying to get through the day. How about you?"
                },
                {
                    "Person 1": "Same here! Just finished a long meeting. I could really use a break."
                },
                {
                    "Person 2": "I hear you! Meetings can be so draining. What do you usually do to unwind?"
                },
                {
                    "Person 1": "I like to watch some shows. Lately, I've been rewatching 'The Big Bang Theory.'"
                },
                {
                    "Person 2": "Oh, I love that show! It's hilarious. Which season are you on?"
                },
                {
                    "Person 1": "I just started season three again. Can't get enough of Sheldon!"
                },
                {
                    "Person 2": "Sheldon is the best! His quirks always crack me up. Do you have a favorite episode?"
                },
                {
                    "Person 1": "Definitely the one where they try to get into the comic book store. It's so funny!"
                },
                {
                    "Person 2": "Classic! I love how they all have their own little quirks. It makes the show so relatable."
                },
                {
                    "Person 1": "Exactly! Plus, it's a great way to practice my English. I watch it with subtitles sometimes."
                },
                {
                    "Person 2": "That's a smart idea! I should try that too. I sometimes struggle with some of the jokes."
                },
                {
                    "Person 1": "Same here! But I think it helps to hear the jokes in context."
                },
                {
                    "Person 2": "For sure! So, are you studying anything new lately?"
                },
                {
                    "Person 1": "Yeah, I'm actually taking a course on psychology. It's really interesting!"
                },
                {
                    "Person 2": "Nice! Psychology is such a fascinating field. What do you like most about it?"
                },
                {
                    "Person 1": "I love learning about how people think and behave. It's like solving a puzzle!"
                },
                {
                    "Person 2": "That sounds awesome! I might look into that too. Any tips for getting started?"
                },
                {
                    "Person 1": "Just dive in! There are so many resources online. And donâ€™t forget to enjoy the process!"
                },
                {
                    "Person 2": "Great advice! Iâ€™ll definitely keep that in mind. Thanks!"
                },
                {
                    "Person 1": "No problem! Letâ€™s catch up again soon, maybe after I finish the season?"
                },
                {
                    "Person 2": "Absolutely! Iâ€™d love to hear your thoughts on the finale!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you been watching any good shows lately?"
                },
                {
                    "Person 2": "Yeah, I just started binge-watching 'The Big Bang Theory.' It's hilarious!"
                },
                {
                    "Person 1": "Nice! I've heard a lot about that one. How are you watching it, with English subtitles or something else?"
                },
                {
                    "Person 2": "Iâ€™m using English subtitles. I find it helps me understand the jokes better."
                },
                {
                    "Person 1": "Thatâ€™s a smart move! I usually struggle with some of the humor when I watch in another language."
                },
                {
                    "Person 2": "Totally! I tried watching it in Russian once, but I missed a lot of the wordplay."
                },
                {
                    "Person 1": "Yeah, wordplay can be tricky. Do you think itâ€™s helping your English?"
                },
                {
                    "Person 2": "Definitely! I feel like my listening skills are getting better. I can catch more phrases now."
                },
                {
                    "Person 1": "Thatâ€™s awesome! I should probably start doing that too. I usually just scroll through TikTok."
                },
                {
                    "Person 2": "TikTok is fun, but itâ€™s not the best for learning. Maybe try to mix it up a bit?"
                },
                {
                    "Person 1": "Good idea! I could watch an episode of a show and then reward myself with some TikTok."
                },
                {
                    "Person 2": "Perfect balance! Plus, youâ€™ll pick up new vocabulary along the way."
                },
                {
                    "Person 1": "Exactly! I just need to remember to focus when I watch. Sometimes I zone out."
                },
                {
                    "Person 2": "I get that! Itâ€™s easy to lose track. But if you enjoy it, it makes it easier to pay attention."
                },
                {
                    "Person 1": "For sure! Iâ€™ll give it a shot. Maybe Iâ€™ll start 'The Big Bang Theory' tonight."
                },
                {
                    "Person 2": "You wonâ€™t regret it! Let me know what you think after the first few episodes."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you ever thought about how learning a language is more about immersion than textbooks?"
                },
                {
                    "Person 2": "Totally! I mean, trying to memorize rules can be so frustrating. Itâ€™s like, who actually speaks like that?"
                },
                {
                    "Person 1": "Exactly! Iâ€™ve found that watching TV shows in English really helps. Itâ€™s way more fun than studying grammar."
                },
                {
                    "Person 2": "For sure! I love binge-watching series. Plus, you pick up slang and everyday phrases that you wonâ€™t find in a textbook."
                },
                {
                    "Person 1": "Right? And donâ€™t even get me started on YouTube. Thereâ€™s so much content out there!"
                },
                {
                    "Person 2": "I know! Iâ€™ve learned a lot just from watching tutorials and vlogs. It feels more natural."
                },
                {
                    "Person 1": "And playing games in English is another great way to learn. You get to think on your feet!"
                },
                {
                    "Person 2": "Absolutely! Itâ€™s like youâ€™re learning without even realizing it. But I guess it takes time, huh?"
                },
                {
                    "Person 1": "Yeah, for sure. Itâ€™s not something you can master in a few months. Itâ€™s a long journey."
                },
                {
                    "Person 2": "Definitely! I used to think I could learn everything in a few weeks, but that just led to burnout."
                },
                {
                    "Person 1": "Same here! I felt like I was putting in so much effort but not seeing results right away."
                },
                {
                    "Person 2": "Exactly! Itâ€™s all about patience. If you keep at it, youâ€™ll be surprised at how much you can improve over time."
                },
                {
                    "Person 1": "True! Iâ€™m starting to feel more confident, and I can express myself better now."
                },
                {
                    "Person 2": "Thatâ€™s awesome! Just keep practicing, and soon youâ€™ll be chatting away without even thinking about it."
                },
                {
                    "Person 1": "Thanks! Iâ€™ll keep that in mind. Letâ€™s plan a movie night soonâ€”English only!"
                },
                {
                    "Person 2": "Sounds like a plan! Iâ€™m in!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
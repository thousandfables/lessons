<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "It's funny because Interesting experience when you listen some Not an interesting 15 minutes.",
                    "corrected": "It's funny because it was an interesting experience when you listen to some not very interesting 15 minutes.",
                    "explanation": "The phrase 'listen some' is incorrect; it should be 'listen to some.' Also, 'not an interesting' should be 'not very interesting' for clarity.",
                    "context": "I had a job interview recently. It's funny because it was an interesting experience when you listen to some not very interesting 15 minutes. I listened for 15 minutes about their company."
                },
                {
                    "original": "She Understand That I don't Suit for their company, but she don't.",
                    "corrected": "She understood that I don't suit their company, but she didn't.",
                    "explanation": "The verb 'understand' should be in the past tense 'understood.' The phrase 'suit for' is incorrect; it should be 'suit.' 'She don't' should be 'she didn't.'",
                    "context": "During the interview, I told the lady about my experience. She understood that I don't suit their company, but she didn't seem to mind. I think it was a mutual realization."
                },
                {
                    "original": "It's new because Russian developers are better.",
                    "corrected": "It's new because Russian developers are better.",
                    "explanation": "This sentence is correct but lacks context; it could be more clearly connected to the previous sentences.",
                    "context": "I've been exploring job opportunities lately. It's new because Russian developers are better. I believe they have unique skills that set them apart."
                },
                {
                    "original": "It's basic bicycle for middle middle or senior developer.",
                    "corrected": "It's basic salary for a middle or senior developer.",
                    "explanation": "'Basic bicycle' is incorrect; it should be 'basic salary.' The repetition of 'middle' is unnecessary.",
                    "context": "In my experience, salaries vary widely. It's basic salary for a middle or senior developer. This is important to consider when looking for jobs."
                },
                {
                    "original": "They need The developers who knows they language.",
                    "corrected": "They need developers who know their language.",
                    "explanation": "'The developers who knows they language' is incorrect; it should be 'developers who know their language.'",
                    "context": "Companies often have specific requirements. They need developers who know their language. This can be a barrier for many job seekers."
                },
                {
                    "original": "If you want to say Find the work in Europe you need to learn a lot of languages.",
                    "corrected": "If you want to find work in Europe, you need to learn a lot of languages.",
                    "explanation": "The phrase 'say Find the work' is incorrect; it should be 'find work.' A comma is needed after 'Europe.'",
                    "context": "Finding a job abroad can be challenging. If you want to find work in Europe, you need to learn a lot of languages. This is essential for communication."
                },
                {
                    "original": "You really need to work from every place for all the.",
                    "corrected": "You really need to work from every place for all of that.",
                    "explanation": "'For all the' is incomplete; it should be 'for all of that.'",
                    "context": "Many believe remote work is easy. You really need to work from every place for all of that. It's not as simple as it seems."
                },
                {
                    "original": "It's hard Ten or sixteen hours per day you don't spend you see you sitting on the beach and coding.",
                    "corrected": "It's hard to work ten or sixteen hours per day; you don't just sit on the beach and code.",
                    "explanation": "The sentence structure is confusing; it should be 'It's hard to work ten or sixteen hours per day.' A semicolon is needed for clarity.",
                    "context": "People often romanticize remote work. It's hard to work ten or sixteen hours per day; you don't just sit on the beach and code. It requires discipline."
                },
                {
                    "original": "But salaries or About this like three developers.",
                    "corrected": "But salaries are about three times that of a developer.",
                    "explanation": "'Salaries or About this like three developers' is unclear; it should be 'salaries are about three times that of a developer.'",
                    "context": "Salary comparisons are common in discussions. But salaries are about three times that of a developer. This highlights the disparities in pay."
                },
                {
                    "original": "They take Minimal salary or or medium salary one they can work one for One One 100 thousands rubles.",
                    "corrected": "They take a minimal or medium salary, which is around one hundred thousand rubles.",
                    "explanation": "The sentence is overly complicated; it should be simplified to 'They take a minimal or medium salary, which is around one hundred thousand rubles.'",
                    "context": "Many developers face salary challenges. They take a minimal or medium salary, which is around one hundred thousand rubles. This is often not enough to live comfortably."
                },
                {
                    "original": "Yes, yes, yes when you Stay in the middle without an angry boss and his money.",
                    "corrected": "Yes, yes, yes, when you stay in the middle without an angry boss and his money.",
                    "explanation": "The phrase 'Stay in the middle' should be 'stay in the middle,' and a comma is needed after 'yes.'",
                    "context": "Job satisfaction is crucial. Yes, yes, yes, when you stay in the middle without an angry boss and his money, it can be a relief. Stress levels decrease significantly."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "They give us a New team leader and It just known that she will export actress.",
                    "corrected": "They gave us a new team leader, and it was just known that she would be an export actress.",
                    "explanation": "The verb tense is incorrect; 'give' should be 'gave' for past tense, and 'it just known' should be 'it was just known.'",
                    "context": "Our team leader was changed recently. They gave us a new team leader, and it was just known that she would be an export actress. This change brought some uncertainty to the team."
                },
                {
                    "original": "When our boss knowing about this she will stay his lover.",
                    "corrected": "When our boss knew about this, she would stay his lover.",
                    "explanation": "'Knowing' should be 'knew' for past tense, and 'will' should be 'would' for conditional statements.",
                    "context": "There was a rumor about our boss's relationship. When our boss knew about this, she would stay his lover. This situation created a lot of gossip in the office."
                },
                {
                    "original": "The free riders is previous term for over workers.",
                    "corrected": "The free riders is a previous term for overworkers.",
                    "explanation": "The article 'a' is needed before 'previous term,' and 'over workers' should be 'overworkers' as one word.",
                    "context": "In our discussions about work culture, we talked about terminology. The free riders is a previous term for overworkers. It reflects how some people take advantage of others' efforts."
                },
                {
                    "original": "I was the secret free rider.",
                    "corrected": "I was a secret free rider.",
                    "explanation": "'The' should be 'a' because it refers to one of many possible free riders.",
                    "context": "In my job, I often felt overwhelmed. I was a secret free rider. It allowed me to manage my stress better."
                },
                {
                    "original": "We buy the house but... But we need to make heating before winter.",
                    "corrected": "We bought the house, but we needed to make heating before winter.",
                    "explanation": "The verb 'buy' should be in past tense 'bought,' and 'need' should be 'needed' for past context.",
                    "context": "After purchasing our new home, we faced some challenges. We bought the house, but we needed to make heating before winter. The boiler was broken, which added to our stress."
                },
                {
                    "original": "We were not rich like our neighbors.",
                    "corrected": "We weren't rich like our neighbors.",
                    "explanation": "The contraction 'weren't' is more idiomatic than 'were not' in spoken English.",
                    "context": "Living in a small village, we often compared ourselves to others. We weren't rich like our neighbors. Instead, we worked hard to improve our living conditions."
                },
                {
                    "original": "He had been fixed.",
                    "corrected": "He had fixed it.",
                    "explanation": "'Had been fixed' implies something was done to him, while 'had fixed it' indicates he did the fixing.",
                    "context": "We were discussing home repairs. He had fixed it. This was a relief after all the issues we faced with the heating system."
                },
                {
                    "original": "He planned to fix it in the next summer.",
                    "corrected": "He planned to fix it the next summer.",
                    "explanation": "The article 'in' is unnecessary; 'the next summer' is the correct phrase.",
                    "context": "After many delays, we finally had a plan. He planned to fix it the next summer. We hoped everything would be resolved by then."
                },
                {
                    "original": "You in English is always plural.",
                    "corrected": "You in English is treated as plural.",
                    "explanation": "The phrase should clarify that 'you' is treated as plural in English grammar.",
                    "context": "During our grammar discussion, I learned something interesting. You in English is treated as plural. This is different from many other languages."
                },
                {
                    "original": "I need to spend some time for... Ending up with... With grammar trainings.",
                    "corrected": "I need to spend some time on grammar training.",
                    "explanation": "'For' should be 'on,' and 'trainings' should be singular 'training' in this context.",
                    "context": "I realized I need to improve my language skills. I need to spend some time on grammar training. It's essential for my confidence."
                },
                {
                    "original": "I think that this salary will be good for junior developer.",
                    "corrected": "I think that this salary will be good for a junior developer.",
                    "explanation": "The article 'a' is needed before 'junior developer.'",
                    "context": "As we discussed salaries in the industry, I shared my thoughts. I think that this salary will be good for a junior developer. It reflects the current market situation."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "He is devops.",
                    "corrected": "He is a DevOps engineer.",
                    "explanation": "The term 'devops' should be capitalized and specified as a job title.",
                    "context": "My husband works in IT. He is a DevOps engineer. His role is crucial for the development process."
                },
                {
                    "original": "It's a rarely thing.",
                    "corrected": "It's a rare thing.",
                    "explanation": "'Rarely' is an adverb; 'rare' is the correct adjective to describe something uncommon.",
                    "context": "In the tech industry, certain skills are hard to find. It's a rare thing to find someone with his expertise."
                },
                {
                    "original": "He can make all your IT programs more safely.",
                    "corrected": "He can make all your IT programs safer.",
                    "explanation": "'Safely' is an adverb; 'safer' is the correct adjective to describe the state of the programs.",
                    "context": "He has a unique skill set. He can make all your IT programs safer and more efficient."
                },
                {
                    "original": "He was in the top 10 of devops in Moscow.",
                    "corrected": "He was in the top 10 DevOps engineers in Moscow.",
                    "explanation": "The term 'devops' should be capitalized and specified as a job title.",
                    "context": "His skills are highly regarded. He was in the top 10 DevOps engineers in Moscow."
                },
                {
                    "original": "Which one you can buy for money.",
                    "corrected": "Which you can buy for money.",
                    "explanation": "The phrase is missing the auxiliary verb 'do' to form a proper question.",
                    "context": "There are many skilled professionals in the field. Which you can buy for money is a common question."
                },
                {
                    "original": "It's 300.000 rubles.",
                    "corrected": "It's 300,000 rubles.",
                    "explanation": "The correct format for numbers in English uses a comma for thousands, not a period.",
                    "context": "When discussing salaries, clarity is important. It's 300,000 rubles for a middle developer in Russia."
                },
                {
                    "original": "They have 43% of taxes.",
                    "corrected": "They have a 43% tax rate.",
                    "explanation": "The phrase should specify 'tax rate' instead of 'of taxes' for clarity.",
                    "context": "Taxation can be complicated. They have a 43% tax rate, which is quite high."
                },
                {
                    "original": "You need to be super-proper developer.",
                    "corrected": "You need to be a super-qualified developer.",
                    "explanation": "'Super-proper' is not idiomatic; 'super-qualified' is a more appropriate term.",
                    "context": "The job market is competitive. You need to be a super-qualified developer to succeed."
                },
                {
                    "original": "They want to ask you in the job interview everything about the theory of your work.",
                    "corrected": "They want to ask you everything about the theory of your work in the job interview.",
                    "explanation": "The order of the sentence is awkward; rephrasing improves clarity.",
                    "context": "Job interviews can be intense. They want to ask you everything about the theory of your work."
                },
                {
                    "original": "He worked hard. And after that he got 200 and... 2300 euros.",
                    "corrected": "He worked hard, and after that, he got 2300 euros.",
                    "explanation": "The sentence structure is awkward; it should be combined for better flow.",
                    "context": "Success in the industry requires effort. He worked hard, and after that, he got 2300 euros."
                },
                {
                    "original": "Creative development of developers where architecture is complicated, concepts, microservices.",
                    "corrected": "Creative development involves complicated architecture, concepts, and microservices.",
                    "explanation": "The original sentence lacks clarity and proper structure; rephrasing improves readability.",
                    "context": "The field is evolving. Creative development involves complicated architecture, concepts, and microservices."
                },
                {
                    "original": "I never seen the interesting projects.",
                    "corrected": "I have never seen any interesting projects.",
                    "explanation": "The correct form is 'have never seen'; 'any' is needed for grammatical accuracy.",
                    "context": "My experience in Latvia has been limited. I have never seen any interesting projects here."
                },
                {
                    "original": "You can't remember too many words.",
                    "corrected": "You can't remember many words.",
                    "explanation": "The phrase 'too many' implies an excessive amount, while 'many' is more appropriate here.",
                    "context": "Language learning can be challenging. You can't remember many words at once."
                },
                {
                    "original": "You have to alter this.",
                    "corrected": "You have to change this.",
                    "explanation": "'Alter' is correct but less common; 'change' is more straightforward and idiomatic.",
                    "context": "To improve your skills, you need to adapt. You have to change this approach."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "Because Google translator don't understand some specific words.",
                    "corrected": "Because Google translator doesn't understand some specific words.",
                    "explanation": "The subject 'Google translator' is singular, so it should be followed by 'doesn't' instead of 'don't.'",
                    "context": "I was discussing the challenges of understanding idioms. Because Google translator doesn't understand some specific words, I will try to make a review of your transcript."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Interview",
                    "definition": "A formal meeting in which one or more persons question, consult, or evaluate another person.",
                    "context": {
                        "Context 1": "I went to a job interview where I had to explain my previous work experience.",
                        "Context 2": "The detective conducted an interview with the suspect to gather more information.",
                        "Context 3": "During the interview, the journalist asked the celebrity about their upcoming movie."
                    }
                },
                {
                    "word": "Suitable",
                    "definition": "Right or appropriate for a particular person, purpose, or situation.",
                    "context": {
                        "Context 1": "She realized she wasn't suitable for the job after the interview.",
                        "Context 2": "This dress is not suitable for a formal event; you should wear something more elegant.",
                        "Context 3": "The weather is suitable for a picnic, so let's go to the park."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "Practical contact with and observation of facts or events.",
                    "context": {
                        "Context 1": "I shared my experience during the interview to demonstrate my qualifications.",
                        "Context 2": "Traveling abroad gave her a unique experience that changed her perspective.",
                        "Context 3": "His experience in cooking helped him prepare a delicious meal for the guests."
                    }
                },
                {
                    "word": "Salary",
                    "definition": "A fixed regular payment, typically paid on a monthly or biweekly basis, made by an employer to an employee.",
                    "context": {
                        "Context 1": "The average salary for a developer in Europe is significantly higher than in other regions.",
                        "Context 2": "After negotiating, she was happy with the salary offered for her new job.",
                        "Context 3": "He saved a portion of his salary every month to buy a new car."
                    }
                },
                {
                    "word": "Remote",
                    "definition": "Situated far from the main centers of population; distant.",
                    "context": {
                        "Context 1": "Many developers can work remotely, allowing them to live anywhere.",
                        "Context 2": "The remote island was a perfect getaway for those seeking solitude.",
                        "Context 3": "He used a remote control to change the channel on the television."
                    }
                },
                {
                    "word": "Toxic",
                    "definition": "Very harmful or unpleasant in a pervasive or insidious way.",
                    "context": {
                        "Context 1": "Working in a toxic environment can lead to stress and health issues.",
                        "Context 2": "The toxic waste from the factory polluted the nearby river.",
                        "Context 3": "She decided to leave the toxic relationship for her own well-being."
                    }
                },
                {
                    "word": "Colleague",
                    "definition": "A person with whom one works in a profession or business.",
                    "context": {
                        "Context 1": "My colleague and I collaborated on a project for our company.",
                        "Context 2": "He invited his colleagues to a team-building event to strengthen their bond.",
                        "Context 3": "She often goes out for lunch with her colleagues to discuss work matters."
                    }
                },
                {
                    "word": "Documentation",
                    "definition": "Material that provides official information or evidence or that serves as a record.",
                    "context": {
                        "Context 1": "I need to read the documentation for the new software before using it.",
                        "Context 2": "The historical documentation revealed much about the town's past.",
                        "Context 3": "He kept all the documentation related to his car purchase in a folder."
                    }
                },
                {
                    "word": "Libraries",
                    "definition": "A collection of resources, typically books, that can be accessed for information or research.",
                    "context": {
                        "Context 1": "Developers often use libraries to simplify their coding tasks.",
                        "Context 2": "The local libraries offer a wide range of books for all ages.",
                        "Context 3": "She borrowed several books from the libraries to prepare for her exams."
                    }
                },
                {
                    "word": "Hostile",
                    "definition": "Unfriendly; antagonistic.",
                    "context": {
                        "Context 1": "The work environment was so hostile that many employees left.",
                        "Context 2": "The hostile takeover of the company shocked everyone in the industry.",
                        "Context 3": "He faced a hostile crowd when he tried to present his ideas."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Interview",
                    "fact": "Did you know that the longest job interview lasted 10 hours? Talk about a test of patience!"
                },
                {
                    "word": "Toxic",
                    "fact": "The term 'toxic' was originally used to describe poisonous substances, but now it can describe bad relationships too!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the developer go broke?",
                    "answer": "Because he kept losing his cache!"
                },
                {
                    "question": "Why did the computer break up with the internet?",
                    "answer": "There were too many connections!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Overworker",
                    "definition": "A person who works excessively, often taking on more tasks than is reasonable.",
                    "context": {
                        "Context 1": "In the conversation, the term 'overworker' was used to describe someone who takes on too many jobs.",
                        "Context 2": "She was known as the office overworker, often staying late to finish projects.",
                        "Context 3": "Being an overworker can lead to burnout and health issues."
                    }
                },
                {
                    "word": "Free rider",
                    "definition": "A person who benefits from resources, goods, or services without paying for them or contributing.",
                    "context": {
                        "Context 1": "The speaker mentioned being a 'secret free rider' in their company.",
                        "Context 2": "In group projects, it's frustrating when one member acts like a free rider and does not contribute.",
                        "Context 3": "The free rider problem is common in public goods scenarios, where some people benefit without contributing."
                    }
                },
                {
                    "word": "Gossip",
                    "definition": "Casual or unconstrained conversation about other people, often involving details that are not confirmed as true.",
                    "context": {
                        "Context 1": "The lesson mentioned that gossip was the only way to relieve stress in the company.",
                        "Context 2": "She loves to gossip about the latest celebrity news with her friends.",
                        "Context 3": "Gossip can sometimes lead to misunderstandings and hurt feelings among colleagues."
                    }
                },
                {
                    "word": "Facade",
                    "definition": "The front or face of a building, often used to refer to its outward appearance.",
                    "context": {
                        "Context 1": "The speaker discussed needing to change the facade of their house due to errors.",
                        "Context 2": "The old theater's facade was beautifully restored to its original glory.",
                        "Context 3": "Sometimes, people put up a facade to hide their true feelings."
                    }
                },
                {
                    "word": "Heating system",
                    "definition": "A system used to heat a building or space.",
                    "context": {
                        "Context 1": "The conversation involved issues with the heating system in the speaker's house.",
                        "Context 2": "During winter, it's essential to have a reliable heating system to stay warm.",
                        "Context 3": "The new office building was equipped with an energy-efficient heating system."
                    }
                },
                {
                    "word": "Deficit",
                    "definition": "A shortage or lack of something, often used in financial contexts.",
                    "context": {
                        "Context 1": "The speaker mentioned a deficit of IT specialists in Russia.",
                        "Context 2": "The country is facing a budget deficit due to increased spending.",
                        "Context 3": "The school had a deficit of supplies, which affected the students' learning experience."
                    }
                },
                {
                    "word": "Assimilate",
                    "definition": "To absorb and integrate into a group or culture.",
                    "context": {
                        "Context 1": "The speaker noted that some developers do not assimilate well into foreign job markets.",
                        "Context 2": "It can be challenging for immigrants to assimilate into a new culture.",
                        "Context 3": "The program aims to help refugees assimilate into the local community."
                    }
                },
                {
                    "word": "Relocate",
                    "definition": "To move to a different place, often for work or personal reasons.",
                    "context": {
                        "Context 1": "The speaker's friend relocated from Russia to Turkey.",
                        "Context 2": "Many families choose to relocate for better job opportunities.",
                        "Context 3": "After the merger, the company decided to relocate its headquarters to a larger city."
                    }
                },
                {
                    "word": "Cashed",
                    "definition": "Having a lot of money or being financially secure.",
                    "context": {
                        "Context 1": "The speaker mentioned that they are now 'really cashed' after selling their house.",
                        "Context 2": "After winning the lottery, he felt cashed and started planning his dream vacation.",
                        "Context 3": "She worked hard and saved for years, and now she feels cashed and ready to invest."
                    }
                },
                {
                    "word": "Comfortable",
                    "definition": "Providing physical ease and relaxation; free from stress or worry.",
                    "context": {
                        "Context 1": "The speaker felt comfortable speaking English in a cafe.",
                        "Context 2": "He prefers to wear comfortable clothes when working from home.",
                        "Context 3": "The hotel room was spacious and comfortable, making their stay enjoyable."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Gossip",
                    "fact": "Did you know that the word 'gossip' comes from an Old English term meaning 'god-sibling'? It originally referred to a close friend or companion!"
                },
                {
                    "word": "Facade",
                    "fact": "In architecture, a facade can be so elaborate that it can be mistaken for a work of art, which is why some buildings are more famous for their facade than their function!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the developer go broke?",
                    "answer": "Because he lost his cache!"
                },
                {
                    "question": "Why did the heating system break up with the air conditioner?",
                    "answer": "Because it found someone more 'hot'!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "DevOps",
                    "definition": "A set of practices that combines software development (Dev) and IT operations (Ops) to shorten the development lifecycle.",
                    "context": {
                        "Context 1": "My husband works in DevOps, ensuring that software is developed and deployed smoothly.",
                        "Context 2": "DevOps practices help companies deliver updates to their applications more frequently.",
                        "Context 3": "In the world of DevOps, collaboration between teams is essential for success."
                    }
                },
                {
                    "word": "Salary",
                    "definition": "A fixed regular payment, typically paid on a monthly basis, for work done.",
                    "context": {
                        "Context 1": "In Latvia, the average salary for developers is significantly lower than in Western Europe.",
                        "Context 2": "She was thrilled to receive a salary increase after her performance review.",
                        "Context 3": "Many people dream of earning a high salary in their chosen profession."
                    }
                },
                {
                    "word": "Tax",
                    "definition": "A compulsory financial charge or levy imposed by a government on individuals or businesses.",
                    "context": {
                        "Context 1": "In Latvia, the tax rates can be quite high compared to other countries.",
                        "Context 2": "He was surprised to learn how much tax he would owe after his promotion.",
                        "Context 3": "Tax season can be stressful for many people trying to file their returns on time."
                    }
                },
                {
                    "word": "Demand",
                    "definition": "The desire of consumers to purchase goods or services at a given price.",
                    "context": {
                        "Context 1": "There is a high demand for skilled developers in the tech industry.",
                        "Context 2": "The demand for organic food has increased in recent years.",
                        "Context 3": "During the holiday season, the demand for toys often skyrockets."
                    }
                },
                {
                    "word": "Progressive Tax",
                    "definition": "A tax rate that increases as the taxable amount increases.",
                    "context": {
                        "Context 1": "Latvia uses a progressive tax system to ensure that higher earners pay more.",
                        "Context 2": "Many countries implement a progressive tax to reduce income inequality.",
                        "Context 3": "Understanding how progressive tax works can help you plan your finances better."
                    }
                },
                {
                    "word": "Client",
                    "definition": "A person or organization using the services of a professional person or company.",
                    "context": {
                        "Context 1": "My husband has several clients for his DevOps consulting business.",
                        "Context 2": "The agency prides itself on maintaining strong relationships with its clients.",
                        "Context 3": "She was excited to finally meet her new client in person after weeks of emails."
                    }
                },
                {
                    "word": "Routine",
                    "definition": "A sequence of actions regularly followed; a fixed program.",
                    "context": {
                        "Context 1": "His work involves a lot of routine tasks that can be repetitive.",
                        "Context 2": "She has a morning routine that helps her start the day off right.",
                        "Context 3": "The gym instructor suggested adding variety to my workout routine."
                    }
                },
                {
                    "word": "Microservices",
                    "definition": "An architectural style that structures an application as a collection of loosely coupled services.",
                    "context": {
                        "Context 1": "The company is transitioning to a microservices architecture to improve scalability.",
                        "Context 2": "Microservices allow teams to deploy updates independently without affecting the entire system.",
                        "Context 3": "Understanding microservices can be crucial for modern software development."
                    }
                },
                {
                    "word": "Proficiency",
                    "definition": "A high degree of skill or competence in a particular area.",
                    "context": {
                        "Context 1": "Achieving proficiency in English requires consistent practice and exposure.",
                        "Context 2": "Her proficiency in coding languages made her a valuable asset to the team.",
                        "Context 3": "He demonstrated his proficiency in playing the piano during the recital."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something using different words, especially to achieve greater clarity.",
                    "context": {
                        "Context 1": "When I forget a word, I try to paraphrase what I want to say.",
                        "Context 2": "The teacher asked us to paraphrase the poem in our own words.",
                        "Context 3": "Paraphrasing can help improve understanding of complex texts."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "DevOps",
                    "fact": "The term 'DevOps' is a combination of 'development' and 'operations,' but it sounds like a superhero team!"
                },
                {
                    "word": "Salary",
                    "fact": "In some countries, people joke that their salary is just enough to keep their coffee addiction alive!"
                },
                {
                    "word": "Tax",
                    "fact": "Did you know that the word 'tax' comes from the Latin 'taxare,' which means 'to touch or handle'? Maybe they should have called it 'touch' instead!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the developer go broke?",
                    "answer": "Because he lost his domain in a bet!"
                },
                {
                    "question": "Why do programmers prefer dark mode?",
                    "answer": "Because light attracts bugs!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Idiom",
                    "definition": "A phrase or expression that has a figurative meaning different from its literal meaning.",
                    "context": {
                        "Context 1": "An idiom like 'it's raining cats and dogs' means it's raining heavily.",
                        "Context 2": "In the movie, the character used an idiom that confused everyone.",
                        "Context 3": "Learning idioms can be tricky because they don't always make sense literally."
                    }
                },
                {
                    "word": "Cost an arm and a leg",
                    "definition": "To be very expensive.",
                    "context": {
                        "Context 1": "The new smartphone costs an arm and a leg, but it's worth it.",
                        "Context 2": "The repairs on my car cost an arm and a leg after the accident.",
                        "Context 3": "Buying a house in the city can cost an arm and a leg."
                    }
                },
                {
                    "word": "Transcript",
                    "definition": "A written or printed version of material originally presented in another medium.",
                    "context": {
                        "Context 1": "I will review your transcript of the interview to help improve it.",
                        "Context 2": "The transcript of the meeting was distributed to all participants.",
                        "Context 3": "She requested a transcript of her college courses for her job application."
                    }
                },
                {
                    "word": "Review",
                    "definition": "To examine or assess something with the intention of improving it.",
                    "context": {
                        "Context 1": "I will make a review of your transcript to correct any mistakes.",
                        "Context 2": "The teacher asked us to review our notes before the exam.",
                        "Context 3": "He plans to review the movie before writing his critique."
                    }
                },
                {
                    "word": "Mistake",
                    "definition": "An action or judgment that is misguided or wrong.",
                    "context": {
                        "Context 1": "There are some mistakes in the transcript that need correction.",
                        "Context 2": "Making a mistake is part of the learning process.",
                        "Context 3": "He realized his mistake after submitting the application."
                    }
                },
                {
                    "word": "Specific",
                    "definition": "Clearly defined or identified; particular.",
                    "context": {
                        "Context 1": "Google translator doesn't understand some specific words.",
                        "Context 2": "She had a specific request for her birthday party.",
                        "Context 3": "The doctor gave him specific instructions for his recovery."
                    }
                },
                {
                    "word": "Understand",
                    "definition": "To grasp the meaning, significance, or nature of something.",
                    "context": {
                        "Context 1": "It's difficult to understand some idioms without context.",
                        "Context 2": "He struggled to understand the complex math problem.",
                        "Context 3": "She tried to understand her friend's feelings during the argument."
                    }
                },
                {
                    "word": "Listening",
                    "definition": "The active process of receiving and responding to spoken or nonverbal messages.",
                    "context": {
                        "Context 1": "You will see idioms when you are listening to a lot of stuff.",
                        "Context 2": "Listening to music can improve your mood.",
                        "Context 3": "Effective listening is crucial in a conversation."
                    }
                },
                {
                    "word": "Heavy",
                    "definition": "Of great weight; difficult to lift or move.",
                    "context": {
                        "Context 1": "The idiom 'it's raining cats and dogs' means it's raining heavily.",
                        "Context 2": "He carried a heavy backpack up the hill.",
                        "Context 3": "The heavy traffic made us late for the meeting."
                    }
                },
                {
                    "word": "Work",
                    "definition": "To perform a task or engage in an activity for a purpose.",
                    "context": {
                        "Context 1": "I think the review of your transcript will work out well.",
                        "Context 2": "She loves to work on creative projects.",
                        "Context 3": "He needs to work harder to achieve his goals."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Idiom",
                    "fact": "The idiom 'kick the bucket' means to die, but it sounds like a fun way to play soccer!"
                },
                {
                    "word": "Cost an arm and a leg",
                    "fact": "Did you know that the phrase 'cost an arm and a leg' might have originated from the high price of portraits in the 18th century?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the grammar teacher break up with the punctuation teacher?",
                    "answer": "Because they just couldn't find the right pause!"
                },
                {
                    "question": "Why did the student eat his homework?",
                    "answer": "Because the teacher said it was a piece of cake!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going? Did you have that job interview yesterday?"
                },
                {
                    "Person 2": "Yeah, I did! It was... interesting, to say the least."
                },
                {
                    "Person 1": "Interesting how? Was it a good vibe or more of a disaster?"
                },
                {
                    "Person 2": "A bit of both, honestly. I listened to them talk for like 15 minutes about their company, and it felt like a snooze fest."
                },
                {
                    "Person 1": "Oof, that sounds rough. Did you get to share about your experience?"
                },
                {
                    "Person 2": "I did! But I think she realized I wasn’t really a good fit for them. It was kind of awkward."
                },
                {
                    "Person 1": "Well, at least it’s better than your past interviews, right?"
                },
                {
                    "Person 2": "True! I’ve been trying to aim for companies where the developers are actually good. You know, like Russian developers."
                },
                {
                    "Person 1": "Yeah, I’ve heard they’re top-notch. But it sounds like a tough market out there."
                },
                {
                    "Person 2": "Definitely. I mean, I know companies are looking for people with tons of experience, but it’s hard to find that balance."
                },
                {
                    "Person 1": "What’s the average salary for developers these days? I heard it varies a lot."
                },
                {
                    "Person 2": "In Europe, it’s pretty decent. Like, a middle developer can make around 2,000 to 3,000 euros a month."
                },
                {
                    "Person 1": "That’s not bad! What about in Moscow?"
                },
                {
                    "Person 2": "In Moscow, it’s around 150,000 rubles, which isn’t great considering the cost of living."
                },
                {
                    "Person 1": "Yeah, I can imagine. Commuting must be a nightmare too."
                },
                {
                    "Person 2": "For sure! If I had to go to the office, I’d spend two hours just getting there."
                },
                {
                    "Person 1": "That’s brutal! So, you’re working from home now?"
                },
                {
                    "Person 2": "Yep! Much better than dealing with crazy office drama."
                },
                {
                    "Person 1": "I can only imagine! Did you ever have a wild boss?"
                },
                {
                    "Person 2": "Oh, absolutely! I once worked for a guy who would scream at everyone during meetings. It was insane!"
                },
                {
                    "Person 1": "Wow, that sounds toxic. How did you handle it?"
                },
                {
                    "Person 2": "Honestly, I just laughed it off. If he fired me, I figured I’d just find something better."
                },
                {
                    "Person 1": "That’s a good attitude! Sometimes those toxic environments pay better, though."
                },
                {
                    "Person 2": "Exactly! It’s like they think they can treat people poorly because they offer higher pay."
                },
                {
                    "Person 1": "Well, good luck with your job hunt! I’m sure you’ll find something that fits you better."
                },
                {
                    "Person 2": "Thanks! I hope so too. Let’s catch up later!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going? Did you hear about the new team leader at work?"
                },
                {
                    "Person 2": "Oh, I did! I heard she's an actress. That's pretty wild!"
                },
                {
                    "Person 1": "Right? I mean, can you imagine? I wonder how that's going to change things."
                },
                {
                    "Person 2": "Yeah, I hope she brings some fun energy to the team. We could use it!"
                },
                {
                    "Person 1": "Definitely! But I also heard some gossip about her and the boss. Apparently, they used to date?"
                },
                {
                    "Person 2": "No way! That’s juicy. I can already see the drama unfolding."
                },
                {
                    "Person 1": "For real! And speaking of drama, did you hear about the guy who left after just ten days?"
                },
                {
                    "Person 2": "Yeah, what was up with that? Did he just take the money and run?"
                },
                {
                    "Person 1": "Pretty much! It’s like, how do you even do that? It’s so unprofessional."
                },
                {
                    "Person 2": "I know, right? And then there’s that other guy who promised to fix the heating system but took forever."
                },
                {
                    "Person 1": "Oh man, I heard about that! They said he introduced his wife and then his girlfriend while still working on it."
                },
                {
                    "Person 2": "That’s just ridiculous! I can’t believe people think they can get away with that."
                },
                {
                    "Person 1": "Exactly! And now they’re saying they need a ton of money to fix everything."
                },
                {
                    "Person 2": "Two billion rubles? That’s insane! They could just build a new house for that!"
                },
                {
                    "Person 1": "Right? I guess they really need to be careful about who they hire next time."
                },
                {
                    "Person 2": "For sure! And hey, speaking of hiring, have you noticed how hard it is to find good IT specialists lately?"
                },
                {
                    "Person 1": "Yeah, I read something about that. A lot of them left the country, and now there’s a shortage."
                },
                {
                    "Person 2": "It’s crazy! I wonder if that’s going to drive salaries up."
                },
                {
                    "Person 1": "I hope so! Developers deserve to be paid well for their skills."
                },
                {
                    "Person 2": "Absolutely! I just hope the new team leader knows how to handle all this."
                },
                {
                    "Person 1": "Same here! Let’s keep our fingers crossed for some positive changes."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about the new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I saw it on Instagram! Have you been there yet?"
                },
                {
                    "Person 1": "Not yet, but I’m planning to check it out this weekend. I heard they have amazing lattes."
                },
                {
                    "Person 2": "Ooh, I love a good latte! I might join you. What else do they have?"
                },
                {
                    "Person 1": "I think they have some cool pastries and even vegan options. Perfect for everyone!"
                },
                {
                    "Person 2": "Nice! I’m not vegan, but I’m always down to try something new."
                },
                {
                    "Person 1": "Same here! Plus, I heard the place has a really cozy vibe. Great for hanging out."
                },
                {
                    "Person 2": "Sounds perfect! Do you want to go Saturday morning?"
                },
                {
                    "Person 1": "Saturday works for me! What time do you want to meet?"
                },
                {
                    "Person 2": "How about 10? That way we can beat the rush."
                },
                {
                    "Person 1": "10 it is! I’ll bring my book too, just in case we want to relax there for a bit."
                },
                {
                    "Person 2": "Great idea! I’ll bring my sketchbook. I love drawing in coffee shops."
                },
                {
                    "Person 1": "Awesome! It’ll be a fun little creative morning."
                },
                {
                    "Person 2": "Definitely! I can’t wait to try those lattes!"
                },
                {
                    "Person 1": "Me neither! See you Saturday!"
                },
                {
                    "Person 2": "See you then!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new show everyone’s talking about?"
                },
                {
                    "Person 2": "Oh, you mean the one with the crazy plot twists? Yeah, I watched the first episode last night!"
                },
                {
                    "Person 1": "What did you think? I was on the edge of my seat!"
                },
                {
                    "Person 2": "Same here! I couldn’t believe that ending. I had to watch the next episode right away."
                },
                {
                    "Person 1": "Right? I love when a show does that. It keeps you hooked!"
                },
                {
                    "Person 2": "Exactly! And the characters are so well-written. I feel like I know them already."
                },
                {
                    "Person 1": "Totally! I especially like the main character. They have such a unique backstory."
                },
                {
                    "Person 2": "Yeah, and the way they handle challenges is really relatable."
                },
                {
                    "Person 1": "For sure! I can’t wait to see what happens next. Have you heard how many seasons they’re planning?"
                },
                {
                    "Person 2": "I think they’re already signed on for two more seasons. So, we’re in for a treat!"
                },
                {
                    "Person 1": "Awesome! I love when shows get renewed. It means we get more of the good stuff."
                },
                {
                    "Person 2": "Absolutely! So, are we binge-watching the next episode together this weekend?"
                },
                {
                    "Person 1": "Count me in! Let’s make some popcorn and have a marathon."
                },
                {
                    "Person 2": "Sounds like a plan! I’ll bring the snacks!"
                },
                {
                    "Person 1": "Perfect! Can’t wait!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
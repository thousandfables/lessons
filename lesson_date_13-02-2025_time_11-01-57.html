<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "the capital of the case and Asana so that's a great country country",
                    "corrected": "the capital of Kazakhstan, Astana, so that's a great country.",
                    "explanation": "The name of the country is Kazakhstan and the capital city is Astana. The phrase 'case and Asana' is incorrect.",
                    "context": "I currently live in the capital of Kazakhstan, Astana, which is a great country. I have also lived in Almaty for about four years."
                },
                {
                    "original": "I graduated from the university was which was in Almaty",
                    "corrected": "I graduated from the university that was in Almaty.",
                    "explanation": "The structure is incorrect; 'was which was' should be replaced with 'that was' for clarity.",
                    "context": "I graduated from the university that was in Almaty. After that, I moved back to my city and now live with my parents."
                },
                {
                    "original": "I'm actually I'm living in suburbs",
                    "corrected": "I'm actually living in the suburbs.",
                    "explanation": "The phrase 'I'm actually I'm living' has a redundancy; it should be 'I'm actually living.'",
                    "context": "I'm actually living in the suburbs now. I would describe it as a small village close to the expo."
                },
                {
                    "original": "I would like to say that I like English a lot because first of all I studied at the Kazakh-Turkish high school which every lesson possessed in English",
                    "corrected": "I would like to say that I like English a lot because, first of all, I studied at the Kazakh-Turkish high school where every lesson was taught in English.",
                    "explanation": "The word 'possessed' is incorrect; it should be 'was taught.' Also, commas are needed for clarity.",
                    "context": "I really enjoy English. I studied at the Kazakh-Turkish high school where every lesson was taught in English."
                },
                {
                    "original": "the entire lesson was in the English",
                    "corrected": "the entire lesson was in English.",
                    "explanation": "The article 'the' is unnecessary before 'English' in this context.",
                    "context": "I spent four years studying petroleum engineering. The entire lesson was in English, which helped me improve my language skills."
                },
                {
                    "original": "my all recommendation on Instagram and TikTok was set but like was in English actually",
                    "corrected": "all my recommendations on Instagram and TikTok were set in English.",
                    "explanation": "The phrase 'my all recommendation' is awkward; it should be 'all my recommendations.' Also, 'was' should be 'were' for subject-verb agreement.",
                    "context": "In my free time, I spend time on social media. All my recommendations on Instagram and TikTok were set in English."
                },
                {
                    "original": "the reason one I've seen is I guess Braveheart",
                    "corrected": "The first one I've seen is, I guess, Braveheart.",
                    "explanation": "The phrase is awkward; it should be 'The first one I've seen is, I guess, Braveheart.'",
                    "context": "I enjoy watching movies and series. The first one I've seen is, I guess, Braveheart, which is about a man named William Wallace."
                },
                {
                    "original": "the most my favorable TV series is called",
                    "corrected": "my favorite TV series is called.",
                    "explanation": "The phrase 'the most my favorable' is incorrect; it should simply be 'my favorite.'",
                    "context": "I have a lot of favorite TV series. My favorite TV series is called Supernatural, and I watched it with great enthusiasm."
                },
                {
                    "original": "which contains of the myriads of the episodes which lasts like hours",
                    "corrected": "which contains myriads of episodes that last for hours.",
                    "explanation": "The phrase 'contains of the myriads of the episodes' is incorrect; it should be 'contains myriads of episodes.'",
                    "context": "I enjoy series with many seasons. I like series that contain myriads of episodes that last for hours."
                },
                {
                    "original": "it's a very common mistake the word serial is very commonly confused with the word series",
                    "corrected": "It's a very common mistake; the word 'serial' is often confused with the word 'series.'",
                    "explanation": "The sentence lacks punctuation; it should be separated into two clauses for clarity.",
                    "context": "I often hear people mix up terms. It's a very common mistake; the word 'serial' is often confused with the word 'series.'"
                },
                {
                    "original": "the main requirements was the IELTS 6.5",
                    "corrected": "the main requirement was an IELTS score of 6.5.",
                    "explanation": "The subject 'requirements' is plural, so it should be 'were.' Also, 'the IELTS 6.5' should be 'an IELTS score of 6.5.'",
                    "context": "I need to take the IELTS test. The main requirement was an IELTS score of 6.5, with each section needing a minimum score of 5.5."
                },
                {
                    "original": "this choice of country to leave raises questions",
                    "corrected": "this choice of country to live raises questions.",
                    "explanation": "The word 'leave' is incorrect; it should be 'live.'",
                    "context": "I'm considering studying in Scotland. This choice of country to live raises questions about my accent."
                },
                {
                    "original": "I was studied like back then when I studied in school",
                    "corrected": "I studied back then when I was in school.",
                    "explanation": "The phrase 'I was studied' is incorrect; it should be 'I studied.'",
                    "context": "I have always been interested in accents. I studied back then when I was in school and focused on different English accents."
                },
                {
                    "original": "I can barely speak in I guess South London accent",
                    "corrected": "I can barely speak in a South London accent, I guess.",
                    "explanation": "The phrase is awkward; it should include 'a' before 'South London accent' for grammatical correctness.",
                    "context": "I find accents fascinating. I can barely speak in a South London accent, I guess, but I find it interesting."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I unfinished the reading part but this actually was quite not conventional.",
                    "corrected": "I didn't finish the reading part, but it was actually quite unconventional.",
                    "explanation": "The phrase 'I unfinished' is incorrect; the correct form is 'I didn't finish.' Additionally, 'not conventional' should be 'unconventional.'",
                    "context": "I attempted the test, but I didn't finish the reading part. It was actually quite unconventional compared to what I expected."
                },
                {
                    "original": "mock tests are not good on these sites they are not even close to the real test.",
                    "corrected": "Mock tests on these sites are not good; they are not even close to the real test.",
                    "explanation": "The structure of the sentence is awkward; 'mock tests are not good on these sites' should be rephrased for clarity.",
                    "context": "I found that mock tests on these sites are not good. They are not even close to the real test experience."
                },
                {
                    "original": "I could score more because I did some kind of casual usual mistakes like the misspellings.",
                    "corrected": "I could have scored higher because I made some casual mistakes, like misspellings.",
                    "explanation": "The phrase 'did some kind of casual usual mistakes' is awkward; 'made some casual mistakes' is more idiomatic.",
                    "context": "I believe I could have scored higher. I made some casual mistakes, like misspellings."
                },
                {
                    "original": "the task was says like no more than two words.",
                    "corrected": "The task said 'no more than two words.'",
                    "explanation": "The phrase 'was says' is incorrect; it should be 'said.'",
                    "context": "In the test, the task said 'no more than two words.' I misunderstood that instruction."
                },
                {
                    "original": "it's a misconception you know that you need to utilize more like complex advanced vocabulary for sophisticated work paraphrasing.",
                    "corrected": "It's a misconception that you need to use more complex and advanced vocabulary for sophisticated paraphrasing.",
                    "explanation": "The sentence structure is confusing; it should be rephrased for clarity and grammatical correctness.",
                    "context": "Many people think it's a misconception that you need to use more complex vocabulary for sophisticated paraphrasing."
                },
                {
                    "original": "the amount of money you get on some regular basis.",
                    "corrected": "The amount of money you receive on a regular basis.",
                    "explanation": "The phrase 'you get' is less formal; 'you receive' is more appropriate in this context.",
                    "context": "Income refers to the amount of money you receive on a regular basis, like a salary from your job."
                },
                {
                    "original": "I don't actually know. I mean, I don't, I say it's really confusing the last three words, like the basic one.",
                    "corrected": "I don't actually know. I mean, I find the last three words, especially 'basic,' really confusing.",
                    "explanation": "The original sentence is awkward and unclear; it should be rephrased for better clarity.",
                    "context": "I don't actually know what it means. I find the last three words, especially 'basic,' really confusing."
                },
                {
                    "original": "because so much, so, so much money is being spent on the economy.",
                    "corrected": "because so much money is being generated in the economy.",
                    "explanation": "The phrase 'spent on the economy' is incorrect; it should be 'generated in the economy.'",
                    "context": "The idea is that the government can pay everyone a certain amount of money because so much money is being generated in the economy."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "the person is facing on the line regularly",
                    "corrected": "the person is facing the line regularly",
                    "explanation": "The preposition 'on' is incorrect here; 'facing' should be followed directly by the object.",
                    "context": "In discussing the automation of jobs, I mentioned that the person is facing the line regularly. This highlights the ongoing nature of their work, regardless of their employment status."
                },
                {
                    "original": "the government is becoming so wealthy that it can afford giving away money",
                    "corrected": "the government is becoming so wealthy that it can afford to give away money",
                    "explanation": "The phrase 'afford giving' is incorrect; it should be 'afford to give' to indicate the ability to perform an action.",
                    "context": "We talked about how automation affects the economy. I noted that the government is becoming so wealthy that it can afford to give away money, which raises questions about wealth distribution."
                },
                {
                    "original": "the word civil is an adjective",
                    "corrected": "the word civil is an adjective.",
                    "explanation": "The sentence is missing a period at the end, which is necessary for proper punctuation.",
                    "context": "During our discussion on terminology, I pointed out that the word civil is an adjective. This clarification was important to ensure we were using the correct terms."
                },
                {
                    "original": "I mean fixed I guess a lot of okay",
                    "corrected": "I mean fixed, I guess. A lot of okay.",
                    "explanation": "The sentence lacks clarity and proper punctuation; it should be broken into clearer statements.",
                    "context": "While trying to clarify my thoughts, I stumbled over my words. I meant to say that I think I have fixed my understanding, but I was unsure how to express it clearly."
                },
                {
                    "original": "the amount is accountable now so it should have an article to pay money to someone",
                    "corrected": "the amount is accountable now, so it should have an article before it when paying money to someone.",
                    "explanation": "The sentence is unclear and lacks proper structure; it needs a clearer explanation of the article usage.",
                    "context": "In discussing financial terms, I noted that the amount is accountable now. I emphasized that it should have an article before it when paying money to someone to ensure grammatical accuracy."
                },
                {
                    "original": "if I want to I would get high scores",
                    "corrected": "if I want to, I can get high scores.",
                    "explanation": "The conditional structure is incorrect; 'would' should be replaced with 'can' to express ability.",
                    "context": "I was reflecting on my potential for success in the exam. I mentioned that if I want to, I can get high scores, emphasizing my belief in my capabilities."
                },
                {
                    "original": "90 hours is in a week",
                    "corrected": "90 hours is in total.",
                    "explanation": "The phrase is misleading; it should clarify that 90 hours refers to the total study time, not a weekly amount.",
                    "context": "In our discussion about study time, I mistakenly thought that 90 hours was a weekly requirement. I clarified that 90 hours is in total, which changed my understanding of the workload."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "i'm strictly doing like the reading and writing at the tuesday",
                    "corrected": "I'm strictly doing the reading and writing on Tuesday.",
                    "explanation": "The preposition 'at' is incorrect; 'on' should be used for days. Additionally, 'the' is needed before 'reading and writing.'",
                    "context": "I have a structured approach to my studies. I'm strictly doing the reading and writing on Tuesday. This helps me stay organized."
                },
                {
                    "original": "it's like the other day some emphasis like the other sections",
                    "corrected": "It's similar to the other sections, with some emphasis.",
                    "explanation": "The phrase 'like the other day' is unnecessary and confusing; 'similar to' is clearer.",
                    "context": "I try to maintain consistency in my lessons. It's similar to the other sections, with some emphasis. This way, I can focus better."
                },
                {
                    "original": "you can then say okay well i'm done with my homework now i can do reading reading listening and speaking",
                    "corrected": "You can then say, 'Okay, I'm done with my homework. Now I can do reading, listening, and speaking.'",
                    "explanation": "Punctuation is missing, and 'reading reading' is a repetition error.",
                    "context": "After completing my assignments, I feel accomplished. You can then say, 'Okay, I'm done with my homework. Now I can do reading, listening, and speaking.' This helps me balance my skills."
                },
                {
                    "original": "do you consider like can i use chat gpt a source of evaluating this course that i'm going to write",
                    "corrected": "Do you think I can use ChatGPT as a source for evaluating this course I'm going to write about?",
                    "explanation": "The phrase 'consider like' is awkward; 'think' is more appropriate. Also, 'a source of evaluating' should be 'as a source for evaluating.'",
                    "context": "I'm exploring different tools to enhance my writing. Do you think I can use ChatGPT as a source for evaluating this course I'm going to write about? I want to ensure I'm on the right track."
                },
                {
                    "original": "it complies with with all criteria like from the structure perspective",
                    "corrected": "It complies with all criteria from the structural perspective.",
                    "explanation": "The phrase 'with with' is a repetition error; 'structural' is more precise than 'structure.'",
                    "context": "I often analyze my writing against the criteria. It complies with all criteria from the structural perspective. This gives me confidence in my work."
                },
                {
                    "original": "you should know the structure to learn how to structure your essays",
                    "corrected": "You need to understand the structure to learn how to organize your essays.",
                    "explanation": "'Should' is less strong than 'need to,' and 'organize' is a clearer term than 'structure' in this context.",
                    "context": "Understanding the basics is crucial for improvement. You need to understand the structure to learn how to organize your essays. This will enhance clarity."
                },
                {
                    "original": "i used to watch iELTS advan advances or advantage",
                    "corrected": "I used to watch IELTS Advantage.",
                    "explanation": "The term 'advan advances' is incorrect; it should be 'IELTS Advantage.'",
                    "context": "I seek resources to help with my studies. I used to watch IELTS Advantage. It provided useful tips for preparation."
                },
                {
                    "original": "it's a bit general too general",
                    "corrected": "It's a bit too general.",
                    "explanation": "The phrase is redundant; 'a bit too general' is sufficient.",
                    "context": "While I appreciate the content, I find it lacking. It's a bit too general. I need more specific examples to improve."
                },
                {
                    "original": "you should have more specific things more relevant examples",
                    "corrected": "You should have more specific materials and more relevant examples.",
                    "explanation": "The phrase 'specific things' is vague; 'specific materials' is clearer.",
                    "context": "To enhance my learning, I seek better resources. You should have more specific materials and more relevant examples. This will help in my preparation."
                },
                {
                    "original": "i should break this one it's all about practice",
                    "corrected": "I should break this down; it's all about practice.",
                    "explanation": "The phrase 'break this one' is unclear; 'break this down' is more idiomatic.",
                    "context": "I often reflect on my learning process. I should break this down; it's all about practice. Consistent effort leads to improvement."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Intersect",
                    "definition": "To cross or meet at a point.",
                    "context": {
                        "Context 1": "The street that intersects with another street is a common meeting point for locals.",
                        "Context 2": "The two rivers intersect at the base of the mountain, creating a beautiful landscape.",
                        "Context 3": "In geometry, lines can intersect at various angles to form different shapes."
                    }
                },
                {
                    "word": "Favorable",
                    "definition": "Expressing approval or support; advantageous.",
                    "context": {
                        "Context 1": "The weather conditions were favorable for the outdoor event.",
                        "Context 2": "She received a favorable review for her performance in the play.",
                        "Context 3": "The company is looking for favorable terms in the new contract."
                    }
                },
                {
                    "word": "Enthusiasm",
                    "definition": "Intense and eager enjoyment, interest, or approval.",
                    "context": {
                        "Context 1": "He watched the series with such enthusiasm that he finished it in one weekend.",
                        "Context 2": "Her enthusiasm for painting was evident in every brushstroke.",
                        "Context 3": "The crowd showed great enthusiasm during the concert, cheering loudly for the band."
                    }
                },
                {
                    "word": "Accents",
                    "definition": "A distinctive way of pronouncing a language, often associated with a particular region or group.",
                    "context": {
                        "Context 1": "He can imitate several accents, which makes him a great actor.",
                        "Context 2": "Accents can change the meaning of words, especially in different cultures.",
                        "Context 3": "Learning to recognize different accents can improve your listening skills in a foreign language."
                    }
                },
                {
                    "word": "Enroll",
                    "definition": "To officially register or enter a program or course.",
                    "context": {
                        "Context 1": "I plan to enroll in a master's program at the university next year.",
                        "Context 2": "She decided to enroll her child in a summer camp for extra learning.",
                        "Context 3": "Many students enroll in online courses to gain new skills."
                    }
                },
                {
                    "word": "Petroleum",
                    "definition": "A liquid mixture of hydrocarbons that is present in certain rock strata and can be extracted and refined to produce fuels.",
                    "context": {
                        "Context 1": "He studied petroleum engineering to understand the oil industry better.",
                        "Context 2": "The discovery of petroleum reserves changed the economy of the region.",
                        "Context 3": "Many countries rely heavily on petroleum exports for their economic stability."
                    }
                },
                {
                    "word": "Myriad",
                    "definition": "A countless or extremely great number.",
                    "context": {
                        "Context 1": "The series had a myriad of episodes, making it hard to keep track.",
                        "Context 2": "She faced a myriad of challenges while starting her own business.",
                        "Context 3": "The night sky was filled with a myriad of stars, creating a breathtaking view."
                    }
                },
                {
                    "word": "Cereals",
                    "definition": "Grains used for food, often eaten as breakfast.",
                    "context": {
                        "Context 1": "Cereals are a popular breakfast choice for many families.",
                        "Context 2": "He prefers to eat cereals with fruits and nuts for added nutrition.",
                        "Context 3": "The farmer grows various cereals, including wheat and corn."
                    }
                },
                {
                    "word": "Capital",
                    "definition": "The city that serves as the seat of government for a country or region.",
                    "context": {
                        "Context 1": "Astana is the capital of Kazakhstan, known for its modern architecture.",
                        "Context 2": "The capital of France is famous for its art and culture.",
                        "Context 3": "Many tourists visit the capital to see historical landmarks."
                    }
                },
                {
                    "word": "Outrageous",
                    "definition": "Shockingly bad or excessive; very unusual.",
                    "context": {
                        "Context 1": "The price of the concert tickets was outrageous, but fans still bought them.",
                        "Context 2": "His outrageous behavior at the party surprised everyone.",
                        "Context 3": "The movie was filled with outrageous stunts that kept the audience entertained."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Accents",
                    "fact": "Did you know that there are over 160 different accents in the UK alone? That's a lot of ways to say 'hello'!"
                },
                {
                    "word": "Cereals",
                    "fact": "The first breakfast cereal was invented in the late 19th century and was originally made from toasted corn!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Mock Test",
                    "definition": "A practice exam that simulates the conditions of a real test.",
                    "context": {
                        "Context 1": "I took a mock test to prepare for the IELTS exam, but it felt much harder than the actual test.",
                        "Context 2": "Before the big game, the coach organized a mock test to evaluate the players' skills.",
                        "Context 3": "The students were nervous about their mock test in math, but they all did well."
                    }
                },
                {
                    "word": "Paraphrasing",
                    "definition": "The act of rewording or rephrasing text or speech while retaining the original meaning.",
                    "context": {
                        "Context 1": "Paraphrasing is important in academic writing to avoid plagiarism.",
                        "Context 2": "He struggled with paraphrasing the poem, trying to keep its essence while changing the words.",
                        "Context 3": "During the meeting, she was asked to paraphrase the CEO’s message for clarity."
                    }
                },
                {
                    "word": "Accents",
                    "definition": "Distinctive ways of pronouncing a language, often associated with a particular region or group.",
                    "context": {
                        "Context 1": "The listening section of the IELTS exam features various accents, including British and Australian.",
                        "Context 2": "He loved imitating different accents and often entertained his friends with them.",
                        "Context 3": "The movie was praised for its authentic accents, which added to the realism of the characters."
                    }
                },
                {
                    "word": "Income",
                    "definition": "Money received on a regular basis, typically as payment for work or investments.",
                    "context": {
                        "Context 1": "Understanding your income is crucial for effective budgeting and financial planning.",
                        "Context 2": "She decided to invest her income in stocks to grow her wealth over time.",
                        "Context 3": "The charity focuses on helping families increase their income through job training programs."
                    }
                },
                {
                    "word": "Automation",
                    "definition": "The use of technology to perform tasks without human intervention.",
                    "context": {
                        "Context 1": "Automation in factories has increased efficiency but also raised concerns about job loss.",
                        "Context 2": "He was fascinated by the automation of household chores through smart devices.",
                        "Context 3": "The restaurant implemented automation to streamline its ordering process."
                    }
                },
                {
                    "word": "Comfortable",
                    "definition": "Providing physical ease and relaxation; free from stress or worry.",
                    "context": {
                        "Context 1": "I found the online mock test to be quite comfortable compared to traditional exams.",
                        "Context 2": "She prefers to wear comfortable clothes when she travels long distances.",
                        "Context 3": "The hotel room was so comfortable that we didn't want to leave."
                    }
                },
                {
                    "word": "Crucial",
                    "definition": "Extremely important or necessary.",
                    "context": {
                        "Context 1": "Choosing the right test format is crucial for achieving a good score.",
                        "Context 2": "It is crucial to have a backup plan in case of emergencies.",
                        "Context 3": "The crucial moment in the game came when the team scored the final goal."
                    }
                },
                {
                    "word": "Variants",
                    "definition": "Different forms or versions of something.",
                    "context": {
                        "Context 1": "There are many variants of the IELTS test available for practice.",
                        "Context 2": "The artist created several variants of the same painting, each with a unique color scheme.",
                        "Context 3": "Different variants of the recipe can be made by substituting ingredients."
                    }
                },
                {
                    "word": "Misconception",
                    "definition": "A view or opinion that is incorrect based on faulty thinking or understanding.",
                    "context": {
                        "Context 1": "There is a common misconception that all mock tests are identical to real exams.",
                        "Context 2": "His misconception about the rules led to a misunderstanding during the game.",
                        "Context 3": "The documentary aimed to clear up misconceptions about climate change."
                    }
                },
                {
                    "word": "Expression",
                    "definition": "The process of making known one's thoughts or feelings.",
                    "context": {
                        "Context 1": "Understanding the expression 'universal basic income' requires breaking it down into simpler terms.",
                        "Context 2": "Her facial expression revealed her true feelings despite her words.",
                        "Context 3": "Art is a powerful expression of human emotion and experience."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Mock Test",
                    "fact": "Did you know that the term 'mock' comes from the old English word 'mocken,' which means to deride or make fun of? So, a mock test is like a test that teases you!"
                },
                {
                    "word": "Paraphrasing",
                    "fact": "Paraphrasing can be so tricky that even Shakespeare had to paraphrase his own works to make them understandable for modern audiences!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to the exam?",
                    "answer": "Because they wanted to reach the next level!"
                },
                {
                    "question": "What do you call a test that you can’t pass?",
                    "answer": "A mockery!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Automation",
                    "definition": "The use of technology to perform tasks without human intervention.",
                    "context": {
                        "Context 1": "The rise of automation in factories has led to increased efficiency.",
                        "Context 2": "She decided to automate her home with smart devices for convenience.",
                        "Context 3": "The automation of farming processes has revolutionized agriculture."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To restate something using different words, often to clarify meaning.",
                    "context": {
                        "Context 1": "Can you paraphrase the statement to make it clearer?",
                        "Context 2": "He had to paraphrase the poem for his English class assignment.",
                        "Context 3": "The teacher asked the students to paraphrase the instructions to ensure understanding."
                    }
                },
                {
                    "word": "Civil",
                    "definition": "Relating to citizens and their relations with the state.",
                    "context": {
                        "Context 1": "The civil rights movement aimed to secure equal rights for all citizens.",
                        "Context 2": "He studied civil engineering to help design better infrastructure.",
                        "Context 3": "The civil war changed the course of history for the nation."
                    }
                },
                {
                    "word": "Economy",
                    "definition": "The system of production, distribution, and consumption of goods and services in a society.",
                    "context": {
                        "Context 1": "The economy is growing, but unemployment rates are still high.",
                        "Context 2": "She studied the economy of ancient Rome for her thesis.",
                        "Context 3": "The local economy relies heavily on tourism."
                    }
                },
                {
                    "word": "Regulate",
                    "definition": "To control or maintain the rate or speed of a machine or process.",
                    "context": {
                        "Context 1": "The government needs to regulate the use of drones in urban areas.",
                        "Context 2": "He learned how to regulate the temperature of the oven for baking.",
                        "Context 3": "They had to regulate their spending to save for a vacation."
                    }
                },
                {
                    "word": "Labor",
                    "definition": "Work, especially hard physical work or the workforce of a specific industry.",
                    "context": {
                        "Context 1": "Labor is essential for the construction of new buildings.",
                        "Context 2": "The labor of love she put into her garden was evident.",
                        "Context 3": "He studied labor relations to understand workplace dynamics."
                    }
                },
                {
                    "word": "Wealthy",
                    "definition": "Having a great deal of money, resources, or assets.",
                    "context": {
                        "Context 1": "The wealthy elite often have significant influence over politics.",
                        "Context 2": "She donated to charity after becoming wealthy from her business.",
                        "Context 3": "The wealthy neighborhood had beautiful parks and amenities."
                    }
                },
                {
                    "word": "Ideal",
                    "definition": "Perfectly suitable or desirable; a standard of perfection.",
                    "context": {
                        "Context 1": "The ideal solution would benefit everyone involved.",
                        "Context 2": "He dreamed of an ideal vacation on a tropical island.",
                        "Context 3": "The ideal temperature for the party was set to a comfortable 72 degrees."
                    }
                },
                {
                    "word": "Consult",
                    "definition": "To seek advice or information from someone.",
                    "context": {
                        "Context 1": "You should consult a financial advisor before making investments.",
                        "Context 2": "She decided to consult her doctor about her symptoms.",
                        "Context 3": "He consulted a map to find the best route to the destination."
                    }
                },
                {
                    "word": "Signal",
                    "definition": "A gesture, action, or sound that conveys information or instructions.",
                    "context": {
                        "Context 1": "The signal to start the race was given by a loud horn.",
                        "Context 2": "He used hand signals to communicate with his team underwater.",
                        "Context 3": "The traffic light changes color to signal when to stop or go."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Automation",
                    "fact": "Did you know that some factories have robots that can even tell jokes? They might not be funny, but they sure are efficient!"
                },
                {
                    "word": "Paraphrase",
                    "fact": "The word 'paraphrase' comes from the Greek 'paraphrasis,' which means 'to tell in other words.' So, it's basically the ancient way of saying, 'Let me rephrase that!'"
                },
                {
                    "word": "Economy",
                    "fact": "The term 'economy' originally referred to household management. So, if you think about it, managing your budget is like running a tiny economy!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the robot go on a diet?",
                    "answer": "Because it had too many bytes!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Emphasis",
                    "definition": "Special importance or significance placed on something.",
                    "context": {
                        "Context 1": "In the lesson, the teacher placed emphasis on the importance of writing skills.",
                        "Context 2": "The emphasis on healthy eating has increased in recent years.",
                        "Context 3": "She spoke with great emphasis, making sure everyone understood her point."
                    }
                },
                {
                    "word": "Evaluate",
                    "definition": "To assess or determine the value or quality of something.",
                    "context": {
                        "Context 1": "The student wanted to evaluate their writing using ChatGPT.",
                        "Context 2": "Teachers often evaluate students' progress through tests and assignments.",
                        "Context 3": "Before buying a car, it's important to evaluate its condition."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement or framework of something.",
                    "context": {
                        "Context 1": "The teacher emphasized the importance of essay structure in writing.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "A good story has a clear structure with a beginning, middle, and end."
                    }
                },
                {
                    "word": "Cohesion",
                    "definition": "The quality of being logically connected and consistent.",
                    "context": {
                        "Context 1": "The teacher mentioned that cohesion is important for a well-structured essay.",
                        "Context 2": "The cohesion of the team was evident during the project presentation.",
                        "Context 3": "Good cohesion in a speech helps the audience follow along easily."
                    }
                },
                {
                    "word": "Criteria",
                    "definition": "Standards or principles by which something is judged or decided.",
                    "context": {
                        "Context 1": "The teacher explained that IELTS has specific criteria for evaluating writing.",
                        "Context 2": "The criteria for selecting a new employee include experience and skills.",
                        "Context 3": "In a cooking competition, the criteria for judging include taste and presentation."
                    }
                },
                {
                    "word": "Enhance",
                    "definition": "To improve the quality, value, or extent of something.",
                    "context": {
                        "Context 1": "The student wanted to enhance their writing skills by reviewing sample essays.",
                        "Context 2": "Adding spices can enhance the flavor of any dish.",
                        "Context 3": "The new software update will enhance the performance of the computer."
                    }
                },
                {
                    "word": "Relevant",
                    "definition": "Closely connected or appropriate to what is being done or considered.",
                    "context": {
                        "Context 1": "The teacher suggested finding more relevant examples for the writing assignment.",
                        "Context 2": "The news article was relevant to the current political situation.",
                        "Context 3": "In a job interview, it's important to provide relevant experiences."
                    }
                },
                {
                    "word": "Practice",
                    "definition": "Repeated exercise in an activity to improve skill.",
                    "context": {
                        "Context 1": "The teacher emphasized that practice is key to improving writing skills.",
                        "Context 2": "She needs to practice her piano skills before the concert.",
                        "Context 3": "Regular practice can help athletes perform better in competitions."
                    }
                },
                {
                    "word": "Homework",
                    "definition": "Assignments given to students to be completed outside of class.",
                    "context": {
                        "Context 1": "The student completed their homework before the next lesson.",
                        "Context 2": "I forgot to bring my homework to school today.",
                        "Context 3": "Some students prefer to do their homework at the library."
                    }
                },
                {
                    "word": "Source",
                    "definition": "A place, person, or thing from which something comes or can be obtained.",
                    "context": {
                        "Context 1": "The student asked if ChatGPT could be a reliable source for evaluating their writing.",
                        "Context 2": "The river is the main source of water for the town.",
                        "Context 3": "She found a great source for organic vegetables at the farmer's market."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Cohesion",
                    "fact": "In linguistics, cohesion is like the glue that holds sentences together, but too much glue can make a sticky situation!"
                },
                {
                    "word": "Criteria",
                    "fact": "The word 'criteria' is actually the plural of 'criterion,' which means you need at least two to have a party!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the teacher wear sunglasses?",
                    "answer": "Because her students were so bright!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just enjoying my coffee. How about you?"
                },
                {
                    "Person 1": "Same here! Just trying to wake up. Did you catch that new series everyone’s talking about?"
                },
                {
                    "Person 2": "Oh, you mean the one about the detective? Yeah, I watched the first episode last night!"
                },
                {
                    "Person 1": "Nice! What did you think? I heard it has a lot of twists."
                },
                {
                    "Person 2": "It really does! I was on the edge of my seat. The main character is so clever."
                },
                {
                    "Person 1": "I love shows like that. They keep you guessing. What’s your favorite detective series?"
                },
                {
                    "Person 2": "I’d have to say 'Sherlock.' The way they modernized it is brilliant!"
                },
                {
                    "Person 1": "Totally! I love how they incorporate technology into the story. Makes it feel real."
                },
                {
                    "Person 2": "Exactly! And the acting is top-notch. Benedict Cumberbatch is amazing."
                },
                {
                    "Person 1": "For sure! So, are you planning to binge-watch the rest of the series?"
                },
                {
                    "Person 2": "Absolutely! I might start another episode tonight. How about you?"
                },
                {
                    "Person 1": "I think I will too! It’s the perfect way to unwind after a long day."
                },
                {
                    "Person 2": "Agreed! Plus, it gives us something to talk about next time."
                },
                {
                    "Person 1": "Definitely! I can’t wait to hear your thoughts on the next episodes."
                },
                {
                    "Person 2": "Same here! Let’s catch up later this week."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you get a chance to check out that new coffee shop downtown?"
                },
                {
                    "Person 2": "Yeah, I went there last weekend! It’s pretty cool. They have this amazing selection of pastries."
                },
                {
                    "Person 1": "Nice! I heard their chocolate croissants are to die for."
                },
                {
                    "Person 2": "Oh, absolutely! I had one, and it was so flaky and rich. I might have to go back just for that."
                },
                {
                    "Person 1": "Sounds tempting! Did you try their specialty coffee?"
                },
                {
                    "Person 2": "I did! I got a caramel macchiato. It was sweet but not too overpowering. Perfect for a Saturday morning."
                },
                {
                    "Person 1": "Yum! I usually go for a classic black coffee, but I might have to switch it up next time."
                },
                {
                    "Person 2": "You should! They have a lot of unique flavors. Plus, the atmosphere is really cozy."
                },
                {
                    "Person 1": "That sounds great. I love a place where I can just relax and read a book."
                },
                {
                    "Person 2": "Exactly! I saw a few people working on their laptops too. It’s a good spot for that."
                },
                {
                    "Person 1": "Awesome! I’ll definitely check it out this week. Maybe we can go together?"
                },
                {
                    "Person 2": "For sure! Let’s plan for Saturday morning. I’ll bring my book too."
                },
                {
                    "Person 1": "Perfect! I can’t wait to try that croissant!"
                },
                {
                    "Person 2": "You won’t regret it! See you Saturday!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new documentary about automation and jobs?"
                },
                {
                    "Person 2": "Yeah, I did! It’s wild to think how robots might take over so many jobs in the future."
                },
                {
                    "Person 1": "Right? They were saying that if everything gets automated, people might not even need to work anymore."
                },
                {
                    "Person 2": "Exactly! But then, what happens to all the workers? It’s a bit scary to think about."
                },
                {
                    "Person 1": "For sure! I mean, if companies don’t need human labor, how will people earn a living?"
                },
                {
                    "Person 2": "Yeah, and it’s not like everyone can just switch to tech jobs overnight."
                },
                {
                    "Person 1": "Totally! I wonder if the government would step in to help people out."
                },
                {
                    "Person 2": "That’s a good point. Maybe they’d have to provide some kind of basic income."
                },
                {
                    "Person 1": "Like a safety net for everyone? That could be a solution."
                },
                {
                    "Person 2": "Yeah, but it’s kind of a tricky situation. It feels a bit like communism, doesn’t it?"
                },
                {
                    "Person 1": "A little! But I guess it’s more about adapting to the changes in the economy."
                },
                {
                    "Person 2": "True! It’s all about finding a balance between technology and human needs."
                },
                {
                    "Person 1": "I hope we figure it out before it’s too late!"
                },
                {
                    "Person 2": "Me too! Let’s just hope for the best and keep learning about it."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's your week going so far?"
                },
                {
                    "Person 2": "Pretty good! Just trying to keep up with all my classes. How about you?"
                },
                {
                    "Person 1": "Same here! I've been focusing a lot on my writing lately. It feels like there's always more to improve."
                },
                {
                    "Person 2": "I get that. I sometimes feel like my speaking skills are lagging behind. Do you do anything special to practice?"
                },
                {
                    "Person 1": "Yeah, I try to write essays and then review them. It helps me see where I need to improve."
                },
                {
                    "Person 2": "That sounds smart! I usually just practice speaking with friends, but I think I should write more."
                },
                {
                    "Person 1": "For sure! Have you ever thought about using tools like ChatGPT to help with your writing?"
                },
                {
                    "Person 2": "I have! It’s great for catching grammar mistakes, but I’m not sure it helps with overall structure."
                },
                {
                    "Person 1": "Exactly! It can help with sentences, but understanding how to organize an essay is key."
                },
                {
                    "Person 2": "Right? I feel like I need to see more examples of good essays to really get it."
                },
                {
                    "Person 1": "Totally! There are some good YouTube channels out there. Have you checked out IELTS Advantage?"
                },
                {
                    "Person 2": "Yeah, I watched a few videos, but they felt a bit too general for what I need."
                },
                {
                    "Person 1": "I know what you mean. Sometimes you need more specific examples to really grasp the concepts."
                },
                {
                    "Person 2": "Exactly! I guess practice is the best way to get better at it."
                },
                {
                    "Person 1": "For sure! Let’s keep each other motivated. We can share tips and resources."
                },
                {
                    "Person 2": "Sounds like a plan! I’ll reach out later to share some stuff I find."
                },
                {
                    "Person 1": "Great! Have a good rest of your day!"
                },
                {
                    "Person 2": "You too! Talk later!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
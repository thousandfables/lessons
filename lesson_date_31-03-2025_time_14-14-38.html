<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "it's not really happy",
                    "corrected": "I'm not really happy about it.",
                    "explanation": "The phrase 'it's not really happy' is incorrect; it should be 'I'm not really happy' to express the speaker's feelings.",
                    "context": "Today is the last day of my vacation. I'm not really happy about it. I didn't do anything at school, to be honest."
                },
                {
                    "original": "I didn't do anything at school to be honest",
                    "corrected": "I didn't really do anything at school, to be honest.",
                    "explanation": "The phrase 'I didn't do anything at school to be honest' is missing a comma; it should be 'I didn't really do anything at school, to be honest.'",
                    "context": "Today is the last day of my vacation. I'm not really happy about it. I didn't really do anything at school, to be honest."
                },
                {
                    "original": "they study remotely like they don't go to school",
                    "corrected": "they study remotely; they don't go to school.",
                    "explanation": "The original sentence is a run-on; it should be separated into two independent clauses with a semicolon.",
                    "context": "Recently, I've noticed that many students I worked with study remotely; they don't go to school. Some switch to another type of school that allows them to focus on subjects they're really interested in."
                },
                {
                    "original": "it's not that I didn't don't like it",
                    "corrected": "it's not that I didn't like it.",
                    "explanation": "The phrase 'didn't don't' is a redundancy; it should be 'didn't' only.",
                    "context": "I studied in a Russian online school for one year. It's not that I didn't like it; I just wasn't interested in Russian culture and literature."
                },
                {
                    "original": "I don't know why wasn't there like like sick you by me",
                    "corrected": "I don't know why there wasn't something like that.",
                    "explanation": "The phrase is unclear and contains grammatical errors; it should be rephrased for clarity.",
                    "context": "I remember that in class, we often discussed Christian literature. I don't know why there wasn't something like that about saints."
                },
                {
                    "original": "I think battery or cross-leave it",
                    "corrected": "I think it's Orthodox Christianity.",
                    "explanation": "The phrase 'battery or cross-leave it' is nonsensical; it should clarify that the topic is Orthodox Christianity.",
                    "context": "I was confused about the religious content in school. I think it's Orthodox Christianity that was being taught."
                },
                {
                    "original": "I got all like five great the best grade I could have",
                    "corrected": "I got the best grades I could have.",
                    "explanation": "The phrase 'all like five great' is awkward and unclear; it should simply state 'the best grades.'",
                    "context": "Despite my disinterest, I managed to perform well in school. I got the best grades I could have because the tests were easy."
                },
                {
                    "original": "it's like you go on your own you study if you want to study you don't want to study you don't okay just like that",
                    "corrected": "It's like you go on your own; you study if you want to, and if you don't want to, that's okay.",
                    "explanation": "The original sentence is a run-on; it should be separated into clearer clauses.",
                    "context": "In the online school, the structure was very relaxed. It's like you go on your own; you study if you want to, and if you don't want to, that's okay."
                },
                {
                    "original": "I had to pass them yeah state exams I had to pass them",
                    "corrected": "I had to pass the state exams.",
                    "explanation": "The phrase is repetitive; it should be streamlined to avoid redundancy.",
                    "context": "Now, I attend a regular school to get an official certificate. I had to pass the state exams."
                },
                {
                    "original": "they're really all of the online school schools are new",
                    "corrected": "All of the online schools are really new.",
                    "explanation": "The original sentence has awkward phrasing; it should be restructured for clarity.",
                    "context": "Online schools in Kazakhstan are still developing. All of the online schools are really new and not great right now."
                },
                {
                    "original": "they had like youtubers teach something like physics maybe you know this guy was teaching in one school",
                    "corrected": "They had YouTubers teaching subjects like physics; maybe you know the guy who was teaching at one school.",
                    "explanation": "The original sentence is informal and lacks clarity; it should be rephrased for better structure.",
                    "context": "In the Russian online schools, the teaching staff was often unconventional. They had YouTubers teaching subjects like physics; maybe you know the guy who was teaching at one school."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I don't what grade are you in currently",
                    "corrected": "I don't know what grade you are in currently.",
                    "explanation": "The phrase is missing the verb 'know' to form a correct question.",
                    "context": "I don't remember his name and where he was. I don't know what grade you are in currently. I just know that you're in 10th grade."
                },
                {
                    "original": "I wrote an essay by your plan like your logical I guess it's cool like that",
                    "corrected": "I wrote an essay based on your plan, which I guess is logical and cool.",
                    "explanation": "The phrase 'by your plan' should be 'based on your plan' for clarity, and the structure is awkward.",
                    "context": "I don't remember his name and where he was. I wrote an essay based on your plan, which I guess is logical and cool. I think it helped me organize my thoughts better."
                },
                {
                    "original": "the biggest problem we had yeah is that I asked you to go over your essay sentence by sentence",
                    "corrected": "The biggest problem we had was that I asked you to go over your essay sentence by sentence.",
                    "explanation": "The verb 'is' should be 'was' to match the past tense context.",
                    "context": "I remember discussing your essay with you. The biggest problem we had was that I asked you to go over your essay sentence by sentence. This was important for clarity."
                },
                {
                    "original": "you all think this is fine yet to start the conclusion with all things considered is fine but like in",
                    "corrected": "You all think this is fine, but starting the conclusion with 'all things considered' is acceptable.",
                    "explanation": "The phrase 'yet to start' is awkward; 'but starting' is more appropriate.",
                    "context": "I appreciate your feedback on the essay. You all think this is fine, but starting the conclusion with 'all things considered' is acceptable. It helps summarize the main points."
                },
                {
                    "original": "that's you know that's hard but to paraphrase it like here there then here",
                    "corrected": "That's hard, but to paraphrase it, you need to structure it clearly.",
                    "explanation": "The phrase is unclear and needs better structure for coherence.",
                    "context": "I understand that writing can be challenging. That's hard, but to paraphrase it, you need to structure it clearly. This will improve your writing."
                },
                {
                    "original": "I would mean here they talk about advantages in context of they're giving you effect",
                    "corrected": "I mean, here they talk about advantages in the context of the effects they are giving you.",
                    "explanation": "The structure is confusing; 'I would mean' should be 'I mean,' and 'they're giving you effect' is unclear.",
                    "context": "When discussing the essay, I realized something important. I mean, here they talk about advantages in the context of the effects they are giving you. This needs to be clarified."
                },
                {
                    "original": "I think all the things I have to have to be understood with practice almost",
                    "corrected": "I think all things have to be understood with practice.",
                    "explanation": "The phrase 'have to have to' is redundant and should be simplified.",
                    "context": "I believe that learning takes time. I think all things have to be understood with practice. This is essential for improvement."
                },
                {
                    "original": "the idea that I'm coming to is that you know for example in order to you just need to start",
                    "corrected": "The idea I'm coming to is that, for example, you just need to start.",
                    "explanation": "The phrase is awkward; 'the idea that I'm coming to' should be simplified.",
                    "context": "I've been reflecting on learning processes. The idea I'm coming to is that, for example, you just need to start. This is crucial for progress."
                },
                {
                    "original": "I kind of you know instead of I programmed in Excel",
                    "corrected": "I kind of programmed in Excel instead.",
                    "explanation": "The structure is awkward; 'instead of I programmed' should be rephrased for clarity.",
                    "context": "I was trying to learn programming. I kind of programmed in Excel instead. It was a different approach than I expected."
                },
                {
                    "original": "it took me like three months to do that in Excel I was able like yeah the program did it",
                    "corrected": "It took me about three months to do that in Excel, and I was able to achieve it.",
                    "explanation": "The phrase is run-on and needs punctuation for clarity.",
                    "context": "I worked hard on a project. It took me about three months to do that in Excel, and I was able to achieve it. The program really did what I needed."
                },
                {
                    "original": "I learned that a simple Python script can do the same thing in a couple of seconds",
                    "corrected": "I learned that a simple Python script can do the same thing in just a couple of seconds.",
                    "explanation": "'A couple of seconds' should be emphasized with 'just' for clarity.",
                    "context": "After my experience with Excel, I discovered something amazing. I learned that a simple Python script can do the same thing in just a couple of seconds. It was a game changer."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I still don't have the fear in which I am a professional no another professional which I gathered a mastery as I could say.",
                    "corrected": "I still don't have the confidence that I am a professional, nor the mastery that I could say I have.",
                    "explanation": "The phrase 'the fear in which I am a professional' is awkward; 'confidence' is the correct term. 'No another professional' should be 'nor the mastery.'",
                    "context": "I've been learning programming for a while now. I still don't have the confidence that I am a professional, nor the mastery that I could say I have. However, I understand that everyone experiences this in their own way."
                },
                {
                    "original": "charge a pity.",
                    "corrected": "ChatGPT.",
                    "explanation": "'Charge a pity' is a mispronunciation of 'ChatGPT,' the AI program being referenced.",
                    "context": "When discussing how AI can assist in programming, I mentioned ChatGPT. ChatGPT can provide full explanations and code corrections. It's a valuable tool for learning."
                },
                {
                    "original": "they're like 50% wrong in in cut in all kinds of situations in hard kinds of questions.",
                    "corrected": "they're about 50% wrong in all kinds of situations, especially in difficult questions.",
                    "explanation": "The phrase 'in in cut in all kinds of situations' is unclear; it should be simplified to 'in all kinds of situations.' 'Hard kinds of questions' is better expressed as 'difficult questions.'",
                    "context": "I was explaining the limitations of AI programs. They're about 50% wrong in all kinds of situations, especially in difficult questions. This shows that while AI can be helpful, it isn't always reliable."
                },
                {
                    "original": "it has been exposed to a lot of articles to massive amounts of data in English.",
                    "corrected": "it has been exposed to a lot of articles and massive amounts of data in English.",
                    "explanation": "The phrase 'to a lot of articles to massive amounts' is grammatically incorrect; it should use 'and' to connect the two ideas.",
                    "context": "I was discussing why AI is proficient in English. It has been exposed to a lot of articles and massive amounts of data in English. This exposure helps it understand and generate language effectively."
                },
                {
                    "original": "they really thought now they're they're quite capable of doing that.",
                    "corrected": "they really thought it was impossible, but now they're quite capable of doing that.",
                    "explanation": "The phrase 'now they're they're' contains a repetition error; it should be corrected for clarity. Adding 'it was impossible' clarifies the thought.",
                    "context": "Reflecting on the evolution of AI, I noted that people once thought coding by AI was impossible. They really thought it was impossible, but now they're quite capable of doing that. This shift has changed the job market."
                },
                {
                    "original": "the point is to create a plan okay I will remove highlights.",
                    "corrected": "the point is to create a plan. Okay, I will remove the highlights.",
                    "explanation": "The sentence lacks proper punctuation; it should be split into two sentences for clarity.",
                    "context": "As we began our task, I emphasized the importance of creating a clear plan. The point is to create a plan. Okay, I will remove the highlights to focus on the main ideas."
                },
                {
                    "original": "not a lot of spheres, where risk is the best strategy.",
                    "corrected": "not many fields where risk is the best strategy.",
                    "explanation": "'Not a lot of spheres' is awkward; 'not many fields' is more idiomatic. The comma before 'where' is unnecessary.",
                    "context": "While discussing investment strategies, I mentioned that there aren't many fields where risk is the best strategy. It's important to consider the context when making decisions."
                },
                {
                    "original": "your example is about a little bit, is about a different thing.",
                    "corrected": "your example is a bit different.",
                    "explanation": "The phrase 'about a little bit, is about a different thing' is redundant and awkward; it should be simplified.",
                    "context": "In reviewing a peer's work, I pointed out that their example didn't quite fit the topic. Your example is a bit different. It needs to align more closely with the main argument."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "A lawyer can defend his client at all costs, which makes him an interruption for a person to choose from.",
                    "corrected": "A lawyer can defend his client at all costs, which makes him an obstacle for a person to choose from.",
                    "explanation": "The word 'interruption' is incorrect in this context; 'obstacle' better conveys the idea of something that hinders choice.",
                    "context": "In discussing the role of lawyers, I mentioned that a lawyer can defend his client at all costs. This can create an obstacle for a person trying to make a choice."
                },
                {
                    "original": "If we think of... Maybe in a situation like airplane crash or something like this, that autopilot doesn't work in the way it should have.",
                    "corrected": "If we think of... Maybe in a situation like an airplane crash or something like this, where the autopilot doesn't work in the way it should.",
                    "explanation": "The phrase 'airplane crash' needs the article 'an' before it; 'that' should be replaced with 'where' for clarity.",
                    "context": "I was trying to illustrate a scenario involving pilots and decision-making. If we think of... Maybe in a situation like an airplane crash, where the autopilot doesn't work as it should."
                },
                {
                    "original": "But AI does it too?",
                    "corrected": "But doesn't AI do it too?",
                    "explanation": "The original sentence lacks proper structure; it should be phrased as a question with the auxiliary verb 'doesn't.'",
                    "context": "We were discussing how quickly humans can adapt to situations. But doesn't AI do it too? I was questioning the comparison between human and AI adaptability."
                },
                {
                    "original": "We can say that we have been doing that over the course of our evolutionary history.",
                    "corrected": "We can say that we have done that over the course of our evolutionary history.",
                    "explanation": "The phrase 'have been doing' suggests an ongoing action, while 'have done' indicates a completed action, which is more appropriate here.",
                    "context": "In discussing human adaptability, I noted that we can say we have done that over the course of our evolutionary history."
                },
                {
                    "original": "Because when you're saying something very dangerous, very horrible happens, Yeah, like a person starts thinking of thousands of strategies that they could implement.",
                    "corrected": "Because when you say something very dangerous or horrible happens, a person starts thinking of thousands of strategies that they could implement.",
                    "explanation": "The original sentence has awkward phrasing; 'you're saying' should be simplified to 'you say,' and 'very horrible' needs 'or' for clarity.",
                    "context": "I was explaining how people react in dangerous situations. Because when you say something very dangerous or horrible happens, a person starts thinking of thousands of strategies they could implement."
                },
                {
                    "original": "The keyword here is adaptive decisions, okay.",
                    "corrected": "The keyword here is adaptive decision-making, okay.",
                    "explanation": "'Adaptive decisions' should be rephrased to 'adaptive decision-making' for better clarity and grammatical correctness.",
                    "context": "In our discussion about decision-making, I concluded that the keyword here is adaptive decision-making, okay."
                },
                {
                    "original": "Any years to come, I will replace, will take place.",
                    "corrected": "In the years to come, I will replace it; it will take place.",
                    "explanation": "The phrase 'Any years to come' is incorrect; it should be 'In the years to come.' The structure of the sentence also needs clarity.",
                    "context": "I was discussing future plans. In the years to come, I will replace it; it will take place."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Environment",
                    "definition": "The surroundings or conditions in which a person, animal, or plant lives or operates.",
                    "context": {
                        "Context 1": "The change of environment helped him focus better on his studies.",
                        "Context 2": "The environment of the rainforest is home to many unique species.",
                        "Context 3": "She created a peaceful environment in her home with calming colors and soft music."
                    }
                },
                {
                    "word": "Connection",
                    "definition": "A relationship in which a person or thing is linked or associated with something else.",
                    "context": {
                        "Context 1": "I have to sit here to have a good internet connection.",
                        "Context 2": "The connection between the two friends grew stronger over the years.",
                        "Context 3": "He felt a deep connection to the music that reminded him of his childhood."
                    }
                },
                {
                    "word": "Vacation",
                    "definition": "An extended period of leisure and recreation, especially away from home or business.",
                    "context": {
                        "Context 1": "It's my last day of vacation here, and I'm not ready to go back to school.",
                        "Context 2": "They planned a vacation to the beach for the summer.",
                        "Context 3": "During their vacation, they decided to volunteer at a local animal shelter."
                    }
                },
                {
                    "word": "Remote",
                    "definition": "Situated far from the main centers of population; distant.",
                    "context": {
                        "Context 1": "Many students study remotely now, allowing them to focus on subjects they enjoy.",
                        "Context 2": "He lives in a remote village where internet access is limited.",
                        "Context 3": "The remote control for the TV was lost under the couch cushions."
                    }
                },
                {
                    "word": "Certificate",
                    "definition": "An official document attesting a certain fact, especially one relating to education.",
                    "context": {
                        "Context 1": "To have a certificate, I had to attend a regular school.",
                        "Context 2": "She received a certificate for completing the online course.",
                        "Context 3": "The certificate of authenticity proved that the painting was original."
                    }
                },
                {
                    "word": "Assessments",
                    "definition": "The evaluation or estimation of the nature, quality, or ability of someone or something.",
                    "context": {
                        "Context 1": "The assessments in Foxford were easy and didn't require much supervision.",
                        "Context 2": "The teacher used various assessments to gauge student understanding.",
                        "Context 3": "He faced many assessments during his job interview process."
                    }
                },
                {
                    "word": "Supervising",
                    "definition": "To oversee or manage a person or activity.",
                    "context": {
                        "Context 1": "No one was supervising me while I studied online, which felt unusual.",
                        "Context 2": "The manager was supervising the team to ensure they met their deadlines.",
                        "Context 3": "She enjoyed supervising the children at the summer camp."
                    }
                },
                {
                    "word": "Culture",
                    "definition": "The social behavior and norms found in human societies.",
                    "context": {
                        "Context 1": "I'm not interested in Russian culture and its literature.",
                        "Context 2": "The festival celebrated the rich culture of the indigenous people.",
                        "Context 3": "He loves to explore different cultures through travel and food."
                    }
                },
                {
                    "word": "Cheating",
                    "definition": "The act of being dishonest or unfair in order to gain an advantage.",
                    "context": {
                        "Context 1": "No one checked if I was cheating during the assessments.",
                        "Context 2": "Cheating on exams can lead to serious consequences.",
                        "Context 3": "He felt guilty about cheating in the game and decided to confess."
                    }
                },
                {
                    "word": "Subjects",
                    "definition": "Areas of knowledge studied in school or college.",
                    "context": {
                        "Context 1": "I can focus on subjects that I really am interested in.",
                        "Context 2": "Mathematics and science are important subjects in education.",
                        "Context 3": "She decided to take art and music as her favorite subjects in school."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Connection",
                    "fact": "Did you know that the first telephone call was made in 1876 by Alexander Graham Bell? He famously said, 'Mr. Watson, come here, I want to see you!'"
                },
                {
                    "word": "Remote",
                    "fact": "The longest distance ever recorded for a remote control was 1,000 miles! It was a prank involving a car and a remote-controlled device."
                },
                {
                    "word": "Culture",
                    "fact": "In some cultures, it's considered polite to slurp your noodles! In Japan, it shows that you are enjoying your meal."
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Awkward",
                    "definition": "Causing or feeling embarrassment or inconvenience.",
                    "context": {
                        "Context 1": "The sentence had an awkward construction that made it hard to understand.",
                        "Context 2": "He felt awkward when he tripped over his own feet at the party.",
                        "Context 3": "The awkward silence in the room was palpable after the joke fell flat."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something written or spoken using different words.",
                    "context": {
                        "Context 1": "You need to paraphrase the original text to avoid plagiarism.",
                        "Context 2": "She decided to paraphrase the poem to make it easier for her classmates to understand.",
                        "Context 3": "The teacher asked the students to paraphrase the story in their own words."
                    }
                },
                {
                    "word": "Coherent",
                    "definition": "Logical and consistent; easy to understand.",
                    "context": {
                        "Context 1": "Your argument was coherent and well-structured.",
                        "Context 2": "The coherent design of the building made it a landmark in the city.",
                        "Context 3": "His coherent thoughts during the debate impressed the judges."
                    }
                },
                {
                    "word": "Cohesive",
                    "definition": "Forming a united whole; sticking together.",
                    "context": {
                        "Context 1": "The essay was cohesive, with each paragraph flowing smoothly into the next.",
                        "Context 2": "The cohesive team worked together seamlessly to complete the project.",
                        "Context 3": "The cohesive glue held the pieces of wood firmly in place."
                    }
                },
                {
                    "word": "Logical",
                    "definition": "Of or according to the rules of logic or formal argument.",
                    "context": {
                        "Context 1": "Your reasoning is logical and easy to follow.",
                        "Context 2": "The logical progression of events in the movie kept the audience engaged.",
                        "Context 3": "He made a logical choice when he decided to save money for a new car."
                    }
                },
                {
                    "word": "Disadvantage",
                    "definition": "A condition or situation that makes it more difficult to succeed.",
                    "context": {
                        "Context 1": "One disadvantage of living in a big city is the high cost of living.",
                        "Context 2": "The disadvantage of being late to the meeting was missing important information.",
                        "Context 3": "He faced a disadvantage in the competition due to his lack of experience."
                    }
                },
                {
                    "word": "Effect",
                    "definition": "A change that is a result or consequence of an action or other cause.",
                    "context": {
                        "Context 1": "The effect of the new policy was immediately noticeable.",
                        "Context 2": "The special effects in the movie made it a visual spectacle.",
                        "Context 3": "He felt the effect of the cold weather on his health."
                    }
                },
                {
                    "word": "Practice",
                    "definition": "The repeated exercise of an activity or skill to acquire or maintain proficiency.",
                    "context": {
                        "Context 1": "Practice makes perfect; the more you write, the better you'll become.",
                        "Context 2": "She needed to practice her speech before the big presentation.",
                        "Context 3": "The musician dedicated hours to practice every day to master the instrument."
                    }
                },
                {
                    "word": "Knowledge",
                    "definition": "Information, understanding, or skill obtained from experience or education.",
                    "context": {
                        "Context 1": "His extensive knowledge of history impressed the professor.",
                        "Context 2": "She gained knowledge about different cultures during her travels.",
                        "Context 3": "The knowledge gained from the workshop was invaluable for her career."
                    }
                },
                {
                    "word": "Understand",
                    "definition": "To grasp the meaning, significance, or nature of something.",
                    "context": {
                        "Context 1": "I finally understand the concept after reviewing the material.",
                        "Context 2": "He tried to understand her point of view during the discussion.",
                        "Context 3": "It took a while to understand the rules of the game."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Awkward",
                    "fact": "Did you know that the word 'awkward' is often used to describe situations where people feel uncomfortable, like when you wave at someone who isn't waving back?"
                },
                {
                    "word": "Paraphrase",
                    "fact": "The longest paraphrase ever recorded was a student trying to rewrite a simple sentence into a 10-page essay!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Frustrating",
                    "definition": "Causing annoyance or disappointment due to inability to achieve something.",
                    "context": {
                        "Context 1": "It was frustrating when I couldn't understand the programming code.",
                        "Context 2": "Trying to assemble the furniture without instructions was frustrating.",
                        "Context 3": "The long wait for the bus was frustrating, especially in the rain."
                    }
                },
                {
                    "word": "Mastery",
                    "definition": "Comprehensive knowledge or skill in a subject or activity.",
                    "context": {
                        "Context 1": "Achieving mastery in programming takes years of practice.",
                        "Context 2": "Her mastery of the piano impressed everyone at the concert.",
                        "Context 3": "He showed mastery in cooking by preparing a gourmet meal."
                    }
                },
                {
                    "word": "Approach",
                    "definition": "A way of dealing with something or a method of doing something.",
                    "context": {
                        "Context 1": "I decided to take a different approach to solve the coding problem.",
                        "Context 2": "His approach to studying involves making colorful notes.",
                        "Context 3": "The artist's approach to painting is very unique and abstract."
                    }
                },
                {
                    "word": "Error",
                    "definition": "A mistake or inaccuracy in a process or calculation.",
                    "context": {
                        "Context 1": "The program returned an error that I needed to fix.",
                        "Context 2": "She made an error in her math homework and had to redo it.",
                        "Context 3": "The printer displayed an error message when it ran out of paper."
                    }
                },
                {
                    "word": "Inquiry",
                    "definition": "An act of asking for information or an investigation.",
                    "context": {
                        "Context 1": "The inquiry into the software's performance revealed several issues.",
                        "Context 2": "His inquiry about the job opening led to an interview.",
                        "Context 3": "The teacher encouraged students to make inquiries about the topic."
                    }
                },
                {
                    "word": "Proficient",
                    "definition": "Competent or skilled in doing or using something.",
                    "context": {
                        "Context 1": "She became proficient in coding after months of practice.",
                        "Context 2": "He is proficient in three languages, which helps in his job.",
                        "Context 3": "The chef is proficient in Italian cuisine and can make delicious pasta."
                    }
                },
                {
                    "word": "Task",
                    "definition": "A piece of work to be done or undertaken.",
                    "context": {
                        "Context 1": "Completing the coding task took longer than expected.",
                        "Context 2": "Her task for the day was to organize the files.",
                        "Context 3": "The teacher assigned a task to the students to complete by Friday."
                    }
                },
                {
                    "word": "Chaotic",
                    "definition": "In a state of complete confusion and disorder.",
                    "context": {
                        "Context 1": "The coding process felt chaotic at first, but it became clearer.",
                        "Context 2": "The party was chaotic with people dancing everywhere.",
                        "Context 3": "The chaotic traffic made it hard to get to the meeting on time."
                    }
                },
                {
                    "word": "Abridged",
                    "definition": "Shortened by condensing or eliminating parts.",
                    "context": {
                        "Context 1": "The teacher asked us to create an abridged version of the report.",
                        "Context 2": "The abridged book was easier to read for younger students.",
                        "Context 3": "They released an abridged version of the movie for television."
                    }
                },
                {
                    "word": "User case",
                    "definition": "A description of how a user interacts with a system or product.",
                    "context": {
                        "Context 1": "I provided a user case to help the AI understand my needs.",
                        "Context 2": "The software development team reviewed several user cases to improve the app.",
                        "Context 3": "In the meeting, they discussed a user case for a new video game."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Frustrating",
                    "fact": "Did you know that the word 'frustrating' comes from the Latin word 'frustratus,' meaning 'to deceive'?"
                },
                {
                    "word": "Chaotic",
                    "fact": "In ancient Rome, 'chaotic' was used to describe a state of confusion during gladiator games!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of frustration!"
                },
                {
                    "question": "Why was the computer cold?",
                    "answer": "Because it left its Windows open!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Defend",
                    "definition": "To support or argue in favor of someone or something.",
                    "context": {
                        "Context 1": "A lawyer must defend their client to ensure a fair trial.",
                        "Context 2": "She decided to defend her friend during the argument at school.",
                        "Context 3": "The athlete had to defend his title in the championship match."
                    }
                },
                {
                    "word": "Risky",
                    "definition": "Involving the possibility of danger or loss.",
                    "context": {
                        "Context 1": "Making risky decisions can sometimes lead to unexpected outcomes.",
                        "Context 2": "Investing in the stock market can be a risky endeavor.",
                        "Context 3": "He took a risky shortcut through the woods to save time."
                    }
                },
                {
                    "word": "Spontaneous",
                    "definition": "Performed or occurring as a result of a sudden inner impulse or inclination.",
                    "context": {
                        "Context 1": "The lawyer's spontaneous decision to take the case surprised everyone.",
                        "Context 2": "They made a spontaneous trip to the beach on a sunny day.",
                        "Context 3": "Her spontaneous laughter filled the room with joy."
                    }
                },
                {
                    "word": "Chaotic",
                    "definition": "In a state of complete disorder and confusion.",
                    "context": {
                        "Context 1": "The courtroom became chaotic during the heated debate.",
                        "Context 2": "The party turned chaotic when the music started blasting.",
                        "Context 3": "The chaotic scene at the airport was due to the sudden storm."
                    }
                },
                {
                    "word": "Critical",
                    "definition": "Of great importance; crucial.",
                    "context": {
                        "Context 1": "Making critical decisions can determine the outcome of a case.",
                        "Context 2": "The doctor made a critical diagnosis that saved the patient's life.",
                        "Context 3": "It is critical to follow the safety guidelines during a fire drill."
                    }
                },
                {
                    "word": "Adapt",
                    "definition": "To adjust to new conditions or environments.",
                    "context": {
                        "Context 1": "Lawyers must adapt their strategies based on the case's circumstances.",
                        "Context 2": "Animals adapt to their environment to survive.",
                        "Context 3": "She had to adapt her cooking style after moving to a new country."
                    }
                },
                {
                    "word": "Humanity",
                    "definition": "The quality of being human; kindness or compassion.",
                    "context": {
                        "Context 1": "The pilot showed great humanity during the emergency landing.",
                        "Context 2": "Humanity has made significant advancements in technology.",
                        "Context 3": "Acts of kindness reflect the best of humanity."
                    }
                },
                {
                    "word": "Mechanism",
                    "definition": "A system of parts working together in a machine; a process or technique.",
                    "context": {
                        "Context 1": "The legal system has mechanisms in place to ensure justice.",
                        "Context 2": "The clock's mechanism was intricate and fascinating.",
                        "Context 3": "The mechanism of photosynthesis is vital for plant life."
                    }
                },
                {
                    "word": "Electricity",
                    "definition": "A form of energy resulting from the existence of charged particles.",
                    "context": {
                        "Context 1": "Electricity is essential for modern technology, including AI systems.",
                        "Context 2": "The storm caused a power outage, cutting off electricity to the town.",
                        "Context 3": "Electricity powers everything from our homes to our smartphones."
                    }
                },
                {
                    "word": "Strategy",
                    "definition": "A plan of action designed to achieve a long-term or overall aim.",
                    "context": {
                        "Context 1": "The lawyer developed a strategy to win the case.",
                        "Context 2": "They used a new marketing strategy to boost sales.",
                        "Context 3": "In chess, having a good strategy is key to winning the game."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Defend",
                    "fact": "In ancient Rome, lawyers would often defend clients by arguing in front of a crowd, which sometimes turned into a shouting match!"
                },
                {
                    "word": "Risky",
                    "fact": "Did you know that the word 'risky' comes from the Italian word 'risicare,' which means 'to dare'?"
                },
                {
                    "word": "Spontaneous",
                    "fact": "The word 'spontaneous' is often used to describe a type of laughter that happens without any warning, just like when you hear a funny joke!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the lawyer bring a ladder to court?",
                    "answer": "Because they wanted to reach new heights in their career!"
                },
                {
                    "question": "What do you call a lawyer who doesn’t chase ambulances?",
                    "answer": "Retired!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going? I see you moved to a new place!"
                },
                {
                    "Person 2": "Yeah, I just shifted to a lower floor. It's a bit cozier down here."
                },
                {
                    "Person 1": "Nice! Do you have a good view from there?"
                },
                {
                    "Person 2": "Not really, but I do have some nice fake flowers to brighten up the room."
                },
                {
                    "Person 1": "Oh, they look real! I thought you had a green thumb."
                },
                {
                    "Person 2": "Haha, not at all! I can barely keep a cactus alive."
                },
                {
                    "Person 1": "So, are you back to school now? Or still on vacation?"
                },
                {
                    "Person 2": "Last day of vacation for me! I’m not too excited about going back."
                },
                {
                    "Person 1": "I get that. School can be such a drag sometimes."
                },
                {
                    "Person 2": "Yeah, especially with all the boring subjects. I wish I could just focus on what I like."
                },
                {
                    "Person 1": "Have you heard about online schools? Some friends of mine are doing that."
                },
                {
                    "Person 2": "Yeah, but they can be pricey. I tried one last year, but it wasn’t for me."
                },
                {
                    "Person 1": "What didn’t you like about it?"
                },
                {
                    "Person 2": "It felt too easy, and I missed the interaction with teachers and classmates."
                },
                {
                    "Person 1": "Totally! I think having a good teacher makes a big difference."
                },
                {
                    "Person 2": "Exactly! And some online schools don’t even check if you’re cheating on tests."
                },
                {
                    "Person 1": "That’s wild! Makes it hard to take it seriously."
                },
                {
                    "Person 2": "For sure! I’m back in a regular school now, though. Gotta get that diploma!"
                },
                {
                    "Person 1": "Good call! It’s important to have that official certification."
                },
                {
                    "Person 2": "Yeah, and I’m hoping the classes will be more engaging this time."
                },
                {
                    "Person 1": "Fingers crossed! Let’s catch up again soon and see how it’s going."
                },
                {
                    "Person 2": "Definitely! I’ll let you know how the first week goes."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's school going for you?"
                },
                {
                    "Person 2": "Pretty good! I'm in 10th grade now, so just one more year to go!"
                },
                {
                    "Person 1": "Nice! Did you have any big assignments recently?"
                },
                {
                    "Person 2": "Yeah, I just finished an essay. It was a bit of a challenge, but I managed."
                },
                {
                    "Person 1": "Oh, cool! What was the topic?"
                },
                {
                    "Person 2": "It was about the advantages and disadvantages of urban living. I had to really think it through."
                },
                {
                    "Person 1": "That sounds interesting! Did you get to use any cool examples?"
                },
                {
                    "Person 2": "Definitely! I talked about how moving to cities can create more job opportunities, but also how it can lead to overcrowding."
                },
                {
                    "Person 1": "That’s a solid point! How did you feel about your conclusion?"
                },
                {
                    "Person 2": "I was a bit unsure. I wanted to wrap everything up nicely, but I wasn’t sure how to phrase it."
                },
                {
                    "Person 1": "I get that. Sometimes it’s hard to summarize everything without repeating yourself."
                },
                {
                    "Person 2": "Exactly! I tried to use different words, but it was tricky."
                },
                {
                    "Person 1": "Yeah, I think paraphrasing can be tough. Did you check the word count?"
                },
                {
                    "Person 2": "I did! It was 298 words, which is pretty good for me."
                },
                {
                    "Person 1": "Nice! That’s right around the sweet spot for essays."
                },
                {
                    "Person 2": "For sure! I feel like practice really helps with writing."
                },
                {
                    "Person 1": "Absolutely! The more you write, the easier it gets."
                },
                {
                    "Person 2": "Exactly! I remember struggling with programming too. It took me a while to get the hang of it."
                },
                {
                    "Person 1": "Programming can be tough! What language were you trying to learn?"
                },
                {
                    "Person 2": "I was trying to learn Python. At first, it felt overwhelming."
                },
                {
                    "Person 1": "But once you get the basics down, it gets easier, right?"
                },
                {
                    "Person 2": "Definitely! I can now write simple scripts, and it feels great."
                },
                {
                    "Person 1": "That’s awesome! Keep practicing, and you’ll be a pro in no time."
                },
                {
                    "Person 2": "Thanks! I appreciate the encouragement."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you tried that new coffee shop down the street?"
                },
                {
                    "Person 2": "Not yet! I’ve heard good things about it. What do you think?"
                },
                {
                    "Person 1": "I really liked it! The atmosphere is super cozy, and they have this amazing vanilla latte."
                },
                {
                    "Person 2": "Sounds great! I’m always on the lookout for a good latte. Do they have any pastries?"
                },
                {
                    "Person 1": "Yeah, they have a bunch! I had a blueberry muffin that was really fresh."
                },
                {
                    "Person 2": "Nice! I love a good muffin with my coffee. I should check it out this weekend."
                },
                {
                    "Person 1": "Definitely! We could go together if you want."
                },
                {
                    "Person 2": "That would be fun! What time do you usually go?"
                },
                {
                    "Person 1": "I usually go in the morning, around 10. It’s not too crowded then."
                },
                {
                    "Person 2": "Perfect! I’ll meet you there at 10 on Saturday."
                },
                {
                    "Person 1": "Awesome! I’m looking forward to it."
                },
                {
                    "Person 2": "Me too! It’ll be nice to catch up over coffee."
                },
                {
                    "Person 1": "For sure! See you Saturday!"
                },
                {
                    "Person 2": "See you!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh man, I missed it! Who won?"
                },
                {
                    "Person 1": "The home team pulled off a last-minute win! It was crazy!"
                },
                {
                    "Person 2": "No way! I heard they were behind for most of the game."
                },
                {
                    "Person 1": "Yeah, they were! But the last quarter was wild. They scored two touchdowns in just a few minutes."
                },
                {
                    "Person 2": "Sounds like I really missed out! I need to start watching more games."
                },
                {
                    "Person 1": "For sure! It’s so much more exciting when you watch live."
                },
                {
                    "Person 2": "I usually just catch the highlights, but it’s not the same."
                },
                {
                    "Person 1": "Exactly! Plus, the atmosphere in the stadium is electric."
                },
                {
                    "Person 2": "I can imagine! Do you go to many games?"
                },
                {
                    "Person 1": "I try to go to at least a few each season. It’s a blast!"
                },
                {
                    "Person 2": "Nice! Maybe I should join you next time."
                },
                {
                    "Person 1": "Definitely! It’ll be fun. We can grab some snacks and cheer for the team."
                },
                {
                    "Person 2": "Count me in! Just let me know when you’re going."
                },
                {
                    "Person 1": "Will do! I’ll keep you posted."
                },
                {
                    "Person 2": "Awesome! Looking forward to it!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "you don't know English you just pay to get through your studies",
                    "corrected": "you don't know English; you just pay to get through your studies.",
                    "explanation": "A semicolon is needed to separate two independent clauses.",
                    "context": "I was discussing the importance of language skills. You don't know English; you just pay to get through your studies. This approach can be misleading."
                },
                {
                    "original": "you know Being a linguist Is a very different thing from actually knowing a language",
                    "corrected": "you know, being a linguist is a very different thing from actually knowing a language.",
                    "explanation": "A comma is needed after 'you know' to separate the introductory phrase.",
                    "context": "I was explaining the distinction between linguistics and language proficiency. You know, being a linguist is a very different thing from actually knowing a language. It's important to recognize this difference."
                },
                {
                    "original": "but he doesn't have like the experience",
                    "corrected": "but he doesn't have the experience.",
                    "explanation": "The word 'like' is unnecessary and informal in this context.",
                    "context": "We were comparing two candidates for a job. He knows English very well, but he doesn't have the experience. This could affect his chances."
                },
                {
                    "original": "you can forge the like these certificates?",
                    "corrected": "you can forge these certificates?",
                    "explanation": "The word 'like' is unnecessary and makes the sentence awkward.",
                    "context": "I was asking about the possibility of falsifying documents. Can you forge these certificates? It's a risky move."
                },
                {
                    "original": "you are sure, yeah, you're certain that you will obtain the right certificates",
                    "corrected": "you are sure that you will obtain the right certificates.",
                    "explanation": "The phrase 'yeah' is informal and disrupts the flow of the sentence.",
                    "context": "I was discussing the reliability of obtaining necessary documents. You are sure that you will obtain the right certificates. This confidence is crucial."
                },
                {
                    "original": "if, for example, me and your husband, yeah, we know English",
                    "corrected": "if, for example, my husband and I know English.",
                    "explanation": "'Me and your husband' should be 'my husband and I' to follow proper subject pronoun order.",
                    "context": "I was considering a scenario where language skills matter. If, for example, my husband and I know English, we could improve our chances. This would be beneficial."
                },
                {
                    "original": "you think that you will pass your test, have the record, with the necessary score",
                    "corrected": "you think that you will pass your test and have the necessary score.",
                    "explanation": "The phrase 'have the record' is unclear and unnecessary; 'and' is more appropriate.",
                    "context": "We were discussing the importance of test scores for immigration. You think that you will pass your test and have the necessary score. This is essential for your plans."
                },
                {
                    "original": "the word that exists in Russian, concurrency, in English, that means something that happens simultaneously with some other things",
                    "corrected": "the word that exists in Russian, 'concurrency,' in English means something that happens simultaneously with other things.",
                    "explanation": "The sentence structure is awkward; it can be simplified for clarity.",
                    "context": "I was explaining a translation issue. The word that exists in Russian, 'concurrency,' in English means something that happens simultaneously with other things. This can be confusing."
                },
                {
                    "original": "the United States are not reliable party",
                    "corrected": "the United States is not a reliable party.",
                    "explanation": "The subject 'the United States' is singular and requires 'is'; 'a' is needed before 'reliable party.'",
                    "context": "We were discussing international relations. The United States is not a reliable party. This affects diplomatic strategies."
                },
                {
                    "original": "you should learn on your granddad's mistakes",
                    "corrected": "you should learn from your granddad's mistakes.",
                    "explanation": "The correct preposition is 'from' instead of 'on.'",
                    "context": "I was advising someone about learning from past experiences. You should learn from your granddad's mistakes. This wisdom can guide your decisions."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "You should not be very too harsh on yourself for not remembering some words.",
                    "corrected": "You should not be too harsh on yourself for not remembering some words.",
                    "explanation": "'Very too' is incorrect; 'too' alone is sufficient to indicate excessiveness.",
                    "context": "It's important to be kind to yourself while learning. You should not be too harsh on yourself for not remembering some words. Everyone struggles with vocabulary at times."
                },
                {
                    "original": "You are now aware of some patterns that you weren't aware before.",
                    "corrected": "You are now aware of some patterns that you weren't aware of before.",
                    "explanation": "The phrase 'aware of' requires 'of' to complete the expression correctly.",
                    "context": "As you learn, you start to notice different grammatical patterns. You are now aware of some patterns that you weren't aware of before. This awareness helps improve your understanding."
                },
                {
                    "original": "This is not something that like, yeah, I should say I went instead of I go or I had instead of I have.",
                    "corrected": "This is not something that I should say, like, I went instead of I go or I had instead of I have.",
                    "explanation": "The placement of 'like' is awkward; it should be positioned to clarify the comparison being made.",
                    "context": "When discussing verb tenses, clarity is key. This is not something that I should say, like, I went instead of I go or I had instead of I have. Understanding these differences is crucial."
                },
                {
                    "original": "I was taught IT at university.",
                    "corrected": "I was taught IT at university.",
                    "explanation": "This sentence is correct; it illustrates the passive voice effectively.",
                    "context": "Reflecting on my education, I realize the importance of passive voice. I was taught IT at university. This structure helps convey the action done to me."
                },
                {
                    "original": "But only 50% the rest 50% is words that we use more rarely.",
                    "corrected": "But only 50% of the rest is words that we use more rarely.",
                    "explanation": "The phrase 'only 50%' needs 'of' to connect it properly to the following clause.",
                    "context": "In conversations, vocabulary usage varies greatly. But only 50% of the rest is words that we use more rarely. These rare words help convey specific ideas."
                },
                {
                    "original": "It takes a lot of practice. So you really can feel like it's obvious.",
                    "corrected": "It takes a lot of practice, so you can really feel like it's obvious.",
                    "explanation": "The placement of 'really' is awkward; it should be moved to enhance clarity.",
                    "context": "Mastering a language is a gradual process. It takes a lot of practice, so you can really feel like it's obvious. With time, the learning becomes more intuitive."
                },
                {
                    "original": "You might not feel this progress, but it's it's there.",
                    "corrected": "You might not feel this progress, but it's there.",
                    "explanation": "The repetition of 'it's' is a typographical error and should be corrected.",
                    "context": "Learning a language can be frustrating at times. You might not feel this progress, but it's there. Consistent practice leads to improvement."
                },
                {
                    "original": "You have to do tests. Yeah, you are you have to prepare for this test.",
                    "corrected": "You have to do tests. Yeah, you have to prepare for these tests.",
                    "explanation": "The phrase 'this test' should be pluralized to match the context of multiple tests.",
                    "context": "Preparation is key in language learning. You have to do tests. Yeah, you have to prepare for these tests to gauge your progress."
                },
                {
                    "original": "Tests are only you know some things that you have to do sometimes because you have to have some certificate of some sort that yeah, I know this language at this level.",
                    "corrected": "Tests are just things that you have to do sometimes because you need a certificate to show that you know this language at this level.",
                    "explanation": "The original sentence is overly complicated and unclear; simplifying it improves clarity.",
                    "context": "While tests can feel burdensome, they serve a purpose. Tests are just things that you have to do sometimes because you need a certificate to show that you know this language at this level."
                },
                {
                    "original": "When it's not because I have a talent for languages or something, but because I've had much more experience than you in English.",
                    "corrected": "It's not because I have a talent for languages or something, but because I've had much more experience than you in English.",
                    "explanation": "The sentence starts awkwardly; removing 'When' clarifies the statement.",
                    "context": "Experience plays a significant role in language acquisition. It's not because I have a talent for languages or something, but because I've had much more experience than you in English."
                },
                {
                    "original": "But once this gap is decreasing, once you understand more and more and more, you will encounter words that you don't know really.",
                    "corrected": "But once this gap decreases, once you understand more and more, you will encounter words that you don't really know.",
                    "explanation": "The placement of 'really' is awkward; it should come after 'don't' for better clarity.",
                    "context": "As you improve, the learning process evolves. But once this gap decreases, once you understand more and more, you will encounter words that you don't really know."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "You translate it directly translate Russian words to English.",
                    "corrected": "You translate Russian words directly to English.",
                    "explanation": "The phrase 'directly translate' is redundant; 'translate' should be followed by the object before the adverb.",
                    "context": "When learning a new language, it's common to translate thoughts from your native language. You translate Russian words directly to English, which can lead to awkward sentences."
                },
                {
                    "original": "your sentences are compiled using Russian logic.",
                    "corrected": "Your sentences are compiled using Russian logic.",
                    "explanation": "The original sentence is correct; however, it could be more idiomatic with slight rephrasing.",
                    "context": "As I learned English, I realized that my sentences were often awkward. Your sentences are compiled using Russian logic, which can confuse native speakers."
                },
                {
                    "original": "it will become easier and more easier.",
                    "corrected": "It will become easier and easier.",
                    "explanation": "'More easier' is incorrect; 'easier' is already a comparative form, and 'more' should not be used with it.",
                    "context": "Learning a language takes time and practice. I believe it will become easier and easier as I continue to improve my skills."
                },
                {
                    "original": "There are too much too many things and sections in language.",
                    "corrected": "There are too many things and sections in language.",
                    "explanation": "'Too much' is used with uncountable nouns, while 'too many' is used with countable nouns like 'things.'",
                    "context": "Language learning can be overwhelming. There are too many things and sections in language that can make it difficult to master."
                },
                {
                    "original": "you will still make a lot of mistakes.",
                    "corrected": "You will still make many mistakes.",
                    "explanation": "'A lot of' is informal; 'many' is more appropriate in this context.",
                    "context": "Mistakes are part of the learning process. You will still make many mistakes, but that's how we learn and grow."
                },
                {
                    "original": "it's only by coming to terms with your mistakes.",
                    "corrected": "It's only by coming to terms with your mistakes.",
                    "explanation": "The original sentence is correct; however, it could be more idiomatic with slight rephrasing.",
                    "context": "Accepting our errors is crucial for improvement. It's only by coming to terms with your mistakes that you can truly progress."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Attempt",
                    "definition": "To make an effort to achieve or complete something.",
                    "context": {
                        "Context 1": "He made several attempts to pass the test before finally succeeding.",
                        "Context 2": "The artist's first attempt at painting was a colorful mess.",
                        "Context 3": "She attempted to bake a cake but ended up burning it."
                    }
                },
                {
                    "word": "Score",
                    "definition": "The number of points achieved in a game or test.",
                    "context": {
                        "Context 1": "You need to achieve a score of at least 50 to pass the exam.",
                        "Context 2": "His high score in the video game made him the champion of the week.",
                        "Context 3": "The score of the basketball game was tied at 100 points."
                    }
                },
                {
                    "word": "Certificate",
                    "definition": "An official document that proves a certain fact or qualification.",
                    "context": {
                        "Context 1": "You need to provide your job certificate to prove your experience.",
                        "Context 2": "She received a certificate for completing her yoga training.",
                        "Context 3": "The school issued a certificate of attendance to all students."
                    }
                },
                {
                    "word": "Corruption",
                    "definition": "Dishonest or fraudulent conduct by those in power.",
                    "context": {
                        "Context 1": "Corruption is a major issue in many political systems.",
                        "Context 2": "The corruption in the company led to its downfall.",
                        "Context 3": "He was shocked to discover the level of corruption in the local government."
                    }
                },
                {
                    "word": "Linguist",
                    "definition": "A person skilled in several languages or who studies linguistics.",
                    "context": {
                        "Context 1": "Being a linguist requires a deep understanding of language structure.",
                        "Context 2": "She aspired to be a linguist and travel the world teaching languages.",
                        "Context 3": "The linguist gave a fascinating lecture on the evolution of language."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "Practical contact with and observation of facts or events.",
                    "context": {
                        "Context 1": "You need relevant experience to qualify for the job.",
                        "Context 2": "His experience in the field made him a valuable asset to the team.",
                        "Context 3": "Traveling abroad was a life-changing experience for her."
                    }
                },
                {
                    "word": "Immigrate",
                    "definition": "To come to live permanently in a foreign country.",
                    "context": {
                        "Context 1": "Many people choose to immigrate in search of better opportunities.",
                        "Context 2": "She decided to immigrate to Canada for a fresh start.",
                        "Context 3": "The story of his family’s decision to immigrate is inspiring."
                    }
                },
                {
                    "word": "Bribe",
                    "definition": "To persuade someone to act in one's favor, typically illegally or dishonestly.",
                    "context": {
                        "Context 1": "He was accused of trying to bribe a government official.",
                        "Context 2": "The movie plot revolved around a journalist uncovering a bribe scandal.",
                        "Context 3": "Bribing a referee is a serious offense in sports."
                    }
                },
                {
                    "word": "Forge",
                    "definition": "To produce a fraudulent copy or imitation of something.",
                    "context": {
                        "Context 1": "They were caught trying to forge documents to gain entry.",
                        "Context 2": "He decided to forge a signature to get the loan approved.",
                        "Context 3": "The artist was known for his ability to forge famous paintings."
                    }
                },
                {
                    "word": "Criteria",
                    "definition": "Principles or standards by which something is judged or decided.",
                    "context": {
                        "Context 1": "You must meet all the criteria to be eligible for the scholarship.",
                        "Context 2": "The criteria for judging the competition were clearly outlined.",
                        "Context 3": "Her criteria for a perfect vacation include sun, sand, and relaxation."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Certificate",
                    "fact": "In some countries, you can earn a certificate for just about anything, including 'professional napper'!"
                },
                {
                    "word": "Bribe",
                    "fact": "Did you know that in ancient Rome, the word for 'bribe' was 'donativum,' which literally means 'gift'? Talk about a twisted gift!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What did one test paper say to the other?",
                    "answer": "You crack me up!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Punish",
                    "definition": "To impose a penalty on someone for a wrongdoing or to inflict suffering on someone as a consequence of their actions.",
                    "context": {
                        "Context 1": "You should not punish yourself for forgetting a word; it's a natural part of learning.",
                        "Context 2": "The teacher decided to punish the students for not completing their homework.",
                        "Context 3": "In ancient times, people were often punished for minor offenses."
                    }
                },
                {
                    "word": "Harsh",
                    "definition": "Unpleasantly rough or jarring to the senses; severe or cruel.",
                    "context": {
                        "Context 1": "Being too harsh on yourself can hinder your learning process.",
                        "Context 2": "The harsh winter weather made it difficult for people to travel.",
                        "Context 3": "His harsh criticism of the movie surprised everyone in the audience."
                    }
                },
                {
                    "word": "Interlocutor",
                    "definition": "A person who takes part in a conversation or dialogue.",
                    "context": {
                        "Context 1": "Understanding your interlocutor is key to effective communication.",
                        "Context 2": "The debate featured two skilled interlocutors who presented their arguments well.",
                        "Context 3": "In a game of charades, your interlocutor is the one guessing your actions."
                    }
                },
                {
                    "word": "Patterns",
                    "definition": "A repeated or regular arrangement of elements or events.",
                    "context": {
                        "Context 1": "Your brain learns patterns in language that help you understand better.",
                        "Context 2": "The artist used geometric patterns to create a stunning visual effect.",
                        "Context 3": "Birds often follow migratory patterns based on the seasons."
                    }
                },
                {
                    "word": "Passive voice",
                    "definition": "A grammatical construction in which the subject of the sentence is acted upon rather than performing the action.",
                    "context": {
                        "Context 1": "Understanding passive voice can help you recognize different sentence structures.",
                        "Context 2": "In the passive voice, 'The book was read by the teacher' emphasizes the action over the doer.",
                        "Context 3": "Many scientific papers are written in passive voice to focus on the research rather than the researchers."
                    }
                },
                {
                    "word": "Obvious",
                    "definition": "Easily perceived or understood; clear, self-evident.",
                    "context": {
                        "Context 1": "It may not be obvious at first, but you are making progress in your language skills.",
                        "Context 2": "The answer to the riddle was obvious once I thought about it for a moment.",
                        "Context 3": "The obvious choice for the team captain was the most experienced player."
                    }
                },
                {
                    "word": "Motivate",
                    "definition": "To provide someone with a reason for doing something; to inspire or encourage.",
                    "context": {
                        "Context 1": "Tests can motivate you to study harder, but they shouldn't be your only focus.",
                        "Context 2": "The coach's speech was meant to motivate the players before the big game.",
                        "Context 3": "She found that music helped motivate her while studying."
                    }
                },
                {
                    "word": "Input",
                    "definition": "Information or data that is put into a system for processing.",
                    "context": {
                        "Context 1": "You need a lot of input to improve your vocabulary effectively.",
                        "Context 2": "The computer requires input from the user to perform tasks.",
                        "Context 3": "Feedback from your peers is valuable input for improving your work."
                    }
                },
                {
                    "word": "Significant",
                    "definition": "Sufficiently great or important to be worthy of attention; noteworthy.",
                    "context": {
                        "Context 1": "Understanding more words is a significant sign of your progress.",
                        "Context 2": "The discovery of the new planet was a significant event in astronomy.",
                        "Context 3": "Her significant contribution to the project was recognized by the team."
                    }
                },
                {
                    "word": "Encounter",
                    "definition": "To come across or meet someone or something unexpectedly.",
                    "context": {
                        "Context 1": "You will encounter new words as you continue to learn.",
                        "Context 2": "During our hike, we encountered a family of deer in the woods.",
                        "Context 3": "He encountered many challenges while starting his own business."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Punish",
                    "fact": "In some cultures, it's considered a punishment to eat food with your left hand!"
                },
                {
                    "word": "Harsh",
                    "fact": "Did you know that the harshest weather on Earth is found in Antarctica, where it can get as cold as -128.6°F (-89.2°C)?"
                },
                {
                    "word": "Interlocutor",
                    "fact": "The word 'interlocutor' comes from the Latin 'interloqui,' which means 'to speak between.'"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Awkward",
                    "definition": "Causing or feeling embarrassment or inconvenience.",
                    "context": {
                        "Context 1": "The sentence sounded awkward because it followed Russian grammar rules.",
                        "Context 2": "He felt awkward when he tripped over his own feet at the party.",
                        "Context 3": "The awkward silence in the room made everyone uncomfortable."
                    }
                },
                {
                    "word": "Motivated",
                    "definition": "Having a strong reason to act or accomplish something.",
                    "context": {
                        "Context 1": "Staying motivated is essential for learning a new language.",
                        "Context 2": "She was motivated to run a marathon after watching her friend complete one.",
                        "Context 3": "The motivational speaker inspired the students to pursue their dreams."
                    }
                },
                {
                    "word": "Expressing",
                    "definition": "To convey a thought or feeling in words or gestures.",
                    "context": {
                        "Context 1": "Eventually, I will have much less trouble expressing myself in English.",
                        "Context 2": "He was expressing his love for music through his guitar playing.",
                        "Context 3": "The artist was expressing her emotions on the canvas."
                    }
                },
                {
                    "word": "Embrace",
                    "definition": "To accept or support willingly and enthusiastically.",
                    "context": {
                        "Context 1": "You should embrace your mistakes to improve your language skills.",
                        "Context 2": "She decided to embrace her unique style instead of conforming.",
                        "Context 3": "The community embraced the new changes to the park."
                    }
                },
                {
                    "word": "Inevitable",
                    "definition": "Certain to happen; unavoidable.",
                    "context": {
                        "Context 1": "Making mistakes is inevitable when learning a new language.",
                        "Context 2": "The rain was inevitable after the weather forecast predicted it.",
                        "Context 3": "Change is inevitable in life, and we must adapt."
                    }
                },
                {
                    "word": "Gradually",
                    "definition": "In a slow manner; over a period of time.",
                    "context": {
                        "Context 1": "You will gradually improve your language skills with practice.",
                        "Context 2": "The temperature gradually dropped as the sun set.",
                        "Context 3": "She gradually became more confident in her public speaking abilities."
                    }
                },
                {
                    "word": "Terms",
                    "definition": "Conditions or stipulations in an agreement or situation.",
                    "context": {
                        "Context 1": "You need to come to terms with your mistakes to move forward.",
                        "Context 2": "The terms of the contract were clearly outlined.",
                        "Context 3": "They had to negotiate the terms of their partnership."
                    }
                },
                {
                    "word": "Logic",
                    "definition": "Reasoning conducted or assessed according to strict principles of validity.",
                    "context": {
                        "Context 1": "Your sentences were compiled using Russian logic, which made them awkward.",
                        "Context 2": "The logic of the puzzle was difficult to understand.",
                        "Context 3": "He used logic to solve the math problem efficiently."
                    }
                },
                {
                    "word": "Progress",
                    "definition": "Forward or onward movement toward a destination or goal.",
                    "context": {
                        "Context 1": "The progress you make in language learning is not just about mistakes.",
                        "Context 2": "She was proud of the progress she made in her fitness journey.",
                        "Context 3": "The project showed significant progress after a few weeks."
                    }
                },
                {
                    "word": "Believe",
                    "definition": "To accept something as true; to have faith in something.",
                    "context": {
                        "Context 1": "You need to believe that you will improve in your language skills.",
                        "Context 2": "He believes in the power of positive thinking.",
                        "Context 3": "Many people believe that aliens exist somewhere in the universe."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Awkward",
                    "fact": "The word 'awkward' is often used to describe situations where no one knows what to say, like when your phone rings in a quiet meeting!"
                },
                {
                    "word": "Inevitable",
                    "fact": "Did you know that the only thing more inevitable than taxes is the awkwardness of running into someone you know while wearing pajamas?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of anxiety!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, how's it going? You look like you’ve had a long night!"
                },
                {
                    "Person 2": "Oh man, you have no idea! I was up studying for this big test I have coming up."
                },
                {
                    "Person 1": "What test? Is it one of those standardized ones?"
                },
                {
                    "Person 2": "Yeah, it's the GRE. I’ve been trying to get my score up so I can apply to grad school."
                },
                {
                    "Person 1": "Gotcha. How’s the studying going? It sounds intense!"
                },
                {
                    "Person 2": "It is! I’ve been taking practice tests, but I feel like I’m not improving as much as I’d like."
                },
                {
                    "Person 1": "That’s tough. Do you think you need to change your study strategy?"
                },
                {
                    "Person 2": "Definitely! I think I need to focus more on the math section. It’s been a while since I did any serious math."
                },
                {
                    "Person 1": "Math can be tricky. Have you thought about getting a tutor?"
                },
                {
                    "Person 2": "I have! I might look into some online tutoring options. It could really help."
                },
                {
                    "Person 1": "That sounds like a good plan. Just remember to take breaks, too. You don’t want to burn out."
                },
                {
                    "Person 2": "Yeah, I’ve been trying to balance it out. I’ll watch a show or go for a walk after a study session."
                },
                {
                    "Person 1": "Nice! What show are you watching?"
                },
                {
                    "Person 2": "I just started this new series on Netflix. It’s a thriller, and I can’t stop watching!"
                },
                {
                    "Person 1": "Sounds exciting! Maybe I should check it out after I finish my current binge."
                },
                {
                    "Person 2": "You totally should! It’s a great way to unwind after all that studying."
                },
                {
                    "Person 1": "For sure! Alright, good luck with your studying. You’ve got this!"
                },
                {
                    "Person 2": "Thanks! I appreciate it. Let’s catch up later!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you ever felt like you're just too hard on yourself when learning something new?"
                },
                {
                    "Person 2": "Oh, definitely! I used to get so frustrated when I couldn't remember a word or a concept."
                },
                {
                    "Person 1": "Right? It's like we forget all the progress we've made and just focus on the mistakes."
                },
                {
                    "Person 2": "Exactly! I mean, our brains are always learning, even if we don’t notice it."
                },
                {
                    "Person 1": "Totally! I read somewhere that understanding patterns in language is just as important as memorizing vocabulary."
                },
                {
                    "Person 2": "Yeah, and sometimes I realize I know more than I think, like when I catch myself using a new phrase without even trying."
                },
                {
                    "Person 1": "That’s the best feeling! It’s like your brain is working behind the scenes."
                },
                {
                    "Person 2": "For sure! And I think we should celebrate those little wins instead of stressing over what we don’t know."
                },
                {
                    "Person 1": "Agreed! Maybe we should keep a journal of our progress. It could help remind us how far we’ve come."
                },
                {
                    "Person 2": "Great idea! Plus, it would be fun to look back and see all the new things we’ve learned."
                },
                {
                    "Person 1": "Exactly! And if we ever feel stuck, we can just read through it and boost our motivation."
                },
                {
                    "Person 2": "Sounds like a plan! Let’s start that this week."
                },
                {
                    "Person 1": "Awesome! I can’t wait to see how much we’ve improved."
                },
                {
                    "Person 2": "Me too! Here’s to learning and not being too hard on ourselves!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to keep up with everything. How about you?"
                },
                {
                    "Person 1": "Same here! I feel like I’m always juggling a million things."
                },
                {
                    "Person 2": "Right? It’s like there’s never enough time in the day."
                },
                {
                    "Person 1": "Exactly! I’ve been trying to learn a new language, but it’s tough."
                },
                {
                    "Person 2": "Oh wow, that sounds interesting! Which language?"
                },
                {
                    "Person 1": "I’m trying to learn Spanish. I can understand a bit, but speaking is hard."
                },
                {
                    "Person 2": "I get that! I tried learning French once, and I struggled with the pronunciation."
                },
                {
                    "Person 1": "Yeah, it’s tricky! Sometimes I feel like I’m just translating everything in my head."
                },
                {
                    "Person 2": "Totally! I think that’s a common struggle. But it gets easier with practice."
                },
                {
                    "Person 1": "I hope so! I just need to stay motivated and keep practicing."
                },
                {
                    "Person 2": "For sure! Maybe we can practice together sometime?"
                },
                {
                    "Person 1": "That would be awesome! I could use all the help I can get."
                },
                {
                    "Person 2": "Let’s set a date then! It’ll be fun."
                },
                {
                    "Person 1": "Sounds good! I’ll bring some snacks too."
                },
                {
                    "Person 2": "Perfect! Can’t wait. See you soon!"
                },
                {
                    "Person 1": "See you!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I change my word in French because last time I learned French language and sometimes I change my mind.",
                    "corrected": "I change my words in French because last time I learned the French language and sometimes I change my mind.",
                    "explanation": "The plural 'words' is needed here to match the context, and 'the French language' requires the definite article.",
                    "context": "I sometimes mix up languages when I speak. I change my words in French because last time I learned the French language and sometimes I change my mind. It's a challenge for me to keep everything straight."
                },
                {
                    "original": "I chose to study in French group in the beginning level.",
                    "corrected": "I chose to study in a French group at the beginner level.",
                    "explanation": "'In French group' should be 'in a French group,' and 'beginning level' should be 'beginner level' for correct terminology.",
                    "context": "When I was in university, I wanted to focus on French. I chose to study in a French group at the beginner level. It was a great decision for my language skills."
                },
                {
                    "original": "I am a historian. I am an archaeologist.",
                    "corrected": "I am a historian and an archaeologist.",
                    "explanation": "Using 'and' instead of repeating 'I am' makes the sentence more fluid and less redundant.",
                    "context": "I have a passion for history and archaeology. I am a historian and an archaeologist. My work involves exploring ancient cultures."
                },
                {
                    "original": "I think that English will be useful for me because the people who live in this country speak in Mongolian.",
                    "corrected": "I think that English will be useful for me because the people who live in this country speak Mongolian.",
                    "explanation": "The phrase 'speak in Mongolian' is incorrect; it should simply be 'speak Mongolian.'",
                    "context": "As I prepare for my expedition, I realize the importance of English. I think that English will be useful for me because the people who live in this country speak Mongolian. I want to communicate effectively."
                },
                {
                    "original": "I am the only one with Russian origin.",
                    "corrected": "I am the only one of Russian origin.",
                    "explanation": "The phrase 'with Russian origin' should be 'of Russian origin' for correct usage.",
                    "context": "In my expedition team, diversity is key. I am the only one of Russian origin. It's interesting to see how different backgrounds come together."
                },
                {
                    "original": "The director is the one who makes movies.",
                    "corrected": "The director is the one who makes films.",
                    "explanation": "'Movies' is informal; 'films' is more appropriate in this context.",
                    "context": "When discussing roles, I mentioned the director. The director is the one who makes films. It's a creative position that requires a lot of skill."
                },
                {
                    "original": "I am used to talking with the leader or group leader.",
                    "corrected": "I am used to talking to the leader or group leader.",
                    "explanation": "The correct preposition here is 'to' instead of 'with' for this context.",
                    "context": "In my work, communication is key. I am used to talking to the leader or group leader. This helps me stay informed and connected."
                },
                {
                    "original": "It's more motivation than care.",
                    "corrected": "It's more motivation than fear.",
                    "explanation": "The word 'care' is incorrect in this context; 'fear' fits better with the intended meaning.",
                    "context": "I often feel nervous about language barriers. It's more motivation than fear. I want to improve my English skills."
                },
                {
                    "original": "I translate it with the Internet.",
                    "corrected": "I translate it using the Internet.",
                    "explanation": "'With' should be 'using' for correct phrasing in this context.",
                    "context": "When I encounter difficult texts, I seek help. I translate it using the Internet. It’s a handy tool for language learners."
                },
                {
                    "original": "You forgot some of them, but they are there somewhere in your head.",
                    "corrected": "You forgot some of the words, but they are there somewhere in your head.",
                    "explanation": "The phrase 'some of them' is vague; specifying 'some of the words' clarifies the meaning.",
                    "context": "During our conversation, I noticed some gaps in my vocabulary. You forgot some of the words, but they are there somewhere in your head. It’s all part of the learning process."
                },
                {
                    "original": "As your vocabulary grows, you will eventually be interested in learning these tiny things.",
                    "corrected": "As your vocabulary grows, you will eventually become interested in learning these tiny details.",
                    "explanation": "The phrase 'be interested in' should be 'become interested in' for correct grammatical structure.",
                    "context": "Language learning is a journey. As your vocabulary grows, you will eventually become interested in learning these tiny details. It's exciting to see progress."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I love more listening to podcasts in different topics.",
                    "corrected": "I love listening to podcasts on different topics more.",
                    "explanation": "The phrase 'love more listening' is awkward; 'love listening' is the correct form, and 'on different topics' is the proper preposition.",
                    "context": "I enjoy exploring various subjects through audio. I love listening to podcasts on different topics more than anything else. They really broaden my horizons."
                },
                {
                    "original": "I prefer podcasts with stories about French culture, traditions, holidays, something like this.",
                    "corrected": "I prefer podcasts that tell stories about French culture, traditions, and holidays.",
                    "explanation": "The phrase 'something like this' is vague; using 'that tell stories' provides clarity.",
                    "context": "Podcasts are a great way to learn. I prefer podcasts that tell stories about French culture, traditions, and holidays. They keep me engaged and informed."
                },
                {
                    "original": "In Russian at school, for a long time ago.",
                    "corrected": "I studied it in Russian at school a long time ago.",
                    "explanation": "The sentence structure is incorrect; it should be rephrased for clarity and proper tense.",
                    "context": "I remember my school days fondly. I studied it in Russian at school a long time ago. Those lessons sparked my interest in literature."
                },
                {
                    "original": "I forgot why the author decided to write the book in some passages in Russian, some passages in French.",
                    "corrected": "I forgot why the author decided to write some passages in Russian and some in French.",
                    "explanation": "The original sentence is awkward; it should be restructured for better flow.",
                    "context": "Literature often has intriguing choices. I forgot why the author decided to write some passages in Russian and some in French. It adds a unique layer to the text."
                },
                {
                    "original": "He just wanted to show off, like, oh, okay, I know French and you don't.",
                    "corrected": "He just wanted to show off, saying, 'Oh, okay, I know French, and you don't.'",
                    "explanation": "The original sentence lacks clarity; quoting directly improves understanding.",
                    "context": "Authors often have motivations behind their choices. He just wanted to show off, saying, 'Oh, okay, I know French, and you don't.' It reflects his character."
                },
                {
                    "original": "I understand the Canadian accent, but some words pronounce different.",
                    "corrected": "I understand the Canadian accent, but some words are pronounced differently.",
                    "explanation": "The verb 'pronounce' needs to be in passive voice and 'different' should be 'differently' as it describes the manner of pronunciation.",
                    "context": "Accents can vary widely. I understand the Canadian accent, but some words are pronounced differently. It's fascinating how language evolves."
                },
                {
                    "original": "French teacher teach me in general language, which will be... Understandable.",
                    "corrected": "My French teacher taught me the general language, which is understandable.",
                    "explanation": "The verb tense is incorrect; 'teach' should be 'taught,' and 'in general language' is awkward.",
                    "context": "Teachers play a crucial role in language learning. My French teacher taught me the general language, which is understandable. It laid a solid foundation for me."
                },
                {
                    "original": "It's difficult in this situation, political situation.",
                    "corrected": "It's difficult in this political situation.",
                    "explanation": "The phrase 'this situation, political situation' is redundant; it should be simplified.",
                    "context": "Current events can complicate decisions. It's difficult in this political situation. It affects many aspects of life."
                },
                {
                    "original": "I have, for example, one try.",
                    "corrected": "I have, for example, one attempt.",
                    "explanation": "'Try' is informal; 'attempt' is more appropriate in this context.",
                    "context": "Opportunities can be limited. I have, for example, one attempt to enroll in the program. It's crucial to make it count."
                },
                {
                    "original": "It's really a lot of things for prepare this study.",
                    "corrected": "There are really a lot of things to prepare for this study.",
                    "explanation": "The structure is incorrect; it should be 'to prepare for' instead of 'for prepare.'",
                    "context": "Studying requires thorough preparation. There are really a lot of things to prepare for this study. It can be overwhelming."
                },
                {
                    "original": "In Russian this education, archaeologists, it is specialization department of this science, historian science.",
                    "corrected": "In Russian, this education for archaeologists is a specialization within historical science.",
                    "explanation": "The sentence structure is confusing; it should be rephrased for clarity.",
                    "context": "Education systems vary by country. In Russian, this education for archaeologists is a specialization within historical science. It shapes their career paths."
                },
                {
                    "original": "I was... I excavated during five years.",
                    "corrected": "I excavated for five years.",
                    "explanation": "The phrase 'during five years' is incorrect; 'for five years' is the proper expression.",
                    "context": "Experience is valuable in archaeology. I excavated for five years. It was a transformative period of my life."
                },
                {
                    "original": "I specialize in... South Siberia and Central Asia more.",
                    "corrected": "I specialize more in South Siberia and Central Asia.",
                    "explanation": "The word order is awkward; 'more' should come after 'specialize.'",
                    "context": "Specialization helps define our focus. I specialize more in South Siberia and Central Asia. It's an area rich in history."
                },
                {
                    "original": "There is two directions in my sight.",
                    "corrected": "There are two directions in my field.",
                    "explanation": "The verb 'is' should be 'are' for plural 'directions,' and 'sight' is incorrect; 'field' is more appropriate.",
                    "context": "Research often has multiple paths. There are two directions in my field. Each offers unique challenges and insights."
                },
                {
                    "original": "The main field, I believe, yeah.",
                    "corrected": "I believe this is the main field.",
                    "explanation": "The original sentence is incomplete; it should be rephrased for clarity.",
                    "context": "Defining focus areas is essential. I believe this is the main field. It aligns with my interests and expertise."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "There is a company who work with the... Straitily.",
                    "corrected": "There is a company that works with the... Strait.",
                    "explanation": "The subject 'company' is singular, so it should be 'works' instead of 'work.' 'Who' is typically used for people, while 'that' is more appropriate for things.",
                    "context": "In archaeology, there are different branches. There is a company that works with the Strait. They focus on specific projects related to archaeological research."
                },
                {
                    "original": "Another, two, another branch is archaeology in the city.",
                    "corrected": "Another branch is archaeology in the city.",
                    "explanation": "The phrase 'another, two, another' is confusing and redundant; it should simply state 'Another branch.'",
                    "context": "In discussing the different branches of archaeology, I mentioned that there are two main branches. Another branch is archaeology in the city."
                },
                {
                    "original": "Like, who will do the research, analyze the ground, analyze the soil, whether you can build something on it.",
                    "corrected": "They will do the research, analyze the ground, and assess whether you can build something on it.",
                    "explanation": "The use of 'like' is informal and unnecessary; it can be omitted for clarity. 'Analyze the soil' should be followed by 'and assess' to improve sentence structure.",
                    "context": "When discussing commercial archaeology, I explained that you need to contact an archaeologist. They will do the research, analyze the ground, and assess whether you can build something on it."
                },
                {
                    "original": "Whether it will stay there or will it just fall down in a couple of years, yeah.",
                    "corrected": "Whether it will stay there or just fall down in a couple of years.",
                    "explanation": "The phrase 'will it just fall down' is incorrect; it should be 'will just fall down' to maintain proper sentence structure.",
                    "context": "I was explaining the importance of archaeological assessments before construction. Whether it will stay there or just fall down in a couple of years is a crucial consideration."
                },
                {
                    "original": "One thing's different... Between these two branches, I choose the subject and I... How to describe this goal?",
                    "corrected": "One thing that is different between these two branches is that I choose the subject and I... How do I describe this goal?",
                    "explanation": "The phrase 'One thing's different' is informal; it should be 'One thing that is different.' The question should use 'do' instead of 'to' for proper structure.",
                    "context": "While discussing the differences in my work, I mentioned that one thing that is different between these two branches is that I choose the subject. How do I describe this goal?"
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Motivation",
                    "definition": "The reason or reasons one has for acting or behaving in a particular way.",
                    "context": {
                        "Context 1": "Now I have more motivation to learn English because of my upcoming expedition.",
                        "Context 2": "The motivation to run a marathon often comes from personal goals.",
                        "Context 3": "She found her motivation in helping others through volunteer work."
                    }
                },
                {
                    "word": "Excavation",
                    "definition": "The process of digging up and removing earth to find buried artifacts or structures.",
                    "context": {
                        "Context 1": "I know that you are supposed to do some kind of excavations.",
                        "Context 2": "The construction crew began excavation for the new building last week.",
                        "Context 3": "Excavation of the ancient ruins revealed many historical artifacts."
                    }
                },
                {
                    "word": "Proficient",
                    "definition": "Competent or skilled in doing or using something.",
                    "context": {
                        "Context 1": "Do you consider yourself proficient in French?",
                        "Context 2": "He is proficient in multiple programming languages, which makes him a valuable asset.",
                        "Context 3": "After years of practice, she became proficient at playing the piano."
                    }
                },
                {
                    "word": "Equipment",
                    "definition": "The necessary items for a particular purpose or activity.",
                    "context": {
                        "Context 1": "Your company also sells equipment for doing excavations.",
                        "Context 2": "The gym has all the latest fitness equipment for its members.",
                        "Context 3": "The photographer brought expensive equipment to capture the wedding."
                    }
                },
                {
                    "word": "Archaeologist",
                    "definition": "A person who studies human history and prehistory through excavation and analysis of artifacts.",
                    "context": {
                        "Context 1": "Your profession as an archaeologist is very interesting.",
                        "Context 2": "The archaeologist discovered ancient pottery during the dig.",
                        "Context 3": "As a child, he dreamed of becoming an archaeologist after watching adventure movies."
                    }
                },
                {
                    "word": "International",
                    "definition": "Existing, occurring, or carried on between nations.",
                    "context": {
                        "Context 1": "English is one of the languages spoken at the international expedition.",
                        "Context 2": "The international conference brought together experts from around the world.",
                        "Context 3": "She enjoys international cuisine and tries dishes from different cultures."
                    }
                },
                {
                    "word": "Specialization",
                    "definition": "The process of focusing on a particular area of study or profession.",
                    "context": {
                        "Context 1": "It's time to progress in my specialization in archaeology.",
                        "Context 2": "His specialization in marine biology led him to study coral reefs.",
                        "Context 3": "She chose a specialization in graphic design for her degree."
                    }
                },
                {
                    "word": "Passive vocabulary",
                    "definition": "Words that a person understands but does not actively use in speech or writing.",
                    "context": {
                        "Context 1": "You forgot some of them, but they are there somewhere in your head as passive vocabulary.",
                        "Context 2": "Her passive vocabulary in Spanish is much larger than her active vocabulary.",
                        "Context 3": "Reading books can help expand your passive vocabulary significantly."
                    }
                },
                {
                    "word": "Nail it",
                    "definition": "To do something perfectly or successfully.",
                    "context": {
                        "Context 1": "You don't need to be focused on nailing it; what's important is that I understand you.",
                        "Context 2": "He really nailed it during his presentation and impressed everyone.",
                        "Context 3": "After weeks of practice, she finally nailed the dance routine."
                    }
                },
                {
                    "word": "Frightening",
                    "definition": "Causing fear or anxiety.",
                    "context": {
                        "Context 1": "It's more exciting than frightening to speak with new people.",
                        "Context 2": "The frightening movie kept everyone on the edge of their seats.",
                        "Context 3": "He found the idea of skydiving both thrilling and frightening."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Excavation",
                    "fact": "Did you know that the world's largest excavation site is in Egypt, where they are still uncovering the secrets of the pyramids?"
                },
                {
                    "word": "Motivation",
                    "fact": "In a study, researchers found that people are more motivated to work out if they wear their workout clothes all day!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the archaeologist break up with their partner?",
                    "answer": "Because they found them too shallow!"
                },
                {
                    "question": "What did one excavation site say to the other?",
                    "answer": "I dig you!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Podcast",
                    "definition": "A digital audio file made available on the Internet for downloading, typically as a series.",
                    "context": {
                        "Context 1": "I love listening to podcasts on various topics during my commute.",
                        "Context 2": "The podcast about ancient history was so engaging that I listened to all the episodes in one day.",
                        "Context 3": "My friend started a podcast where he interviews local artists in our city."
                    }
                },
                {
                    "word": "Translation",
                    "definition": "The process of translating words or text from one language into another.",
                    "context": {
                        "Context 1": "I read the translation of War and Peace before tackling the original text.",
                        "Context 2": "The translation of the poem captured the essence of the original beautifully.",
                        "Context 3": "He struggled with the translation of technical documents for his job."
                    }
                },
                {
                    "word": "Accent",
                    "definition": "A distinctive way of pronouncing a language, often associated with a particular region or social group.",
                    "context": {
                        "Context 1": "I understand the Canadian accent, but some words are pronounced differently.",
                        "Context 2": "Her British accent made her sound very sophisticated at the international conference.",
                        "Context 3": "He practiced his American accent to fit in better during his trip to the U.S."
                    }
                },
                {
                    "word": "Culture",
                    "definition": "The social behavior and norms found in human societies; the arts and other manifestations of human intellectual achievement regarded collectively.",
                    "context": {
                        "Context 1": "He wanted to share his knowledge of French culture with his readers.",
                        "Context 2": "The festival celebrated the rich culture of indigenous peoples from around the world.",
                        "Context 3": "She studied the culture of ancient Rome to understand its influence on modern society."
                    }
                },
                {
                    "word": "Specialization",
                    "definition": "The process of focusing on a particular area of study or work.",
                    "context": {
                        "Context 1": "I am considering a specialization in archaeology for my graduate studies.",
                        "Context 2": "Her specialization in marine biology led her to work on important conservation projects.",
                        "Context 3": "He chose a specialization in graphic design to pursue his passion for art."
                    }
                },
                {
                    "word": "Excavation",
                    "definition": "The process of digging up and removing earth to uncover buried artifacts or structures.",
                    "context": {
                        "Context 1": "Have you ever participated in an excavation site for archaeological research?",
                        "Context 2": "The excavation of the ancient ruins revealed fascinating insights into past civilizations.",
                        "Context 3": "They organized an excavation to find buried treasure from the shipwreck."
                    }
                },
                {
                    "word": "Field",
                    "definition": "An area of study or expertise; also refers to an open land area.",
                    "context": {
                        "Context 1": "My field of expertise is archaeology, particularly in Central Asia.",
                        "Context 2": "The children played in the field behind their house during the summer.",
                        "Context 3": "She decided to change her field of study from engineering to environmental science."
                    }
                },
                {
                    "word": "Motivation",
                    "definition": "The reason or reasons one has for acting or behaving in a particular way.",
                    "context": {
                        "Context 1": "The author's motivation for writing in both Russian and French was to showcase his linguistic skills.",
                        "Context 2": "Her motivation to run a marathon stemmed from a desire to challenge herself.",
                        "Context 3": "He found his motivation to learn a new language after traveling abroad."
                    }
                },
                {
                    "word": "Proficient",
                    "definition": "Competent or skilled in doing or using something.",
                    "context": {
                        "Context 1": "You can get citizenship in France if you are proficient in the French language.",
                        "Context 2": "She is proficient in several programming languages, making her a valuable asset to the tech team.",
                        "Context 3": "After years of practice, he became proficient at playing the piano."
                    }
                },
                {
                    "word": "Enrol",
                    "definition": "To officially register or sign up for a course or program.",
                    "context": {
                        "Context 1": "I have one attempt to enroll in the HD program in French this year.",
                        "Context 2": "She decided to enroll in a cooking class to improve her culinary skills.",
                        "Context 3": "They encourage students to enroll early to secure their spots in popular courses."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Podcast",
                    "fact": "The term 'podcast' is a combination of 'iPod' and 'broadcast,' but you can listen to them on any device!"
                },
                {
                    "word": "Excavation",
                    "fact": "Did you know that some archaeologists use toothbrushes to carefully clean delicate artifacts during excavations?"
                },
                {
                    "word": "Accent",
                    "fact": "There are over 160 different accents in the UK alone, making it a treasure trove for linguists!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the archaeologist break up with their partner?",
                    "answer": "Because they found them too shallow!"
                },
                {
                    "question": "Why did the podcast host bring a ladder to the recording?",
                    "answer": "Because they wanted to reach new heights in their show!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Archaeology",
                    "definition": "The study of human history and prehistory through the excavation of sites and the analysis of artifacts.",
                    "context": {
                        "Context 1": "Archaeology helps us understand ancient civilizations and their cultures.",
                        "Context 2": "He decided to study archaeology after watching a documentary about ancient Egypt.",
                        "Context 3": "The museum has an exhibition dedicated to the archaeology of the Roman Empire."
                    }
                },
                {
                    "word": "Branch",
                    "definition": "A part of a larger organization or system; a division.",
                    "context": {
                        "Context 1": "The main branch of archaeology focuses on academic research.",
                        "Context 2": "The bank has a branch in every major city.",
                        "Context 3": "She decided to pursue a different branch of science after her first year in college."
                    }
                },
                {
                    "word": "Commercial",
                    "definition": "Related to or engaged in commerce; business-related.",
                    "context": {
                        "Context 1": "Commercial archaeology is necessary for construction projects.",
                        "Context 2": "He works in commercial real estate, helping businesses find office space.",
                        "Context 3": "The commercial for the new smartphone features its advanced camera."
                    }
                },
                {
                    "word": "Excavate",
                    "definition": "To dig out and remove earth carefully from an archaeological site.",
                    "context": {
                        "Context 1": "Archaeologists excavate sites to uncover artifacts.",
                        "Context 2": "They plan to excavate the old well in the backyard to see if it still works.",
                        "Context 3": "The construction crew had to excavate the land before laying the foundation."
                    }
                },
                {
                    "word": "Analyze",
                    "definition": "To examine something in detail to understand it better or draw conclusions.",
                    "context": {
                        "Context 1": "They analyze the soil to determine if it is suitable for building.",
                        "Context 2": "The scientist will analyze the data collected from the experiment.",
                        "Context 3": "She likes to analyze the lyrics of her favorite songs for deeper meaning."
                    }
                },
                {
                    "word": "Artifact",
                    "definition": "An object made by a human being, typically an item of cultural or historical interest.",
                    "context": {
                        "Context 1": "The museum displayed ancient artifacts from the excavation.",
                        "Context 2": "He found an old artifact while cleaning out the attic.",
                        "Context 3": "The archaeologists were excited to discover a rare artifact during their dig."
                    }
                },
                {
                    "word": "Site",
                    "definition": "A location where something has happened or is situated, especially an archaeological site.",
                    "context": {
                        "Context 1": "The archaeological site revealed many secrets of the past.",
                        "Context 2": "They chose a scenic site for their wedding ceremony.",
                        "Context 3": "The construction site was buzzing with activity as workers prepared for the new building."
                    }
                },
                {
                    "word": "Research",
                    "definition": "The systematic investigation into and study of materials and sources to establish facts and reach new conclusions.",
                    "context": {
                        "Context 1": "The archaeologist conducted research to understand the historical significance of the site.",
                        "Context 2": "She needs to research her topic thoroughly before writing the paper.",
                        "Context 3": "The research on climate change is critical for future generations."
                    }
                },
                {
                    "word": "Ground",
                    "definition": "The solid surface of the earth; soil or land.",
                    "context": {
                        "Context 1": "They need to analyze the ground before construction can begin.",
                        "Context 2": "The children played on the ground in the park.",
                        "Context 3": "He planted flowers in the ground to beautify his garden."
                    }
                },
                {
                    "word": "Goal",
                    "definition": "The object of a person's ambition or effort; an aim or desired result.",
                    "context": {
                        "Context 1": "Her goal is to complete her archaeology degree with honors.",
                        "Context 2": "His goal is to run a marathon by the end of the year.",
                        "Context 3": "The team's goal is to win the championship this season."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Excavate",
                    "fact": "Did you know that some archaeologists have found ancient pizza ovens? Talk about a slice of history!"
                },
                {
                    "word": "Artifact",
                    "fact": "In 1974, a group of archaeologists discovered a 2,000-year-old artifact that turned out to be a very old pizza box!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the archaeologist break up with their partner?",
                    "answer": "Because they found them too shallow!"
                },
                {
                    "question": "What do you call an archaeologist who’s always late?",
                    "answer": "A time traveler!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just enjoying this nice weather. How about you?"
                },
                {
                    "Person 1": "Same here! I was thinking about going for a hike later. You in?"
                },
                {
                    "Person 2": "Absolutely! I could use some fresh air. Any particular trail in mind?"
                },
                {
                    "Person 1": "Yeah, I was thinking about that one by the lake. It’s got some great views."
                },
                {
                    "Person 2": "Oh, I love that spot! Perfect for some photos too."
                },
                {
                    "Person 1": "For sure! Plus, we can pack some snacks. Can’t hike on an empty stomach!"
                },
                {
                    "Person 2": "Good point! I’ll bring some granola bars and maybe some fruit."
                },
                {
                    "Person 1": "Sounds great! I’ll grab some water and maybe a sandwich."
                },
                {
                    "Person 2": "Awesome! What time do you want to head out?"
                },
                {
                    "Person 1": "How about 3 PM? That way we can catch the sunset."
                },
                {
                    "Person 2": "Perfect! I’ll see you then. Looking forward to it!"
                },
                {
                    "Person 1": "Me too! It’s going to be fun."
                },
                {
                    "Person 2": "Definitely! Alright, see you later!"
                },
                {
                    "Person 1": "See ya!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you been listening to any good podcasts lately?"
                },
                {
                    "Person 2": "Yeah, actually! I've been really into podcasts about different cultures. How about you?"
                },
                {
                    "Person 1": "I love those too! I just started one about French traditions and holidays."
                },
                {
                    "Person 2": "Oh, nice! Speaking of French, have you ever read 'War and Peace'?"
                },
                {
                    "Person 1": "I did back in school! I remember it had a lot of passages in French."
                },
                {
                    "Person 2": "Exactly! I found that so interesting. It made me want to learn French."
                },
                {
                    "Person 1": "Same here! I started translating some of the French parts myself."
                },
                {
                    "Person 2": "That's awesome! I think the author wanted to show off a bit, don’t you?"
                },
                {
                    "Person 1": "Definitely! French was super popular back then."
                },
                {
                    "Person 2": "Right? It’s fascinating how language can connect us to different cultures."
                },
                {
                    "Person 1": "For sure! Do you prefer the French spoken in France or Canada?"
                },
                {
                    "Person 2": "I get the Canadian accent, but some words are pronounced differently."
                },
                {
                    "Person 1": "Yeah, and even in France, there are so many accents!"
                },
                {
                    "Person 2": "True! Sometimes I can’t even understand some French speakers."
                },
                {
                    "Person 1": "It’s all part of the fun of learning a language, though!"
                },
                {
                    "Person 2": "Absolutely! So, what’s your favorite region in France?"
                },
                {
                    "Person 1": "I really like Paris, but I’m curious about the suburbs too."
                },
                {
                    "Person 2": "Nice! I’m thinking about continuing my education in France."
                },
                {
                    "Person 1": "That sounds exciting! What are you planning to study?"
                },
                {
                    "Person 2": "I want to focus on archaeology. It’s a tough field, but I love it."
                },
                {
                    "Person 1": "Wow, that’s impressive! Have you done any excavations?"
                },
                {
                    "Person 2": "Yeah, I’ve been on excavation sites for about five years!"
                },
                {
                    "Person 1": "That’s amazing! Where have you excavated?"
                },
                {
                    "Person 2": "Mostly in South Siberia and Central Asia. It’s my favorite area."
                },
                {
                    "Person 1": "Sounds like a great adventure! I’d love to hear more about it sometime."
                },
                {
                    "Person 2": "Definitely! Let’s grab coffee soon and chat more."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you ever thought about archaeology? Like, what it really involves?"
                },
                {
                    "Person 2": "Yeah, I’ve heard a bit about it. Isn’t it mostly about digging up old stuff?"
                },
                {
                    "Person 1": "Sort of! There are actually different branches. Like, there's academic archaeology and then commercial archaeology."
                },
                {
                    "Person 2": "Commercial archaeology? What’s that about?"
                },
                {
                    "Person 1": "Well, when someone wants to build something, they have to check with archaeologists first. They analyze the land to see if it’s safe to build."
                },
                {
                    "Person 2": "Oh, I get it! So, they make sure there aren’t any ancient ruins or anything under the ground?"
                },
                {
                    "Person 1": "Exactly! They look at the soil and everything to see if the structure will hold up."
                },
                {
                    "Person 2": "That’s pretty interesting! I didn’t know there was so much to it."
                },
                {
                    "Person 1": "Yeah, and then there’s the academic side, where historians focus more on studying specific time periods or cultures."
                },
                {
                    "Person 2": "So, you’re saying they choose a topic and dive deep into it?"
                },
                {
                    "Person 1": "Right! They might look at artifacts or ancient texts to understand how people lived back then."
                },
                {
                    "Person 2": "That sounds fascinating! I’d love to learn more about that."
                },
                {
                    "Person 1": "You should! There are some great documentaries out there that cover both sides."
                },
                {
                    "Person 2": "I’ll have to check those out. Thanks for the info!"
                },
                {
                    "Person 1": "No problem! Let me know what you think after you watch them."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
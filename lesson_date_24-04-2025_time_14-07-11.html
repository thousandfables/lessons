<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I'm a bit of nervous.",
                    "corrected": "I'm a bit nervous.",
                    "explanation": "The phrase 'a bit of' is incorrect here; it should simply be 'a bit' when describing a state of being.",
                    "context": "I'm okay, but I'm a bit nervous. I feel nervous because when I tried to pay for our lessons, I used SMS bank instead of the app."
                },
                {
                    "original": "I pay by SMS.",
                    "corrected": "I paid by SMS.",
                    "explanation": "The verb tense is incorrect; it should be in the past tense 'paid' to match the context of a completed action.",
                    "context": "I feel nervous because when I tried to pay for our lessons, I used SMS bank instead of the app. I paid by SMS."
                },
                {
                    "original": "Because when I changed my phone, app was broken.",
                    "corrected": "Because when I changed my phone, the app was broken.",
                    "explanation": "The article 'the' is missing before 'app'; it should specify which app is being referred to.",
                    "context": "I don't have the app because when I changed my phone, the app was broken. That's why I don't have any time to go and download the app."
                },
                {
                    "original": "I don't need money on this way.",
                    "corrected": "I don't need money this way.",
                    "explanation": "The phrase 'on this way' is incorrect; it should be 'this way' to indicate the method being discussed.",
                    "context": "I had a mistake when I tried to pay for our lessons, and that's why I sent money to my number. I don't need money this way."
                },
                {
                    "original": "I think it was last warm day on this week.",
                    "corrected": "I think it was the last warm day of this week.",
                    "explanation": "The article 'the' is needed before 'last warm day,' and 'on this week' should be 'of this week' to indicate belonging.",
                    "context": "Today is sunny and warm, but I think it was the last warm day of this week. I believe it will get colder."
                },
                {
                    "original": "I forget my coffee, because I... I called... Oh, called... How did it call?",
                    "corrected": "I forgot my coffee because I called... Oh, what is it called?",
                    "explanation": "The verb 'forget' should be in the past tense 'forgot' to indicate a completed action. 'How did it call?' should be 'what is it called?' for correct phrasing.",
                    "context": "I think I saw it. What? I forgot my coffee because I called the Sberbank office. Now my coffee is cold."
                },
                {
                    "original": "I don't like different cold drinks like... Lemonades, lemonades.",
                    "corrected": "I don't like different cold drinks like lemonades.",
                    "explanation": "The repetition of 'lemonades' is unnecessary and should be removed for clarity.",
                    "context": "I don't like cold drinks like lemonades or fizzy drinks. I prefer my drinks to be warm."
                },
                {
                    "original": "I can't drink very... Gaze drinks.",
                    "corrected": "I can't drink very fizzy drinks.",
                    "explanation": "'Gaze drinks' is incorrect; the correct term is 'fizzy drinks' to describe carbonated beverages.",
                    "context": "I can't drink very fizzy drinks. I think they are not tasty."
                },
                {
                    "original": "I need any fizzy drinks.",
                    "corrected": "I don't need any fizzy drinks.",
                    "explanation": "The phrase 'I need any' is incorrect; it should be 'I don't need any' to express a lack of desire.",
                    "context": "I don't like any Coke. I don't need any fizzy drinks. I prefer other beverages."
                },
                {
                    "original": "But I try eat... Eat McDonald's.",
                    "corrected": "But I try to eat McDonald's.",
                    "explanation": "The infinitive 'to eat' is missing after 'try'; it should be 'try to eat' for grammatical correctness.",
                    "context": "I don't like any different brands of fast food, but I try to eat McDonald's very rarely."
                },
                {
                    "original": "I think it's unhealthful.",
                    "corrected": "I think it's unhealthy.",
                    "explanation": "'Unhealthful' is less commonly used; 'unhealthy' is the more standard term to describe food that is not good for health.",
                    "context": "I try to eat fast food very rarely because I think it's unhealthy. I care about my health."
                },
                {
                    "original": "I guess it's right, yeah.",
                    "corrected": "I guess that's right, yeah.",
                    "explanation": "The phrase 'it's right' should be 'that's right' for proper grammatical structure.",
                    "context": "I guessed it. I guess that's right, yeah. I need to recover my daily routine."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I had very bad mood.",
                    "corrected": "I had a very bad mood.",
                    "explanation": "The article 'a' is needed before 'very bad mood' to indicate a specific instance of mood.",
                    "context": "Last week, I was feeling down. I had a very bad mood. It affected my ability to do anything at home."
                },
                {
                    "original": "I had very awful... Awful sleep schedule.",
                    "corrected": "I had a very awful sleep schedule.",
                    "explanation": "The article 'a' is needed before 'very awful sleep schedule' to specify the type of schedule.",
                    "context": "Last week was tough for me. I had a very awful sleep schedule. It made it hard for me to function properly."
                },
                {
                    "original": "I strive to recover.",
                    "corrected": "I'm doing my best to recover.",
                    "explanation": "'I strive to recover' sounds poetic and unnatural; 'I'm doing my best' is more idiomatic.",
                    "context": "I'm really trying to improve my situation. I'm doing my best to recover my sleep schedule. I want to feel better."
                },
                {
                    "original": "I feel myself better.",
                    "corrected": "I feel better.",
                    "explanation": "'Feel myself better' is incorrect; 'feel better' is the proper expression.",
                    "context": "After adjusting my schedule, I noticed some changes. I feel better now. It's a relief."
                },
                {
                    "original": "I don't want it.",
                    "corrected": "I don't want to.",
                    "explanation": "The phrase 'want it' is vague; 'want to' is needed to specify the action.",
                    "context": "I have the option to go to the gym. However, I don't want to. I prefer to relax instead."
                },
                {
                    "original": "I feel that I'm tired to spend a lot of time at this place.",
                    "corrected": "I feel that I'm tired of spending a lot of time at this place.",
                    "explanation": "'Tired to' is incorrect; it should be 'tired of' to indicate fatigue from an action.",
                    "context": "I have commitments that take up my time. I feel that I'm tired of spending a lot of time at this place. It's draining."
                },
                {
                    "original": "I waste my time.",
                    "corrected": "I'm wasting my time.",
                    "explanation": "The present continuous form 'I'm wasting' is more appropriate to express an ongoing action.",
                    "context": "During some activities, I feel frustrated. I'm wasting my time. I wish I could use it more productively."
                },
                {
                    "original": "I can't allow me.",
                    "corrected": "I can't allow myself.",
                    "explanation": "'Allow me' is incorrect; it should be 'allow myself' to indicate personal permission.",
                    "context": "I have a busy schedule. I can't allow myself to take breaks right now. It's not an option for me."
                },
                {
                    "original": "I should have gone yesterday.",
                    "corrected": "I should have gone yesterday.",
                    "explanation": "This sentence is correct but needs context to clarify the speaker's regret.",
                    "context": "Reflecting on my choices, I realize I missed an opportunity. I should have gone yesterday. It would have helped me."
                },
                {
                    "original": "I went to my lessons.",
                    "corrected": "I went to my classes.",
                    "explanation": "'Lessons' is less common; 'classes' is the more appropriate term in this context.",
                    "context": "After the costume fitting, I had to hurry. I went to my classes. I didn't want to be late."
                },
                {
                    "original": "I tried to... To be on time.",
                    "corrected": "I tried to be on time.",
                    "explanation": "The repetition of 'to' is unnecessary; it should be a single 'to be.'",
                    "context": "I was rushing to get there. I tried to be on time. Unfortunately, I ended up being late."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "But on Saturday, we'll bathe the weather.",
                    "corrected": "But on Saturday, we'll check the weather.",
                    "explanation": "'Bathe the weather' is incorrect; 'check the weather' is the appropriate phrase to use when referring to looking at the weather forecast.",
                    "context": "I was discussing our plans for the weekend. But on Saturday, we'll check the weather. I want to make sure it's nice before we go out."
                },
                {
                    "original": "You don't have to convince?",
                    "corrected": "You don't need to convince?",
                    "explanation": "'You don't have to convince' is awkward; 'You don't need to convince' is more idiomatic.",
                    "context": "I was trying to understand if I needed to persuade someone. You don't need to convince? I thought we were all in agreement."
                },
                {
                    "original": "And decided to spend our time very interesting.",
                    "corrected": "And decided to spend our time very interestingly.",
                    "explanation": "'Very interesting' is incorrect; 'very interestingly' is the adverb form needed here.",
                    "context": "We were discussing how we spent our day. And decided to spend our time very interestingly. We wanted to make the most of it."
                },
                {
                    "original": "In another way.",
                    "corrected": "In another way.",
                    "explanation": "The phrase is correct but could be more idiomatic; 'differently' would be a better choice.",
                    "context": "We were talking about how we could approach our day. We wanted to spend the day differently. It was important to do something fun."
                },
                {
                    "original": "It's not worth it.",
                    "corrected": "It's not worth it.",
                    "explanation": "The phrase is correct but could be clarified; 'it's not worth the visit' would be more specific.",
                    "context": "We evaluated the experience we had. It's not worth it. We felt it didn't live up to our expectations."
                },
                {
                    "original": "It's worse than we imagined.",
                    "corrected": "It's worse than we had imagined.",
                    "explanation": "The past perfect 'had imagined' is more appropriate here to indicate a prior expectation.",
                    "context": "Reflecting on our experience, I realized something. It's worse than we had imagined. We thought it would be much better."
                },
                {
                    "original": "Are more easier for pass.",
                    "corrected": "Are easier to pass.",
                    "explanation": "'Are more easier' is incorrect; 'are easier' is sufficient, and 'for pass' should be 'to pass.'",
                    "context": "We were discussing the difficulty of our classes. They are easier to pass. I feel more confident about them now."
                },
                {
                    "original": "I back home every day at the same time.",
                    "corrected": "I go back home every day at the same time.",
                    "explanation": "'I back home' is incorrect; 'I go back home' is the correct phrase.",
                    "context": "I was explaining my daily routine. I go back home every day at the same time. It helps me maintain a schedule."
                },
                {
                    "original": "How can you maintain a healthy sleep schedule if you go, if you return so late?",
                    "corrected": "How can you maintain a healthy sleep schedule if you return home so late?",
                    "explanation": "The phrase is correct but can be simplified; 'if you return home so late' is more direct.",
                    "context": "I was concerned about a friend's late schedule. How can you maintain a healthy sleep schedule if you return home so late? It's important to get enough rest."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "I clean my house when I take mood for this.",
                    "corrected": "I clean my house when I'm in the mood for it.",
                    "explanation": "The phrase 'take mood for this' is incorrect; it should be 'in the mood for it.'",
                    "context": "I have a routine for cleaning my house. I clean my house when I'm in the mood for it. Otherwise, I tend to avoid it."
                },
                {
                    "original": "I was very glad if I had my own chef, which will cook three types of dishes for me every day.",
                    "corrected": "I would be very glad if I had my own chef, who would cook three types of dishes for me every day.",
                    "explanation": "The conditional structure requires 'would' instead of 'was' for hypothetical situations.",
                    "context": "Cooking can be a hassle for me. I would be very glad if I had my own chef, who would cook three types of dishes for me every day. Unfortunately, I don't have that luxury."
                },
                {
                    "original": "I find this way for... This way for eat.",
                    "corrected": "I find this way for eating.",
                    "explanation": "The phrase 'for eat' is incorrect; it should be 'for eating' to use the gerund form.",
                    "context": "I often look for convenient meal options. I find this way for eating quite practical. It saves me time and effort."
                },
                {
                    "original": "I don't like wash... Plates.",
                    "corrected": "I don't like washing dishes.",
                    "explanation": "The phrase 'like wash' is incorrect; it should be 'like washing' to use the gerund form.",
                    "context": "Cleaning up after meals is not enjoyable for me. I don't like washing dishes. It feels like a chore."
                },
                {
                    "original": "I don't have any place for put it.",
                    "corrected": "I don't have any place to put it.",
                    "explanation": "The phrase 'for put it' is incorrect; it should be 'to put it' to indicate purpose.",
                    "context": "Space in my kitchen is limited. I don't have any place to put it. That's why I can't get a dishwasher."
                },
                {
                    "original": "A washing machine can't fly.",
                    "corrected": "A washing machine can't fly.",
                    "explanation": "This sentence is correct but lacks context; it could be clearer.",
                    "context": "In discussing kitchen appliances, I joked about the limitations of a washing machine. A washing machine can't fly, which makes it impractical for my needs."
                },
                {
                    "original": "It's easy for me to... easily for me to wash my three plants by my hand.",
                    "corrected": "It's easy for me to wash my three plants by hand.",
                    "explanation": "The phrase 'by my hand' is incorrect; it should be 'by hand' for idiomatic expression.",
                    "context": "I have a few plants that need care. It's easy for me to wash my three plants by hand. I prefer doing it myself."
                },
                {
                    "original": "Have you watched anything in English recently? Anything in English?",
                    "corrected": "Have you watched anything in English recently?",
                    "explanation": "The repetition of 'Anything in English?' is unnecessary and awkward.",
                    "context": "I was curious about my friend's exposure to English media. Have you watched anything in English recently? It's a good practice."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Nervous",
                    "definition": "Feeling anxious or apprehensive.",
                    "context": {
                        "Context 1": "I felt nervous before my presentation at school.",
                        "Context 2": "The cat looked nervous when it heard the loud noise outside.",
                        "Context 3": "He was nervous about asking his crush out on a date."
                    }
                },
                {
                    "word": "Update",
                    "definition": "To make something more modern or to bring it up to date.",
                    "context": {
                        "Context 1": "You need to update your app to access the new features.",
                        "Context 2": "I like to update my wardrobe every season with new clothes.",
                        "Context 3": "The news station will update viewers on the weather every hour."
                    }
                },
                {
                    "word": "Complicated",
                    "definition": "Consisting of many interconnected parts; not easy to analyze or understand.",
                    "context": {
                        "Context 1": "The instructions for the new software were too complicated for me.",
                        "Context 2": "The plot of the movie was so complicated that I lost track of what was happening.",
                        "Context 3": "Building a model airplane can be complicated if you don't follow the steps carefully."
                    }
                },
                {
                    "word": "Schedule",
                    "definition": "A plan for carrying out a process or procedure, giving lists of intended events and times.",
                    "context": {
                        "Context 1": "I need to schedule a time to download the app.",
                        "Context 2": "She keeps a detailed schedule to manage her busy life.",
                        "Context 3": "The train schedule was delayed due to bad weather."
                    }
                },
                {
                    "word": "Fizzy",
                    "definition": "Containing bubbles of gas; effervescent.",
                    "context": {
                        "Context 1": "I don't like fizzy drinks like Coke and Sprite.",
                        "Context 2": "The fizzy water was refreshing on a hot day.",
                        "Context 3": "He enjoyed the fizzy sensation of the soda as he took a sip."
                    }
                },
                {
                    "word": "Rarely",
                    "definition": "Not occurring very often.",
                    "context": {
                        "Context 1": "I rarely eat fast food because I prefer home-cooked meals.",
                        "Context 2": "She rarely goes to the movies, preferring to watch films at home.",
                        "Context 3": "He rarely travels outside the country due to his busy job."
                    }
                },
                {
                    "word": "Corporation",
                    "definition": "A large company or group of companies authorized to act as a single entity.",
                    "context": {
                        "Context 1": "I accidentally sent money to my corporation's number instead of my own.",
                        "Context 2": "The corporation announced its new sustainability initiative.",
                        "Context 3": "Many corporations are now focusing on remote work options for employees."
                    }
                },
                {
                    "word": "App",
                    "definition": "A software application, especially as downloaded by a user to a mobile device.",
                    "context": {
                        "Context 1": "I don't have the banking app on my phone.",
                        "Context 2": "There’s an app for almost everything these days, from fitness to cooking.",
                        "Context 3": "He downloaded a new game app to play during his commute."
                    }
                },
                {
                    "word": "Mistake",
                    "definition": "An action or judgment that is misguided or wrong.",
                    "context": {
                        "Context 1": "I made a mistake when I sent money to the wrong number.",
                        "Context 2": "She realized her mistake after submitting the test without reviewing it.",
                        "Context 3": "It's common to make mistakes when learning a new language."
                    }
                },
                {
                    "word": "Predicting",
                    "definition": "To say what will happen in the future, often based on experience or knowledge.",
                    "context": {
                        "Context 1": "The weather service is predicting a storm this weekend.",
                        "Context 2": "He enjoys predicting the outcomes of sports games.",
                        "Context 3": "Scientists are predicting significant changes in climate patterns."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Nervous",
                    "fact": "Did you know that some people get so nervous before public speaking that they forget their own names?"
                },
                {
                    "word": "Complicated",
                    "fact": "The word 'complicated' is often used to describe relationships, but did you know that the longest word in English is 'pneumonoultramicroscopicsilicovolcanoconiosis'? Now that's complicated!"
                },
                {
                    "word": "Fizzy",
                    "fact": "Fizzy drinks were originally invented to help with digestion, but now they just help with sugar cravings!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the smartphone go to school?",
                    "answer": "Because it wanted to improve its app-titude!"
                },
                {
                    "question": "Why did the coffee file a police report?",
                    "answer": "It got mugged!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Schedule",
                    "definition": "A plan for carrying out a process or procedure, giving lists of intended events and times.",
                    "context": {
                        "Context 1": "I need to recover my sleep schedule so I can feel better.",
                        "Context 2": "The train schedule was delayed due to bad weather.",
                        "Context 3": "She wrote her daily schedule in her planner to stay organized."
                    }
                },
                {
                    "word": "Chores",
                    "definition": "Routine tasks, especially household tasks.",
                    "context": {
                        "Context 1": "I couldn't do my chores last week because I was too tired.",
                        "Context 2": "He enjoys doing chores like washing the car on weekends.",
                        "Context 3": "The kids were rewarded for completing their chores without complaining."
                    }
                },
                {
                    "word": "Strive",
                    "definition": "To make great efforts to achieve or obtain something.",
                    "context": {
                        "Context 1": "I strive to recover my sleep schedule every week.",
                        "Context 2": "She strives to be the best student in her class.",
                        "Context 3": "They strive for excellence in their sports team."
                    }
                },
                {
                    "word": "Re-establish",
                    "definition": "To restore something to its former state.",
                    "context": {
                        "Context 1": "I want to re-establish my healthy sleeping pattern.",
                        "Context 2": "The organization aims to re-establish trust with the community.",
                        "Context 3": "After the renovation, they hope to re-establish the cafe's popularity."
                    }
                },
                {
                    "word": "Willingly",
                    "definition": "In a willing manner; voluntarily.",
                    "context": {
                        "Context 1": "I don't want to go to the theatre club willingly today.",
                        "Context 2": "She willingly helped her friend move into a new apartment.",
                        "Context 3": "He willingly accepted the challenge to lead the project."
                    }
                },
                {
                    "word": "Upset",
                    "definition": "To make someone unhappy or worried.",
                    "context": {
                        "Context 1": "I feel upset when I waste my time.",
                        "Context 2": "The news of the cancellation upset the fans.",
                        "Context 3": "She was upset about losing her favorite book."
                    }
                },
                {
                    "word": "Frequently",
                    "definition": "Occurring or done many times at short intervals.",
                    "context": {
                        "Context 1": "I do this frequently, and I want a break.",
                        "Context 2": "He frequently visits his grandparents on weekends.",
                        "Context 3": "The store frequently has sales during the holiday season."
                    }
                },
                {
                    "word": "Compulsory",
                    "definition": "Required by law or a rule; obligatory.",
                    "context": {
                        "Context 1": "The classes I have today are compulsory.",
                        "Context 2": "In some countries, education is compulsory until a certain age.",
                        "Context 3": "Wearing a helmet is compulsory when riding a bike in this city."
                    }
                },
                {
                    "word": "Optional",
                    "definition": "Available to be chosen but not obligatory.",
                    "context": {
                        "Context 1": "The theatre club is optional; I can skip it if I want.",
                        "Context 2": "The course has optional modules for students to choose from.",
                        "Context 3": "Bringing a lunch is optional; food will be provided."
                    }
                },
                {
                    "word": "Void",
                    "definition": "A completely empty space; a vacuum.",
                    "context": {
                        "Context 1": "I feel like I'm spending my time in the void when I attend classes I don’t enjoy.",
                        "Context 2": "The void of space is fascinating to scientists.",
                        "Context 3": "He felt a void in his life after moving away from his friends."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Schedule",
                    "fact": "Did you know that in some cultures, the concept of time is so flexible that schedules are often just suggestions?"
                },
                {
                    "word": "Chores",
                    "fact": "In Sweden, there's a tradition called 'städning' where families clean their homes together, making chores a fun family activity!"
                },
                {
                    "word": "Strive",
                    "fact": "The word 'strive' comes from the Old French 'estriver,' meaning to struggle or fight, which is quite fitting for those late-night study sessions!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Convince",
                    "definition": "To persuade someone to do or believe something.",
                    "context": {
                        "Context 1": "You don't have to convince her to go; she already wants to join us.",
                        "Context 2": "He tried to convince his parents to let him stay out late.",
                        "Context 3": "The salesman needed to convince the customer that the product was worth buying."
                    }
                },
                {
                    "word": "Herbal",
                    "definition": "Relating to or made from herbs, especially those used for flavoring, medicine, or fragrance.",
                    "context": {
                        "Context 1": "The herbal garden was filled with plants used for teas and remedies.",
                        "Context 2": "She prefers herbal tea over regular tea because of its health benefits.",
                        "Context 3": "The chef used herbal ingredients to enhance the flavor of the dish."
                    }
                },
                {
                    "word": "Worth it",
                    "definition": "Having value or importance; justifiable.",
                    "context": {
                        "Context 1": "The experience was not worth it; we expected more from the garden.",
                        "Context 2": "After a long hike, reaching the summit was definitely worth it.",
                        "Context 3": "Buying that new phone was worth it because of all its features."
                    }
                },
                {
                    "word": "Imagine",
                    "definition": "To form a mental image or concept of something.",
                    "context": {
                        "Context 1": "I imagined how beautiful the garden would be before visiting.",
                        "Context 2": "Can you imagine living in a world without technology?",
                        "Context 3": "She imagined herself as a famous artist one day."
                    }
                },
                {
                    "word": "Skip",
                    "definition": "To omit or leave out something.",
                    "context": {
                        "Context 1": "We decided to skip our lessons and enjoy the day instead.",
                        "Context 2": "He often skips breakfast because he wakes up late.",
                        "Context 3": "She skipped the line at the concert because she had VIP tickets."
                    }
                },
                {
                    "word": "Paths",
                    "definition": "A way or track laid down for walking or made by continual treading.",
                    "context": {
                        "Context 1": "The herbal garden had several paths to explore different sections.",
                        "Context 2": "They walked along the narrow paths of the forest.",
                        "Context 3": "The city has many bike paths for cyclists."
                    }
                },
                {
                    "word": "Colleagues",
                    "definition": "People with whom one works, especially in a profession or business.",
                    "context": {
                        "Context 1": "Our colleagues were still studying while we enjoyed our day.",
                        "Context 2": "She invited her colleagues to her wedding.",
                        "Context 3": "Colleagues often collaborate on projects to achieve common goals."
                    }
                },
                {
                    "word": "Maintain",
                    "definition": "To keep something in a specified state or condition.",
                    "context": {
                        "Context 1": "It's hard to maintain a healthy sleep schedule with late classes.",
                        "Context 2": "He works hard to maintain his car in good condition.",
                        "Context 3": "The gardener must maintain the plants to keep the garden beautiful."
                    }
                },
                {
                    "word": "Decision",
                    "definition": "A conclusion or resolution reached after consideration.",
                    "context": {
                        "Context 1": "Skipping class was a spontaneous decision we made.",
                        "Context 2": "She had to make a tough decision about her career.",
                        "Context 3": "The committee will announce their decision next week."
                    }
                },
                {
                    "word": "Enjoy",
                    "definition": "To take delight or pleasure in something.",
                    "context": {
                        "Context 1": "We went to the garden to enjoy the warm day.",
                        "Context 2": "He enjoys playing video games in his free time.",
                        "Context 3": "They enjoy traveling to new places every summer."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Herbal",
                    "fact": "The word 'herb' comes from the Latin 'herba,' which means 'grass' or 'green plant.' So, technically, all herbs are just fancy grasses!"
                },
                {
                    "word": "Imagine",
                    "fact": "Did you know that Albert Einstein once said, 'Imagination is more important than knowledge'? So, dreaming is actually a sign of intelligence!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What did one wall say to the other wall?",
                    "answer": "I'll meet you at the corner!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Chores",
                    "definition": "Routine tasks or duties, often related to household maintenance.",
                    "context": {
                        "Context 1": "I have to do my chores before I can relax and watch TV.",
                        "Context 2": "He enjoys doing chores like gardening and cleaning the garage.",
                        "Context 3": "After finishing her chores, she treated herself to a nice dessert."
                    }
                },
                {
                    "word": "Routine",
                    "definition": "A sequence of actions regularly followed; a fixed program.",
                    "context": {
                        "Context 1": "My daily routine includes waking up early and exercising.",
                        "Context 2": "He has a routine for preparing his favorite breakfast every morning.",
                        "Context 3": "The comedian's routine was so funny that the audience couldn't stop laughing."
                    }
                },
                {
                    "word": "Mood",
                    "definition": "A temporary state of mind or feeling.",
                    "context": {
                        "Context 1": "I clean my house when I am in the right mood.",
                        "Context 2": "Her cheerful mood brightened everyone's day at the office.",
                        "Context 3": "He was in a bad mood after losing his favorite game."
                    }
                },
                {
                    "word": "Chef",
                    "definition": "A professional cook, typically the chief cook in a restaurant.",
                    "context": {
                        "Context 1": "I would love to have a chef who cooks for me every day.",
                        "Context 2": "The chef prepared a delicious meal that impressed all the guests.",
                        "Context 3": "She dreams of becoming a chef and opening her own restaurant one day."
                    }
                },
                {
                    "word": "Microwave",
                    "definition": "An electric oven that uses microwaves to cook or heat food.",
                    "context": {
                        "Context 1": "I can warm it up in the microwave for a quick meal.",
                        "Context 2": "He forgot to take the metal bowl out of the microwave, causing a spark.",
                        "Context 3": "The microwave is perfect for reheating leftovers from last night’s dinner."
                    }
                },
                {
                    "word": "Dishwasher",
                    "definition": "A machine for washing dishes automatically.",
                    "context": {
                        "Context 1": "Maybe you need to order a dishwasher to solve your problems with dirty plates.",
                        "Context 2": "The new dishwasher can wash and dry dishes in under an hour.",
                        "Context 3": "She prefers hand-washing her dishes because she believes it cleans them better than a dishwasher."
                    }
                },
                {
                    "word": "Cabinet",
                    "definition": "A cupboard with shelves or drawers for storing items.",
                    "context": {
                        "Context 1": "You can store your dishes in the cabinet above the sink.",
                        "Context 2": "The cabinet in the living room holds all the family photo albums.",
                        "Context 3": "He found an old book hidden in the back of the kitchen cabinet."
                    }
                },
                {
                    "word": "Appliance",
                    "definition": "A device or piece of equipment designed to perform a specific task, typically in the home.",
                    "context": {
                        "Context 1": "You can store kitchen appliances like forks and spoons in the cabinet.",
                        "Context 2": "The latest home appliance trends include smart refrigerators and robotic vacuum cleaners.",
                        "Context 3": "She bought a new appliance that helps her make smoothies in seconds."
                    }
                },
                {
                    "word": "Tasty",
                    "definition": "Having a pleasant flavor; delicious.",
                    "context": {
                        "Context 1": "The frozen lasagna I bought was surprisingly tasty.",
                        "Context 2": "He cooked a tasty meal that everyone enjoyed at the dinner party.",
                        "Context 3": "The bakery is known for its tasty pastries and cakes."
                    }
                },
                {
                    "word": "Order",
                    "definition": "To request something to be made, supplied, or served.",
                    "context": {
                        "Context 1": "I sometimes order food from a restaurant when I don’t feel like cooking.",
                        "Context 2": "She decided to order a new book online instead of going to the store.",
                        "Context 3": "He placed an order for a new phone that was just released."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Chores",
                    "fact": "In some cultures, chores are seen as a rite of passage for children, teaching them responsibility!"
                },
                {
                    "word": "Microwave",
                    "fact": "The microwave oven was invented by accident when a scientist discovered that a chocolate bar melted in his pocket!"
                },
                {
                    "word": "Dishwasher",
                    "fact": "The first dishwasher was invented in 1850 and was hand-cranked, making it more of a workout than a time-saver!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the broom get a promotion?",
                    "answer": "Because it swept everyone off their feet!"
                },
                {
                    "question": "Why did the tomato turn red?",
                    "answer": "Because it saw the salad dressing!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, good afternoon! How's your day going?"
                },
                {
                    "Person 2": "Hey! It's going okay, but I’m a bit nervous about something."
                },
                {
                    "Person 1": "Oh no, what’s got you feeling nervous?"
                },
                {
                    "Person 2": "I tried to pay for our lessons, but I used SMS banking instead of the app on my phone."
                },
                {
                    "Person 1": "You sent a text message to pay? Did it work?"
                },
                {
                    "Person 2": "Yeah, it worked, but I don’t have the app anymore."
                },
                {
                    "Person 1": "Why don’t you have the app?"
                },
                {
                    "Person 2": "When I changed my phone, the app stopped working. I haven’t had time to download it again."
                },
                {
                    "Person 1": "Maybe you just need to update the app?"
                },
                {
                    "Person 2": "I tried that, but it didn’t work. I really don’t know how to fix it."
                },
                {
                    "Person 1": "Have you thought about going to the bank office for help?"
                },
                {
                    "Person 2": "I went there twice already, but it’s still complicated."
                },
                {
                    "Person 1": "At least you didn’t send money to a stranger, right?"
                },
                {
                    "Person 2": "True! I sent it to my own number by mistake."
                },
                {
                    "Person 1": "That’s good! So, what’s the weather like today?"
                },
                {
                    "Person 2": "It’s sunny and warm, but I think it’s going to get colder this weekend."
                },
                {
                    "Person 1": "Yeah, I heard there might be a storm coming soon."
                },
                {
                    "Person 2": "Exactly! Yesterday was nice, but today feels a bit chilly already."
                },
                {
                    "Person 1": "Oh, I just remembered my coffee! I left it sitting there."
                },
                {
                    "Person 2": "Haha, I forgot mine too! I guess we’re both having cold coffee."
                },
                {
                    "Person 1": "I’m not a fan of cold coffee. I prefer it hot."
                },
                {
                    "Person 2": "Same here! I don’t like fizzy drinks either."
                },
                {
                    "Person 1": "Really? I love Diet Coke, but I get that it’s not for everyone."
                },
                {
                    "Person 2": "I just can’t stand the taste of any fizzy drinks."
                },
                {
                    "Person 1": "That’s interesting! Do you like fast food at all?"
                },
                {
                    "Person 2": "Only McDonald's, but I try to eat fast food rarely."
                },
                {
                    "Person 1": "That’s smart! It’s good to be mindful about health."
                },
                {
                    "Person 2": "Yeah, I take vitamins every day to stay healthy."
                },
                {
                    "Person 1": "That’s great! It sounds like you really care about your health."
                },
                {
                    "Person 2": "I try to, but I also want to recover my daily routine."
                },
                {
                    "Person 1": "Sounds like a plan! Let’s both work on that."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to get my sleep schedule back on track."
                },
                {
                    "Person 1": "Oh man, I totally get that. I had a rough week too. I was staying up way too late."
                },
                {
                    "Person 2": "Yeah, same here! I was in such a bad mood because I couldn't get anything done."
                },
                {
                    "Person 1": "Right? I felt so unproductive. I couldn't even tackle my chores."
                },
                {
                    "Person 2": "Exactly! So, what are you doing to fix it?"
                },
                {
                    "Person 1": "I’m trying to go to bed by midnight and wake up around 10 AM. How about you?"
                },
                {
                    "Person 2": "I’m aiming for the same! But I keep getting distracted by my phone."
                },
                {
                    "Person 1": "Ugh, that’s the worst! I keep telling myself, 'Just one more video,' and then two hours later…"
                },
                {
                    "Person 2": "Haha, I know that feeling! I need to set some limits for myself."
                },
                {
                    "Person 1": "Definitely! Maybe we should challenge each other to stick to it."
                },
                {
                    "Person 2": "That sounds like a plan! But what if we forget and end up scrolling again?"
                },
                {
                    "Person 1": "Then we just start fresh the next day! No pressure."
                },
                {
                    "Person 2": "Agreed! So, what else is new with you?"
                },
                {
                    "Person 1": "Not much, just busy with classes. How about you?"
                },
                {
                    "Person 2": "Same here! I have a theater club meeting later. It’s fun, but sometimes it feels like a lot."
                },
                {
                    "Person 1": "I can imagine! Do you enjoy it, or is it more of a chore?"
                },
                {
                    "Person 2": "Honestly, it’s a mix. I like it, but sometimes I feel like I’m wasting time when I’m really tired."
                },
                {
                    "Person 1": "Yeah, that’s tough. Balancing everything can be hard."
                },
                {
                    "Person 2": "For sure! But I guess we just have to keep pushing through."
                },
                {
                    "Person 1": "Absolutely! Let’s keep each other motivated!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new herbal garden that opened up downtown?"
                },
                {
                    "Person 2": "Yeah, I did! I’ve been wanting to check it out. Have you been yet?"
                },
                {
                    "Person 1": "Not yet, but I was thinking of going this weekend. The weather is supposed to be nice."
                },
                {
                    "Person 2": "Oh, that sounds great! I love spending time outdoors, especially when it’s warm."
                },
                {
                    "Person 1": "Same here! I heard they have all kinds of plants and little paths to walk through."
                },
                {
                    "Person 2": "That sounds so relaxing. Do you think it’ll be crowded?"
                },
                {
                    "Person 1": "Maybe a little, but I think it’ll be worth it. Plus, I need a break from studying."
                },
                {
                    "Person 2": "Totally! Sometimes you just need to step away and enjoy nature."
                },
                {
                    "Person 1": "Exactly! And I heard there’s a cute café nearby too."
                },
                {
                    "Person 2": "Perfect! We can grab some coffee after exploring the garden."
                },
                {
                    "Person 1": "Sounds like a plan! Should we invite anyone else?"
                },
                {
                    "Person 2": "Yeah, maybe we can ask Sarah. She loves plants."
                },
                {
                    "Person 1": "Good idea! I’ll text her and see if she’s free."
                },
                {
                    "Person 2": "Awesome! I can’t wait to check it out."
                },
                {
                    "Person 1": "Me too! It’ll be a nice way to spend the day."
                },
                {
                    "Person 2": "Definitely! Let’s make it happen!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to get my chores done. You know how it is."
                },
                {
                    "Person 1": "Oh, for sure! What kind of chores are we talking about?"
                },
                {
                    "Person 2": "Just the usual stuff—cleaning, washing dishes. I swear, it never ends!"
                },
                {
                    "Person 1": "Tell me about it! I always put off cleaning until I’m in the right mood."
                },
                {
                    "Person 2": "Exactly! And cooking can be a hassle too. I wish I had a personal chef."
                },
                {
                    "Person 1": "Right? That would be amazing! But for now, I just grab some quick meals from the store."
                },
                {
                    "Person 2": "Same here! I bought some frozen lasagna the other day. Just heat it up, and it's ready to go."
                },
                {
                    "Person 1": "That’s the way to do it! I can’t stand spending too much time in the kitchen."
                },
                {
                    "Person 2": "Agreed! And washing dishes by hand is the worst."
                },
                {
                    "Person 1": "Do you have a dishwasher?"
                },
                {
                    "Person 2": "Nope, just my hands. It’s such a pain!"
                },
                {
                    "Person 1": "I feel you! Maybe you should get a dishwasher?"
                },
                {
                    "Person 2": "I would love to, but I don’t have space for it in my kitchen."
                },
                {
                    "Person 1": "That’s a bummer. It would make life so much easier."
                },
                {
                    "Person 2": "For sure! Anyway, have you watched anything interesting lately?"
                },
                {
                    "Person 1": "Not really. I should probably catch up on some shows this weekend."
                },
                {
                    "Person 2": "Yeah, it’s a great way to practice listening in English!"
                },
                {
                    "Person 1": "Definitely! I’ll try to find some time for that."
                },
                {
                    "Person 2": "Awesome! Let’s catch up next week and see what we watched."
                },
                {
                    "Person 1": "Sounds good! See you then!"
                },
                {
                    "Person 2": "Bye! Have a great day!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
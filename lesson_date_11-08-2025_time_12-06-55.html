<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "my level always has always been as B1 maybe B1 plus but not B2",
                    "corrected": "my level has always been B1, maybe B1 plus, but not B2.",
                    "explanation": "The phrase 'always has always been' is redundant; it should be 'has always been.' Additionally, 'as B1' should be corrected to 'B1.'",
                    "context": "I started learning English at a young age. My level has always been B1, maybe B1 plus, but not B2. I want to improve to apply for foreign universities."
                },
                {
                    "original": "I can't improve my English for B2 or C1",
                    "corrected": "I can't improve my English to B2 or C1.",
                    "explanation": "'For' is incorrect here; 'to' should be used to indicate the target level of proficiency.",
                    "context": "I've been studying English for years. I can't improve my English to B2 or C1. I feel stuck at my current level."
                },
                {
                    "original": "I will be in next year I will finish university",
                    "corrected": "I will be in university next year; I will finish.",
                    "explanation": "The phrase is jumbled; it should clearly state the timeline and include a semicolon for better structure.",
                    "context": "I'm currently studying at university. I will be in university next year; I will finish. After that, I plan to apply for a master's program."
                },
                {
                    "original": "I know that I'm I not speak like a native",
                    "corrected": "I know that I do not speak like a native.",
                    "explanation": "The phrase 'I'm I not speak' is incorrect; it should be 'I do not speak.'",
                    "context": "I understand English fairly well. I know that I do not speak like a native. However, I can comprehend speech and texts quite well."
                },
                {
                    "original": "I may I question one word?",
                    "corrected": "May I ask a question about one word?",
                    "explanation": "The structure is incorrect; it should be 'May I ask' instead of 'I may I question.'",
                    "context": "During our discussion, I wanted to clarify something. May I ask a question about one word? I need to understand it better."
                },
                {
                    "original": "that's now little hard for me their sights in English",
                    "corrected": "that's a little hard for me; their sites are in English.",
                    "explanation": "The phrase is unclear; it should be 'that's a little hard for me' and 'their sites are in English' for clarity.",
                    "context": "I'm trying to gather information about universities. That's a little hard for me; their sites are in English, and I struggle with the language."
                },
                {
                    "original": "I practiced with practice it became easier",
                    "corrected": "I practiced, and it became easier.",
                    "explanation": "The phrase is repetitive; it should be simplified to 'I practiced, and it became easier.'",
                    "context": "When I first started speaking English with friends, it was challenging. I practiced, and it became easier. Now, I feel more confident."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I don't agree and disagree with the statement because first of all we need sotsu and communication.",
                    "corrected": "I both agree and disagree with the statement because, first of all, we need socialization and communication.",
                    "explanation": "The phrase 'I don't agree and disagree' is contradictory; 'I both agree and disagree' is clearer. Additionally, 'sotsu' is likely a typo or mispronunciation of 'socialization.'",
                    "context": "In discussing the importance of communication, I both agree and disagree with the statement. First of all, we need socialization and communication to thrive."
                },
                {
                    "original": "we are humans we are humans we are creatures which need to communicate each other communicate teach some experience.",
                    "corrected": "We are humans; we are creatures that need to communicate with each other and share experiences.",
                    "explanation": "The repetition of 'we are humans' is unnecessary. 'Communicate each other' should be 'communicate with each other,' and 'teach some experience' is awkward; 'share experiences' is more idiomatic.",
                    "context": "As humans, we are creatures that need to communicate with each other and share experiences. This interaction is vital for our development."
                },
                {
                    "original": "we don't teach we don't get only university skills and knowledges.",
                    "corrected": "We don't only gain university skills and knowledge.",
                    "explanation": "'Teach' is incorrect in this context; 'gain' is more appropriate. 'Knowledges' is not a standard plural; 'knowledge' is uncountable.",
                    "context": "At university, we don't only gain university skills and knowledge. We also learn valuable life skills from our peers."
                },
                {
                    "original": "when we communicate like that why is this way we don't see emotions of our opponent.",
                    "corrected": "When we communicate like that, we don't see the emotions of our opponent.",
                    "explanation": "The phrase 'why is this way' is awkward and unnecessary. The sentence should be restructured for clarity.",
                    "context": "When we communicate online, we don't see the emotions of our opponent. This lack of emotional connection can hinder effective communication."
                },
                {
                    "original": "we are how to say limited we are too limited in online communication.",
                    "corrected": "We are, how to say, limited; we are too limited in online communication.",
                    "explanation": "The phrase 'we are how to say limited' is awkward; it should be restructured for clarity. The semicolon helps separate the two related thoughts.",
                    "context": "We are, how to say, limited; we are too limited in online communication. This affects how we interact with others."
                },
                {
                    "original": "the main idea should be that in traditional setting in a traditional university we can communicate in a way that we don't really have when we're studying online.",
                    "corrected": "The main idea should be that in a traditional setting, such as a university, we can communicate in ways that we don't have when studying online.",
                    "explanation": "The phrase 'in traditional setting in a traditional university' is repetitive; 'in a traditional setting, such as a university' is clearer. 'In a way that we don't really have' should be simplified.",
                    "context": "The main idea should be that in a traditional setting, such as a university, we can communicate in ways that we don't have when studying online. This difference is crucial to understand."
                },
                {
                    "original": "your idea is not very clear from the explanation part.",
                    "corrected": "Your idea is not very clear from the explanation section.",
                    "explanation": "'Part' is less formal than 'section,' which is more appropriate in an academic context.",
                    "context": "Your idea is not very clear from the explanation section. We need to clarify it to ensure the examiner understands."
                },
                {
                    "original": "you better come up with the real ones because they really because what happens when you imagine examples.",
                    "corrected": "You should come up with real examples because what happens when you imagine examples.",
                    "explanation": "'You better' is informal; 'you should' is more appropriate. The repetition of 'really' is unnecessary.",
                    "context": "You should come up with real examples because what happens when you imagine examples is often less effective."
                },
                {
                    "original": "did you think maybe of someone or some situation maybe you had or your friends had.",
                    "corrected": "Did you think of someone or some situation that you or your friends have experienced?",
                    "explanation": "The structure is awkward; it should be rephrased for clarity. 'Maybe you had or your friends had' is redundant.",
                    "context": "Did you think of someone or some situation that you or your friends have experienced? Real-life examples can strengthen your argument."
                },
                {
                    "original": "this 12 year old boy did he was his lack of friends.",
                    "corrected": "This 12-year-old boy has a lack of friends.",
                    "explanation": "The sentence structure is incorrect; it should be rephrased for clarity. 'Did he was' is grammatically incorrect.",
                    "context": "This 12-year-old boy has a lack of friends. His situation highlights the importance of communication in building relationships."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "was the reason for that because he did not do anything with his hands now I hadn't yeah so what we are what a good explanation and a good developed idea is is when we take one only one aspect but our full body paragraph our full explanation example is about developing this this one aspect for example compare what is better to say for example what's your favorite drink yeah I'm drinking zero cola coke diet coke yeah and I'm saying well my favorite drinks are milk diet coke I sometimes drink water and the milkshake yeah compare it with well I really like drinking diet coke because that boosts my energy and another reason is that it contains much less sugar and that's good for my health and this way I shouldn't be worried about having diabetes which answer feels more academic the second why if one the one answer and explained it fully with a lot of examples and no no no no no I mean in English oh okay it is better because it shows depth because I'm showing to the examiner that I can talk about one subject but in depth and when you're you start talking about something in depth you are naturally start using words that are high level but you're not a lot of students for example they learned the word diabetes yeah this is the disease or they learned the word advancements or the word I don't know any word in the thing okay so I will now put it somewhere in my essay and just because I put it in my essay I will gain marks for lexical resource the thing is that you don't gain marks if you use something if it's forced if it's not nature on the context yeah but when you're developing the idea in depth fully you start using this word naturally because now I need to talk about diet coke and its advantages okay so how is it it contains less sugar the word contains here very natural yeah I'm not facing the risk of like the risk for diabetes is much lower I'm showing that I know the expression risk is lower I know the word diabetes yeah and this is how because this is academic formal essay",
                    "corrected": "The reason for that is that he did not do anything with his hands. Now, I hadn't... So, what a good explanation and a well-developed idea is, is when we take only one aspect, but our full body paragraph, our full explanation, example is about developing this one aspect.",
                    "explanation": "The original sentence is overly complicated and lacks clarity. It should be simplified and structured better to convey the idea more effectively.",
                    "context": "In discussing effective writing, I mentioned that a good explanation focuses on one clear aspect. The reason for that is that he did not do anything with his hands. Now, I hadn't thought about how to structure my ideas clearly."
                },
                {
                    "original": "compare it with well I really like drinking diet coke because that boosts my energy and another reason is that it contains much less sugar and that's good for my health and this way I shouldn't be worried about having diabetes which answer feels more academic the second why if one the one answer and explained it fully with a lot of examples and no no no no no I mean in English",
                    "corrected": "Compare it with, 'Well, I really like drinking diet coke because it boosts my energy. Another reason is that it contains much less sugar, which is good for my health. This way, I shouldn't be worried about having diabetes.' Which answer feels more academic? The second one. Why? Because the answer is explained fully with a lot of examples.",
                    "explanation": "The original sentence is a run-on and lacks proper punctuation. It should be broken into smaller sentences for clarity.",
                    "context": "When comparing responses, I pointed out that a more detailed answer is better. Compare it with, 'Well, I really like drinking diet coke because it boosts my energy.' This way, I can show depth in my explanation."
                },
                {
                    "original": "the thing is that you don't gain marks if you use something if it's forced if it's not nature on the context",
                    "corrected": "The thing is that you don't gain marks if you use something that is forced or not natural in the context.",
                    "explanation": "The phrase 'not nature on the context' is incorrect; it should be 'not natural in the context.'",
                    "context": "I explained that using vocabulary incorrectly won't help your score. The thing is that you don't gain marks if you use something that is forced or not natural in the context."
                },
                {
                    "original": "and this is how because this is academic formal essay uh-huh so here your explanation should correspond with your example maybe by the way let's first write the example and then think how we can how we can correct our explanation make it better",
                    "corrected": "And this is how, because this is an academic formal essay. So here, your explanation should correspond with your example. Maybe, by the way, let's first write the example and then think about how we can correct our explanation to make it better.",
                    "explanation": "The original sentence lacks punctuation and clarity, making it difficult to follow. It should be broken into clearer segments.",
                    "context": "In discussing essay writing, I emphasized the importance of aligning explanations with examples. And this is how, because this is an academic formal essay."
                },
                {
                    "original": "that's how to communicate with real people what do you mean by that in my school he communicates with digital avatars with not real people with AI",
                    "corrected": "That's how to communicate with real people. What do you mean by that? In my school, he communicates with digital avatars, not real people, with AI.",
                    "explanation": "The original sentence is confusing and lacks proper punctuation. It should be separated into clearer sentences.",
                    "context": "I was explaining the difference between real and virtual interactions. That's how to communicate with real people. What do you mean by that?"
                },
                {
                    "original": "okay may I stay about his class group but I don't know personally I mean okay let's say in Russia are there many people like him in Russia I think yes",
                    "corrected": "Okay, may I talk about his class group? But I don't know him personally. I mean, okay, let's say in Russia, are there many people like him? I think yes.",
                    "explanation": "The original sentence is a run-on and lacks proper punctuation, making it hard to follow. It should be broken into smaller sentences.",
                    "context": "In discussing examples, I wanted to clarify my thoughts. Okay, may I talk about his class group? But I don't know him personally."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "I want to make this wrong but I need to read simple you know",
                    "corrected": "I want to make this right but I need to read simply, you know.",
                    "explanation": "The phrase 'make this wrong' should be 'make this right' to convey the correct intention. 'Read simple' should be 'read simply' as 'simply' is the correct adverb form.",
                    "context": "I want to ensure my understanding is correct. I want to make this right but I need to read simply, you know. It's important to clarify my thoughts."
                },
                {
                    "original": "I write about about skills in explain",
                    "corrected": "I write about skills in my explanation.",
                    "explanation": "The phrase 'about about' contains a repetition error. The sentence also needs 'my' to clarify ownership of the explanation.",
                    "context": "I want to express my thoughts clearly. I write about skills in my explanation. This helps me articulate my ideas better."
                },
                {
                    "original": "we are limited to make new friends",
                    "corrected": "we are limited in making new friends.",
                    "explanation": "'Limited to make' should be 'limited in making' to correctly use the preposition with the gerund form.",
                    "context": "I feel restricted in my social interactions. We are limited in making new friends. It's challenging to connect with others."
                },
                {
                    "original": "I don't know how to say you know be open to words not be afraid of you people",
                    "corrected": "I don't know how to say, you know, to be open with words and not be afraid of people.",
                    "explanation": "The phrase 'be open to words' is awkward; it should be 'to be open with words.' The sentence also needs proper punctuation for clarity.",
                    "context": "I'm trying to express my thoughts. I don't know how to say, you know, to be open with words and not be afraid of people. It's important to communicate freely."
                },
                {
                    "original": "you just need to study together with a lot of people student",
                    "corrected": "you just need to study together with a lot of students.",
                    "explanation": "The word 'student' should be pluralized to 'students' to match the context of studying with multiple people.",
                    "context": "In a traditional classroom, the environment is different. You just need to study together with a lot of students. This fosters interaction."
                },
                {
                    "original": "you don't really interact not supposed to interact with your classmates",
                    "corrected": "you don't really interact; you're not supposed to interact with your classmates.",
                    "explanation": "The sentence lacks proper punctuation and the phrase should include 'you're' to clarify the subject.",
                    "context": "In an online setting, the dynamics change. You don't really interact; you're not supposed to interact with your classmates. This limits social engagement."
                },
                {
                    "original": "you also you also you don't really you can't do really much apart from talking",
                    "corrected": "you also can't really do much apart from talking.",
                    "explanation": "The repetition of 'you also' is unnecessary. The phrase should be simplified for clarity.",
                    "context": "During school breaks, the opportunities are limited. You also can't really do much apart from talking. This affects relationship building."
                },
                {
                    "original": "does it feel convincing here? Does it feel not convincing but connected with what you said previously?",
                    "corrected": "Does it feel convincing here? Does it feel connected with what you said previously?",
                    "explanation": "The phrase 'not convincing' is awkward and should be omitted for clarity.",
                    "context": "I'm trying to gauge understanding. Does it feel convincing here? Does it feel connected with what you said previously? It's important to ensure coherence."
                },
                {
                    "original": "there is no connection.",
                    "corrected": "There is no connection.",
                    "explanation": "The original sentence is correct but lacks context. It needs to be integrated into a larger thought.",
                    "context": "I'm analyzing the relationship between ideas. There is no connection. I need to find a way to link them effectively."
                },
                {
                    "original": "this is cause and effect relationship.",
                    "corrected": "This is a cause-and-effect relationship.",
                    "explanation": "The phrase should include 'a' and hyphens to correctly describe the relationship.",
                    "context": "I'm identifying patterns in communication. This is a cause-and-effect relationship. It helps clarify the impact of social interactions."
                },
                {
                    "original": "what is writing like? It's the most important, the most difficult part of the aisles.",
                    "corrected": "What is writing like? It's the most important and the most difficult part of the IELTS.",
                    "explanation": "'Aisles' is incorrect; it should be 'IELTS,' referring to the exam. The conjunction 'and' is needed for clarity.",
                    "context": "I'm reflecting on the challenges of writing. What is writing like? It's the most important and the most difficult part of the IELTS. Mastery is crucial for success."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Journey",
                    "definition": "The act of traveling from one place to another; a process of personal change and development.",
                    "context": {
                        "Context 1": "My English learning journey started when I was six years old.",
                        "Context 2": "The journey to the mountain took us three days and two nights.",
                        "Context 3": "Life is a journey filled with ups and downs."
                    }
                },
                {
                    "word": "Proficient",
                    "definition": "Competent or skilled in doing or using something.",
                    "context": {
                        "Context 1": "Even those who are very proficient in English can struggle with writing.",
                        "Context 2": "She is proficient in three languages: Spanish, French, and German.",
                        "Context 3": "To be proficient in cooking, you need to practice regularly."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event, statement, or idea.",
                    "context": {
                        "Context 1": "I could guess the meanings of some words from the context.",
                        "Context 2": "In the context of the meeting, his comments were very relevant.",
                        "Context 3": "Understanding the historical context of a novel can enhance your reading experience."
                    }
                },
                {
                    "word": "Evaluate",
                    "definition": "To assess or appraise the quality, importance, or value of something.",
                    "context": {
                        "Context 1": "I really like the concept of evaluating your levels in English.",
                        "Context 2": "Teachers often evaluate students' performance through tests and assignments.",
                        "Context 3": "It's important to evaluate your options before making a decision."
                    }
                },
                {
                    "word": "Score",
                    "definition": "A numerical expression of a person's performance or achievement.",
                    "context": {
                        "Context 1": "My reading score was 23 out of 40.",
                        "Context 2": "The basketball game ended with a score of 102 to 98.",
                        "Context 3": "She received a perfect score on her math exam."
                    }
                },
                {
                    "word": "Comfortable",
                    "definition": "In a state of physical or mental ease; free from stress or anxiety.",
                    "context": {
                        "Context 1": "Do you think you will feel comfortable being around native speakers?",
                        "Context 2": "He made himself comfortable on the couch with a blanket.",
                        "Context 3": "She felt comfortable sharing her thoughts in the group discussion."
                    }
                },
                {
                    "word": "Task",
                    "definition": "A piece of work to be done or undertaken.",
                    "context": {
                        "Context 1": "You need to write a formal essay when tasked with the IELTS writing part.",
                        "Context 2": "The task of cleaning the house took all day.",
                        "Context 3": "Completing the project was a challenging task for the team."
                    }
                },
                {
                    "word": "Native speaker",
                    "definition": "A person who has spoken a particular language since early childhood.",
                    "context": {
                        "Context 1": "I practiced with native speakers to improve my English.",
                        "Context 2": "As a native speaker of French, she found it easy to learn Spanish.",
                        "Context 3": "Native speakers often have a better understanding of idiomatic expressions."
                    }
                },
                {
                    "word": "Formal",
                    "definition": "Following established conventions or rules; serious in tone.",
                    "context": {
                        "Context 1": "You need to write a formal essay for the IELTS exam.",
                        "Context 2": "The wedding invitation was very formal, with elegant calligraphy.",
                        "Context 3": "He wore a formal suit to the job interview."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement of and relations between the parts or elements of something complex.",
                    "context": {
                        "Context 1": "Understanding the structure of an essay is crucial for writing well.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "A good story has a clear structure with a beginning, middle, and end."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Journey",
                    "fact": "Did you know that the longest journey ever made by a single person was 1,000 days around the world? Talk about a long vacation!"
                },
                {
                    "word": "Proficient",
                    "fact": "The word 'proficient' comes from Latin, meaning 'to be able.' So, if you're proficient, you can do itâ€”just like a superhero!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the English book go to school?",
                    "answer": "Because it wanted to improve its grammar!"
                },
                {
                    "question": "What do you call a grammar teacher who goes to jail?",
                    "answer": "A punctuator!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Communication",
                    "definition": "The act of conveying information or expressing thoughts and feelings.",
                    "context": {
                        "Context 1": "Effective communication is essential for teamwork and collaboration.",
                        "Context 2": "The communication between the two countries improved after the summit.",
                        "Context 3": "He struggled with communication because he was shy and introverted."
                    }
                },
                {
                    "word": "Socialization",
                    "definition": "The process of interacting with others to develop social skills and relationships.",
                    "context": {
                        "Context 1": "Socialization is crucial for personal development in a university setting.",
                        "Context 2": "Dogs require socialization to get along well with other pets.",
                        "Context 3": "Socialization can occur through various activities, including sports and clubs."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "Knowledge or skill acquired through involvement in or exposure to an event or activity.",
                    "context": {
                        "Context 1": "Students gain valuable experience through internships and group projects.",
                        "Context 2": "Traveling abroad provided her with a unique cultural experience.",
                        "Context 3": "His experience as a chef helped him create delicious recipes."
                    }
                },
                {
                    "word": "Explanation",
                    "definition": "A statement or account that makes something clear or understandable.",
                    "context": {
                        "Context 1": "The teacher provided a thorough explanation of the assignment.",
                        "Context 2": "Her explanation of the scientific theory was clear and concise.",
                        "Context 3": "He gave an explanation for why he was late to the meeting."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "Understanding different perspectives can enhance discussions.",
                        "Context 2": "From her perspective, the movie was a masterpiece.",
                        "Context 3": "He changed his perspective after traveling to different countries."
                    }
                },
                {
                    "word": "Flexibility",
                    "definition": "The quality of being adaptable or variable; the ability to change or be changed.",
                    "context": {
                        "Context 1": "Flexibility in thinking is important when solving complex problems.",
                        "Context 2": "Yoga helps improve physical flexibility and overall health.",
                        "Context 3": "The company's flexibility in scheduling made it easier for employees to balance work and life."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern used to illustrate a concept or idea.",
                    "context": {
                        "Context 1": "Providing a clear example can help clarify your argument.",
                        "Context 2": "He used a historical example to support his thesis.",
                        "Context 3": "The teacher asked for an example of a famous artist."
                    }
                },
                {
                    "word": "Debate",
                    "definition": "A formal discussion on a particular topic where opposing arguments are put forward.",
                    "context": {
                        "Context 1": "The students participated in a debate about climate change.",
                        "Context 2": "Their debate over the best pizza toppings became quite heated.",
                        "Context 3": "The debate team practiced every week to prepare for the competition."
                    }
                },
                {
                    "word": "Limited",
                    "definition": "Restricted in size, amount, or extent; not allowing for much variation.",
                    "context": {
                        "Context 1": "Online communication can be limited compared to face-to-face interactions.",
                        "Context 2": "The store had a limited selection of products during the sale.",
                        "Context 3": "His time for studying was limited due to his busy schedule."
                    }
                },
                {
                    "word": "Skills",
                    "definition": "The ability to do something well, typically gained through training or experience.",
                    "context": {
                        "Context 1": "Developing communication skills is essential for career success.",
                        "Context 2": "She learned many new skills while volunteering at the shelter.",
                        "Context 3": "Cooking skills can be improved with practice and experimentation."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Communication",
                    "fact": "Did you know that the average person spends about 60% of their waking hours communicating?"
                },
                {
                    "word": "Socialization",
                    "fact": "In some cultures, socialization involves greeting with a kiss on the cheek, while in others, a firm handshake is the norm!"
                },
                {
                    "word": "Flexibility",
                    "fact": "The most flexible animal is the octopus, which can squeeze through tiny spaces thanks to its lack of bones!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of anxiety!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Diabetes",
                    "definition": "A chronic disease that occurs when the body cannot effectively use insulin, leading to high blood sugar levels.",
                    "context": {
                        "Context 1": "Diabetes can be managed with a healthy diet and regular exercise.",
                        "Context 2": "After eating too much candy, he joked that he might develop diabetes.",
                        "Context 3": "The doctor explained that diabetes is more common in people with a family history of the disease."
                    }
                },
                {
                    "word": "Advancements",
                    "definition": "Progress or improvements in a particular field or area.",
                    "context": {
                        "Context 1": "Recent advancements in technology have changed the way we communicate.",
                        "Context 2": "The advancements in his cooking skills were evident during the dinner party.",
                        "Context 3": "She was excited about the advancements in her favorite video game series."
                    }
                },
                {
                    "word": "Contain",
                    "definition": "To have something within; to include.",
                    "context": {
                        "Context 1": "Diet Coke contains less sugar than regular soda.",
                        "Context 2": "The box contains all the materials needed for the project.",
                        "Context 3": "Her backpack contained everything she needed for the camping trip."
                    }
                },
                {
                    "word": "Depth",
                    "definition": "The quality of being deep; complexity or profundity.",
                    "context": {
                        "Context 1": "The depth of her analysis impressed the professor.",
                        "Context 2": "The depth of the swimming pool is perfect for diving.",
                        "Context 3": "He appreciated the depth of flavor in the homemade soup."
                    }
                },
                {
                    "word": "Convincing",
                    "definition": "Capable of causing someone to believe that something is true or real.",
                    "context": {
                        "Context 1": "Her argument was so convincing that everyone agreed with her.",
                        "Context 2": "The magician's tricks were convincing enough to leave the audience in awe.",
                        "Context 3": "He gave a convincing performance in the school play."
                    }
                },
                {
                    "word": "Representative",
                    "definition": "Serving as a typical example or representative of a group.",
                    "context": {
                        "Context 1": "The survey included a representative sample of the population.",
                        "Context 2": "She was chosen as the representative for her class at the student council.",
                        "Context 3": "The painting is a representative work of the artist's early style."
                    }
                },
                {
                    "word": "Lonely",
                    "definition": "Feeling sad because one has no friends or company.",
                    "context": {
                        "Context 1": "Many teenagers feel lonely when they study online.",
                        "Context 2": "The lonely dog waited by the door for its owner to return.",
                        "Context 3": "He wrote a song about feeling lonely during the winter months."
                    }
                },
                {
                    "word": "Communication",
                    "definition": "The act of sharing or exchanging information, ideas, or feelings.",
                    "context": {
                        "Context 1": "Effective communication is key to successful teamwork.",
                        "Context 2": "She used sign language as a form of communication.",
                        "Context 3": "The communication between the two countries improved after the summit."
                    }
                },
                {
                    "word": "Aspect",
                    "definition": "A particular part or feature of something.",
                    "context": {
                        "Context 1": "One important aspect of writing is clarity.",
                        "Context 2": "The aspect of the movie that stood out was the cinematography.",
                        "Context 3": "She considered every aspect of her plan before presenting it."
                    }
                },
                {
                    "word": "Digital Avatar",
                    "definition": "A virtual representation of a user, often used in online environments.",
                    "context": {
                        "Context 1": "He prefers to communicate with his digital avatar rather than face-to-face.",
                        "Context 2": "In the game, players can customize their digital avatar to look like them.",
                        "Context 3": "She created a digital avatar for her online profile."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Diabetes",
                    "fact": "Did you know that some people with diabetes can eat cake? Itâ€™s all about balance and moderation!"
                },
                {
                    "word": "Avatar",
                    "fact": "The term 'avatar' comes from Sanskrit, meaning 'descent,' and was originally used to describe the incarnation of a deity!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Communication",
                    "definition": "The act of exchanging information or expressing thoughts and feelings.",
                    "context": {
                        "Context 1": "Effective communication is essential for building strong relationships.",
                        "Context 2": "The communication between the two countries improved after the peace treaty.",
                        "Context 3": "In the animal kingdom, communication can be through sounds, gestures, or colors."
                    }
                },
                {
                    "word": "Limited",
                    "definition": "Restricted in size, amount, or extent; not allowing for much variation.",
                    "context": {
                        "Context 1": "His opportunities for social interaction were limited due to online schooling.",
                        "Context 2": "The restaurant had a limited menu for the special event.",
                        "Context 3": "Her time for hobbies was limited because of her busy work schedule."
                    }
                },
                {
                    "word": "Socialization",
                    "definition": "The process of interacting with others and developing social skills.",
                    "context": {
                        "Context 1": "Socialization is crucial for children to learn how to interact with their peers.",
                        "Context 2": "The dog needed socialization to become friendly with other animals.",
                        "Context 3": "Socialization can occur in various settings, such as schools, workplaces, and community events."
                    }
                },
                {
                    "word": "Peer",
                    "definition": "A person of the same age, status, or ability as another specified person.",
                    "context": {
                        "Context 1": "Students often feel more comfortable discussing ideas with their peers.",
                        "Context 2": "At the party, she enjoyed meeting her peers from different schools.",
                        "Context 3": "In sports, athletes often train with their peers to improve their skills."
                    }
                },
                {
                    "word": "Engage",
                    "definition": "To participate or become involved in an activity.",
                    "context": {
                        "Context 1": "Students should engage actively in discussions to enhance their learning.",
                        "Context 2": "The company encourages employees to engage in community service.",
                        "Context 3": "He decided to engage in painting as a new hobby."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "The knowledge or skill acquired by a period of practical involvement in an activity.",
                    "context": {
                        "Context 1": "The lack of in-person experience can affect studentsâ€™ social skills.",
                        "Context 2": "Her travel experience helped her understand different cultures.",
                        "Context 3": "He gained valuable experience working at the local animal shelter."
                    }
                },
                {
                    "word": "Outline",
                    "definition": "A general description or plan that gives the main ideas of something.",
                    "context": {
                        "Context 1": "Creating an outline can help organize thoughts before writing an essay.",
                        "Context 2": "The architect presented an outline of the new building design.",
                        "Context 3": "Before the meeting, she prepared an outline of the topics to discuss."
                    }
                },
                {
                    "word": "Technique",
                    "definition": "A method or way of doing something, especially one that requires skill.",
                    "context": {
                        "Context 1": "The technique used in the lesson helped clarify complex ideas.",
                        "Context 2": "He learned a new technique for painting landscapes.",
                        "Context 3": "The athlete practiced a technique to improve her performance."
                    }
                },
                {
                    "word": "Connection",
                    "definition": "A relationship or link between two or more things.",
                    "context": {
                        "Context 1": "There is a strong connection between communication and emotional well-being.",
                        "Context 2": "The connection between the two cities is facilitated by a major highway.",
                        "Context 3": "She felt a deep connection to the music that reminded her of her childhood."
                    }
                },
                {
                    "word": "Convincing",
                    "definition": "Capable of causing someone to believe that something is true or real.",
                    "context": {
                        "Context 1": "The argument presented was convincing enough to change her mind.",
                        "Context 2": "He gave a convincing performance that impressed the judges.",
                        "Context 3": "The advertisement was so convincing that many people rushed to buy the product."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Communication",
                    "fact": "Did you know that the longest recorded conversation lasted over 35 hours? Talk about communication skills!"
                },
                {
                    "word": "Socialization",
                    "fact": "In some cultures, socialization includes a ritual where people share food to strengthen bondsâ€”who knew sharing pizza could be so meaningful?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of unresolved issues!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going today?"
                },
                {
                    "Person 2": "Not too bad! Just enjoying my morning coffee. How about you?"
                },
                {
                    "Person 1": "Same here! I just finished a book, and Iâ€™m feeling pretty good about it."
                },
                {
                    "Person 2": "Nice! What book did you read?"
                },
                {
                    "Person 1": "Itâ€™s called 'The Alchemist.' Have you read it?"
                },
                {
                    "Person 2": "Yeah, I read that a while ago! I loved the message about following your dreams."
                },
                {
                    "Person 1": "Exactly! It really makes you think about your own goals."
                },
                {
                    "Person 2": "For sure! Speaking of goals, how's your English practice going?"
                },
                {
                    "Person 1": "Iâ€™ve been watching a lot of shows in English. It helps a lot!"
                },
                {
                    "Person 2": "Thatâ€™s awesome! Any favorites?"
                },
                {
                    "Person 1": "I just finished 'Stranger Things.' It was so good!"
                },
                {
                    "Person 2": "I love that show! The characters are so relatable."
                },
                {
                    "Person 1": "Right? And the 80s vibe is just perfect."
                },
                {
                    "Person 2": "Totally! I think it makes it even more fun to watch."
                },
                {
                    "Person 1": "Do you think youâ€™ll try to watch something new next?"
                },
                {
                    "Person 2": "Yeah, Iâ€™m thinking about starting 'The Crown.' Heard itâ€™s really good."
                },
                {
                    "Person 1": "Iâ€™ve heard that too! Let me know how you like it."
                },
                {
                    "Person 2": "Will do! And maybe we can chat about it after you finish your next book."
                },
                {
                    "Person 1": "Sounds like a plan! Iâ€™ll catch you later."
                },
                {
                    "Person 2": "See you later!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you thought about how much we rely on online communication these days?"
                },
                {
                    "Person 2": "Yeah, it's kind of wild. I mean, we can talk to anyone, anywhere, but it feels different, right?"
                },
                {
                    "Person 1": "Definitely! I feel like we miss out on a lot of emotions when weâ€™re just texting or on video calls."
                },
                {
                    "Person 2": "Exactly! I was talking to a friend the other day, and we were both like, 'This is fine, but we need to hang out in person more.'"
                },
                {
                    "Person 1": "For sure! Thereâ€™s something about face-to-face interaction that just canâ€™t be replaced."
                },
                {
                    "Person 2": "Totally! I mean, how do you really connect with someone if youâ€™re just staring at a screen?"
                },
                {
                    "Person 1": "Right? I think itâ€™s important for building friendships and learning from each other."
                },
                {
                    "Person 2": "Yeah, and when youâ€™re in a classroom, you can bounce ideas off each other right away."
                },
                {
                    "Person 1": "Exactly! Itâ€™s like, in a traditional setting, you can have those spontaneous discussions that just donâ€™t happen online."
                },
                {
                    "Person 2": "And letâ€™s not forget about group projects! Theyâ€™re way more fun in person."
                },
                {
                    "Person 1": "Oh, for sure! I remember working on a project with friends, and we ended up just hanging out and having a blast."
                },
                {
                    "Person 2": "Same here! Online group work feels so stiff sometimes. Itâ€™s hard to get creative."
                },
                {
                    "Person 1": "So, what do you think? Should we plan a get-together soon?"
                },
                {
                    "Person 2": "Absolutely! Letâ€™s make it happen. I miss those good old days of just chilling together."
                },
                {
                    "Person 1": "Me too! Letâ€™s figure out a date and make it a plan."
                },
                {
                    "Person 2": "Sounds like a plan! Canâ€™t wait!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new coffee shop that just opened downtown?"
                },
                {
                    "Person 2": "Yeah, I saw it on Instagram! It looks really cute. Have you been there yet?"
                },
                {
                    "Person 1": "Not yet, but Iâ€™m planning to check it out this weekend. I heard they have amazing pastries too."
                },
                {
                    "Person 2": "Ooh, pastries! I love a good croissant. Do you think they have outdoor seating?"
                },
                {
                    "Person 1": "I think so! It would be nice to sit outside with a coffee and just relax."
                },
                {
                    "Person 2": "Definitely! I could use a chill day. Maybe we should go together?"
                },
                {
                    "Person 1": "That sounds great! We can catch up and enjoy some treats."
                },
                {
                    "Person 2": "Perfect! What time are you thinking?"
                },
                {
                    "Person 1": "How about Saturday around 10 AM?"
                },
                {
                    "Person 2": "10 AM works for me! Iâ€™ll bring my book too, just in case we want to read a bit."
                },
                {
                    "Person 1": "Awesome! Iâ€™ll bring my sketchbook. Maybe I can draw the place while weâ€™re there."
                },
                {
                    "Person 2": "That would be cool! I canâ€™t wait to see what you come up with."
                },
                {
                    "Person 1": "Thanks! Itâ€™ll be fun to have a little art and coffee day."
                },
                {
                    "Person 2": "For sure! Iâ€™m looking forward to it."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I went there last weekend! The vibe is really nice, and they have some great pastries."
                },
                {
                    "Person 1": "Nice! I heard their mocha is amazing. Did you try it?"
                },
                {
                    "Person 2": "I did! It was super rich and creamy. Definitely worth a try."
                },
                {
                    "Person 1": "Sounds delicious! I love finding new places to hang out. Itâ€™s nice to have options."
                },
                {
                    "Person 2": "For sure! Plus, itâ€™s a great way to meet new people. I met a couple of friendly baristas there."
                },
                {
                    "Person 1": "Thatâ€™s awesome! I always feel like coffee shops have a cool community vibe."
                },
                {
                    "Person 2": "Absolutely! And itâ€™s a nice break from working at home. Sometimes I just need a change of scenery."
                },
                {
                    "Person 1": "Same here! Iâ€™ve been working from home a lot lately, and it can get a bit lonely."
                },
                {
                    "Person 2": "I get that. Maybe we should plan a coffee date there sometime?"
                },
                {
                    "Person 1": "Iâ€™d love that! Letâ€™s do it this weekend."
                },
                {
                    "Person 2": "Perfect! Iâ€™ll check the hours and we can meet up."
                },
                {
                    "Person 1": "Sounds like a plan! Looking forward to it."
                },
                {
                    "Person 2": "Me too! Itâ€™ll be nice to catch up."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
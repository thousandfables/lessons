<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I don't feel 19, I probably feel 16 still.",
                    "corrected": "I don't feel 19; I probably still feel 16.",
                    "explanation": "The phrase 'probably feel 16 still' is awkward; 'still feel 16' is more natural.",
                    "context": "I just turned 19, but I don't feel that age. I don't feel 19; I probably still feel 16. It's strange how age can feel different from the number."
                },
                {
                    "original": "Because I really don't like how adult people celebrate their birthdays.",
                    "corrected": "Because I really don't like how adults celebrate their birthdays.",
                    "explanation": "'Adult people' is incorrect; 'adults' is the proper term.",
                    "context": "I prefer a more fun and youthful celebration. Because I really don't like how adults celebrate their birthdays. They often seem so boring."
                },
                {
                    "original": "What does your way of partying involve?",
                    "corrected": "What does your way of celebrating involve?",
                    "explanation": "'Partying' is informal; 'celebrating' is more appropriate in this context.",
                    "context": "I love to celebrate my birthday differently. What does your way of celebrating involve? I want to know how you celebrate."
                },
                {
                    "original": "Because fishes are in fact my favorite animals.",
                    "corrected": "Because fish are in fact my favorite animals.",
                    "explanation": "The plural of 'fish' is 'fish'; 'fishes' is used in specific contexts, usually for different species.",
                    "context": "I love marine life. Because fish are in fact my favorite animals. I find them fascinating."
                },
                {
                    "original": "It's just two times.",
                    "corrected": "It's only been two times.",
                    "explanation": "'It's just two times' is informal; 'it's only been two times' is clearer.",
                    "context": "I don't watch the same movie too often. It's only been two times. I try to keep it fresh."
                },
                {
                    "original": "That's not a good combination usually.",
                    "corrected": "That's usually not a good combination.",
                    "explanation": "The adverb 'usually' should come before the verb 'is' for clarity.",
                    "context": "I often find the films lacking. That's usually not a good combination. It makes for a dull viewing experience."
                },
                {
                    "original": "I don't like sharing.",
                    "corrected": "I don't like to share.",
                    "explanation": "The infinitive form 'to share' is more appropriate here.",
                    "context": "I prefer to keep my birthday low-key. I don't like to share. It feels too personal."
                },
                {
                    "original": "I should celebrate that anyway.",
                    "corrected": "I should celebrate it anyway.",
                    "explanation": "The pronoun 'that' should be replaced with 'it' for clarity.",
                    "context": "Even though I feel sad about aging, I should celebrate it anyway. It's a special day."
                },
                {
                    "original": "I usually wear only button up shirts.",
                    "corrected": "I usually only wear button-up shirts.",
                    "explanation": "The adverb 'only' should come before the verb 'wear' for better clarity.",
                    "context": "I have a specific style. I usually only wear button-up shirts. T-shirts are rare for me."
                },
                {
                    "original": "I actually haven't seen most of the movies that are out right now.",
                    "corrected": "I actually haven't seen most of the movies that are currently out.",
                    "explanation": "'That are out right now' is informal; 'that are currently out' is more formal.",
                    "context": "I work at a cinema but still miss many films. I actually haven't seen most of the movies that are currently out. It's surprising."
                },
                {
                    "original": "I think that birthdays should be celebrated.",
                    "corrected": "I think birthdays should be celebrated.",
                    "explanation": "The word 'that' is unnecessary and can be omitted for conciseness.",
                    "context": "Despite my mixed feelings about aging, I believe in celebration. I think birthdays should be celebrated. They mark important milestones."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "Like ant species green turtles.",
                    "corrected": "Like ant species, green turtles.",
                    "explanation": "Missing comma after 'species' creates confusion in the sentence structure.",
                    "context": "Ridley turtles are thriving, apparently. Like ant species, green turtles. The trend for green turtles declined gradually over the period."
                },
                {
                    "original": "Doesn't feel natural.",
                    "corrected": "It doesn't feel natural.",
                    "explanation": "The subject 'it' is needed to complete the sentence and clarify what is being referred to.",
                    "context": "Over the course of, I don't think it's the best alternative here. It doesn't feel natural. Olive Ridley."
                },
                {
                    "original": "Like read this first, like these two sentences from the perspective of this person.",
                    "corrected": "Like, read this first: these two sentences from the perspective of this person.",
                    "explanation": "Missing punctuation and awkward phrasing; a colon is needed to introduce the sentences.",
                    "context": "Your goal is to give them some idea of some data that is provided in the graph, basically. Like, read this first: these two sentences from the perspective of this person. And like, tell me, do you think they will be able to see these graphs?"
                },
                {
                    "original": "Like we see very, like very big changes affected two types of turtles.",
                    "corrected": "We see very big changes affecting two types of turtles.",
                    "explanation": "The word 'affected' should be 'affecting' to indicate an ongoing action.",
                    "context": "But yes, I can see your point. We see very big changes affecting two types of turtles. Now we're talking about leatherback turtles."
                },
                {
                    "original": "Like, I don't know. I don't see from your report, but probably like it was something like it was increasing by the end of the period.",
                    "corrected": "I don't see from your report, but probably it was something like it was increasing by the end of the period.",
                    "explanation": "The word 'like' is overused and makes the sentence sound informal and unclear.",
                    "context": "But it isn't very far from the truth. I don't see from your report, but probably it was something like it was increasing by the end of the period. Before that, what happened before the peak?"
                },
                {
                    "original": "I guess. Start fluctuating until the end of the period.",
                    "corrected": "I guess they started fluctuating until the end of the period.",
                    "explanation": "The subject 'they' is needed to clarify what is being referred to in the sentence.",
                    "context": "They experienced a gradual increase, with some fluctuation after they should be. I guess they started fluctuating until the end of the period."
                },
                {
                    "original": "Well, I wouldn't be able to define it, but from my understanding, it was enough to explain what happened to their population.",
                    "corrected": "Well, I wouldn't be able to define it, but from my understanding, it is enough to explain what happened to their population.",
                    "explanation": "The verb tense should be present ('is') instead of past ('was') to indicate that the explanation is still relevant.",
                    "context": "What is the definition of the word to fluctuate? Well, I wouldn't be able to define it, but from my understanding, it is enough to explain what happened to their population. Basically, fluctuate means to go up and down, but don't really change."
                },
                {
                    "original": "That's basically what I said, but I do think that it was a bit confusing.",
                    "corrected": "That's basically what I said, but I do think that it is a bit confusing.",
                    "explanation": "The verb tense should be present ('is') instead of past ('was') to indicate ongoing confusion.",
                    "context": "Yes, I see. It looks like they experienced a gradual increase with some fluctuations. That's basically what I said, but I do think that it is a bit confusing."
                },
                {
                    "original": "Yes, so I overcomplicated it once again.",
                    "corrected": "Yes, I overcomplicated it once again.",
                    "explanation": "The word 'so' is unnecessary and makes the sentence less direct.",
                    "context": "Very easy peasy. Yes, I overcomplicated it once again. Things never change."
                },
                {
                    "original": "I know that it would sound better if I split it, but I'm afraid it would be too lengthy for just one prototype.",
                    "corrected": "I know that it would sound better if I split it, but I'm afraid it might be too lengthy for just one prototype.",
                    "explanation": "The phrase 'would be' should be 'might be' to express uncertainty more appropriately.",
                    "context": "I can try to keep it as one sentence, or I can try to split it. I know that it would sound better if I split it, but I'm afraid it might be too lengthy for just one prototype."
                },
                {
                    "original": "No, I think I can just get rid of all that.",
                    "corrected": "No, I think I can just get rid of all of that.",
                    "explanation": "The phrase 'all that' should be 'all of that' for grammatical correctness.",
                    "context": "No, I think I can just get rid of all of that. No, that's fine. Yeah, like, you can say the former experience, blah, blah, blah, of the period."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "It feels natural to me. Started out? Not very clear about that.",
                    "corrected": "It feels natural to me. 'Started out'? I'm not very clear about that.",
                    "explanation": "'Not very clear about that' should be rephrased to 'I'm not very clear about that' for clarity and grammatical correctness.",
                    "context": "When discussing the phrasing of the report, I mentioned that 'started out' feels natural to me. However, I'm not very clear about its appropriateness in this context."
                },
                {
                    "original": "It doesn't sound very natural anyways, like any version of it.",
                    "corrected": "It doesn't sound very natural anyway, like any version of it.",
                    "explanation": "'Anyways' is informal; 'anyway' is the correct form in standard English.",
                    "context": "While evaluating the phrasing options for the report, I concluded that it doesn't sound very natural anyway, regardless of the version we consider."
                },
                {
                    "original": "So do we need here to say middle of the period?",
                    "corrected": "So do we need to say 'middle of the period' here?",
                    "explanation": "The word order is incorrect; 'to say' should come before 'here' for proper sentence structure.",
                    "context": "As we were discussing the details of the report, I asked if we needed to say 'middle of the period' here to clarify our timeline."
                },
                {
                    "original": "Can you say things soon?",
                    "corrected": "Can you say things soon?",
                    "explanation": "The phrase is unclear; it may need rephrasing for better understanding.",
                    "context": "I was trying to clarify the timeline in the report, but my question about saying things soon was not clear."
                },
                {
                    "original": "Let's write a prototype from the start. Let's write it from scratch.",
                    "corrected": "Let's write a prototype from the beginning. Let's write it from scratch.",
                    "explanation": "'From the start' is informal; 'from the beginning' is more appropriate in this context.",
                    "context": "As we began drafting the report, I suggested that we write a prototype from the beginning and start from scratch to ensure clarity."
                },
                {
                    "original": "That the population decreased significantly.",
                    "corrected": "That the population decreased significantly.",
                    "explanation": "This sentence is incomplete as it lacks a subject; it should be part of a larger sentence.",
                    "context": "While summarizing the key points for the report, I noted that the population decreased significantly, which was an important feature to highlight."
                },
                {
                    "original": "Yeah, we better not take this risk.",
                    "corrected": "Yeah, we had better not take this risk.",
                    "explanation": "'Better' should be preceded by 'had' for correct grammatical structure.",
                    "context": "In discussing the phrasing of the report, I expressed concern about taking risks with informal language, saying we had better not take this risk."
                },
                {
                    "original": "I wish I could say that there was a hundred of these turtles.",
                    "corrected": "I wish I could say that there were a hundred of these turtles.",
                    "explanation": "The verb 'was' should be 'were' to agree with the plural noun 'hundred.'",
                    "context": "While speculating about the population of turtles, I expressed a desire to say that there were a hundred of these turtles, but I doubted the accuracy."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "This data represent.",
                    "corrected": "This data represents.",
                    "explanation": "The subject 'data' is plural, but 'data' is treated as a singular mass noun in this context, so 'represents' should be used.",
                    "context": "We don't really need to describe that. This data represents the biggest population and the lowest population in green turtles."
                },
                {
                    "original": "Green turtles stayed.",
                    "corrected": "Green turtles stayed in the middle.",
                    "explanation": "The sentence is incomplete; it lacks context to clarify what 'stayed' refers to.",
                    "context": "I would just say that they stayed in the middle. Green turtles stayed in the middle of the population range."
                },
                {
                    "original": "Declined gradually.",
                    "corrected": "The population declined gradually.",
                    "explanation": "The subject is missing; it should specify what is declining.",
                    "context": "The index of green turtles declined gradually over the period. The population declined gradually."
                },
                {
                    "original": "I probably won't have enough words.",
                    "corrected": "I probably will have enough words.",
                    "explanation": "The original implies a lack of words, but the corrected version suggests the opposite, which aligns with the context.",
                    "context": "If I see that I don't have enough words, which I probably will have, I will probably talk about all species."
                },
                {
                    "original": "The total number. Totally, yeah, of course, the total number.",
                    "corrected": "The total number of turtles.",
                    "explanation": "The phrase is repetitive and unclear; it should be concise and direct.",
                    "context": "The total number of turtles was consistent over the period. The total number of turtles is important to note."
                },
                {
                    "original": "Like, should we care about turtles or should we like, they are fine on their own.",
                    "corrected": "Should we care about turtles, or are they fine on their own?",
                    "explanation": "The original sentence is awkwardly structured and includes unnecessary filler words.",
                    "context": "The person only cares about who is in danger and who has the most thriving population. Should we care about turtles, or are they fine on their own?"
                },
                {
                    "original": "Yes, I will try my best.",
                    "corrected": "Yes, I will do my best.",
                    "explanation": "'Try my best' is informal; 'do my best' is more standard.",
                    "context": "Please try to improve other reports. Yes, I will do my best to make them look like this one."
                },
                {
                    "original": "Fish have therapeutic effect.",
                    "corrected": "Fish have a therapeutic effect.",
                    "explanation": "The article 'a' is needed before 'therapeutic effect' to make it grammatically correct.",
                    "context": "Fish have therapeutic effect on the human mind. Fish have a therapeutic effect, and you will enjoy that."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Tweak",
                    "definition": "To make small adjustments or improvements to something.",
                    "context": {
                        "Context 1": "I will tweak the brightness and the saturation to improve the picture quality.",
                        "Context 2": "He decided to tweak his workout routine to achieve better results.",
                        "Context 3": "The chef had to tweak the recipe to make it more flavorful."
                    }
                },
                {
                    "word": "Occasion",
                    "definition": "A particular time or instance of an event.",
                    "context": {
                        "Context 1": "I’m dressing up for a special occasion, my birthday.",
                        "Context 2": "The wedding was a grand occasion that everyone enjoyed.",
                        "Context 3": "She bought a new dress for the occasion of her graduation."
                    }
                },
                {
                    "word": "Gather",
                    "definition": "To come together; to assemble.",
                    "context": {
                        "Context 1": "Every year I try to gather all my friends for my birthday party.",
                        "Context 2": "The community will gather to discuss the new park project.",
                        "Context 3": "They gathered around the campfire to share stories."
                    }
                },
                {
                    "word": "Saturation",
                    "definition": "The intensity of color in an image or visual.",
                    "context": {
                        "Context 1": "I will adjust the saturation to make the colors pop.",
                        "Context 2": "The saturation of the sunset made the sky look breathtaking.",
                        "Context 3": "Artists often play with saturation to create mood in their paintings."
                    }
                },
                {
                    "word": "Cinema",
                    "definition": "A place where films are shown to the public.",
                    "context": {
                        "Context 1": "We are going to the cinema to watch a movie about China.",
                        "Context 2": "The cinema downtown has the latest blockbuster films.",
                        "Context 3": "He loves to study the history of cinema and its evolution."
                    }
                },
                {
                    "word": "Celebrate",
                    "definition": "To observe a notable occasion with festivities.",
                    "context": {
                        "Context 1": "I think that birthdays should be celebrated.",
                        "Context 2": "They plan to celebrate their anniversary with a big party.",
                        "Context 3": "The town will celebrate its founding with a parade."
                    }
                },
                {
                    "word": "Boring",
                    "definition": "Not interesting; dull.",
                    "context": {
                        "Context 1": "I think adult people celebrate their birthdays in a boring way.",
                        "Context 2": "The lecture was so boring that many students fell asleep.",
                        "Context 3": "He found the book boring and couldn't finish it."
                    }
                },
                {
                    "word": "Expenditures",
                    "definition": "The action of spending funds; expenses.",
                    "context": {
                        "Context 1": "Average household expenditures can reveal a lot about a community.",
                        "Context 2": "The company's expenditures increased significantly last year.",
                        "Context 3": "She tracked her monthly expenditures to save money."
                    }
                },
                {
                    "word": "Mood",
                    "definition": "A temporary state of mind or feeling.",
                    "context": {
                        "Context 1": "We need a funny topic to lift our mood.",
                        "Context 2": "The rainy weather put him in a gloomy mood.",
                        "Context 3": "Listening to music always improves my mood."
                    }
                },
                {
                    "word": "Observe",
                    "definition": "To watch carefully, especially for information.",
                    "context": {
                        "Context 1": "We are going to observe fish at the aquarium.",
                        "Context 2": "Scientists observe the behavior of animals in their natural habitat.",
                        "Context 3": "She likes to observe how people interact in social settings."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Occasion",
                    "fact": "Did you know that the word 'occasion' comes from the Latin word 'occasio,' which means 'a falling upon'?"
                },
                {
                    "word": "Saturation",
                    "fact": "In photography, saturation can be adjusted to make colors more vibrant, or to make a photo look like it was taken in the 1970s!"
                },
                {
                    "word": "Boring",
                    "fact": "The longest recorded joke in history is so boring that it has been known to put people to sleep!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the birthday cake go to school?",
                    "answer": "Because it wanted to be a smart cookie!"
                },
                {
                    "question": "What do you call a fish that wears a bowtie?",
                    "answer": "Sofishticated!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Fluctuate",
                    "definition": "To rise and fall irregularly in number or amount; to vary.",
                    "context": {
                        "Context 1": "The population of Ridley turtles tends to fluctuate throughout the years.",
                        "Context 2": "The stock market can fluctuate wildly, making it hard to predict future trends.",
                        "Context 3": "Her mood tends to fluctuate depending on the weather."
                    }
                },
                {
                    "word": "Gradual",
                    "definition": "Taking place or progressing slowly or by degrees.",
                    "context": {
                        "Context 1": "The Ridley turtles experienced a gradual increase in population over the years.",
                        "Context 2": "He made a gradual transition from being a student to a professional.",
                        "Context 3": "The gradual change in seasons is one of nature's most beautiful phenomena."
                    }
                },
                {
                    "word": "Peak",
                    "definition": "The highest point or level; a maximum.",
                    "context": {
                        "Context 1": "The turtle population reached its peak before starting to decline.",
                        "Context 2": "The mountain climbers finally reached the peak after a long and difficult trek.",
                        "Context 3": "The peak of the concert was when the band played their most popular song."
                    }
                },
                {
                    "word": "Report",
                    "definition": "A detailed account or statement describing an event, situation, or the results of an investigation.",
                    "context": {
                        "Context 1": "The report on turtle populations provided valuable insights into their conservation.",
                        "Context 2": "She had to write a report for her science class about the solar system.",
                        "Context 3": "The news report covered the recent changes in local laws."
                    }
                },
                {
                    "word": "Data",
                    "definition": "Facts and statistics collected for reference or analysis.",
                    "context": {
                        "Context 1": "The data from the study showed significant changes in turtle populations.",
                        "Context 2": "He analyzed the data to find trends in consumer behavior.",
                        "Context 3": "The data collected during the experiment was crucial for the final report."
                    }
                },
                {
                    "word": "Imagine",
                    "definition": "To form a mental image or concept of something.",
                    "context": {
                        "Context 1": "It's important to imagine the graphs when discussing the data in the report.",
                        "Context 2": "She could imagine herself living in a different country one day.",
                        "Context 3": "Can you imagine what life would be like without technology?"
                    }
                },
                {
                    "word": "Category",
                    "definition": "A class or division of people or things regarded as having particular shared characteristics.",
                    "context": {
                        "Context 1": "The report categorized turtles into different species based on their characteristics.",
                        "Context 2": "In the competition, she was placed in the category of best young artist.",
                        "Context 3": "The library has a category for science fiction books."
                    }
                },
                {
                    "word": "Dramatic",
                    "definition": "Sudden and striking; exciting or impressive.",
                    "context": {
                        "Context 1": "There was a dramatic reduction in the number of leatherback turtles.",
                        "Context 2": "The play had a dramatic ending that left the audience in tears.",
                        "Context 3": "His dramatic weight loss surprised everyone at the reunion."
                    }
                },
                {
                    "word": "Turtle",
                    "definition": "A slow-moving reptile with a bony or leathery shell that protects it from predators.",
                    "context": {
                        "Context 1": "The lesson discussed the population trends of Ridley turtles.",
                        "Context 2": "She has a pet turtle that she named Shelly.",
                        "Context 3": "In the ocean, turtles often migrate long distances to find food."
                    }
                },
                {
                    "word": "Conservation",
                    "definition": "The protection and preservation of the natural environment and wildlife.",
                    "context": {
                        "Context 1": "Conservation efforts are crucial for the survival of endangered turtles.",
                        "Context 2": "The conservation of water resources is essential for sustainable living.",
                        "Context 3": "He volunteered for a conservation project to protect local wildlife."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Turtle",
                    "fact": "Did you know that turtles can breathe through their butts? It's called 'cloacal respiration'!"
                },
                {
                    "word": "Fluctuate",
                    "fact": "The word 'fluctuate' comes from the Latin word 'fluctuare', which means 'to wave'—just like the ocean waves!"
                }
            ],
            "jokes": [
                {
                    "question": "What do you call a turtle who takes up photography?",
                    "answer": "A shell-fie expert!"
                },
                {
                    "question": "Why did the turtle cross the road?",
                    "answer": "To get to the shell station!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Prototype",
                    "definition": "An original model or preliminary version of something from which other forms are developed.",
                    "context": {
                        "Context 1": "The first prototype of the new smartphone was unveiled at the tech conference.",
                        "Context 2": "In art class, we created a prototype of our sculpture using clay.",
                        "Context 3": "The engineer tested the prototype to see how it performed under stress."
                    }
                },
                {
                    "word": "Fluctuate",
                    "definition": "To rise and fall irregularly in number or amount.",
                    "context": {
                        "Context 1": "The stock prices began to fluctuate dramatically after the announcement.",
                        "Context 2": "The temperature can fluctuate greatly between day and night in the desert.",
                        "Context 3": "Her mood tends to fluctuate depending on the weather."
                    }
                },
                {
                    "word": "Significant",
                    "definition": "Sufficiently great or important to be worthy of attention; noteworthy.",
                    "context": {
                        "Context 1": "There was a significant increase in sales after the new marketing campaign.",
                        "Context 2": "The scientist made a significant discovery that changed the course of research.",
                        "Context 3": "Winning the award was a significant moment in her career."
                    }
                },
                {
                    "word": "Decline",
                    "definition": "A gradual and continuous loss of strength, numbers, quality, or value.",
                    "context": {
                        "Context 1": "The population of the species has seen a decline over the last decade.",
                        "Context 2": "After the holidays, there is usually a decline in retail sales.",
                        "Context 3": "The decline in bee populations is alarming for agriculture."
                    }
                },
                {
                    "word": "Trend",
                    "definition": "A general direction in which something is developing or changing.",
                    "context": {
                        "Context 1": "The trend in renewable energy is growing rapidly.",
                        "Context 2": "Fashion trends change every season, influencing what people wear.",
                        "Context 3": "The trend of remote work has become more popular since the pandemic."
                    }
                },
                {
                    "word": "Data",
                    "definition": "Facts and statistics collected for reference or analysis.",
                    "context": {
                        "Context 1": "The data collected from the survey will help us understand customer preferences.",
                        "Context 2": "Scientists rely on data to support their hypotheses.",
                        "Context 3": "The data showed a clear correlation between exercise and improved health."
                    }
                },
                {
                    "word": "Analyze",
                    "definition": "To examine in detail for purposes of explanation and interpretation.",
                    "context": {
                        "Context 1": "We need to analyze the results of the experiment carefully.",
                        "Context 2": "The detective will analyze the evidence to solve the case.",
                        "Context 3": "She plans to analyze the data before making any conclusions."
                    }
                },
                {
                    "word": "Increase",
                    "definition": "To become or make greater in size, amount, intensity, or degree.",
                    "context": {
                        "Context 1": "There was a noticeable increase in traffic during rush hour.",
                        "Context 2": "The company plans to increase its workforce to meet demand.",
                        "Context 3": "Regular exercise can lead to an increase in overall health."
                    }
                },
                {
                    "word": "Period",
                    "definition": "A length or portion of time.",
                    "context": {
                        "Context 1": "The study covered a period of five years.",
                        "Context 2": "During the medieval period, many castles were built across Europe.",
                        "Context 3": "The period of the Renaissance was marked by great cultural achievements."
                    }
                },
                {
                    "word": "Body Paragraph",
                    "definition": "A paragraph that develops a specific point or idea within an essay.",
                    "context": {
                        "Context 1": "Each body paragraph should support the thesis statement with evidence.",
                        "Context 2": "In her essay, she wrote a body paragraph about climate change.",
                        "Context 3": "The body paragraph should include examples to illustrate the main idea."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Fluctuate",
                    "fact": "Did you know that the price of avocados can fluctuate so much that they sometimes cost more than a fancy dinner?"
                },
                {
                    "word": "Prototype",
                    "fact": "The first prototype of a rubber duck was made from hard plastic, and it didn’t float!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Prototype",
                    "definition": "An original model on which something is patterned.",
                    "context": {
                        "Context 1": "We don't really need to take that as our prototype because we will eventually say that later.",
                        "Context 2": "The engineer created a prototype of the new smartphone before mass production.",
                        "Context 3": "In art class, we made a prototype of our sculpture using clay."
                    }
                },
                {
                    "word": "Decline",
                    "definition": "To decrease in quantity, quality, or strength.",
                    "context": {
                        "Context 1": "The population of green turtles declined gradually over the period.",
                        "Context 2": "Sales have begun to decline as the product becomes outdated.",
                        "Context 3": "She decided to decline the invitation to the party."
                    }
                },
                {
                    "word": "Consistent",
                    "definition": "Acting or done in the same way over time, especially so as to be fair or accurate.",
                    "context": {
                        "Context 1": "The total number of turtles was consistent over the period.",
                        "Context 2": "Her consistent effort in studying led to excellent grades.",
                        "Context 3": "The weather has been consistent, with sunny days for a week."
                    }
                },
                {
                    "word": "Fluctuate",
                    "definition": "To rise and fall irregularly in number or amount.",
                    "context": {
                        "Context 1": "We will eventually say about fluctuating populations.",
                        "Context 2": "Stock prices tend to fluctuate based on market conditions.",
                        "Context 3": "The temperature can fluctuate greatly between day and night."
                    }
                },
                {
                    "word": "Population",
                    "definition": "All the inhabitants of a particular place.",
                    "context": {
                        "Context 1": "We are talking about the biggest population of green turtles.",
                        "Context 2": "The population of the city has grown significantly over the last decade.",
                        "Context 3": "Wildlife conservationists are concerned about the population of endangered species."
                    }
                },
                {
                    "word": "Index",
                    "definition": "An indicator, sign, or measure of something.",
                    "context": {
                        "Context 1": "The index of green turtles declined gradually over the period.",
                        "Context 2": "The economic index showed a positive trend this quarter.",
                        "Context 3": "In the library, the index helps you find books on specific topics."
                    }
                },
                {
                    "word": "Thriving",
                    "definition": "Growing or developing well or vigorously.",
                    "context": {
                        "Context 1": "The person only cares about who has the most thriving population.",
                        "Context 2": "The thriving business attracted many investors.",
                        "Context 3": "The garden was thriving after a season of good rain."
                    }
                },
                {
                    "word": "Gradually",
                    "definition": "In a gradual way; slowly over a period of time.",
                    "context": {
                        "Context 1": "The population of green turtles declined gradually over the period.",
                        "Context 2": "She gradually became more confident in her speaking abilities.",
                        "Context 3": "The weather changed gradually from sunny to cloudy."
                    }
                },
                {
                    "word": "Therapeutic",
                    "definition": "Relating to the healing of disease.",
                    "context": {
                        "Context 1": "Fish have a therapeutic effect on the human mind.",
                        "Context 2": "Yoga is known for its therapeutic benefits for stress relief.",
                        "Context 3": "The therapeutic massage helped relieve her back pain."
                    }
                },
                {
                    "word": "Facts",
                    "definition": "A thing that is known or proved to be true.",
                    "context": {
                        "Context 1": "They care about facts, not just data.",
                        "Context 2": "The teacher asked us to present facts about our favorite animals.",
                        "Context 3": "Historical facts can sometimes be surprising."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Prototype",
                    "fact": "The first prototype of a rubber band was made in 1845, and it was just a piece of rubber!"
                },
                {
                    "word": "Fluctuate",
                    "fact": "Did you know that the price of a single banana can fluctuate based on the weather? It's true!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the turtle cross the road?",
                    "answer": "To get to the shell station!"
                },
                {
                    "question": "What do you call a turtle that takes up photography?",
                    "answer": "A snapper!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Is that a new shirt you're wearing?"
                },
                {
                    "Person 2": "Oh, this? It's new to me, but I've had it for a while. Just decided to wear it today."
                },
                {
                    "Person 1": "Nice! Dressing up for something special?"
                },
                {
                    "Person 2": "Yeah, it’s my birthday today!"
                },
                {
                    "Person 1": "No way! Happy birthday! How old are you now?"
                },
                {
                    "Person 2": "Thanks! I just turned 19."
                },
                {
                    "Person 1": "Wow, 19! Do you feel any different?"
                },
                {
                    "Person 2": "Not really. I still feel like I'm 16, to be honest."
                },
                {
                    "Person 1": "I get that! So, how are you celebrating?"
                },
                {
                    "Person 2": "I’m taking some friends to the aquarium to check out the fish."
                },
                {
                    "Person 1": "That sounds fun! Fish are cool. What else do you have planned?"
                },
                {
                    "Person 2": "After that, we’re grabbing some food and then heading to the movies."
                },
                {
                    "Person 1": "Nice! What movie are you seeing?"
                },
                {
                    "Person 2": "It's a documentary about China. I’ve seen it twice already since I work at the theater."
                },
                {
                    "Person 1": "Twice? That’s not too bad. I bet you’ve seen a lot of movies working there."
                },
                {
                    "Person 2": "Actually, I haven’t seen most of the new releases. I get free tickets, but I just don’t have the time."
                },
                {
                    "Person 1": "That’s a bummer! You’d think working there would mean you see everything."
                },
                {
                    "Person 2": "Yeah, but most of the new films aren’t that great anyway."
                },
                {
                    "Person 1": "True! So, do you like celebrating your birthday?"
                },
                {
                    "Person 2": "I do! I think it’s important to celebrate, even if it means getting older."
                },
                {
                    "Person 1": "I’m the opposite. I don’t really like celebrating mine."
                },
                {
                    "Person 2": "Really? Why not?"
                },
                {
                    "Person 1": "I don’t know, it just feels weird to make a big deal out of it."
                },
                {
                    "Person 2": "Fair enough! Everyone has their own way of celebrating."
                },
                {
                    "Person 1": "Exactly! So, what’s your plan for the aquarium?"
                },
                {
                    "Person 2": "Just hanging out with friends and enjoying the exhibits. It should be a good time!"
                },
                {
                    "Person 1": "Sounds like a blast! Enjoy your day!"
                },
                {
                    "Person 2": "Thanks! I will!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about the new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I saw it on Instagram! Have you been there yet?"
                },
                {
                    "Person 1": "Not yet, but I’m planning to check it out this weekend. I heard they have amazing pastries."
                },
                {
                    "Person 2": "Oh, I love pastries! What kind do they have?"
                },
                {
                    "Person 1": "I think they have everything from croissants to cupcakes. I can’t wait to try their chocolate croissant."
                },
                {
                    "Person 2": "That sounds delicious! I’m a sucker for chocolate. We should go together!"
                },
                {
                    "Person 1": "Definitely! It’ll be fun. Maybe we can grab some coffee and sit outside."
                },
                {
                    "Person 2": "Sounds perfect! I love sitting outside when the weather is nice."
                },
                {
                    "Person 1": "Me too! Plus, it’s a great way to people-watch."
                },
                {
                    "Person 2": "Right? I always see the funniest things when I’m just sitting there."
                },
                {
                    "Person 1": "Exactly! So, what time do you want to meet?"
                },
                {
                    "Person 2": "How about 10 AM? That way we can beat the crowd."
                },
                {
                    "Person 1": "10 AM it is! I’ll bring my camera to take some pictures."
                },
                {
                    "Person 2": "Awesome! I can’t wait to try those pastries and hang out."
                },
                {
                    "Person 1": "Same here! It’s going to be a great weekend."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch the game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a finish, right? I thought they were done for."
                },
                {
                    "Person 1": "I know! That last-minute touchdown was insane! I was jumping off the couch."
                },
                {
                    "Person 2": "Same here! I couldn't believe they pulled it off. Did you see that catch?"
                },
                {
                    "Person 1": "Absolutely! It was like something out of a movie. That guy really knows how to play under pressure."
                },
                {
                    "Person 2": "For sure! I think he’s going to be a star. What do you think about the next game?"
                },
                {
                    "Person 1": "I’m feeling good about it. If they keep playing like this, they might have a shot at the playoffs."
                },
                {
                    "Person 2": "I hope so! It’s been a while since they made it that far. We should totally watch it together."
                },
                {
                    "Person 1": "Definitely! Let’s make it a game day tradition. Snacks and all!"
                },
                {
                    "Person 2": "Sounds perfect! I’ll bring the wings, you bring the drinks?"
                },
                {
                    "Person 1": "Deal! I can’t wait. It’s going to be a blast!"
                },
                {
                    "Person 2": "For sure! Let’s hope they keep the winning streak going."
                },
                {
                    "Person 1": "Fingers crossed! See you then!"
                },
                {
                    "Person 2": "See you!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new sushi place that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I saw it on Instagram! Have you tried it yet?"
                },
                {
                    "Person 1": "Not yet, but I’m planning to go this weekend. I love sushi!"
                },
                {
                    "Person 2": "Same here! I could eat sushi every day. What’s your favorite roll?"
                },
                {
                    "Person 1": "I’m a big fan of the spicy tuna roll. How about you?"
                },
                {
                    "Person 2": "I really like the dragon roll. It’s so colorful and tasty!"
                },
                {
                    "Person 1": "That sounds amazing! We should go together sometime."
                },
                {
                    "Person 2": "Definitely! Let’s make it a sushi date. What day works for you?"
                },
                {
                    "Person 1": "How about Saturday evening? We can check out that new place."
                },
                {
                    "Person 2": "Perfect! I’ll bring my appetite. I’ve heard their miso soup is great too."
                },
                {
                    "Person 1": "Oh, I love miso soup! It’s the best way to start a sushi meal."
                },
                {
                    "Person 2": "For sure! I can’t wait. It’ll be fun to try something new."
                },
                {
                    "Person 1": "Agreed! Plus, we can catch up. It’s been a while since we hung out."
                },
                {
                    "Person 2": "Yeah, it has! I’m looking forward to it. See you Saturday!"
                },
                {
                    "Person 1": "See you then! Can’t wait!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
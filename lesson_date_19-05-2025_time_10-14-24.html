<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I just can't to give my mobile internet on my phone.",
                    "corrected": "I just can't give my mobile internet from my phone.",
                    "explanation": "'Can't to give' is incorrect; 'to' should be omitted. Additionally, 'on my phone' should be 'from my phone' to indicate the source of the internet.",
                    "context": "I have a laptop, but I'm having trouble sharing my mobile internet. I just can't give my mobile internet from my phone. I don't know why, but I don't have this function."
                },
                {
                    "original": "No, I hadn't.",
                    "corrected": "No, I don't have it.",
                    "explanation": "'Hadn't' is incorrect in this context; the present tense 'don't have' should be used to indicate the current situation.",
                    "context": "I was asked if I had the personal hotspot option on my phone. No, I don't have it. I just have only mobile service."
                },
                {
                    "original": "You still have to be more prevalent, yes.",
                    "corrected": "You still have to be more precise, yes.",
                    "explanation": "'Prevalent' is incorrect; 'precise' should be used to indicate the need for clarity in instructions.",
                    "context": "I was guiding someone through their phone settings. You still have to be more precise, yes. Take a look at the settings."
                },
                {
                    "original": "I didn't.",
                    "corrected": "I don't.",
                    "explanation": "'Didn't' is past tense and does not fit the context; 'don't' should be used to indicate the current lack of the option.",
                    "context": "I was asked if I had found the personal hotspot option. I don't. I just have only mobile service."
                },
                {
                    "original": "I see the problem.",
                    "corrected": "I found the problem.",
                    "explanation": "While 'I see the problem' is not incorrect, 'I found the problem' is more appropriate in this context as it indicates a discovery.",
                    "context": "After going through the settings, I realized something was wrong. I found the problem. Let's fix it together."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I can't see this, this mobile's service on my laptop.",
                    "corrected": "I can't see this mobile service on my laptop.",
                    "explanation": "The phrase 'this mobile's service' is awkward; 'this mobile service' is more natural.",
                    "context": "I was trying to connect my laptop to my mobile's internet. I can't see this mobile service on my laptop. It's frustrating because I really need it to work."
                },
                {
                    "original": "I mean very very quietly maybe.",
                    "corrected": "I mean very quietly, maybe.",
                    "explanation": "The repetition of 'very' is unnecessary; one 'very' is sufficient for emphasis.",
                    "context": "During the call, I was trying to describe how I could barely hear the other person. I mean very quietly, maybe. It's hard to understand what's happening."
                },
                {
                    "original": "Do you have my first question of order?",
                    "corrected": "Do you have my first question?",
                    "explanation": "The phrase 'of order' is unnecessary and awkward in this context; it can be omitted for clarity.",
                    "context": "I was trying to ask a question during the meeting. Do you have my first question? I just want to clarify something important."
                },
                {
                    "original": "I don't know what's the problem but now it's 123.",
                    "corrected": "I don't know what the problem is, but now it's 123.",
                    "explanation": "The structure of the sentence is incorrect; 'what's the problem' should be 'what the problem is' for proper word order.",
                    "context": "I was expressing my confusion about a technical issue. I don't know what the problem is, but now it's 123. It's really frustrating."
                },
                {
                    "original": "I tried to put my phone on.",
                    "corrected": "I tried to put my phone on the charger.",
                    "explanation": "The phrase 'put my phone on' is incomplete; it needs clarification about what it is being put on.",
                    "context": "I was trying to charge my phone during the call. I tried to put my phone on the charger. I hope it helps with the connection."
                },
                {
                    "original": "You mean mobile or?",
                    "corrected": "You mean mobile internet or Wi-Fi?",
                    "explanation": "The sentence is incomplete and unclear; it needs to specify what 'mobile' refers to.",
                    "context": "I was trying to clarify what the other person meant. You mean mobile internet or Wi-Fi? I want to make sure we're on the same page."
                },
                {
                    "original": "The Wi-Fi setting should be turned on as well.",
                    "corrected": "The Wi-Fi setting should also be turned on.",
                    "explanation": "The phrase 'as well' is less idiomatic than 'also' in this context.",
                    "context": "I was explaining how to fix the connection issue. The Wi-Fi setting should also be turned on. It's essential for it to work properly."
                },
                {
                    "original": "It's iPhones.",
                    "corrected": "It's the iPhones.",
                    "explanation": "The definite article 'the' is needed to specify which iPhones are being referred to.",
                    "context": "I was discussing the quirks of using iPhones. It's the iPhones that have these issues. They can be quite tricky sometimes."
                },
                {
                    "original": "I turned on my VPN for it to download your VPN.",
                    "corrected": "I turned on my VPN to download your VPN.",
                    "explanation": "The phrase 'for it to download' is awkward; 'to download' is more straightforward.",
                    "context": "I was trying to explain my VPN situation. I turned on my VPN to download your VPN. It should help with the connection."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I have a app store.",
                    "corrected": "I have an app store.",
                    "explanation": "The article 'a' should be 'an' because 'app' starts with a vowel sound.",
                    "context": "I was discussing my laptop's capabilities. I have an app store. It allows me to download various applications."
                },
                {
                    "original": "I can't to place it.",
                    "corrected": "I can't place it.",
                    "explanation": "The infinitive 'to' is unnecessary here; 'can't' already indicates the inability to perform the action.",
                    "context": "While trying to save a number, I encountered an issue. I can't place it. I need to find a way to paste it."
                },
                {
                    "original": "On Mac it's a different key.",
                    "corrected": "On Mac, it's a different key.",
                    "explanation": "A comma is needed after 'Mac' to separate the introductory phrase from the main clause.",
                    "context": "I was explaining the differences between keyboard shortcuts. On Mac, it's a different key. This can be confusing for new users."
                },
                {
                    "original": "How do you pay?",
                    "corrected": "How do you pay?",
                    "explanation": "This sentence is correct but lacks context in the conversation.",
                    "context": "As we were discussing payment methods, I asked, 'How do you pay?' I wanted to clarify the process for the subscription."
                },
                {
                    "original": "I always just.",
                    "corrected": "I always just pay.",
                    "explanation": "The sentence is incomplete and needs a verb to convey the action.",
                    "context": "I was trying to explain my usual payment method. I always just pay. It's a straightforward process for me."
                },
                {
                    "original": "It's like... You know what?",
                    "corrected": "It's like... You know what?",
                    "explanation": "This sentence is correct but appears to be a filler and lacks clarity.",
                    "context": "I was trying to express my frustration. It's like... You know what? Sometimes it's hard to explain."
                },
                {
                    "original": "I can do this with him.",
                    "corrected": "I can do this with him.",
                    "explanation": "This sentence is correct but lacks context.",
                    "context": "I was discussing my payment options. I can do this with him. I just need my father's help."
                },
                {
                    "original": "You need to download the app.",
                    "corrected": "You need to download the app.",
                    "explanation": "This sentence is correct but needs to be more specific.",
                    "context": "I was guiding someone through the setup process. You need to download the app. It's essential for accessing the service."
                },
                {
                    "original": "I hope it's enough money.",
                    "corrected": "I hope there's enough money.",
                    "explanation": "The phrase 'it's enough money' is awkward; 'there's enough money' is more idiomatic.",
                    "context": "I was concerned about my card balance. I hope there's enough money. I need to make the payment for the subscription."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "I don't turn it off, never.",
                    "corrected": "I never turn it off.",
                    "explanation": "The placement of 'never' is incorrect; it should precede the verb 'turn' for proper emphasis.",
                    "context": "I find the VPN very useful. I never turn it off. There’s no reason to do so."
                },
                {
                    "original": "It's Italian movie.",
                    "corrected": "It's an Italian movie.",
                    "explanation": "The article 'an' is missing before 'Italian movie'; it is necessary for grammatical correctness.",
                    "context": "I want to watch a film I found on TikTok. It's an Italian movie. I want to watch it in English."
                },
                {
                    "original": "I don't remember the name of this.",
                    "corrected": "I don't remember the name of it.",
                    "explanation": "'This' is incorrect here; 'it' should be used to refer to the previously mentioned movie.",
                    "context": "I want to find the film again. I don't remember the name of it. I need to search for it on TikTok."
                },
                {
                    "original": "I can call it.",
                    "corrected": "I can count them.",
                    "explanation": "The phrase 'call it' is incorrect; 'count them' is the appropriate expression for enumerating the days.",
                    "context": "I was asked to count the days of the week. I can count them. Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday."
                },
                {
                    "original": "I don't know nothing about the rest.",
                    "corrected": "I don't know anything about the rest.",
                    "explanation": "Double negatives are incorrect in standard English; 'anything' should be used instead of 'nothing.'",
                    "context": "I was talking about the days of the week. I don't know anything about the rest. I only know about Thursday."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Wi-Fi",
                    "definition": "A technology that allows electronic devices to connect to a wireless local area network (WLAN).",
                    "context": {
                        "Context 1": "I changed the Wi-Fi to my mobile internet for a better connection.",
                        "Context 2": "The café offers free Wi-Fi for all its customers.",
                        "Context 3": "My dog loves to sit near the router because he thinks it’s a warm spot."
                    }
                },
                {
                    "word": "Hotspot",
                    "definition": "A physical location where people can access the Internet, typically using Wi-Fi.",
                    "context": {
                        "Context 1": "I couldn't find the personal hotspot option on my phone.",
                        "Context 2": "The city has several public hotspots for tourists to use.",
                        "Context 3": "The chef created a new dish called 'hotspot' that was too spicy for most customers."
                    }
                },
                {
                    "word": "VPN",
                    "definition": "A Virtual Private Network that creates a secure connection over the Internet.",
                    "context": {
                        "Context 1": "I will turn the VPN on to secure my connection.",
                        "Context 2": "Many people use a VPN to access content that is restricted in their country.",
                        "Context 3": "The cat wore a VPN collar to keep its location private from other pets."
                    }
                },
                {
                    "word": "Settings",
                    "definition": "The options or configurations available on a device or application.",
                    "context": {
                        "Context 1": "You need to go to the settings to find the personal hotspot option.",
                        "Context 2": "The app has a variety of settings to customize your experience.",
                        "Context 3": "The settings for the new video game are so complicated that I needed a manual."
                    }
                },
                {
                    "word": "Screenshot",
                    "definition": "An image taken of what is displayed on a screen.",
                    "context": {
                        "Context 1": "Please send me the screenshot of your settings.",
                        "Context 2": "I took a screenshot of the funny meme to share with my friends.",
                        "Context 3": "The artist created a screenshot of their painting to use as a digital reference."
                    }
                },
                {
                    "word": "Version",
                    "definition": "A particular form or variant of something, often used in the context of software.",
                    "context": {
                        "Context 1": "What version of iOS are you using?",
                        "Context 2": "The latest version of the software includes many new features.",
                        "Context 3": "The author released a new version of the book with updated information."
                    }
                },
                {
                    "word": "Connection",
                    "definition": "The state of being linked or joined, especially in terms of technology.",
                    "context": {
                        "Context 1": "We will probably lose connection for 10 to 15 seconds when I turn on the VPN.",
                        "Context 2": "The connection between the two computers was established quickly.",
                        "Context 3": "The connection between the two friends grew stronger after they traveled together."
                    }
                },
                {
                    "word": "Mobile Data",
                    "definition": "Internet access provided by a mobile network, allowing devices to connect to the Internet without Wi-Fi.",
                    "context": {
                        "Context 1": "I just have mobile data on my phone, and I can't find the hotspot option.",
                        "Context 2": "Using mobile data can be expensive if you exceed your limit.",
                        "Context 3": "The mobile data plan included unlimited texting but limited calling."
                    }
                },
                {
                    "word": "Operator",
                    "definition": "A company that provides telecommunications services.",
                    "context": {
                        "Context 1": "What mobile operator are you using?",
                        "Context 2": "The operator of the amusement park announced new rides for the summer.",
                        "Context 3": "The operator of the crane skillfully lifted the heavy load."
                    }
                },
                {
                    "word": "Function",
                    "definition": "An activity or purpose natural to or intended for a person or thing.",
                    "context": {
                        "Context 1": "I don't know why, but I can't use this function on my phone.",
                        "Context 2": "The main function of a refrigerator is to keep food cold.",
                        "Context 3": "The function of the clown at the party was to entertain the children."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Wi-Fi",
                    "fact": "Did you know that the term 'Wi-Fi' doesn't actually stand for anything? It's just a catchy name!"
                },
                {
                    "word": "Hotspot",
                    "fact": "In some places, 'hotspot' refers to a place with great Wi-Fi, while in others, it’s just a popular coffee shop!"
                },
                {
                    "word": "VPN",
                    "fact": "The first VPN was created in 1996, and it was used by Microsoft to allow remote employees to connect securely!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the smartphone go to school?",
                    "answer": "Because it wanted to improve its apps-titude!"
                },
                {
                    "question": "Why did the computer break up with the internet?",
                    "answer": "Because it found someone with better bandwidth!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Screenshot",
                    "definition": "An image taken of what is displayed on a screen.",
                    "context": {
                        "Context 1": "Please send me the screenshots of the settings you changed.",
                        "Context 2": "I took a screenshot of my favorite meme to share with my friends.",
                        "Context 3": "The teacher asked us to submit a screenshot of our completed assignments."
                    }
                },
                {
                    "word": "Hotspot",
                    "definition": "A physical location where people can access the internet, typically using Wi-Fi.",
                    "context": {
                        "Context 1": "I need to enable the personal hotspot on my phone to share my internet connection.",
                        "Context 2": "The café has a hotspot for customers to use while they enjoy their coffee.",
                        "Context 3": "During the hike, we found a hotspot with great cell service to check our messages."
                    }
                },
                {
                    "word": "Compatibility",
                    "definition": "The ability of two systems or components to work together without conflict.",
                    "context": {
                        "Context 1": "Make sure to tap on maximize compatibility in your settings.",
                        "Context 2": "The new software update improved compatibility with older devices.",
                        "Context 3": "The compatibility of the new game with various consoles was a major selling point."
                    }
                },
                {
                    "word": "Network",
                    "definition": "A group of interconnected devices that can communicate with each other.",
                    "context": {
                        "Context 1": "I can't see the Wi-Fi network on my laptop.",
                        "Context 2": "The social network allows users to connect and share content easily.",
                        "Context 3": "He built a network of friends while studying abroad."
                    }
                },
                {
                    "word": "Refresh",
                    "definition": "To reload or update something, typically a webpage or application.",
                    "context": {
                        "Context 1": "Try refreshing your Wi-Fi network to see if it connects.",
                        "Context 2": "I need to refresh my memory before the exam by reviewing my notes.",
                        "Context 3": "After a long day, I like to refresh my mind by going for a walk."
                    }
                },
                {
                    "word": "Tariff",
                    "definition": "A schedule of prices or rates for services, especially in telecommunications.",
                    "context": {
                        "Context 1": "You need to check your tariff to see if sharing mobile internet is allowed.",
                        "Context 2": "The new tariff for international calls is much cheaper than before.",
                        "Context 3": "He switched to a different tariff that offered more data for less money."
                    }
                },
                {
                    "word": "Operator",
                    "definition": "A company that provides telecommunications services.",
                    "context": {
                        "Context 1": "You may need to call your operator for assistance with your internet connection.",
                        "Context 2": "The operator of the amusement park announced new safety measures.",
                        "Context 3": "She works as an operator in a call center, helping customers with their inquiries."
                    }
                },
                {
                    "word": "Settings",
                    "definition": "Options or configurations that determine how a device or application operates.",
                    "context": {
                        "Context 1": "In your settings, do you see a personal hotspot option?",
                        "Context 2": "I changed the settings on my phone to improve battery life.",
                        "Context 3": "The game allows you to customize the settings for better performance."
                    }
                },
                {
                    "word": "Volume",
                    "definition": "The level of sound produced by a device.",
                    "context": {
                        "Context 1": "Try raising the volume so I can hear you better.",
                        "Context 2": "The volume of the music was so loud that it could be heard from outside.",
                        "Context 3": "He adjusted the volume on his TV to enjoy the movie."
                    }
                },
                {
                    "word": "Reconnect",
                    "definition": "To establish a connection again after it has been lost.",
                    "context": {
                        "Context 1": "I need to reconnect my laptop to the Wi-Fi network.",
                        "Context 2": "After the storm, we had to reconnect the power supply to the house.",
                        "Context 3": "She decided to reconnect with old friends after moving back to her hometown."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Hotspot",
                    "fact": "Did you know that the term 'hotspot' was originally used to describe areas with high crime rates before it became popular for Wi-Fi?"
                },
                {
                    "word": "Screenshot",
                    "fact": "The first screenshot was taken in 1960, long before the internet existed, on a computer called the TX-0!"
                },
                {
                    "word": "Volume",
                    "fact": "The word 'volume' comes from the Latin word 'volumen,' which means 'a roll' or 'scroll,' referring to the way scrolls were used to hold written information."
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes!"
                },
                {
                    "question": "Why was the smartphone so good at math?",
                    "answer": "Because it had a lot of apps for that!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "VPN",
                    "definition": "A Virtual Private Network that creates a secure connection over the internet.",
                    "context": {
                        "Context 1": "I tried to use a VPN to access the website that was blocked in my country.",
                        "Context 2": "He used a VPN to watch movies that were only available in the US.",
                        "Context 3": "Many businesses use a VPN to protect their internal communications."
                    }
                },
                {
                    "word": "Download",
                    "definition": "To transfer data from the internet to a local device.",
                    "context": {
                        "Context 1": "You need to download the app before you can use the VPN.",
                        "Context 2": "I decided to download a new game on my phone.",
                        "Context 3": "She forgot to download the latest version of the software before the meeting."
                    }
                },
                {
                    "word": "Config file",
                    "definition": "A file that contains settings and configurations for software or applications.",
                    "context": {
                        "Context 1": "You need to save the config file I sent you to set up the VPN.",
                        "Context 2": "The config file for the game includes all the player settings.",
                        "Context 3": "He edited the config file to improve the performance of his computer."
                    }
                },
                {
                    "word": "Connect",
                    "definition": "To establish a link or communication with a network or device.",
                    "context": {
                        "Context 1": "After setting up the VPN, you need to click 'connect' to access the internet.",
                        "Context 2": "I will connect my phone to the Wi-Fi network.",
                        "Context 3": "They tried to connect their computers to the projector for the presentation."
                    }
                },
                {
                    "word": "Subscription",
                    "definition": "An arrangement to receive something regularly, typically a service or product, in exchange for payment.",
                    "context": {
                        "Context 1": "You need to pay for a subscription to access premium content on the website.",
                        "Context 2": "I canceled my magazine subscription because I wasn't reading it anymore.",
                        "Context 3": "He signed up for a monthly subscription to receive new books."
                    }
                },
                {
                    "word": "Import",
                    "definition": "To bring data or files into a program or application from another source.",
                    "context": {
                        "Context 1": "You need to import the config file into the VPN application.",
                        "Context 2": "She decided to import her photos from her phone to her computer.",
                        "Context 3": "The company plans to import raw materials from overseas."
                    }
                },
                {
                    "word": "Paste",
                    "definition": "To insert copied text or data into a document or application.",
                    "context": {
                        "Context 1": "After copying the number, you need to paste it into the app.",
                        "Context 2": "He forgot to paste the link into the email before sending it.",
                        "Context 3": "She used the paste function to add the text to her report."
                    }
                },
                {
                    "word": "Interface",
                    "definition": "The point of interaction between a user and a computer system or application.",
                    "context": {
                        "Context 1": "The VPN interface is user-friendly and easy to navigate.",
                        "Context 2": "The new software has a modern interface that users find appealing.",
                        "Context 3": "He struggled to understand the interface of the new video game."
                    }
                },
                {
                    "word": "Secure",
                    "definition": "Free from danger or threat; safe.",
                    "context": {
                        "Context 1": "Using a VPN helps to secure your internet connection.",
                        "Context 2": "She made sure to secure her home before going on vacation.",
                        "Context 3": "The bank uses encryption to secure online transactions."
                    }
                },
                {
                    "word": "Access",
                    "definition": "The ability to enter or make use of something.",
                    "context": {
                        "Context 1": "You need a VPN to access the blocked website.",
                        "Context 2": "He was granted access to the private server.",
                        "Context 3": "The library provides access to a wide range of digital resources."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "VPN",
                    "fact": "The term VPN was first used in 1996, but it sounds like a secret agent's code name!"
                },
                {
                    "word": "Download",
                    "fact": "The first downloadable file was a song by the band 'The Beatles' in 1999, but it was never officially released!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why was the computer cold?",
                    "answer": "Because it left its Windows open!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "VPN",
                    "definition": "A Virtual Private Network that creates a secure connection over the internet.",
                    "context": {
                        "Context 1": "To access restricted content, you need to turn on your VPN.",
                        "Context 2": "He used a VPN to protect his online privacy while browsing.",
                        "Context 3": "The VPN allowed her to watch shows available only in other countries."
                    }
                },
                {
                    "word": "Convenient",
                    "definition": "Easy to use or suitable for one's needs.",
                    "context": {
                        "Context 1": "Using a VPN on multiple devices is very convenient.",
                        "Context 2": "The new app is convenient for managing your daily tasks.",
                        "Context 3": "It’s convenient to have a coffee shop right next to the office."
                    }
                },
                {
                    "word": "Subtitles",
                    "definition": "Text displayed at the bottom of a screen that translates or transcribes the dialogue.",
                    "context": {
                        "Context 1": "I prefer watching movies with English subtitles.",
                        "Context 2": "The documentary had subtitles in several languages.",
                        "Context 3": "He turned on the subtitles to understand the foreign film better."
                    }
                },
                {
                    "word": "Documentary",
                    "definition": "A non-fiction film or television program that provides a factual report on a particular subject.",
                    "context": {
                        "Context 1": "She watched a documentary about Italian culture.",
                        "Context 2": "The documentary featured interviews with experts in the field.",
                        "Context 3": "He prefers documentaries over fictional movies."
                    }
                },
                {
                    "word": "Opportunities",
                    "definition": "A set of circumstances that makes it possible to do something.",
                    "context": {
                        "Context 1": "Having a VPN opens up many opportunities for streaming content.",
                        "Context 2": "The internship provided valuable opportunities for networking.",
                        "Context 3": "Traveling abroad can lead to new opportunities for personal growth."
                    }
                },
                {
                    "word": "Speed Limit",
                    "definition": "The maximum legal speed at which a vehicle may travel on a particular stretch of road.",
                    "context": {
                        "Context 1": "There is no speed limit when using the VPN for browsing.",
                        "Context 2": "The speed limit on this highway is 65 miles per hour.",
                        "Context 3": "He was pulled over for exceeding the speed limit."
                    }
                },
                {
                    "word": "Series",
                    "definition": "A set of related television programs or films that follow a common theme or storyline.",
                    "context": {
                        "Context 1": "I saved a series on my TikTok to watch later.",
                        "Context 2": "The new series on Netflix has received great reviews.",
                        "Context 3": "She binge-watched an entire series over the weekend."
                    }
                },
                {
                    "word": "Count",
                    "definition": "To determine the total number of something.",
                    "context": {
                        "Context 1": "Can you count the days of the week starting from Monday?",
                        "Context 2": "He can count to a hundred in three different languages.",
                        "Context 3": "The teacher asked the students to count how many apples were in the basket."
                    }
                },
                {
                    "word": "Thor",
                    "definition": "A god in Norse mythology associated with thunder, lightning, and storms.",
                    "context": {
                        "Context 1": "Thursday is named after Thor, the Norse god of thunder.",
                        "Context 2": "In the movie, Thor battles giants to protect his realm.",
                        "Context 3": "Many people dress as Thor for Halloween."
                    }
                },
                {
                    "word": "Mix up",
                    "definition": "To confuse two or more things or people.",
                    "context": {
                        "Context 1": "I always mix up Tuesday and Thursday.",
                        "Context 2": "She tends to mix up her friends' names when she gets excited.",
                        "Context 3": "He mixed up the ingredients while cooking and ended up with a strange dish."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "VPN",
                    "fact": "The first VPN was created in 1996, but most people still think it stands for 'Very Private Network!'"
                },
                {
                    "word": "Thor",
                    "fact": "In Norse mythology, Thor's hammer, Mjölnir, is so heavy that only he can lift it—talk about a strong arm!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many issues!"
                },
                {
                    "question": "Why did Thor bring a ladder to the bar?",
                    "answer": "Because he heard the drinks were on the house!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to figure out this new phone of mine."
                },
                {
                    "Person 1": "Oh, what kind did you get?"
                },
                {
                    "Person 2": "I got the iPhone 15. It's pretty nice, but I'm struggling with some settings."
                },
                {
                    "Person 1": "Yeah, those can be tricky. What are you trying to do?"
                },
                {
                    "Person 2": "I want to share my mobile internet with my laptop, but I can't find the option."
                },
                {
                    "Person 1": "Have you checked the personal hotspot settings?"
                },
                {
                    "Person 2": "I think so, but I can't see it anywhere."
                },
                {
                    "Person 1": "Let’s take a look. Go to your settings and search for 'hotspot'."
                },
                {
                    "Person 2": "Okay, searching... Nope, nothing shows up."
                },
                {
                    "Person 1": "Hmm, that’s odd. What version of iOS are you using?"
                },
                {
                    "Person 2": "I think it's iOS 18.4."
                },
                {
                    "Person 1": "That should have the option. Can you check under 'Mobile Data'?"
                },
                {
                    "Person 2": "Alright, let me see... I see 'Mobile Data Network' but no hotspot."
                },
                {
                    "Person 1": "Try tapping on 'Mobile Data Network' and scroll down."
                },
                {
                    "Person 2": "Okay, scrolling... Oh wait, I see 'Personal Hotspot' now!"
                },
                {
                    "Person 1": "Awesome! Can you turn it on?"
                },
                {
                    "Person 2": "Yeah, I just did! Thanks for the help!"
                },
                {
                    "Person 1": "No problem! Now you can connect your laptop."
                },
                {
                    "Person 2": "Finally! I was getting frustrated. You saved the day!"
                },
                {
                    "Person 1": "Anytime! Let me know if you need help with anything else."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you figure out that hotspot issue on your phone?"
                },
                {
                    "Person 2": "Yeah, finally! I was stuck for ages, but I think I got it sorted out."
                },
                {
                    "Person 1": "Nice! What was the trick?"
                },
                {
                    "Person 2": "I had to change a setting in the personal hotspot section. It was driving me crazy!"
                },
                {
                    "Person 1": "I can imagine! I always forget where those settings are."
                },
                {
                    "Person 2": "Right? I had to look it up online. But now it’s working, so I’m happy."
                },
                {
                    "Person 1": "Awesome! So, can you connect your laptop now?"
                },
                {
                    "Person 2": "Yep! Just had to refresh the Wi-Fi settings a couple of times."
                },
                {
                    "Person 1": "That’s great! I hate when tech doesn’t cooperate."
                },
                {
                    "Person 2": "Tell me about it! I felt like I was talking to tech support for hours."
                },
                {
                    "Person 1": "Haha! At least you didn’t have to wait on hold!"
                },
                {
                    "Person 2": "True! But I was about to lose my mind trying to troubleshoot everything."
                },
                {
                    "Person 1": "Glad you got it worked out! Now you can finally get some work done."
                },
                {
                    "Person 2": "Exactly! I can’t believe how much I rely on my phone for everything."
                },
                {
                    "Person 1": "Same here! It’s like I can’t function without it."
                },
                {
                    "Person 2": "Right? It’s a love-hate relationship for sure."
                },
                {
                    "Person 1": "For sure! Anyway, let me know if you need help with anything else."
                },
                {
                    "Person 2": "Will do! Thanks for checking in!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you manage to get that website to open?"
                },
                {
                    "Person 2": "Not really. I tried everything, even with a VPN, but it just wouldn't work."
                },
                {
                    "Person 1": "That’s frustrating! I had the same issue last week. Want me to share my VPN with you?"
                },
                {
                    "Person 2": "Sure! That would be great. Do you know how to set it up on a Mac?"
                },
                {
                    "Person 1": "Yeah, it’s pretty straightforward. Just download the app from the App Store."
                },
                {
                    "Person 2": "Okay, I see the App Store. But I tried downloading Netflix, and it didn’t work."
                },
                {
                    "Person 1": "Hmm, maybe it’s the VPN causing the issue. Let’s try to get this sorted."
                },
                {
                    "Person 2": "Alright, I’m ready. What’s the first step?"
                },
                {
                    "Person 1": "First, download the WireGuard app. I’ll send you the link."
                },
                {
                    "Person 2": "Got it! Now what?"
                },
                {
                    "Person 1": "Open the app and look for the option that says 'Add Tunnel.' Do you see it?"
                },
                {
                    "Person 2": "Yeah, I see it! What do I do next?"
                },
                {
                    "Person 1": "You need to import the configuration file I sent you. Just click on 'Import.'"
                },
                {
                    "Person 2": "Okay, I imported it. Now what?"
                },
                {
                    "Person 1": "Great! Now just click 'Connect' and see if you can access the website."
                },
                {
                    "Person 2": "It worked! I can finally see the site!"
                },
                {
                    "Person 1": "Awesome! Just remember to save any important info from the site."
                },
                {
                    "Person 2": "Definitely! I’ll save it right now. Thanks for your help!"
                },
                {
                    "Person 1": "No problem! Let me know if you need anything else."
                },
                {
                    "Person 2": "Will do! I owe you one!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you finally get that VPN set up?"
                },
                {
                    "Person 2": "Yeah, I did! It was pretty easy, actually. Just had to turn it on and off a couple of times."
                },
                {
                    "Person 1": "Nice! So, what’s the first thing you’re going to do with it?"
                },
                {
                    "Person 2": "I want to watch that Italian movie I saw on TikTok. I think it has an English version."
                },
                {
                    "Person 1": "Oh, cool! Do you remember the name of it?"
                },
                {
                    "Person 2": "Not really. I need to find it again on TikTok. It’s a series, I think."
                },
                {
                    "Person 1": "Gotcha! TikTok is great for finding stuff like that. You’ll have to let me know how it is."
                },
                {
                    "Person 2": "Definitely! I’ll check it out after our chat."
                },
                {
                    "Person 1": "Sounds good! So, how many devices can you use it on?"
                },
                {
                    "Person 2": "Up to five! I can put it on my phone, too. Super convenient."
                },
                {
                    "Person 1": "That’s awesome! I might need to get one myself."
                },
                {
                    "Person 2": "You should! It’s really handy. Plus, no speed limit, so you can binge-watch whatever."
                },
                {
                    "Person 1": "Perfect! I’ll have to look into it. By the way, are we still on for Thursday?"
                },
                {
                    "Person 2": "Yeah, for sure! Just don’t forget about the VPN before then."
                },
                {
                    "Person 1": "I won’t! I’ll make sure to have it ready. See you Thursday!"
                },
                {
                    "Person 2": "See you! Can’t wait to hear about your movie adventures!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
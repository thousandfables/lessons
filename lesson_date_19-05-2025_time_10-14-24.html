<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "Can you connect it to your computer?",
                    "corrected": "Can you connect your mobile internet to your computer?",
                    "explanation": "The pronoun 'it' is unclear; specifying 'your mobile internet' makes the sentence clearer.",
                    "context": "I was trying to troubleshoot the connection issue. Can you connect your mobile internet to your computer? I don't know why I can't."
                },
                {
                    "original": "No, I don't know why but I can.",
                    "corrected": "No, I don't know why, but I can't.",
                    "explanation": "The speaker mistakenly used 'can' instead of 'can't' to indicate inability.",
                    "context": "I was frustrated with my phone's settings. No, I don't know why, but I can't connect it."
                },
                {
                    "original": "I just can't give my mobile internet on my phone.",
                    "corrected": "I just can't share my mobile internet from my phone.",
                    "explanation": "'Give' is incorrect; 'share' should be used in this context to describe providing internet access.",
                    "context": "I was explaining my issue with the phone. I just can't share my mobile internet from my phone."
                },
                {
                    "original": "It's called on my phone, it's called Mobile Hotspot or Personal Hotspot.",
                    "corrected": "On my phone, it's called Mobile Hotspot or Personal Hotspot.",
                    "explanation": "The phrase 'It's called on my phone' is awkward; rephrasing clarifies the subject.",
                    "context": "I was trying to explain the feature on my phone. On my phone, it's called Mobile Hotspot or Personal Hotspot."
                },
                {
                    "original": "You can see.",
                    "corrected": "You can see it.",
                    "explanation": "The sentence is incomplete; adding 'it' clarifies what is being referred to.",
                    "context": "I was trying to confirm if the other person could see my screen. You can see it."
                },
                {
                    "original": "I was saying that I'm about to turn my VPN on.",
                    "corrected": "I said that I was about to turn my VPN on.",
                    "explanation": "The tense is inconsistent; 'was saying' should be changed to 'said' for past context.",
                    "context": "I was updating my friend about my actions. I said that I was about to turn my VPN on."
                },
                {
                    "original": "I don't remember.",
                    "corrected": "I can't remember.",
                    "explanation": "'I don't remember' is grammatically correct, but 'I can't remember' is more idiomatic in this context.",
                    "context": "I was trying to recall details about my phone. I can't remember."
                },
                {
                    "original": "Do you have an option that says connection sharing something like that, something along the lines?",
                    "corrected": "Do you have an option that says 'connection sharing' or something like that?",
                    "explanation": "The phrasing is awkward; simplifying it improves clarity.",
                    "context": "I was trying to guide my friend through the settings. Do you have an option that says 'connection sharing' or something like that?"
                },
                {
                    "original": "Search for it?",
                    "corrected": "Can you search for it?",
                    "explanation": "The original sentence is a fragment; adding 'Can you' makes it a complete question.",
                    "context": "I was asking my friend to look for a setting. Can you search for it?"
                },
                {
                    "original": "What do you need to look?",
                    "corrected": "What do you need to look for?",
                    "explanation": "The phrase is missing 'for,' which is necessary for the verb 'look.'",
                    "context": "I was clarifying what my friend should search for in the settings. What do you need to look for?"
                },
                {
                    "original": "I will turn VPN on.",
                    "corrected": "I will turn the VPN on.",
                    "explanation": "The article 'the' is needed before 'VPN' to specify which VPN is being referred to.",
                    "context": "I was preparing to secure my connection. I will turn the VPN on."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I can't see this. This mobile's service on my laptop.",
                    "corrected": "I can't see this mobile service on my laptop.",
                    "explanation": "The phrase 'this mobile's service' is incorrect; it should be 'this mobile service' to refer to the service provided by the mobile device.",
                    "context": "I'm trying to troubleshoot my laptop connection. I can't see this mobile service on my laptop. It's frustrating because I need it to work."
                },
                {
                    "original": "I told I hear you very, very quietly.",
                    "corrected": "I told you I hear you very, very quietly.",
                    "explanation": "The phrase is missing the pronoun 'you'; it should be 'I told you' to clarify who is being addressed.",
                    "context": "During the call, I was trying to communicate the issue. I told you I hear you very, very quietly. It's hard to understand what you're saying."
                },
                {
                    "original": "Do you have my first question of order?",
                    "corrected": "Do you have my first question?",
                    "explanation": "The phrase 'question of order' is not commonly used in this context; simply asking for the first question is clearer.",
                    "context": "I was trying to get the conversation back on track. Do you have my first question? I want to clarify something important."
                },
                {
                    "original": "I connect in my mobile Wi-Fi, but it doesn't work on my laptop.",
                    "corrected": "I'm connected to my mobile Wi-Fi, but it doesn't work on my laptop.",
                    "explanation": "The phrase 'I connect in' is incorrect; it should be 'I'm connected to' to indicate the current state of connection.",
                    "context": "I was explaining my connectivity issue. I'm connected to my mobile Wi-Fi, but it doesn't work on my laptop. It's really confusing."
                },
                {
                    "original": "You need to call to MTS.",
                    "corrected": "You need to call MTS.",
                    "explanation": "The phrase 'call to MTS' is incorrect; it should simply be 'call MTS' without 'to.'",
                    "context": "I was advising on how to resolve the issue. You need to call MTS. They can provide more information about your service."
                },
                {
                    "original": "On your phone, mobile internet should be turned on and Wi-Fi should be turned on as well.",
                    "corrected": "On your phone, the mobile internet should be turned on and Wi-Fi should be turned on as well.",
                    "explanation": "The phrase is missing the article 'the' before 'mobile internet'; it should specify which mobile internet is being referred to.",
                    "context": "I was explaining the settings needed for connectivity. On your phone, the mobile internet should be turned on and Wi-Fi should be turned on as well. That's essential for it to work."
                },
                {
                    "original": "That's how it works on iPhones.",
                    "corrected": "That's how it works on iPhones.",
                    "explanation": "This sentence is correct but could be made clearer by specifying the context of the statement.",
                    "context": "I was trying to clarify how iPhones function. That's how it works on iPhones. It's just a bit different from other devices."
                },
                {
                    "original": "You shouldn't complain, it's iPhones.",
                    "corrected": "You shouldn't complain; it's iPhones.",
                    "explanation": "The sentence needs a semicolon to properly connect the two independent clauses.",
                    "context": "I was trying to lighten the mood about the frustrations with technology. You shouldn't complain; it's iPhones. They can be tricky sometimes."
                },
                {
                    "original": "I turned on my VPN for it to download your VPN.",
                    "corrected": "I turned on my VPN to download your VPN.",
                    "explanation": "The phrase 'for it to download' is awkward; it should simply be 'to download' for clarity.",
                    "context": "I was explaining my attempts to set up the VPN. I turned on my VPN to download your VPN. I thought that might help."
                },
                {
                    "original": "I don't remember. I just tried to open this and I don't remember.",
                    "corrected": "I don't remember. I just tried to open it, and I don't remember.",
                    "explanation": "The phrase 'open this' is vague; 'open it' is more appropriate. The sentence also needs a comma for clarity.",
                    "context": "I was trying to recall what happened earlier. I don't remember. I just tried to open it, and I don't remember what went wrong."
                },
                {
                    "original": "You have some kind of app store on your laptop.",
                    "corrected": "You have some kind of app store on your laptop.",
                    "explanation": "This sentence is correct but could be more specific about which app store is being referred to.",
                    "context": "I was trying to guide on downloading apps. You have some kind of app store on your laptop. You should check there for the application."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I haven't VPN.",
                    "corrected": "I don't have a VPN.",
                    "explanation": "The correct form is 'I don't have a VPN' because 'have' is the verb needed here.",
                    "context": "I was trying to connect to the VPN. I don't have a VPN. So, I needed help to set it up."
                },
                {
                    "original": "I need to do this.",
                    "corrected": "I need to do that.",
                    "explanation": "'This' is used for something close, while 'that' refers to something further away in context.",
                    "context": "I was guiding someone through the setup process. I need to do that. It's important for the connection."
                },
                {
                    "original": "I don't know how it works on Macs, to be honest.",
                    "corrected": "I don't know how it works on a Mac, to be honest.",
                    "explanation": "The term 'Mac' should be singular and preceded by 'a' when referring to one computer.",
                    "context": "I was unsure about the instructions for a different operating system. I don't know how it works on a Mac, to be honest."
                },
                {
                    "original": "You need to somehow specify location of the file that I sent.",
                    "corrected": "You need to somehow specify the location of the file that I sent.",
                    "explanation": "The article 'the' is needed before 'location' to specify which location is being referred to.",
                    "context": "I was explaining how to import a file. You need to somehow specify the location of the file that I sent."
                },
                {
                    "original": "I coped this password, maybe.",
                    "corrected": "I copied this password, maybe.",
                    "explanation": "'Coped' is incorrect; the correct past tense of 'copy' is 'copied.'",
                    "context": "I was discussing the password issue. I copied this password, maybe, but I can't paste it."
                },
                {
                    "original": "I can't to place it.",
                    "corrected": "I can't paste it.",
                    "explanation": "The phrase 'can't to place' is incorrect; it should be 'can't paste' without 'to.'",
                    "context": "I was trying to help with pasting the password. I can't paste it."
                },
                {
                    "original": "On Mac, it's a different key.",
                    "corrected": "On a Mac, it's a different key.",
                    "explanation": "The article 'a' is needed before 'Mac' to indicate one of many.",
                    "context": "I was clarifying the key differences in keyboard shortcuts. On a Mac, it's a different key."
                },
                {
                    "original": "My father's phone number is not mine.",
                    "corrected": "My father's phone number is not the same as mine.",
                    "explanation": "The phrase should clarify the comparison; 'the same as' is more idiomatic.",
                    "context": "I was explaining the confusion about phone numbers. My father's phone number is not the same as mine."
                },
                {
                    "original": "How do you pay?",
                    "corrected": "How do you make a payment?",
                    "explanation": "'Pay' is informal; 'make a payment' is more precise in this context.",
                    "context": "I was asking about the payment process. How do you make a payment?"
                },
                {
                    "original": "I don't think so I can call him now.",
                    "corrected": "I don't think I can call him now.",
                    "explanation": "The phrase 'so I can' is unnecessary; it should be 'I can' directly.",
                    "context": "I was expressing doubt about calling someone. I don't think I can call him now."
                },
                {
                    "original": "I always just... It's just like...",
                    "corrected": "I usually just... It's just like...",
                    "explanation": "'Always' implies every time, while 'usually' is more appropriate for common actions.",
                    "context": "I was trying to explain my usual payment method. I usually just... It's just like..."
                },
                {
                    "original": "You just turn VPN off.",
                    "corrected": "You just turn the VPN off.",
                    "explanation": "The article 'the' is needed before 'VPN' to specify which VPN is being referred to.",
                    "context": "I was summarizing the steps for using the VPN. You just turn the VPN off."
                },
                {
                    "original": "What are you going to do?",
                    "corrected": "What will you do?",
                    "explanation": "The phrase 'are you going to' is informal; 'will you' is more direct.",
                    "context": "I was curious about their plans after setting up the VPN. What will you do?"
                },
                {
                    "original": "I don't turn it off, never.",
                    "corrected": "I never turn it off.",
                    "explanation": "The placement of 'never' should be before the verb for correct emphasis.",
                    "context": "I was explaining my usage habits. I never turn it off."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "It's Italian movie.",
                    "corrected": "It's an Italian movie.",
                    "explanation": "The article 'an' is needed before 'Italian movie' to indicate that it is a singular noun.",
                    "context": "I want to watch a film I found on TikTok. It's an Italian movie. I want to watch it in English."
                },
                {
                    "original": "It's like a cereal.",
                    "corrected": "It's like a series.",
                    "explanation": "'Cereal' refers to a type of food, while 'series' refers to a sequence of related episodes or events.",
                    "context": "I need to find the film I saved on TikTok. It's like a series. After our lesson, I'll try to find it."
                },
                {
                    "original": "I don't know nothing about the rest.",
                    "corrected": "I don't know anything about the rest.",
                    "explanation": "Double negatives are incorrect in standard English; 'anything' should be used instead of 'nothing.'",
                    "context": "I only know about Thursday. I don't know anything about the rest. All right, then see you on Thursday."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Hotspot",
                    "definition": "A physical location where people can access the internet, typically using Wi-Fi.",
                    "context": {
                        "Context 1": "You can enable the personal hotspot feature on your phone to share your internet connection.",
                        "Context 2": "The café had a hotspot where customers could enjoy free Wi-Fi while sipping coffee.",
                        "Context 3": "During the hike, they found a scenic hotspot perfect for taking pictures."
                    }
                },
                {
                    "word": "VPN",
                    "definition": "A Virtual Private Network that creates a secure connection over the internet.",
                    "context": {
                        "Context 1": "I will turn on my VPN for better security while browsing.",
                        "Context 2": "He used a VPN to access content that was blocked in his country.",
                        "Context 3": "The VPN allowed her to connect to her office network from home."
                    }
                },
                {
                    "word": "Settings",
                    "definition": "The options or configurations available on a device or application.",
                    "context": {
                        "Context 1": "You need to check the settings on your phone to find the personal hotspot option.",
                        "Context 2": "In the game, you can adjust the settings to change the difficulty level.",
                        "Context 3": "The settings of the new software were confusing for many users."
                    }
                },
                {
                    "word": "Screenshot",
                    "definition": "An image taken of what is displayed on a screen.",
                    "context": {
                        "Context 1": "Please send me a screenshot of your settings to help troubleshoot the issue.",
                        "Context 2": "She took a screenshot of the funny meme to share with her friends.",
                        "Context 3": "The teacher asked the students to submit a screenshot of their completed assignments."
                    }
                },
                {
                    "word": "Connection",
                    "definition": "The state of being linked or joined, especially in terms of technology.",
                    "context": {
                        "Context 1": "You might lose your connection for a few seconds while I turn on the VPN.",
                        "Context 2": "The connection between the two computers was established through a network cable.",
                        "Context 3": "He felt a strong connection with the character in the movie."
                    }
                },
                {
                    "word": "Mobile data",
                    "definition": "Internet access provided through a mobile network rather than Wi-Fi.",
                    "context": {
                        "Context 1": "If your Wi-Fi is not working, you can use your mobile data instead.",
                        "Context 2": "She ran out of mobile data while streaming her favorite show.",
                        "Context 3": "The mobile data plan offered unlimited access for a fixed monthly fee."
                    }
                },
                {
                    "word": "Operator",
                    "definition": "A company that provides telecommunications services.",
                    "context": {
                        "Context 1": "What mobile operator are you using for your phone service?",
                        "Context 2": "The operator of the amusement park ensured all rides were safe.",
                        "Context 3": "He is a skilled operator of heavy machinery on construction sites."
                    }
                },
                {
                    "word": "Version",
                    "definition": "A specific form or variant of something, often referring to software.",
                    "context": {
                        "Context 1": "What version of iOS are you using on your iPhone?",
                        "Context 2": "The latest version of the app includes new features and bug fixes.",
                        "Context 3": "She preferred the original version of the song over the remix."
                    }
                },
                {
                    "word": "Function",
                    "definition": "The specific purpose or role that something is designed to perform.",
                    "context": {
                        "Context 1": "I don't know why my phone doesn't have the hotspot function.",
                        "Context 2": "The function of the heart is to pump blood throughout the body.",
                        "Context 3": "In mathematics, a function describes the relationship between two variables."
                    }
                },
                {
                    "word": "Troubleshoot",
                    "definition": "To identify and resolve problems or issues.",
                    "context": {
                        "Context 1": "We need to troubleshoot the issue with your phone's hotspot feature.",
                        "Context 2": "The IT team was called in to troubleshoot the network outage.",
                        "Context 3": "He learned how to troubleshoot common problems with his car."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Hotspot",
                    "fact": "Did you know that the term 'hotspot' originally referred to a place with a high concentration of crime?"
                },
                {
                    "word": "VPN",
                    "fact": "The first VPN was created in 1996, and it was designed to allow remote workers to access corporate networks securely."
                }
            ],
            "jokes": [
                {
                    "question": "Why did the smartphone go to school?",
                    "answer": "Because it wanted to improve its app-titude!"
                },
                {
                    "question": "Why did the computer break up with the internet?",
                    "answer": "Because it found a better connection!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Wi-Fi",
                    "definition": "A technology that allows electronic devices to connect to a wireless local area network (WLAN).",
                    "context": {
                        "Context 1": "I can't see this Wi-Fi network on my laptop.",
                        "Context 2": "The café offers free Wi-Fi for all customers.",
                        "Context 3": "My dog loves to chase the Wi-Fi signal around the house!"
                    }
                },
                {
                    "word": "Hotspot",
                    "definition": "A physical location where people can access the internet, typically using Wi-Fi.",
                    "context": {
                        "Context 1": "Do you see a personal hotspot setting on your phone?",
                        "Context 2": "The park has a hotspot where you can connect to the internet.",
                        "Context 3": "My cat thinks the hotspot is a warm place to nap!"
                    }
                },
                {
                    "word": "Tariff",
                    "definition": "A schedule of rates or charges for services, especially in telecommunications.",
                    "context": {
                        "Context 1": "Are you sure on your tariff it is allowed to share mobile internet?",
                        "Context 2": "The new tariff plan offers unlimited data for a fixed monthly fee.",
                        "Context 3": "My favorite tariff is the one that gives discounts for pizza!"
                    }
                },
                {
                    "word": "VPN",
                    "definition": "A Virtual Private Network that encrypts your internet connection for privacy and security.",
                    "context": {
                        "Context 1": "Did you manage to turn on your VPN?",
                        "Context 2": "Using a VPN can help you access content that is blocked in your country.",
                        "Context 3": "My VPN is so slow, it feels like I'm browsing the internet on a turtle!"
                    }
                },
                {
                    "word": "Screenshot",
                    "definition": "An image taken of what is displayed on a computer or mobile device screen.",
                    "context": {
                        "Context 1": "Send me the screenshot of your settings.",
                        "Context 2": "I took a screenshot of the funny meme to share with my friends.",
                        "Context 3": "My computer's screenshot feature is so good, it should win an award!"
                    }
                },
                {
                    "word": "Refresh",
                    "definition": "To reload or update the content on a screen or webpage.",
                    "context": {
                        "Context 1": "Try refreshing your Wi-Fi network.",
                        "Context 2": "I need to refresh my memory before the exam.",
                        "Context 3": "The garden needs a refresh after the winter; it looks a bit sad!"
                    }
                },
                {
                    "word": "Compatibility",
                    "definition": "The ability of two systems or components to work together without conflict.",
                    "context": {
                        "Context 1": "Tap on maximize compatibility in your settings.",
                        "Context 2": "The software update improved compatibility with older devices.",
                        "Context 3": "My compatibility with chocolate is off the charts!"
                    }
                },
                {
                    "word": "Settings",
                    "definition": "The options available on a device that allow users to customize its functions.",
                    "context": {
                        "Context 1": "Do you see the settings on your phone?",
                        "Context 2": "I changed the settings on my phone to save battery life.",
                        "Context 3": "The settings in my kitchen are always a mess after I cook!"
                    }
                },
                {
                    "word": "Restart",
                    "definition": "To shut down and then start up a device again.",
                    "context": {
                        "Context 1": "I will restart the conference to fix the audio issue.",
                        "Context 2": "Sometimes, all you need to do is restart your computer to solve the problem.",
                        "Context 3": "I wish I could restart my day after spilling coffee on my shirt!"
                    }
                },
                {
                    "word": "Volume",
                    "definition": "The level of sound produced by a device.",
                    "context": {
                        "Context 1": "Try raising the volume so I can hear you better.",
                        "Context 2": "The volume on my TV was too low to hear the dialogue.",
                        "Context 3": "I accidentally turned the volume up so high that my cat ran away!"
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Wi-Fi",
                    "fact": "The term 'Wi-Fi' doesn't actually stand for anything; it's just a catchy name!"
                },
                {
                    "word": "Hotspot",
                    "fact": "The first public Wi-Fi hotspot was created in 1993 at a café in New York City!"
                },
                {
                    "word": "VPN",
                    "fact": "VPNs were originally created for businesses to secure remote access, but now they're popular for binge-watching shows!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of anxiety!"
                },
                {
                    "question": "Why did the smartphone need glasses?",
                    "answer": "Because it lost its contacts!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "VPN",
                    "definition": "A Virtual Private Network that creates a secure connection over the internet.",
                    "context": {
                        "Context 1": "To protect your online privacy, it's important to use a VPN.",
                        "Context 2": "He used a VPN to access content that was blocked in his country.",
                        "Context 3": "The VPN allowed her to work remotely without worrying about data security."
                    }
                },
                {
                    "word": "Download",
                    "definition": "To transfer data from the internet to your device.",
                    "context": {
                        "Context 1": "Make sure to download the app before trying to connect.",
                        "Context 2": "He forgot to download the latest version of the software.",
                        "Context 3": "She decided to download a movie to watch on the plane."
                    }
                },
                {
                    "word": "Config file",
                    "definition": "A file that contains settings and configurations for software applications.",
                    "context": {
                        "Context 1": "You need to save the config file to set up the VPN correctly.",
                        "Context 2": "The config file for the game was missing, so it wouldn't start.",
                        "Context 3": "He edited the config file to change the game's graphics settings."
                    }
                },
                {
                    "word": "Import",
                    "definition": "To bring data or files into a software application.",
                    "context": {
                        "Context 1": "You need to import the config file into the VPN application.",
                        "Context 2": "She forgot to import her contacts after switching phones.",
                        "Context 3": "He had to import the photos from his camera to his computer."
                    }
                },
                {
                    "word": "Subscription",
                    "definition": "An arrangement to receive something regularly, typically a service or product, for a fee.",
                    "context": {
                        "Context 1": "You need to pay for the subscription to use the VPN service.",
                        "Context 2": "Her magazine subscription was due for renewal next month.",
                        "Context 3": "He canceled his subscription to the streaming service after realizing he didn't use it."
                    }
                },
                {
                    "word": "Paste",
                    "definition": "To insert copied data into a document or application.",
                    "context": {
                        "Context 1": "You need to paste the copied number into the required field.",
                        "Context 2": "After copying the text, she forgot to paste it into the email.",
                        "Context 3": "He learned how to paste images into his presentation slides."
                    }
                },
                {
                    "word": "Account",
                    "definition": "A record of information related to a user on a website or application.",
                    "context": {
                        "Context 1": "You need to log into your account to manage your VPN settings.",
                        "Context 2": "She created a new account to access the online course.",
                        "Context 3": "He forgot the password for his online banking account."
                    }
                },
                {
                    "word": "Connect",
                    "definition": "To join or link together, especially in terms of technology.",
                    "context": {
                        "Context 1": "After setting everything up, you need to connect to the VPN.",
                        "Context 2": "He tried to connect his phone to the Wi-Fi network.",
                        "Context 3": "They wanted to connect their laptops to the projector for the presentation."
                    }
                },
                {
                    "word": "Secure",
                    "definition": "Protected against threats or unauthorized access.",
                    "context": {
                        "Context 1": "Using a VPN helps keep your internet connection secure.",
                        "Context 2": "She felt secure knowing her data was encrypted.",
                        "Context 3": "He installed a secure lock on his front door."
                    }
                },
                {
                    "word": "Device",
                    "definition": "An electronic tool or machine used for a specific purpose.",
                    "context": {
                        "Context 1": "The VPN can be used on up to five devices.",
                        "Context 2": "She bought a new device to help with her fitness tracking.",
                        "Context 3": "His favorite device is his tablet, which he uses for reading."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "VPN",
                    "fact": "The term VPN was first used in 1996, but it took until the 2010s for most people to even know what it was!"
                },
                {
                    "word": "Download",
                    "fact": "The first downloadable file was a program called 'Archie' in 1990, which helped users find files on the internet!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of anxiety!"
                },
                {
                    "question": "Why was the computer cold?",
                    "answer": "Because it left its Windows open!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "VPN",
                    "definition": "A Virtual Private Network that creates a secure connection over the internet.",
                    "context": {
                        "Context 1": "Using a VPN allows you to access content that may be restricted in your region.",
                        "Context 2": "He used a VPN to watch his favorite shows while traveling abroad.",
                        "Context 3": "The company implemented a VPN for employees to work securely from home."
                    }
                },
                {
                    "word": "Documentary",
                    "definition": "A non-fiction film or television program that provides a factual report on a particular subject.",
                    "context": {
                        "Context 1": "The documentary about climate change opened my eyes to environmental issues.",
                        "Context 2": "She prefers watching documentaries rather than fictional movies.",
                        "Context 3": "The documentary featured interviews with experts in the field."
                    }
                },
                {
                    "word": "Subtitles",
                    "definition": "Text displayed at the bottom of a screen that translates or transcribes the dialogue in a film or television program.",
                    "context": {
                        "Context 1": "I always watch foreign films with subtitles to understand better.",
                        "Context 2": "The subtitles helped me follow the movie even though it was in a different language.",
                        "Context 3": "He turned on the subtitles to catch every word of the fast-paced dialogue."
                    }
                },
                {
                    "word": "Opportunities",
                    "definition": "A set of circumstances that makes it possible to do something.",
                    "context": {
                        "Context 1": "Having a VPN opens up many opportunities for accessing global content.",
                        "Context 2": "She took advantage of the opportunities presented by her internship.",
                        "Context 3": "The job fair provided numerous opportunities for recent graduates."
                    }
                },
                {
                    "word": "Cereal",
                    "definition": "A common breakfast food made from processed grains, often eaten with milk.",
                    "context": {
                        "Context 1": "I usually have cereal for breakfast to start my day.",
                        "Context 2": "He spilled cereal all over the kitchen floor while trying to pour it.",
                        "Context 3": "The cereal box featured a cartoon character that kids loved."
                    }
                },
                {
                    "word": "Series",
                    "definition": "A set of related television programs or books that follow a particular storyline.",
                    "context": {
                        "Context 1": "I binge-watched the entire series over the weekend.",
                        "Context 2": "The series finale left fans eagerly awaiting the next season.",
                        "Context 3": "She collects books from a popular fantasy series."
                    }
                },
                {
                    "word": "Count",
                    "definition": "To determine the total number of items in a set.",
                    "context": {
                        "Context 1": "Can you count the days of the week starting from Monday?",
                        "Context 2": "He had to count the money before making the purchase.",
                        "Context 3": "The teacher asked the students to count how many books they had read."
                    }
                },
                {
                    "word": "Strange",
                    "definition": "Unusual or surprising in a way that is unsettling or hard to understand.",
                    "context": {
                        "Context 1": "It's strange that I always mix up Tuesday and Thursday.",
                        "Context 2": "The strange noise coming from the attic worried the family.",
                        "Context 3": "She had a strange dream about flying elephants last night."
                    }
                },
                {
                    "word": "Forget",
                    "definition": "To fail to remember something.",
                    "context": {
                        "Context 1": "Sometimes I forget the days of the week.",
                        "Context 2": "He tends to forget his keys at home when he rushes out.",
                        "Context 3": "Don't forget to bring your lunch to school tomorrow."
                    }
                },
                {
                    "word": "Mix",
                    "definition": "To combine two or more substances or elements together.",
                    "context": {
                        "Context 1": "I often mix up Tuesday and Thursday in my mind.",
                        "Context 2": "She likes to mix different colors of paint to create new shades.",
                        "Context 3": "The chef decided to mix various spices to enhance the dish's flavor."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Cereal",
                    "fact": "Did you know that the first breakfast cereal was invented in the late 1800s and was originally made from corn?"
                },
                {
                    "word": "Documentary",
                    "fact": "The longest documentary ever made is 'Empire,' which runs for 8 hours and 5 minutes!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not much, just trying to figure out this new phone I got."
                },
                {
                    "Person 1": "Oh nice! What kind did you get?"
                },
                {
                    "Person 2": "I got the iPhone 15. It's pretty cool, but I'm struggling with some of the settings."
                },
                {
                    "Person 1": "Yeah, I remember when I got mine. The settings can be a bit tricky at first."
                },
                {
                    "Person 2": "Exactly! I’m trying to set up the personal hotspot, but I can’t find it."
                },
                {
                    "Person 1": "Have you checked the settings menu? It should be in there."
                },
                {
                    "Person 2": "I looked, but I can’t see anything that says 'personal hotspot.'"
                },
                {
                    "Person 1": "Hmm, maybe try searching for it in the settings. There should be a search bar."
                },
                {
                    "Person 2": "Oh, I see it! Let me try searching for 'hotspot.'"
                },
                {
                    "Person 1": "Cool! Let me know if you find it."
                },
                {
                    "Person 2": "Nope, still nothing. Just mobile service options."
                },
                {
                    "Person 1": "That’s weird. What version of iOS are you using?"
                },
                {
                    "Person 2": "I think it’s the latest one, maybe iOS 18?"
                },
                {
                    "Person 1": "That should definitely have the hotspot feature. Did you get the phone new or used?"
                },
                {
                    "Person 2": "It was a gift, so I’m not sure where it came from."
                },
                {
                    "Person 1": "Gotcha. Have you tried resetting the network settings?"
                },
                {
                    "Person 2": "Not yet. Do you think that would help?"
                },
                {
                    "Person 1": "It might! Just make sure you have your Wi-Fi passwords saved before you do."
                },
                {
                    "Person 2": "Good call! I’ll try that and see if it works."
                },
                {
                    "Person 1": "Let me know how it goes! I’m here if you need help."
                },
                {
                    "Person 2": "Thanks! I appreciate it. I’ll keep you posted!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you tried that new coffee shop downtown?"
                },
                {
                    "Person 2": "Not yet! I’ve heard good things about it. What do you think?"
                },
                {
                    "Person 1": "I really liked it! Their lattes are amazing, and they have this cozy vibe."
                },
                {
                    "Person 2": "Sounds perfect! I love a good atmosphere. Did you get any snacks?"
                },
                {
                    "Person 1": "Yeah, I had a blueberry muffin. It was super fresh and delicious!"
                },
                {
                    "Person 2": "Yum! I’m definitely going to check it out. What’s the name again?"
                },
                {
                    "Person 1": "It’s called 'Brewed Awakening.' You can’t miss it!"
                },
                {
                    "Person 2": "I’ll have to swing by this weekend. Do they have outdoor seating?"
                },
                {
                    "Person 1": "Yep! There’s a nice patio area. Perfect for people-watching."
                },
                {
                    "Person 2": "Awesome! I might take my book and just relax there."
                },
                {
                    "Person 1": "Great idea! I could join you if you want some company."
                },
                {
                    "Person 2": "That would be fun! Let’s plan for Saturday morning?"
                },
                {
                    "Person 1": "Sounds like a plan! I’ll bring my favorite book too."
                },
                {
                    "Person 2": "Perfect! I can’t wait to try that muffin!"
                },
                {
                    "Person 1": "You’ll love it! See you Saturday!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you ever tried setting up a VPN? I just got one, and it's a bit confusing."
                },
                {
                    "Person 2": "Oh, totally! I set one up last month. What are you struggling with?"
                },
                {
                    "Person 1": "Well, I downloaded the app, but I can't figure out how to import the config file."
                },
                {
                    "Person 2": "Ah, that part can be tricky. Did you find the 'Add Tunnel' option?"
                },
                {
                    "Person 1": "Yeah, I see it! But when I click it, I don’t know where to go from there."
                },
                {
                    "Person 2": "You just need to import the file you downloaded. It should let you browse for it."
                },
                {
                    "Person 1": "Okay, I think I got it. I just need to save the file somewhere first, right?"
                },
                {
                    "Person 2": "Exactly! Once you have it saved, you can import it into the app."
                },
                {
                    "Person 1": "Got it! And then I just tap 'Connect'?"
                },
                {
                    "Person 2": "Yep! After that, you should be good to go. Just make sure to save any important numbers it gives you."
                },
                {
                    "Person 1": "Right, I’ll make sure to do that. What’s the first thing you did with your VPN?"
                },
                {
                    "Person 2": "I watched some shows that were only available in other countries. It was awesome!"
                },
                {
                    "Person 1": "Nice! I might do that too. I’ve been wanting to catch up on some series."
                },
                {
                    "Person 2": "For sure! Just remember to turn it on before you start streaming."
                },
                {
                    "Person 1": "Will do! Thanks for the help. I’ll let you know if I run into more issues."
                },
                {
                    "Person 2": "Anytime! Good luck with it!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you seen any good movies lately?"
                },
                {
                    "Person 2": "Not really, but I found this Italian film on TikTok that I want to check out."
                },
                {
                    "Person 1": "Oh nice! Is it in English or Italian?"
                },
                {
                    "Person 2": "I want to watch it in English, but it's originally Italian."
                },
                {
                    "Person 1": "Sounds interesting! Do you remember the name?"
                },
                {
                    "Person 2": "Not at the moment. I need to look it up on TikTok again."
                },
                {
                    "Person 1": "Good luck with that! TikTok can be a treasure trove for finding stuff."
                },
                {
                    "Person 2": "Yeah, for sure! I saved it, so I just have to find it after our chat."
                },
                {
                    "Person 1": "Awesome! By the way, are you still using that VPN?"
                },
                {
                    "Person 2": "Yep! It opens up so many more options for streaming."
                },
                {
                    "Person 1": "That's great! We should catch up on Thursday, right?"
                },
                {
                    "Person 2": "Yeah, Thursday works! I can’t wait to hear what you think of the movie."
                },
                {
                    "Person 1": "For sure! Just remind me to check my days. Sometimes I mix them up."
                },
                {
                    "Person 2": "Haha, I get that! Just think of Thursday as Thor's Day!"
                },
                {
                    "Person 1": "Thor's Day! I like that! Alright, see you on Thursday!"
                },
                {
                    "Person 2": "See you then! And don’t forget about the VPN!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
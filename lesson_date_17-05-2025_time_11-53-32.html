<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 2,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "this IELTS is very, very unlikely",
                    "corrected": "this IELTS topic is very, very unlikely",
                    "explanation": "The subject 'this IELTS' is unclear; adding 'topic' clarifies what is unlikely.",
                    "context": "I was talking about how realistic this title is in terms of IELTS. This IELTS topic is very, very unlikely because they usually choose more common interest topics."
                },
                {
                    "original": "they usually choose more common interest topics",
                    "corrected": "they usually choose more commonly interesting topics",
                    "explanation": "'Common interest topics' is awkward; 'commonly interesting topics' is more idiomatic.",
                    "context": "They usually choose more commonly interesting topics, things that everybody has to say something about, like the environment or education."
                },
                {
                    "original": "I don't know for sure what that is",
                    "corrected": "I'm not sure what that is",
                    "explanation": "'I don't know for sure' is less natural than 'I'm not sure' in this context.",
                    "context": "I don't know for sure what that is and how it works in different countries. I'm not sure what community service entails."
                },
                {
                    "original": "the only sentence you have here is very, very abstract",
                    "corrected": "the only sentence you have here is quite abstract",
                    "explanation": "'Very, very abstract' is repetitive; 'quite abstract' is more concise.",
                    "context": "You need to say at least something about community service. The only sentence you have here is quite abstract."
                },
                {
                    "original": "I kind of struggled with this idea",
                    "corrected": "I struggled with this idea",
                    "explanation": "'Kind of' is informal and unnecessary here; simply saying 'I struggled' is clearer.",
                    "context": "Initially, I wanted to write something about that, but then I struggled with this idea."
                },
                {
                    "original": "I can blame you for that",
                    "corrected": "I can't blame you for that",
                    "explanation": "The original phrase suggests fault; 'can't' indicates understanding instead.",
                    "context": "But I can't blame you for that. This paragraph is fine from that perspective."
                },
                {
                    "original": "research is a derivative of search",
                    "corrected": "research is derived from search",
                    "explanation": "'A derivative of' is incorrect in this context; 'derived from' is the correct phrase.",
                    "context": "The biggest mistake here that I found was that research is derived from search, which is uncountable."
                },
                {
                    "original": "two tips for you. I have two tips for you.",
                    "corrected": "I have two pieces of advice for you.",
                    "explanation": "Repetition of 'two tips' is unnecessary; 'pieces of advice' is the correct expression.",
                    "context": "I have two tips for you. I have two pieces of advice for you regarding your writing."
                },
                {
                    "original": "we need to write at least about two",
                    "corrected": "we need to write about at least two",
                    "explanation": "The phrase 'at least' should precede 'two' for correct emphasis.",
                    "context": "When we hear advantages in plural, we need to write about at least two, but we don't have to write about the second one in detail."
                },
                {
                    "original": "which aspect do you wanna write about, about advantages or disadvantages?",
                    "corrected": "which aspect do you want to write about, advantages or disadvantages?",
                    "explanation": "'Wanna' is informal; 'want to' is more appropriate in this context.",
                    "context": "Which aspect do you want to write about, advantages or disadvantages? I guess about disadvantages."
                },
                {
                    "original": "a short plan is always a good idea",
                    "corrected": "a short plan is always a good strategy",
                    "explanation": "'Good idea' is vague; 'good strategy' is more specific and appropriate.",
                    "context": "A short plan is always a good strategy. Normally, you need a plan for advantages or disadvantages."
                },
                {
                    "original": "real does not fit very well",
                    "corrected": "real doesn't fit very well",
                    "explanation": "The contraction 'doesn't' is more natural in spoken English.",
                    "context": "Real doesn't fit very well, I think. We can think in terms of now and then."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "Why not to use the way you put it in the inward.",
                    "corrected": "Why not use the way you put it in the introduction.",
                    "explanation": "The phrase 'to use' is incorrect here; it should be 'use' without 'to.'",
                    "context": "When discussing the structure of essays, I mentioned that we should consider how to phrase our ideas. Why not use the way you put it in the introduction? It can help make our writing clearer."
                },
                {
                    "original": "If you're, if you're run out of other options, you can do that.",
                    "corrected": "If you've run out of other options, you can do that.",
                    "explanation": "The phrase 'you're run out' is incorrect; it should be 'you've run out' to indicate the present perfect tense.",
                    "context": "In the context of writing essays, I suggested that if you've run out of other options, you can use a more informal tone. This flexibility can sometimes be necessary."
                },
                {
                    "original": "Like because like, why is it quicker?",
                    "corrected": "Like, why is it quicker?",
                    "explanation": "The repetition of 'like' is unnecessary; it should be used once.",
                    "context": "While discussing the advantages of online shopping, I asked, 'Like, why is it quicker?' This helps to clarify the point being made."
                },
                {
                    "original": "You have it all here on your PC.",
                    "corrected": "You have everything here on your PC.",
                    "explanation": "'All' is too informal in this context; 'everything' is more appropriate for academic writing.",
                    "context": "In the discussion about online shopping, I emphasized that you have everything here on your PC. This highlights the convenience of shopping online."
                },
                {
                    "original": "The word I was hinting at was traditional.",
                    "corrected": "The word I was hinting at was 'traditional.'",
                    "explanation": "Quotation marks are needed around 'traditional' to indicate that it is a specific term.",
                    "context": "When discussing vocabulary choices, I pointed out that the word I was hinting at was 'traditional.' This helps clarify the term I wanted to emphasize."
                },
                {
                    "original": "We can buy a lot of things that yeah.",
                    "corrected": "We can buy a lot of things.",
                    "explanation": "The phrase 'that yeah' is unnecessary and should be removed for clarity.",
                    "context": "In talking about online shopping, I mentioned that we can buy a lot of things. This emphasizes the variety available through online platforms."
                },
                {
                    "original": "Sometimes it's good to use private cases like T-shirts, jeans and T-shirt, jeans, etc.",
                    "corrected": "Sometimes it's good to use specific examples like T-shirts, jeans, etc.",
                    "explanation": "'Private cases' is not a standard phrase; 'specific examples' is more appropriate.",
                    "context": "While discussing examples in writing, I noted that sometimes it's good to use specific examples like T-shirts, jeans, etc. This helps illustrate the point more effectively."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Community Service",
                    "definition": "Voluntary work intended to help people in a particular area.",
                    "context": {
                        "Context 1": "Community service can involve activities like cleaning parks or helping at local shelters.",
                        "Context 2": "After winning the lottery, he decided to dedicate his time to community service instead of traveling.",
                        "Context 3": "The community service project aimed to build a new playground for children in the neighborhood."
                    }
                },
                {
                    "word": "Abstract",
                    "definition": "Existing in thought or as an idea but not having a physical or concrete existence.",
                    "context": {
                        "Context 1": "The teacher noted that the student's argument was too abstract and needed more specific examples.",
                        "Context 2": "The artist's abstract painting left viewers questioning its meaning.",
                        "Context 3": "In mathematics, abstract concepts can sometimes be difficult to grasp without practical application."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "From a psychological perspective, understanding emotions is crucial for mental health.",
                        "Context 2": "Her perspective on the issue changed after she attended the seminar.",
                        "Context 3": "The movie offered a unique perspective on historical events, making them more relatable."
                    }
                },
                {
                    "word": "Influence",
                    "definition": "The capacity to have an effect on the character, development, or behavior of someone or something.",
                    "context": {
                        "Context 1": "Peer influence can significantly affect a teenager's choices.",
                        "Context 2": "The influence of social media on public opinion is undeniable.",
                        "Context 3": "She had a positive influence on her younger siblings, encouraging them to pursue their dreams."
                    }
                },
                {
                    "word": "Advantages",
                    "definition": "A condition or circumstance that puts one in a favorable or superior position.",
                    "context": {
                        "Context 1": "The advantages of community service include gaining experience and making new friends.",
                        "Context 2": "One of the advantages of living in a big city is the variety of entertainment options.",
                        "Context 3": "The advantages of studying abroad can include cultural immersion and language acquisition."
                    }
                },
                {
                    "word": "Disadvantages",
                    "definition": "An unfavorable circumstance or condition that reduces the chances of success or effectiveness.",
                    "context": {
                        "Context 1": "The disadvantages of community service might include time commitment and physical labor.",
                        "Context 2": "One of the main disadvantages of online shopping is the inability to try on clothes before purchasing.",
                        "Context 3": "The disadvantages of working from home can include distractions and isolation."
                    }
                },
                {
                    "word": "Research",
                    "definition": "The systematic investigation into and study of materials and sources to establish facts and reach new conclusions.",
                    "context": {
                        "Context 1": "The research conducted on community service programs revealed their positive impact on communities.",
                        "Context 2": "He spent hours doing research for his science project on renewable energy.",
                        "Context 3": "Research shows that regular exercise improves mental health."
                    }
                },
                {
                    "word": "Minor",
                    "definition": "Lesser in importance, seriousness, or significance.",
                    "context": {
                        "Context 1": "The teacher pointed out a minor error in the student's essay that could easily be corrected.",
                        "Context 2": "He was involved in a minor car accident but was not injured.",
                        "Context 3": "The minor details of the plan can be adjusted later if needed."
                    }
                },
                {
                    "word": "Punctuation",
                    "definition": "The marks used in writing that help clarify meaning and separate linguistic units.",
                    "context": {
                        "Context 1": "Proper punctuation is essential for clear communication in writing.",
                        "Context 2": "He forgot to use punctuation in his text message, making it confusing.",
                        "Context 3": "In poetry, punctuation can be used creatively to influence the rhythm."
                    }
                },
                {
                    "word": "Strategy",
                    "definition": "A plan of action designed to achieve a long-term or overall aim.",
                    "context": {
                        "Context 1": "The teacher suggested a strategy for organizing thoughts before writing an essay.",
                        "Context 2": "In chess, having a good strategy is key to winning the game.",
                        "Context 3": "The marketing team developed a new strategy to attract more customers."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Community Service",
                    "fact": "In some countries, community service can involve walking dogs at shelters, which is a win-win for both the dogs and the volunteers!"
                },
                {
                    "word": "Abstract",
                    "fact": "The term 'abstract' comes from the Latin word 'abstrahere,' which means 'to draw away.' So, next time you feel confused by abstract art, just remember it's all about drawing away from reality!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Flexible",
                    "definition": "Capable of bending easily without breaking; adaptable.",
                    "context": {
                        "Context 1": "I prefer essays over reports because they allow for more flexible writing styles.",
                        "Context 2": "The yoga class was very flexible, accommodating students of all skill levels.",
                        "Context 3": "He has a flexible schedule, which allows him to travel whenever he wants."
                    }
                },
                {
                    "word": "Rigid",
                    "definition": "Not able to be changed or adapted; stiff.",
                    "context": {
                        "Context 1": "Reports are much more rigid compared to essays, which can be more creative.",
                        "Context 2": "The rigid rules of the game made it less enjoyable for the players.",
                        "Context 3": "Her rigid routine left no room for spontaneity or fun."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something using different words, especially to achieve greater clarity.",
                    "context": {
                        "Context 1": "In essays, we often need to paraphrase ideas to avoid plagiarism.",
                        "Context 2": "He had to paraphrase the complex text to make it understandable for his classmates.",
                        "Context 3": "The teacher asked the students to paraphrase the poem in their own words."
                    }
                },
                {
                    "word": "Polish",
                    "definition": "To make something smooth and shiny by rubbing it; to refine or improve.",
                    "context": {
                        "Context 1": "You will need to polish your essay before submitting it.",
                        "Context 2": "She decided to polish her shoes for the interview to make a good impression.",
                        "Context 3": "The artist took time to polish the details of the sculpture."
                    }
                },
                {
                    "word": "Advantage",
                    "definition": "A condition or circumstance that puts one in a favorable or superior position.",
                    "context": {
                        "Context 1": "In the essay, we discussed the advantages of online shopping.",
                        "Context 2": "Having a mentor can be a significant advantage in your career.",
                        "Context 3": "The advantage of living in a big city is access to various cultural events."
                    }
                },
                {
                    "word": "Disadvantage",
                    "definition": "An unfavorable circumstance or condition that reduces the chances of success or effectiveness.",
                    "context": {
                        "Context 1": "We also need to consider the disadvantages of online shopping in our essay.",
                        "Context 2": "One disadvantage of working from home is the potential for distractions.",
                        "Context 3": "The disadvantage of a small town is limited job opportunities."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event, statement, or idea.",
                    "context": {
                        "Context 1": "Understanding the context of the lesson helps in grasping the concepts better.",
                        "Context 2": "Without context, the joke may not make sense to the audience.",
                        "Context 3": "The historical context of the painting adds depth to its meaning."
                    }
                },
                {
                    "word": "Minor",
                    "definition": "Lesser in importance, seriousness, or significance.",
                    "context": {
                        "Context 1": "We should mention a minor advantage in our essay as well.",
                        "Context 2": "The minor details of the project were overlooked during the presentation.",
                        "Context 3": "He had a minor injury but was still able to play in the game."
                    }
                },
                {
                    "word": "Individual",
                    "definition": "A single human being as distinct from a group.",
                    "context": {
                        "Context 1": "For many individuals, online shopping is a convenient option.",
                        "Context 2": "Each individual has unique talents and skills.",
                        "Context 3": "The individual decided to take a different path from the rest of the team."
                    }
                },
                {
                    "word": "Synonym",
                    "definition": "A word or phrase that means exactly or nearly the same as another word or phrase.",
                    "context": {
                        "Context 1": "After finishing the essay, we might think of different synonyms to use.",
                        "Context 2": "Finding the right synonym can enhance your vocabulary.",
                        "Context 3": "The teacher encouraged students to use synonyms to avoid repetition in their writing."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Flexible",
                    "fact": "Did you know that some trees can be so flexible that they can bend without breaking in strong winds?"
                },
                {
                    "word": "Rigid",
                    "fact": "In the animal kingdom, the octopus is known for its flexibility, while the tortoise is the epitome of rigidity!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the essay go to school?",
                    "answer": "Because it wanted to improve its grammar!"
                },
                {
                    "question": "Why did the report break up with the essay?",
                    "answer": "Because it found the relationship too rigid!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh, totally! What a finish! I was on the edge of my seat."
                },
                {
                    "Person 1": "Right? I thought they were done for, but that last-minute goal was insane!"
                },
                {
                    "Person 2": "I know! I was just about to turn it off. Glad I stuck around!"
                },
                {
                    "Person 1": "Same here! I can't believe how many comebacks we've seen this season."
                },
                {
                    "Person 2": "Yeah, it’s like every week there's a new surprise. Makes it so exciting!"
                },
                {
                    "Person 1": "For sure! So, are you going to the game this weekend?"
                },
                {
                    "Person 2": "Absolutely! I wouldn’t miss it. You coming?"
                },
                {
                    "Person 1": "Definitely! I’ll grab the snacks. What do you want?"
                },
                {
                    "Person 2": "You know me—gotta have popcorn and some nachos!"
                },
                {
                    "Person 1": "Perfect! I’ll make sure to stock up. Can’t wait!"
                },
                {
                    "Person 2": "Me neither! It’s going to be a blast!"
                },
                {
                    "Person 1": "Let’s hope for another thrilling game!"
                },
                {
                    "Person 2": "Fingers crossed! See you there!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to wrap my head around this essay I have to write."
                },
                {
                    "Person 1": "Essays can be tough. What’s the topic?"
                },
                {
                    "Person 2": "It's about the advantages and disadvantages of online shopping. I prefer writing essays over reports, though."
                },
                {
                    "Person 1": "I get that! Essays feel more flexible, right?"
                },
                {
                    "Person 2": "Exactly! Reports are so rigid. You have to stick to a strict format."
                },
                {
                    "Person 1": "Yeah, and sometimes it feels like you can't express your ideas freely."
                },
                {
                    "Person 2": "Totally! I mean, can you even use 'you' in an essay? It feels too informal."
                },
                {
                    "Person 1": "I think it depends on the context. If you're really stuck, maybe it's okay?"
                },
                {
                    "Person 2": "True! I guess I just need to polish my introduction a bit more."
                },
                {
                    "Person 1": "Good idea! It’s always helpful to read it over again."
                },
                {
                    "Person 2": "Right? I just want to make sure I explain my points clearly."
                },
                {
                    "Person 1": "For sure! Maybe start with a sentence that restates the main points?"
                },
                {
                    "Person 2": "Yeah, and then add examples to back them up. That always helps."
                },
                {
                    "Person 1": "Exactly! And don’t forget to use some synonyms to keep it interesting."
                },
                {
                    "Person 2": "Great tip! I’ll try to mix it up a bit. Thanks for the help!"
                },
                {
                    "Person 1": "Anytime! Good luck with it, and let me know how it goes!"
                },
                {
                    "Person 2": "Will do! Have a great day!"
                },
                {
                    "Person 1": "You too! See you later!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
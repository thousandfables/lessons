<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I like it so much. It's like small Dubai.",
                    "corrected": "I like it a lot. It's like a small Dubai.",
                    "explanation": "The phrase 'so much' is informal; 'a lot' is more appropriate in this context. Also, 'small Dubai' needs an article.",
                    "context": "I'm really enjoying my time here. I like it a lot. It's like a small Dubai, which is quite interesting."
                },
                {
                    "original": "Left side looks kind of like, like right side, looks kind of like Tver, I believe.",
                    "corrected": "The left side looks kind of like the right side; it looks kind of like Tver, I believe.",
                    "explanation": "Missing articles and conjunctions make the sentence unclear. 'The' should precede 'left side' and 'right side'.",
                    "context": "I've been observing the city. The left side looks kind of like the right side; it looks kind of like Tver, I believe."
                },
                {
                    "original": "I wouldn't like it so much.",
                    "corrected": "I wouldn't like it as much.",
                    "explanation": "'So much' is incorrect here; 'as much' is the correct phrase to use for comparison.",
                    "context": "The weather is perfect now. I think that if it were 20 degrees less, I wouldn't like it as much."
                },
                {
                    "original": "It's more comparable with Moscow.",
                    "corrected": "It's more comparable to Moscow.",
                    "explanation": "'Comparable with' is less common; 'comparable to' is the standard phrase.",
                    "context": "The weather here is nice. It's more comparable to Moscow, which is interesting to note."
                },
                {
                    "original": "I checked. You highlight my mistakes in an essay about countries should invest more resources.",
                    "corrected": "I checked. You highlighted my mistakes in an essay about how countries should invest more resources.",
                    "explanation": "The verb tense is incorrect; 'highlight' should be in the past tense 'highlighted'. Additionally, 'about countries should' needs restructuring.",
                    "context": "I reviewed my work. I checked. You highlighted my mistakes in an essay about how countries should invest more resources."
                },
                {
                    "original": "But I also trying to understand the first writing task.",
                    "corrected": "But I am also trying to understand the first writing task.",
                    "explanation": "The verb 'trying' needs an auxiliary verb 'am' to form the present continuous tense.",
                    "context": "I'm working on my assignments. But I am also trying to understand the first writing task."
                },
                {
                    "original": "It's so good. Really? I've never been there.",
                    "corrected": "It's really good. Really? I've never been there.",
                    "explanation": "The adverb 'really' should precede the adjective 'good' for proper emphasis.",
                    "context": "I have heard great things. It's really good. Really? I've never been there."
                },
                {
                    "original": "And they tell me that I have first.",
                    "corrected": "And they told me that I have stage one.",
                    "explanation": "The verb tense is incorrect; 'tell' should be in the past tense 'told'. Also, 'first' should be replaced with 'stage one' for clarity.",
                    "context": "I was surprised by the diagnosis. And they told me that I have stage one cancer."
                },
                {
                    "original": "But it could be. It could develop into it.",
                    "corrected": "But it could develop into cancer.",
                    "explanation": "The phrase 'it could be' is vague; specifying 'into cancer' clarifies the meaning.",
                    "context": "The doctors explained the situation. But it could develop into cancer."
                },
                {
                    "original": "Another reason is that they are rich.",
                    "corrected": "Another reason is the fact that they are rich.",
                    "explanation": "The phrase 'is that' is less formal; 'is the fact that' is more precise and formal.",
                    "context": "In my essay, I provided several points. Another reason is the fact that they are rich."
                },
                {
                    "original": "Conditions isn't plural.",
                    "corrected": "Conditions aren't plural.",
                    "explanation": "'Isn't' is singular; 'aren't' should be used for plural nouns like 'conditions'.",
                    "context": "We were discussing grammar rules. Conditions aren't plural."
                },
                {
                    "original": "What does a stand for?",
                    "corrected": "What does 'a' stand for?",
                    "explanation": "The quotation marks around 'a' clarify that it's a term being defined.",
                    "context": "We were reviewing articles in English. What does 'a' stand for?"
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "A article, it's a countable singular.",
                    "corrected": "An article, it's a countable singular.",
                    "explanation": "The article 'a' should be 'an' because 'article' starts with a vowel sound.",
                    "context": "We were discussing the use of articles in English. An article, it's a countable singular. It's important to use the correct article based on the following sound."
                },
                {
                    "original": "I have many clothes on my wardrobe.",
                    "corrected": "I have many clothes in my wardrobe.",
                    "explanation": "'On' is incorrect; 'in' should be used to indicate something inside a space.",
                    "context": "When talking about where I keep my clothes, I said I have many clothes in my wardrobe. I like to keep my wardrobe organized."
                },
                {
                    "original": "It was in war.",
                    "corrected": "It was in a war.",
                    "explanation": "The phrase 'in war' is vague; 'in a war' specifies the context of being involved in a specific conflict.",
                    "context": "I was explaining an event I participated in. It was in a war. It was a unique experience that I found very interesting."
                },
                {
                    "original": "I think they are all very clever.",
                    "corrected": "I think they are all very clever people.",
                    "explanation": "The sentence lacks a noun after 'clever' to clarify what is being described.",
                    "context": "While discussing the quiz teams, I remarked, I think they are all very clever people. Their knowledge impressed me."
                },
                {
                    "original": "Was it the bar near the river in the bridge?",
                    "corrected": "Was it the bar near the river by the bridge?",
                    "explanation": "'In the bridge' is incorrect; 'by the bridge' is the correct preposition to indicate proximity.",
                    "context": "I was trying to locate the bar we talked about. Was it the bar near the river by the bridge? I wanted to confirm its location."
                },
                {
                    "original": "It was, I don't remember the day, in Tuesday probably they have only English questions.",
                    "corrected": "It was, I don't remember the day, on Tuesday probably they have only English questions.",
                    "explanation": "'In Tuesday' is incorrect; 'on Tuesday' is the correct preposition for days of the week.",
                    "context": "I was recalling an event. It was, I don't remember the day, on Tuesday probably they have only English questions. It was a fun experience."
                },
                {
                    "original": "This is very, very interesting.",
                    "corrected": "This is very interesting.",
                    "explanation": "The repetition of 'very' is unnecessary and can be simplified.",
                    "context": "After discussing the quiz event, I said, This is very interesting. I was excited about the concept of the quiz."
                },
                {
                    "original": "But do we really need this to them here?",
                    "corrected": "But do we really need this for them here?",
                    "explanation": "'To them' is incorrect; 'for them' is the appropriate preposition in this context.",
                    "context": "We were discussing the necessity of including certain information. But do we really need this for them here? I wanted to clarify our focus."
                },
                {
                    "original": "First of all, religions, language names and many, many other words are capitalized.",
                    "corrected": "First of all, religions, language names, and many other words are capitalized.",
                    "explanation": "The phrase 'many, many' is redundant; 'many' is sufficient.",
                    "context": "In our lesson about capitalization rules, I noted, First of all, religions, language names, and many other words are capitalized. It's essential to remember these rules."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "Muslim here is not a noun.",
                    "corrected": "Muslim here is not used as a noun.",
                    "explanation": "The phrase 'is not a noun' lacks clarity; it should specify that 'Muslim' is not used in a noun form.",
                    "context": "In discussing the term 'Muslim,' I pointed out that Muslim here is not used as a noun. Instead, it functions as an adjective to describe cultures and traditions."
                },
                {
                    "original": "You want to make it a verb, but what is a verb form?",
                    "corrected": "You want to make it a verb, but what is the verb form?",
                    "explanation": "The phrase 'what is a verb form?' is missing the definite article 'the,' which is necessary for clarity.",
                    "context": "I was explaining the difference between 'growth' and 'grow.' You want to make it a verb, but what is the verb form? The correct form is 'grow.'"
                },
                {
                    "original": "Growth is a noun, grow is a verb.",
                    "corrected": "Growth is a noun; 'grow' is a verb.",
                    "explanation": "The sentence needs a semicolon or conjunction to properly connect the two independent clauses.",
                    "context": "When discussing the terms, I clarified that growth is a noun; 'grow' is a verb. This distinction is important for understanding their usage."
                },
                {
                    "original": "What does it mean? Growth as in growth and growth as in horrible?",
                    "corrected": "What does it mean? Growth as in 'growth' and growth as in 'horrible'?",
                    "explanation": "The sentence lacks quotation marks around the words 'growth' and 'horrible,' which are needed to indicate that these are terms being defined.",
                    "context": "I was trying to clarify the meaning of 'growth.' What does it mean? Growth as in 'growth' and growth as in 'horrible'? It's important to differentiate these meanings."
                },
                {
                    "original": "I tried to write down the main point of each topic that possible to be.",
                    "corrected": "I tried to write down the main points of each topic that could possibly come up.",
                    "explanation": "The phrase 'that possible to be' is grammatically incorrect; it should be 'that could possibly come up' to convey the intended meaning.",
                    "context": "In preparing for the exam, I mentioned that I tried to write down the main points of each topic that could possibly come up. This helps me focus on key ideas."
                },
                {
                    "original": "But I actually lost this.",
                    "corrected": "But I actually lost track of this.",
                    "explanation": "The phrase 'lost this' is vague; 'lost track of this' provides clarity about what was lost.",
                    "context": "While practicing, I felt overwhelmed and said, 'But I actually lost track of this.' It was difficult to keep everything organized."
                },
                {
                    "original": "I don't know, would I find anything to say?",
                    "corrected": "I don't know if I would find anything to say.",
                    "explanation": "The original sentence lacks the conditional 'if,' which is necessary for proper sentence structure.",
                    "context": "When discussing the environmental questions, I expressed uncertainty by saying, 'I don't know if I would find anything to say.' It reflects my anxiety about the topic."
                },
                {
                    "original": "I have 25 beats in a minute, when ordinary people have 60 or 90.",
                    "corrected": "I have 25 beats per minute, while ordinary people have 60 to 90.",
                    "explanation": "The phrase 'in a minute' should be 'per minute,' and 'when' should be 'while' for better clarity and comparison.",
                    "context": "In explaining my heart condition, I mentioned, 'I have 25 beats per minute, while ordinary people have 60 to 90.' This highlights the severity of my situation."
                },
                {
                    "original": "I was 4 years old when doctors stopped my heart and they tried to make it beat by myself, but I unfortunately can't.",
                    "corrected": "I was 4 years old when doctors stopped my heart and tried to make it beat by itself, but unfortunately, it can't.",
                    "explanation": "The phrase 'make it beat by myself' is incorrect; it should be 'make it beat by itself' for grammatical accuracy.",
                    "context": "Reflecting on my medical history, I said, 'I was 4 years old when doctors stopped my heart and tried to make it beat by itself, but unfortunately, it can't.' This explains my condition."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Conference Room",
                    "definition": "A room used for meetings, discussions, or conferences.",
                    "context": {
                        "Context 1": "The meeting was held in a spacious conference room equipped with the latest technology.",
                        "Context 2": "He decided to take a nap in the conference room after a long day.",
                        "Context 3": "The conference room was decorated with paintings of famous leaders."
                    }
                },
                {
                    "word": "Ideal",
                    "definition": "Perfectly suitable or most suitable for a particular purpose.",
                    "context": {
                        "Context 1": "The weather in Astana was ideal for exploring the city.",
                        "Context 2": "She found the ideal hiding spot during the game of hide and seek.",
                        "Context 3": "The ideal pizza has a crispy crust and plenty of cheese."
                    }
                },
                {
                    "word": "Stage",
                    "definition": "A particular point or period in a process or development.",
                    "context": {
                        "Context 1": "The doctor explained that she was at the zero stage of cancer, meaning it was not yet developed.",
                        "Context 2": "He was excited to reach the final stage of his video game.",
                        "Context 3": "The play will be performed on stage next week."
                    }
                },
                {
                    "word": "Population",
                    "definition": "The total number of people inhabiting a particular area.",
                    "context": {
                        "Context 1": "The population of Astana has been growing rapidly in recent years.",
                        "Context 2": "The population of ants in the colony was astonishing.",
                        "Context 3": "A sudden increase in the population of rabbits can affect local vegetation."
                    }
                },
                {
                    "word": "Mistake",
                    "definition": "An action or judgment that is misguided or wrong.",
                    "context": {
                        "Context 1": "She highlighted the mistakes in her essay to improve her writing.",
                        "Context 2": "He made a mistake by forgetting his friend's birthday.",
                        "Context 3": "The chef realized he made a mistake when he added salt instead of sugar."
                    }
                },
                {
                    "word": "Rich",
                    "definition": "Having a great deal of money or assets; wealthy.",
                    "context": {
                        "Context 1": "The healthcare facility in Astana is said to be better than those in Moscow because they have rich resources.",
                        "Context 2": "She felt rich in experiences after traveling the world.",
                        "Context 3": "The rich chocolate cake was a hit at the party."
                    }
                },
                {
                    "word": "Article",
                    "definition": "A word used to modify a noun, which is typically a determiner.",
                    "context": {
                        "Context 1": "The teacher explained the use of articles in the sentence about population.",
                        "Context 2": "He wrote an article about his favorite hobbies for the school magazine.",
                        "Context 3": "The article of clothing she wore was very fashionable."
                    }
                },
                {
                    "word": "Conditions",
                    "definition": "The circumstances affecting the way in which people live or work.",
                    "context": {
                        "Context 1": "The teacher discussed the conditions under which the population thrives.",
                        "Context 2": "The weather conditions were perfect for a picnic.",
                        "Context 3": "The living conditions in the old house were quite poor."
                    }
                },
                {
                    "word": "Uncountable",
                    "definition": "Referring to nouns that cannot be counted individually.",
                    "context": {
                        "Context 1": "The teacher explained that some words, like water, are uncountable.",
                        "Context 2": "She had an uncountable amount of homework to complete over the weekend.",
                        "Context 3": "The uncountable joy of winning the championship was evident on their faces."
                    }
                },
                {
                    "word": "Frost",
                    "definition": "A thin layer of ice that forms on surfaces when the temperature drops.",
                    "context": {
                        "Context 1": "In Moscow, there was some frost reported during the early morning.",
                        "Context 2": "The frost on the grass sparkled like diamonds in the sunlight.",
                        "Context 3": "He slipped on the frost while trying to walk to his car."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Ideal",
                    "fact": "Did you know that the word 'ideal' comes from the Greek word 'idea,' which means 'form' or 'pattern'?"
                },
                {
                    "word": "Population",
                    "fact": "In 2021, the world's population reached 7.9 billion, which is enough people to fill a stadium 100,000 times!"
                },
                {
                    "word": "Frost",
                    "fact": "Frost can form even when the air temperature is above freezing, thanks to the cooling effect of the ground!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What do you call a bear with no teeth?",
                    "answer": "A gummy bear!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Entity",
                    "definition": "Something that exists as a particular and discrete unit.",
                    "context": {
                        "Context 1": "In the lesson, we discussed how we treat language as one entity.",
                        "Context 2": "The company is a legal entity that can own property.",
                        "Context 3": "In philosophy, an entity can refer to anything that has existence."
                    }
                },
                {
                    "word": "Specify",
                    "definition": "To state or identify something clearly and precisely.",
                    "context": {
                        "Context 1": "We need to specify which article to use in the sentence.",
                        "Context 2": "Can you specify the time of the meeting?",
                        "Context 3": "The recipe did not specify the amount of sugar needed."
                    }
                },
                {
                    "word": "Countable",
                    "definition": "Able to be counted; having a plural form.",
                    "context": {
                        "Context 1": "In grammar, countable nouns can take a number, like 'three beds'.",
                        "Context 2": "Apples are countable, but water is not.",
                        "Context 3": "He has a countable number of friends in the city."
                    }
                },
                {
                    "word": "Uncountable",
                    "definition": "Not able to be counted; typically refers to substances or concepts.",
                    "context": {
                        "Context 1": "In our lesson, we learned that 'sugar' is an uncountable noun.",
                        "Context 2": "Information is uncountable, so we don’t say 'informations'.",
                        "Context 3": "Love is often considered an uncountable feeling."
                    }
                },
                {
                    "word": "Affirmative",
                    "definition": "Expressing agreement or approval.",
                    "context": {
                        "Context 1": "The teacher asked for an affirmative statement about the lesson.",
                        "Context 2": "He gave an affirmative nod when asked if he understood.",
                        "Context 3": "The affirmative response from the committee was unexpected."
                    }
                },
                {
                    "word": "Concept",
                    "definition": "An abstract idea or a general notion.",
                    "context": {
                        "Context 1": "We discussed the concept of articles in English grammar.",
                        "Context 2": "The concept of freedom varies from culture to culture.",
                        "Context 3": "His concept of time management includes prioritizing tasks."
                    }
                },
                {
                    "word": "Plural",
                    "definition": "The form of a word that indicates more than one.",
                    "context": {
                        "Context 1": "The word 'clothes' is a plural noun.",
                        "Context 2": "In English, 'children' is the plural of 'child'.",
                        "Context 3": "The plural of 'mouse' is 'mice'."
                    }
                },
                {
                    "word": "Capitalized",
                    "definition": "Written with an uppercase letter.",
                    "context": {
                        "Context 1": "In our lesson, we learned that proper nouns should be capitalized.",
                        "Context 2": "The title of the book is capitalized on the cover.",
                        "Context 3": "In English, the first letter of a sentence is always capitalized."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or statement.",
                    "context": {
                        "Context 1": "Understanding the context of a sentence is crucial for comprehension.",
                        "Context 2": "In historical context, the event had significant implications.",
                        "Context 3": "The context of the joke made it much funnier."
                    }
                },
                {
                    "word": "Noun",
                    "definition": "A word that represents a person, place, thing, or idea.",
                    "context": {
                        "Context 1": "In our lesson, we identified 'government' as a noun.",
                        "Context 2": "The word 'happiness' is a noun that describes a feeling.",
                        "Context 3": "In grammar, a noun can be singular or plural."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Entity",
                    "fact": "Did you know that in legal terms, a corporation is considered an entity and can even sue or be sued?"
                },
                {
                    "word": "Countable",
                    "fact": "The word 'octopus' has a surprising plural: it's 'octopuses' or 'octopodes'—not 'octopi'!"
                },
                {
                    "word": "Uncountable",
                    "fact": "In English, 'furniture' is uncountable, so you can't say 'two furnitures'—just 'two pieces of furniture'!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the grammar teacher go to jail?",
                    "answer": "Because she had too many run-on sentences!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Prohibited",
                    "definition": "Not allowed; forbidden by law or rules.",
                    "context": {
                        "Context 1": "In many countries, smoking is prohibited in public places.",
                        "Context 2": "The sign clearly stated that swimming is prohibited after sunset.",
                        "Context 3": "It is prohibited to park your car in front of a fire hydrant."
                    }
                },
                {
                    "word": "Growth",
                    "definition": "The process of increasing in size, number, value, or strength.",
                    "context": {
                        "Context 1": "The growth of the plant was evident after a few weeks.",
                        "Context 2": "Economic growth is essential for improving living standards.",
                        "Context 3": "The growth of technology has changed how we communicate."
                    }
                },
                {
                    "word": "Respectful",
                    "definition": "Showing politeness or honor towards someone or something.",
                    "context": {
                        "Context 1": "It is important to be respectful when discussing different cultures.",
                        "Context 2": "The students were respectful during the guest speaker's presentation.",
                        "Context 3": "He was respectful enough to apologize for his mistake."
                    }
                },
                {
                    "word": "Dismiss",
                    "definition": "To allow someone to leave; to send away.",
                    "context": {
                        "Context 1": "The teacher will dismiss the class early today.",
                        "Context 2": "After the meeting, the manager dismissed everyone with a wave.",
                        "Context 3": "The judge dismissed the case due to lack of evidence."
                    }
                },
                {
                    "word": "Spontaneous",
                    "definition": "Occurring without external cause; natural and unplanned.",
                    "context": {
                        "Context 1": "Her spontaneous laughter filled the room with joy.",
                        "Context 2": "The spontaneous decision to go on a road trip made for an unforgettable adventure.",
                        "Context 3": "Spontaneous combustion can occur in certain chemical reactions."
                    }
                },
                {
                    "word": "Coherence",
                    "definition": "The quality of being logical and consistent; clarity in thought or expression.",
                    "context": {
                        "Context 1": "The coherence of her argument made it very persuasive.",
                        "Context 2": "The story lacked coherence, making it hard to follow.",
                        "Context 3": "Good coherence in writing helps readers understand the main ideas."
                    }
                },
                {
                    "word": "Examiner",
                    "definition": "A person who assesses or evaluates something, especially in an academic context.",
                    "context": {
                        "Context 1": "The examiner graded the essays based on clarity and coherence.",
                        "Context 2": "The examiner asked the candidates a series of questions during the interview.",
                        "Context 3": "An examiner can provide valuable feedback on your performance."
                    }
                },
                {
                    "word": "Hometown",
                    "definition": "The town or city where a person was born or grew up.",
                    "context": {
                        "Context 1": "She often visits her hometown during the holidays.",
                        "Context 2": "His hometown is known for its beautiful parks and friendly community.",
                        "Context 3": "Many people have fond memories of their hometowns."
                    }
                },
                {
                    "word": "Environmental",
                    "definition": "Relating to the natural world and the impact of human activity on it.",
                    "context": {
                        "Context 1": "Environmental issues are becoming increasingly important in today's society.",
                        "Context 2": "The environmental impact of plastic waste is a major concern.",
                        "Context 3": "She works for an environmental organization that promotes sustainability."
                    }
                },
                {
                    "word": "Cardio",
                    "definition": "Referring to exercises that raise the heart rate, often used in the context of fitness.",
                    "context": {
                        "Context 1": "Cardio workouts are essential for maintaining heart health.",
                        "Context 2": "She prefers cardio exercises like running and cycling.",
                        "Context 3": "The gym offers a variety of cardio machines for members."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Prohibited",
                    "fact": "In some places, it's prohibited to eat ice cream on Sundays. Who knew ice cream could be so controversial?"
                },
                {
                    "word": "Growth",
                    "fact": "Did you know that bamboo can grow up to 35 inches in a single day? Talk about rapid growth!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the teacher go to the beach?",
                    "answer": "Because she wanted to test the waters!"
                },
                {
                    "question": "What did the student say when he couldn't find his homework?",
                    "answer": "I guess it must have been 'prohibited' from leaving the house!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's your trip going so far?"
                },
                {
                    "Person 2": "It's going great! Astana is really cool, like a mini Dubai."
                },
                {
                    "Person 1": "Really? I’ve heard it’s pretty modern. What do you think of the buildings?"
                },
                {
                    "Person 2": "They’re amazing! I feel like I’m in a futuristic city. The skyline is impressive."
                },
                {
                    "Person 1": "Nice! And how's the weather treating you?"
                },
                {
                    "Person 2": "Perfect! It’s around 20 degrees, which is way better than the freezing temperatures I heard about last month."
                },
                {
                    "Person 1": "Yeah, I can imagine. I’d struggle with that cold. So, what have you been up to?"
                },
                {
                    "Person 2": "Just exploring! My mom's friends are showing us around, taking us to all the good spots."
                },
                {
                    "Person 1": "That sounds fun! Have you tried any local food yet?"
                },
                {
                    "Person 2": "Oh, definitely! The food is delicious. I had some amazing dumplings yesterday."
                },
                {
                    "Person 1": "Yum! I love dumplings. Did you get to see any landmarks?"
                },
                {
                    "Person 2": "Yes! We visited Baiterek. The view from the top is stunning!"
                },
                {
                    "Person 1": "I bet! I’ve seen pictures, and it looks incredible. Are you planning to visit more places?"
                },
                {
                    "Person 2": "For sure! We want to check out the museums and maybe even some parks."
                },
                {
                    "Person 1": "Sounds like a great plan! Make sure to take lots of pictures."
                },
                {
                    "Person 2": "I will! I want to remember every moment of this trip."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I went there last weekend! It’s pretty cool. They have all these unique flavors."
                },
                {
                    "Person 1": "Nice! What did you try?"
                },
                {
                    "Person 2": "I had a lavender latte. It sounds weird, but it was surprisingly good!"
                },
                {
                    "Person 1": "Lavender latte? That’s interesting! I usually stick to vanilla or caramel."
                },
                {
                    "Person 2": "I get that! But sometimes it's fun to try something new. They also have a matcha mocha."
                },
                {
                    "Person 1": "Matcha mocha? Now that sounds like a combo I could get behind."
                },
                {
                    "Person 2": "Definitely! Plus, the vibe in there is really chill. Perfect for hanging out or studying."
                },
                {
                    "Person 1": "I could use a good study spot. I’ve been stuck at home too much lately."
                },
                {
                    "Person 2": "Same here! A change of scenery can really help with focus."
                },
                {
                    "Person 1": "How about we check it out together this weekend?"
                },
                {
                    "Person 2": "Sounds like a plan! Let’s make it a coffee date."
                },
                {
                    "Person 1": "Awesome! I’ll bring my laptop, and we can get some work done."
                },
                {
                    "Person 2": "Perfect! And maybe we can try a couple of those unique drinks."
                },
                {
                    "Person 1": "For sure! I’m excited to see what else they have."
                },
                {
                    "Person 2": "Me too! It’ll be fun to explore."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh man, I missed it! How did it go?"
                },
                {
                    "Person 1": "It was intense! We were down by ten points in the fourth quarter, but we made a crazy comeback."
                },
                {
                    "Person 2": "No way! That sounds exciting. Who scored the winning points?"
                },
                {
                    "Person 1": "It was our rookie! He hit a three-pointer with just seconds left on the clock."
                },
                {
                    "Person 2": "Wow, that’s awesome! I love a good underdog story. Did the crowd go wild?"
                },
                {
                    "Person 1": "Absolutely! The whole place erupted. I thought my ears were going to burst!"
                },
                {
                    "Person 2": "Haha, I can imagine! So, are you going to the next game?"
                },
                {
                    "Person 1": "Definitely! I wouldn’t miss it for the world. You should come with me!"
                },
                {
                    "Person 2": "I’d love to! Just let me know when you get the tickets."
                },
                {
                    "Person 1": "Will do! It’ll be a blast. Plus, we can grab some snacks at the game."
                },
                {
                    "Person 2": "Yes! I’m all about the nachos and hot dogs."
                },
                {
                    "Person 1": "Same here! Can’t wait for it. It’s going to be so much fun."
                },
                {
                    "Person 2": "For sure! Let’s make it a plan."
                },
                {
                    "Person 1": "Sounds good! I’ll keep you posted."
                },
                {
                    "Person 2": "Awesome! Talk to you later!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
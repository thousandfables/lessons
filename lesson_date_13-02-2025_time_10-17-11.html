<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I got used to live life like older people who has never activities.",
                    "corrected": "I got used to living life like older people who have no activities.",
                    "explanation": "The phrase 'got used to' requires a gerund ('living') instead of the infinitive ('live'). Also, 'who has' should be 'who have' to agree with the plural 'people.'",
                    "context": "I have adapted to a lifestyle similar to that of older individuals. I got used to living life like older people who have no activities. It feels monotonous and unfulfilling."
                },
                {
                    "original": "Because new managers have a great idea how we can improve our 1C system.",
                    "corrected": "Because the new managers have great ideas on how we can improve our 1C system.",
                    "explanation": "The article 'the' should be used before 'new managers' for specificity, and 'ideas' should be plural to match the context. 'On' is more appropriate than 'how' in this context.",
                    "context": "The changes in management have brought new perspectives. Because the new managers have great ideas on how we can improve our 1C system, I feel hopeful about the future."
                },
                {
                    "original": "I hope that one type of my problems stop existing.",
                    "corrected": "I hope that one type of my problems stops existing.",
                    "explanation": "'Stop' should be 'stops' to agree with the singular subject 'one type.'",
                    "context": "I have been dealing with various issues at work. I hope that one type of my problems stops existing soon so I can focus on more important tasks."
                },
                {
                    "original": "I have many problems there.",
                    "corrected": "I have many problems with it.",
                    "explanation": "'There' is vague; 'with it' specifies the subject of the problems.",
                    "context": "The new system has been challenging to navigate. I have many problems with it, and I'm trying to resolve them as quickly as possible."
                },
                {
                    "original": "But now I hope that he will find a new developer for 1C Enterprise.",
                    "corrected": "But now I hope that he finds a new developer for 1C Enterprise.",
                    "explanation": "The present simple 'finds' is more appropriate here to express a general hope rather than a future action.",
                    "context": "I'm feeling the pressure of unresolved issues. But now I hope that he finds a new developer for 1C Enterprise who can help us."
                },
                {
                    "original": "Because there are no similar mechanisms in different configurations.",
                    "corrected": "Because there are no similar mechanisms across different configurations.",
                    "explanation": "'In' should be replaced with 'across' to indicate comparison among multiple configurations.",
                    "context": "The uniqueness of our system presents challenges. Because there are no similar mechanisms across different configurations, it complicates the development process."
                },
                {
                    "original": "And usually, when people who have experience and many practices and many big projects in other configurations, when he first time developing anything in my configuration, this person will make typical mistakes.",
                    "corrected": "And usually, when people who have experience and many practices on big projects in other configurations develop anything in my configuration for the first time, they will make typical mistakes.",
                    "explanation": "The sentence structure is awkward; 'when he first time developing' should be 'when they develop for the first time' for clarity and agreement.",
                    "context": "I've noticed a pattern with new developers. And usually, when people who have experience and many practices on big projects in other configurations develop anything in my configuration for the first time, they will make typical mistakes."
                },
                {
                    "original": "I should be correct.",
                    "corrected": "I should correct it.",
                    "explanation": "'Be correct' is incorrect; 'correct it' is the proper form to indicate taking action.",
                    "context": "I've been reviewing my work for errors. I should correct it to ensure everything is accurate before submission."
                },
                {
                    "original": "Because when I speak to senior specialist in 1C enterprise, this person usually have... Corona? As a crown.",
                    "corrected": "Because when I speak to a senior specialist in 1C Enterprise, this person usually has a superiority complex.",
                    "explanation": "The article 'a' is needed before 'senior specialist,' and 'have' should be 'has' to agree with the singular subject. 'Corona' is incorrect in this context.",
                    "context": "Interactions with higher-ups can be challenging. Because when I speak to a senior specialist in 1C Enterprise, this person usually has a superiority complex that makes communication difficult."
                },
                {
                    "original": "I couldn't feel happy when he... Agreement... Accept.",
                    "corrected": "I don't feel happy when he accepts my ideas.",
                    "explanation": "The verb forms are incorrect; 'couldn't feel happy' should be 'don't feel happy' for present tense, and 'accept' should be 'accepts' to agree with the singular subject.",
                    "context": "It's frustrating to share ideas that aren't valued. I don't feel happy when he accepts my ideas but doesn't acknowledge my contributions."
                },
                {
                    "original": "And when this developer learns any nuances of this configuration, after half a year maybe he realized it and started to begin to change it.",
                    "corrected": "And when this developer learns any nuances of this configuration, after half a year maybe they realize it and start to change it.",
                    "explanation": "The verb forms 'realized' and 'started' should be in present tense for consistency, and 'he' should be replaced with 'they' for gender neutrality.",
                    "context": "The learning curve can be steep for new developers. And when this developer learns any nuances of this configuration, after half a year maybe they realize it and start to change it."
                },
                {
                    "original": "And after 6 months or earlier, if I'm lucky, he changed his work.",
                    "corrected": "And after 6 months or earlier, if I'm lucky, they change their work.",
                    "explanation": "The verb 'changed' should be in present tense 'change' to maintain consistency with the previous sentence.",
                    "context": "I hope for timely adjustments from new developers. And after 6 months or earlier, if I'm lucky, they change their work to align with my expectations."
                },
                {
                    "original": "I like feeling that I... A person who can help our managers.",
                    "corrected": "I like the feeling that I am a person who can help our managers.",
                    "explanation": "The sentence is missing the verb 'am' to complete the thought correctly.",
                    "context": "I find fulfillment in my role. I like the feeling that I am a person who can help our managers navigate challenges."
                },
                {
                    "original": "Not only people who... Have... Position like me.",
                    "corrected": "Not only people who have positions like mine.",
                    "explanation": "'Position like me' should be 'positions like mine' for grammatical correctness.",
                    "context": "I enjoy collaborating with others. Not only people who have positions like mine contribute to our team's success."
                },
                {
                    "original": "But it's... Stressful, but... It's... One quality of this type of job.",
                    "corrected": "But it's stressful; it's one quality of this type of job.",
                    "explanation": "The sentence structure is awkward; a semicolon or period is needed to separate the clauses for clarity.",
                    "context": "The demands of my job can be overwhelming. But it's stressful; it's one quality of this type of job that keeps me engaged."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I like new task.",
                    "corrected": "I like new tasks.",
                    "explanation": "The noun 'task' should be pluralized to 'tasks' to match the context of liking multiple new tasks.",
                    "context": "I enjoy taking on new challenges. I like new tasks. They help me grow and learn."
                },
                {
                    "original": "My boss thinking like...",
                    "corrected": "My boss thinks like...",
                    "explanation": "The verb 'thinking' should be in the present simple form 'thinks' to agree with the subject 'my boss.'",
                    "context": "I often wonder about my boss's perspective. My boss thinks like this, and it affects our work."
                },
                {
                    "original": "What she doing?",
                    "corrected": "What is she doing?",
                    "explanation": "The correct form is 'What is she doing?' to include the auxiliary verb 'is' for present continuous tense.",
                    "context": "I often find myself curious about my colleagues. What is she doing? I hope it's something productive."
                },
                {
                    "original": "It's not well, you stoller.",
                    "corrected": "It's not good, you know.",
                    "explanation": "'Well' is an adverb and should be replaced with 'good,' which is the correct adjective here. 'You stoller' seems to be a mispronunciation or typo.",
                    "context": "I feel frustrated with the situation. It's not good, you know. We need to address these issues."
                },
                {
                    "original": "He didn't... He didn't... Thinking... Deep... Deep... Deep...",
                    "corrected": "He doesn't think deeply.",
                    "explanation": "The correct form is 'doesn't think' instead of 'didn't thinking' for present simple tense.",
                    "context": "I've noticed a lack of depth in our discussions. He doesn't think deeply about the issues we face."
                },
                {
                    "original": "He doesn't analyze deep?",
                    "corrected": "He doesn't analyze deeply?",
                    "explanation": "'Deep' should be replaced with 'deeply,' as it is an adverb modifying the verb 'analyze.'",
                    "context": "I often question our analysis methods. He doesn't analyze deeply? This could lead to problems."
                },
                {
                    "original": "He doesn't understand... How it's... Hardly.",
                    "corrected": "He doesn't understand how hard it is.",
                    "explanation": "The phrase 'how it's hardly' is incorrect; it should be 'how hard it is' to convey the intended meaning.",
                    "context": "I feel that my efforts are overlooked. He doesn't understand how hard it is to manage these tasks."
                },
                {
                    "original": "Free key aspects... Must be... Working.",
                    "corrected": "The three key aspects must be working.",
                    "explanation": "The phrase 'Free key aspects' should be 'The three key aspects' for clarity and correctness.",
                    "context": "In our system, certain elements are crucial. The three key aspects must be working effectively."
                },
                {
                    "original": "Must be... Recovery... Recovery this system.",
                    "corrected": "Must recover this system.",
                    "explanation": "The phrase 'Must be... Recovery' is incorrect; it should be 'Must recover' to use the correct verb form.",
                    "context": "In case of failure, we need a plan. We must recover this system quickly to avoid downtime."
                },
                {
                    "original": "If... It didn't... For... One day or two day and more...",
                    "corrected": "If it doesn't work for one day or two days or more...",
                    "explanation": "The phrase 'didn't' should be 'doesn't' for present tense, and 'two day' should be 'two days' for plural.",
                    "context": "We need to monitor our systems closely. If it doesn't work for one day or two days or more, we risk serious issues."
                },
                {
                    "original": "Imagine... The offline meeting... With the... 20 person...",
                    "corrected": "Imagine the offline meeting with 20 people...",
                    "explanation": "The phrase '20 person' should be '20 people' for correct pluralization.",
                    "context": "I often think about our team dynamics. Imagine the offline meeting with 20 people; it could be chaotic."
                },
                {
                    "original": "My boss told... Or... Imagine...",
                    "corrected": "My boss said... Or... Imagine...",
                    "explanation": "'Told' should be replaced with 'said' for correct usage in this context.",
                    "context": "I reflect on my boss's words often. My boss said something important, or imagine the implications."
                },
                {
                    "original": "Doesn't realize... The consequences of... Any type of... Problems in this base.",
                    "corrected": "Doesn't realize the consequences of any type of problems in this system.",
                    "explanation": "The phrase 'this base' should be 'this system' for clarity and correctness.",
                    "context": "I worry about our oversight. He doesn't realize the consequences of any type of problems in this system."
                },
                {
                    "original": "Was generating any idea... Which... Spent my time but... Doesn't bring any...",
                    "corrected": "Generated ideas that wasted my time but didn't bring any...",
                    "explanation": "The phrase 'was generating any idea' should be 'generated ideas' for correct tense and structure.",
                    "context": "I often feel unproductive. I generated ideas that wasted my time but didn't bring any positive results."
                },
                {
                    "original": "I must... Broken any my deal.",
                    "corrected": "I must break any of my deals.",
                    "explanation": "'Broken' should be 'break' to use the correct verb form, and 'any my deal' should be 'any of my deals' for clarity.",
                    "context": "I find myself in difficult situations often. I must break any of my deals to prioritize my tasks."
                },
                {
                    "original": "It's a dangerous team.",
                    "corrected": "It's a dangerous situation.",
                    "explanation": "'Team' is incorrect in this context; 'situation' should be used instead.",
                    "context": "I feel the pressure at work. It's a dangerous situation that we need to address."
                },
                {
                    "original": "I catch myself on this process when I'm thinking about on English.",
                    "corrected": "I catch myself in this process when I'm thinking in English.",
                    "explanation": "The phrase 'on this process' should be 'in this process,' and 'about on English' should be 'in English.'",
                    "context": "I notice my progress. I catch myself in this process when I'm thinking in English, which feels great."
                },
                {
                    "original": "It's the only way you can speak fluently.",
                    "corrected": "It's the only way to speak fluently.",
                    "explanation": "The phrase 'you can speak' should be simplified to 'to speak' for a more general statement.",
                    "context": "I understand the importance of immersion. It's the only way to speak fluently and communicate effectively."
                },
                {
                    "original": "I began to read Mowgli stories.",
                    "corrected": "I started reading Mowgli stories.",
                    "explanation": "'Began to read' should be 'started reading' for a more natural phrasing.",
                    "context": "I've been exploring new materials. I started reading Mowgli stories to improve my English skills."
                },
                {
                    "original": "I will say that Mowgli and Peopling is elementary level.",
                    "corrected": "I would say that Mowgli and Peopling are at an elementary level.",
                    "explanation": "The verb 'is' should be 'are' to agree with the plural subject 'Mowgli and Peopling.'",
                    "context": "I often evaluate my reading materials. I would say that Mowgli and Peopling are at an elementary level, which suits me."
                },
                {
                    "original": "I checked it.",
                    "corrected": "I will check it.",
                    "explanation": "The tense should be future 'will check' to indicate an action that will happen.",
                    "context": "I like to stay organized. I will check it to ensure I have the right materials for next time."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I did it in the night before I fall asleep.",
                    "corrected": "I did it the night before I fell asleep.",
                    "explanation": "The phrase 'in the night' is awkward; 'the night' is more natural. Additionally, 'fall' should be 'fell' to match the past tense.",
                    "context": "I have a routine where I watch something before going to bed. I did it the night before I fell asleep. It helps me relax and prepare for sleep."
                },
                {
                    "original": "Like every night. Like you, yesterday you watched the France for an hour.",
                    "corrected": "Like every night. Yesterday, you watched France for an hour.",
                    "explanation": "The phrase 'the France' is incorrect; it should just be 'France' as it refers to the country. The structure of the sentence is also awkward.",
                    "context": "I encourage consistent practice. Like every night, yesterday you watched France for an hour. This kind of routine is beneficial for learning."
                },
                {
                    "original": "Tomorrow for one hour and ten minutes.",
                    "corrected": "Tomorrow, watch for one hour and ten minutes.",
                    "explanation": "The original sentence lacks a subject and verb; it should specify what action to take.",
                    "context": "It's important to gradually increase your study time. Tomorrow, watch for one hour and ten minutes. This will help you improve steadily."
                },
                {
                    "original": "I pull them. I don't know, scoop of the text.",
                    "corrected": "I pull them. I don't know, I scoop the text.",
                    "explanation": "The phrase 'scoop of the text' is incorrect; it should be 'scoop the text' to indicate the action being taken.",
                    "context": "Sometimes I review my notes. I pull them. I don't know, I scoop the text. This helps reinforce what I've learned."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Apathy",
                    "definition": "A lack of interest, enthusiasm, or concern.",
                    "context": {
                        "Context 1": "During the meeting, I noticed a state of apathy among the team members; no one seemed engaged.",
                        "Context 2": "The apathy of the audience was evident as they stared blankly at the speaker.",
                        "Context 3": "His apathy towards his studies led to poor grades."
                    }
                },
                {
                    "word": "Significant",
                    "definition": "Important and deserving of attention.",
                    "context": {
                        "Context 1": "The changes in management were significant and will impact our workflow.",
                        "Context 2": "Winning the award was a significant achievement for her career.",
                        "Context 3": "The significant increase in temperature indicated a change in the weather."
                    }
                },
                {
                    "word": "Influence",
                    "definition": "The capacity to have an effect on the character, development, or behavior of someone or something.",
                    "context": {
                        "Context 1": "The new managers will influence how we approach our projects moving forward.",
                        "Context 2": "Her positive attitude had a great influence on the team's morale.",
                        "Context 3": "The book had a profound influence on his perspective about life."
                    }
                },
                {
                    "word": "Configuration",
                    "definition": "An arrangement of elements in a particular form, figure, or combination.",
                    "context": {
                        "Context 1": "The developer needs to understand the configuration of our software to make necessary changes.",
                        "Context 2": "The configuration of the new office layout improved collaboration among employees.",
                        "Context 3": "The configuration of the game settings allowed players to customize their experience."
                    }
                },
                {
                    "word": "Bugs",
                    "definition": "Errors or flaws in a system or software.",
                    "context": {
                        "Context 1": "I have to fix several bugs in the system before the deadline.",
                        "Context 2": "The software update fixed many bugs that were causing crashes.",
                        "Context 3": "He found bugs in his garden and decided to use organic pesticides."
                    }
                },
                {
                    "word": "Overtime",
                    "definition": "Time worked beyond the usual working hours.",
                    "context": {
                        "Context 1": "I had to stay for overtime to finish the project on time.",
                        "Context 2": "Many employees are reluctant to work overtime due to burnout.",
                        "Context 3": "She earned extra money by taking on overtime shifts at the restaurant."
                    }
                },
                {
                    "word": "Brainstorm",
                    "definition": "To generate ideas or solutions through spontaneous group discussion.",
                    "context": {
                        "Context 1": "We had a brainstorming session to come up with new marketing strategies.",
                        "Context 2": "The teacher encouraged students to brainstorm ideas for their projects.",
                        "Context 3": "During the hike, we took a break to brainstorm potential vacation spots."
                    }
                },
                {
                    "word": "Promotion",
                    "definition": "The act of raising someone to a higher position or rank.",
                    "context": {
                        "Context 1": "She received a promotion after her hard work and dedication.",
                        "Context 2": "The company is offering a promotion for the new product launch.",
                        "Context 3": "His promotion to manager came with additional responsibilities."
                    }
                },
                {
                    "word": "Technical issues",
                    "definition": "Problems related to technology or technical systems.",
                    "context": {
                        "Context 1": "We faced several technical issues during the presentation, which delayed our start.",
                        "Context 2": "The website is down due to technical issues with the server.",
                        "Context 3": "He had technical issues with his car, which required a mechanic's help."
                    }
                },
                {
                    "word": "Effort",
                    "definition": "A vigorous or determined attempt.",
                    "context": {
                        "Context 1": "It takes a lot of effort to learn a new language.",
                        "Context 2": "Her effort in organizing the event was appreciated by everyone.",
                        "Context 3": "He put in a great effort to improve his fitness level."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Apathy",
                    "fact": "Apathy can be so contagious that it can spread through a group faster than a cold!"
                },
                {
                    "word": "Brainstorm",
                    "fact": "The term 'brainstorm' was originally used to describe a sudden burst of creativity, not a weather event!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bugs and couldn't process its feelings!"
                },
                {
                    "question": "Why did the manager bring a ladder to work?",
                    "answer": "Because they wanted to reach new heights in their career!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Satisfaction",
                    "definition": "The feeling of pleasure or contentment that comes from achieving something.",
                    "context": {
                        "Context 1": "I don't feel satisfaction from routine work.",
                        "Context 2": "After finishing the marathon, she felt a deep satisfaction.",
                        "Context 3": "The satisfaction of a well-cooked meal is hard to beat."
                    }
                },
                {
                    "word": "Critical",
                    "definition": "Of great importance; crucial.",
                    "context": {
                        "Context 1": "He doesn't understand how critical this system is.",
                        "Context 2": "The critical moment in the game changed everything.",
                        "Context 3": "She gave a critical review of the movie, highlighting its flaws."
                    }
                },
                {
                    "word": "Consequences",
                    "definition": "The results or effects of an action or condition.",
                    "context": {
                        "Context 1": "It will have consequences for the organization if the system fails.",
                        "Context 2": "The consequences of not studying were evident in his grades.",
                        "Context 3": "Every action has consequences, both good and bad."
                    }
                },
                {
                    "word": "Recovery",
                    "definition": "The process of regaining possession or control of something lost.",
                    "context": {
                        "Context 1": "The administrator must recover the system from the backup.",
                        "Context 2": "Her recovery from the injury took several months.",
                        "Context 3": "The economy showed signs of recovery after the recession."
                    }
                },
                {
                    "word": "Backup",
                    "definition": "A copy of data stored separately to prevent loss.",
                    "context": {
                        "Context 1": "The process of backing up this system is essential.",
                        "Context 2": "Always keep a backup of your important files.",
                        "Context 3": "He had to call for a backup when the situation got out of hand."
                    }
                },
                {
                    "word": "Analyze",
                    "definition": "To examine something in detail for understanding or interpretation.",
                    "context": {
                        "Context 1": "He doesn't analyze deeply.",
                        "Context 2": "The scientist will analyze the data from the experiment.",
                        "Context 3": "She likes to analyze the lyrics of her favorite songs."
                    }
                },
                {
                    "word": "Routine",
                    "definition": "A sequence of actions regularly followed.",
                    "context": {
                        "Context 1": "I feel dissatisfaction from routine work.",
                        "Context 2": "His morning routine includes jogging and meditation.",
                        "Context 3": "The routine of the show never changes, which some viewers find boring."
                    }
                },
                {
                    "word": "Organized",
                    "definition": "Arranged in a systematic way.",
                    "context": {
                        "Context 1": "The process must be organized for efficiency.",
                        "Context 2": "She is very organized and keeps her desk tidy.",
                        "Context 3": "The organized event attracted many participants."
                    }
                },
                {
                    "word": "Focus",
                    "definition": "To concentrate attention or effort.",
                    "context": {
                        "Context 1": "You were more focused on not making mistakes today.",
                        "Context 2": "He needs to focus on his studies to improve his grades.",
                        "Context 3": "The camera can focus on the subject clearly."
                    }
                },
                {
                    "word": "Stressful",
                    "definition": "Causing mental or emotional stress.",
                    "context": {
                        "Context 1": "It sounds a little bit stressful at work now.",
                        "Context 2": "Planning a wedding can be a very stressful experience.",
                        "Context 3": "Her stressful job led her to take a vacation."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Satisfaction",
                    "fact": "The word 'satisfaction' comes from the Latin 'satisfacere,' which means 'to make enough.'"
                },
                {
                    "word": "Critical",
                    "fact": "In the medical field, the term 'critical' can mean life-threatening, but in everyday life, it can just mean you forgot your keys!"
                },
                {
                    "word": "Backup",
                    "fact": "In the tech world, a 'backup' is crucial, but in the world of friendships, a 'backup friend' is just someone you call when your main friend is busy!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of stress!"
                },
                {
                    "question": "Why did the employee bring a ladder to work?",
                    "answer": "Because they heard the job was up-and-coming!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Ritual",
                    "definition": "A series of actions performed in a prescribed order, often for religious or cultural purposes.",
                    "context": {
                        "Context 1": "Before I sleep, I have a ritual of reading a book for 30 minutes.",
                        "Context 2": "The wedding ceremony included several rituals that honored the couple's heritage.",
                        "Context 3": "Every morning, she performs a ritual of yoga and meditation to start her day."
                    }
                },
                {
                    "word": "Establish",
                    "definition": "To set up or lay the groundwork for something.",
                    "context": {
                        "Context 1": "It's important to establish a routine for studying effectively.",
                        "Context 2": "The scientist aimed to establish a new theory in quantum physics.",
                        "Context 3": "They plan to establish a new restaurant in the downtown area next year."
                    }
                },
                {
                    "word": "Increase",
                    "definition": "To become or make greater in size, amount, or degree.",
                    "context": {
                        "Context 1": "You should increase your study time gradually for better results.",
                        "Context 2": "The company plans to increase its workforce by hiring more employees.",
                        "Context 3": "To increase the flavor of the dish, add more spices."
                    }
                },
                {
                    "word": "Review",
                    "definition": "To go over or examine something again.",
                    "context": {
                        "Context 1": "Don't forget to review your notes before the exam.",
                        "Context 2": "After the movie, they sat down to review their favorite scenes.",
                        "Context 3": "The teacher will review the homework assignments during class."
                    }
                },
                {
                    "word": "Scoop",
                    "definition": "To pick up or move something with a scoop or similar tool; can also refer to getting the latest news.",
                    "context": {
                        "Context 1": "I need to scoop some ice cream for the party tonight.",
                        "Context 2": "The journalist was excited to scoop the story before anyone else.",
                        "Context 3": "He used a scoop to measure the flour for the cake."
                    }
                },
                {
                    "word": "Episode",
                    "definition": "A part of a series, often referring to television shows or podcasts.",
                    "context": {
                        "Context 1": "I watched the latest episode of my favorite series last night.",
                        "Context 2": "The podcast released a new episode every week.",
                        "Context 3": "Each episode of the documentary covered a different historical event."
                    }
                },
                {
                    "word": "Habit",
                    "definition": "A regular practice or routine that is hard to give up.",
                    "context": {
                        "Context 1": "Brushing your teeth twice a day is a good habit to maintain.",
                        "Context 2": "He developed a habit of jogging every morning.",
                        "Context 3": "She has a habit of biting her nails when she’s nervous."
                    }
                },
                {
                    "word": "Weekend",
                    "definition": "The period from Friday evening through Sunday, often considered a time for rest or leisure.",
                    "context": {
                        "Context 1": "I love spending my weekend hiking in the mountains.",
                        "Context 2": "They planned a weekend getaway to the beach.",
                        "Context 3": "The weekend is the perfect time to catch up on sleep."
                    }
                },
                {
                    "word": "Speaking",
                    "definition": "The action of conveying information or expressing thoughts verbally.",
                    "context": {
                        "Context 1": "Practicing speaking in front of a mirror can boost your confidence.",
                        "Context 2": "She enjoys speaking at conferences about her research.",
                        "Context 3": "Speaking multiple languages can be an asset in today’s job market."
                    }
                },
                {
                    "word": "Time",
                    "definition": "A measured or measurable period during which an action, process, or condition exists or continues.",
                    "context": {
                        "Context 1": "It's important to manage your time effectively while studying.",
                        "Context 2": "He spent a lot of time learning how to play the guitar.",
                        "Context 3": "Time flies when you're having fun!"
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Ritual",
                    "fact": "Some cultures have rituals that involve dancing with chickens—talk about a clucking good time!"
                },
                {
                    "word": "Scoop",
                    "fact": "The largest ice cream scoop ever made weighed over 3,000 pounds—imagine the brain freeze!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Good morning! How's it going?"
                },
                {
                    "Person 2": "Morning! I'm doing alright, just a bit overwhelmed with work lately."
                },
                {
                    "Person 1": "I hear you. What’s been going on?"
                },
                {
                    "Person 2": "Well, we got new managers at my job, and they have all these big ideas about how to improve things."
                },
                {
                    "Person 1": "Oh no, that can be tough. Are they making changes that affect your work?"
                },
                {
                    "Person 2": "Yeah, they want us to completely change our processes, and it feels like they don’t really understand how things work."
                },
                {
                    "Person 1": "That’s frustrating! It’s like they think they know better without really knowing the details."
                },
                {
                    "Person 2": "Exactly! I had a three-hour meeting yesterday, and we didn’t even come to any conclusions."
                },
                {
                    "Person 1": "Wow, three hours? That’s a long time to not get anywhere."
                },
                {
                    "Person 2": "Right? And they kept talking over everyone. I finally had to jump in and say something."
                },
                {
                    "Person 1": "Good for you! It’s important to voice your opinion, especially when you know what’s best."
                },
                {
                    "Person 2": "Thanks! It felt good to speak up, but it’s still stressful. I just want to do my job well."
                },
                {
                    "Person 1": "Totally understandable. Do you think they’ll listen to your feedback?"
                },
                {
                    "Person 2": "I hope so. I just need to keep pushing my ideas. It’s just hard when they seem so set in their ways."
                },
                {
                    "Person 1": "Yeah, that can be a challenge. But at least you’re trying to make a difference."
                },
                {
                    "Person 2": "True! I just need to stay positive and keep working through it."
                },
                {
                    "Person 1": "Absolutely! And if you ever need to vent, I’m here for you."
                },
                {
                    "Person 2": "Thanks! I really appreciate it. Let’s grab coffee later and chat more."
                },
                {
                    "Person 1": "Sounds like a plan! I’ll see you then!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's your day going?"
                },
                {
                    "Person 2": "Pretty good! Just got off work. How about you?"
                },
                {
                    "Person 1": "Not too bad! I was just thinking about how sometimes work feels so routine."
                },
                {
                    "Person 2": "I totally get that. It’s like you do all this work, and nobody really notices."
                },
                {
                    "Person 1": "Exactly! Sometimes I wonder if my boss even realizes how much effort goes into it."
                },
                {
                    "Person 2": "Right? They just care about the results, not the process."
                },
                {
                    "Person 1": "Yeah, and it can be frustrating when you feel like your hard work is overlooked."
                },
                {
                    "Person 2": "For sure. I had a meeting yesterday where I felt like my input didn’t matter at all."
                },
                {
                    "Person 1": "That sounds rough. Did you at least agree on anything during the meeting?"
                },
                {
                    "Person 2": "A little bit, but mostly it felt like a waste of time."
                },
                {
                    "Person 1": "Ugh, that’s the worst! Sometimes I wish we could just skip the meetings and get straight to the work."
                },
                {
                    "Person 2": "Same here! But hey, let’s not dwell on work. Did you do anything fun after?"
                },
                {
                    "Person 1": "I actually started reading a new book. It’s nice to escape for a bit."
                },
                {
                    "Person 2": "Nice! What’s it about?"
                },
                {
                    "Person 1": "It’s a mystery novel. I love trying to figure out who did it before the end."
                },
                {
                    "Person 2": "That sounds exciting! I need to get back into reading. Any recommendations?"
                },
                {
                    "Person 1": "Definitely! I can lend you this one when I’m done."
                },
                {
                    "Person 2": "Awesome! I’d love that. Let’s catch up again soon!"
                },
                {
                    "Person 1": "For sure! Let’s plan for next week."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you been watching that new show everyone’s talking about?"
                },
                {
                    "Person 2": "Oh, you mean 'France'? Yeah, I just started it last night!"
                },
                {
                    "Person 1": "Nice! I heard it’s really good. How many episodes did you watch?"
                },
                {
                    "Person 2": "I managed to get through two episodes before I fell asleep. It was late!"
                },
                {
                    "Person 1": "That’s awesome! I find that watching a bit before bed helps me unwind."
                },
                {
                    "Person 2": "Totally! I think it makes it easier to fall asleep too."
                },
                {
                    "Person 1": "For sure! I was thinking of increasing my watch time a little each night."
                },
                {
                    "Person 2": "That’s a great idea! Like, maybe add five more minutes each time?"
                },
                {
                    "Person 1": "Exactly! So, if I start with an hour tonight, I could do an hour and five minutes tomorrow."
                },
                {
                    "Person 2": "Yeah! And before you know it, you’ll be binge-watching like crazy."
                },
                {
                    "Person 1": "Haha, true! Just don’t forget to review what you watched so you remember it."
                },
                {
                    "Person 2": "Right? Sometimes I forget the plot if I don’t recap a bit."
                },
                {
                    "Person 1": "Well, I hope you enjoy the rest of the show! Have a great weekend!"
                },
                {
                    "Person 2": "Thanks! You too! Let’s catch up next week!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
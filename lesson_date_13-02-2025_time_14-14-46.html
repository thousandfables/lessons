<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I formed the passive vocabulary.",
                    "corrected": "I formed a passive vocabulary.",
                    "explanation": "The article 'the' is incorrect; 'a' should be used to indicate one of many possible passive vocabularies.",
                    "context": "I studied French for many years. It turned out that I formed a passive vocabulary. I realized that I knew maybe two or three thousand French words."
                },
                {
                    "original": "In school where kids teaching French, they don't teach English.",
                    "corrected": "In schools where kids are taught French, they don't teach English.",
                    "explanation": "The verb 'teaching' should be 'are taught' to indicate the passive voice.",
                    "context": "I studied at a school where languages were emphasized. In schools where kids are taught French, they don't teach English."
                },
                {
                    "original": "It's located on Moscow.",
                    "corrected": "It's located in Moscow.",
                    "explanation": "'On' is incorrect; 'in' should be used to indicate a location within a city.",
                    "context": "I studied at the Russian Academy of Foreign Trade. It's located in Moscow, which is a bustling city."
                },
                {
                    "original": "I got stomach issues on halfway.",
                    "corrected": "I got stomach issues halfway.",
                    "explanation": "The phrase 'on halfway' is incorrect; 'halfway' is sufficient to indicate the point in time.",
                    "context": "In the morning, I was trying to reach home. I got stomach issues halfway, which made it difficult for me to continue."
                },
                {
                    "original": "I write only one about unhealthy food promotion.",
                    "corrected": "I wrote only one about unhealthy food promotion.",
                    "explanation": "The verb tense should be past ('wrote') to match the context of discussing a completed action.",
                    "context": "I was asked about my essays. I wrote only one about unhealthy food promotion."
                },
                {
                    "original": "The plan that you wrote.",
                    "corrected": "The plan that you wrote is in Google Docs.",
                    "explanation": "The original sentence is incomplete; it lacks a verb to form a complete thought.",
                    "context": "I was looking for my essay plan. The plan that you wrote is in Google Docs, but I couldn't find it."
                },
                {
                    "original": "In young age, unhealthy food is not healthy.",
                    "corrected": "At a young age, unhealthy food is not appealing.",
                    "explanation": "'In young age' should be 'At a young age' for correct idiomatic expression.",
                    "context": "We were discussing children's eating habits. At a young age, unhealthy food is not appealing, which affects their choices."
                },
                {
                    "original": "Because digestion system in young age, very sensitive to sugar, that's about unhealthy.",
                    "corrected": "Because the digestive system at a young age is very sensitive to sugar, that's related to unhealthy eating.",
                    "explanation": "The sentence lacks articles and has a grammatical structure issue; 'the digestive system' and 'at a young age' are needed.",
                    "context": "We were discussing the effects of sugar on children. Because the digestive system at a young age is very sensitive to sugar, that's related to unhealthy eating."
                },
                {
                    "original": "If you always drink soda, you cannot eat.",
                    "corrected": "If you always drink soda, you cannot enjoy other drinks.",
                    "explanation": "The original sentence is misleading; it should clarify the impact of soda on enjoying other beverages.",
                    "context": "We were discussing habits related to unhealthy food. If you always drink soda, you cannot enjoy other drinks."
                },
                {
                    "original": "They can say.",
                    "corrected": "They can express their desires.",
                    "explanation": "The original phrase is vague; it should specify what 'they can say' refers to.",
                    "context": "We were talking about children's inability to control their desires. They can express their desires, but they often lack the understanding of moderation."
                },
                {
                    "original": "The first thing, paraphrasing.",
                    "corrected": "The first thing is paraphrasing.",
                    "explanation": "The sentence is incomplete; it needs a verb to form a complete thought.",
                    "context": "We were preparing to write the essay. The first thing is paraphrasing, which helps clarify our arguments."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "We have a paraphrase, opinion. We expressed our opinion, our own opinion.",
                    "corrected": "We have a paraphrase and an opinion. We expressed our opinion.",
                    "explanation": "The phrase 'our own opinion' is redundant; 'opinion' already implies it is personal.",
                    "context": "In our discussion, we have a paraphrase and an opinion. We expressed our opinion clearly."
                },
                {
                    "original": "But I still need to write unhealthy food promotion should be illegal because...",
                    "corrected": "But I still need to write that unhealthy food promotion should be illegal because...",
                    "explanation": "The sentence is missing 'that' to introduce the clause properly.",
                    "context": "As I continue drafting, I still need to write that unhealthy food promotion should be illegal because it harms children."
                },
                {
                    "original": "Health disorders.",
                    "corrected": "Health issues.",
                    "explanation": "'Health disorders' is less commonly used; 'health issues' is more idiomatic.",
                    "context": "When discussing the effects of unhealthy food, we should refer to health issues rather than health disorders."
                },
                {
                    "original": "You should do it once again.",
                    "corrected": "You should do it again.",
                    "explanation": "'Once again' is unnecessarily wordy; 'again' suffices.",
                    "context": "After reviewing the statement, I suggested that you should do it again for clarity."
                },
                {
                    "original": "What is linking?",
                    "corrected": "What are linking devices?",
                    "explanation": "The term 'linking' is incomplete; it should specify 'linking devices' for clarity.",
                    "context": "In our lesson, I asked what are linking devices, which help connect ideas in writing."
                },
                {
                    "original": "That's not right, because the other reason is the fact that...",
                    "corrected": "That's not right because the other reason is that...",
                    "explanation": "The phrase 'the fact that' is unnecessary and can be omitted for conciseness.",
                    "context": "While discussing arguments, I pointed out that it's not right because the other reason is that it needs to be clearer."
                },
                {
                    "original": "What is the simplest word to use here?",
                    "corrected": "What is the simplest word to use?",
                    "explanation": "The phrase 'to use here' is redundant; 'to use' is sufficient.",
                    "context": "In our brainstorming session, I asked what is the simplest word to use to convey our message effectively."
                },
                {
                    "original": "We can say something like that.",
                    "corrected": "We can say something like this.",
                    "explanation": "The phrase 'something like that' is less precise; 'something like this' is more immediate.",
                    "context": "When we were finalizing our ideas, I suggested we can say something like this to make our point clearer."
                },
                {
                    "original": "When we say something like sugar or any other substance, when the young age can lead to teeth degradation.",
                    "corrected": "When we say something like sugar or any other substance, we mean that in young age it can lead to teeth degradation.",
                    "explanation": "The sentence structure is awkward; it needs clarification on the subject and verb agreement.",
                    "context": "In our discussion about health, I explained that when we say something like sugar or any other substance, we mean that in young age it can lead to teeth degradation."
                },
                {
                    "original": "In some American states, advertisement of energy drink.",
                    "corrected": "In some American states, the advertisement of energy drinks is banned.",
                    "explanation": "The original sentence is incomplete; it lacks a verb and proper pluralization.",
                    "context": "While discussing regulations, I noted that in some American states, the advertisement of energy drinks is banned to protect children."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "Some dentists research are right here in your real example.",
                    "corrected": "Some dentists' research is right here in your real example.",
                    "explanation": "The possessive form 'dentists'' is needed to indicate that the research belongs to the dentists. Additionally, 'research' is uncountable and should be used with 'is.'",
                    "context": "In discussing the importance of examples in our writing, I mentioned that some dentists' research is right here in your real example. This research can help support our arguments effectively."
                },
                {
                    "original": "We start saying with very phrase and with last sentences of logical chain.",
                    "corrected": "We start by saying a very phrase and with the last sentences of the logical chain.",
                    "explanation": "'Saying with very phrase' is incorrect; it should be 'by saying a very phrase.' Additionally, 'last sentences' should have 'the' for specificity.",
                    "context": "When outlining how to structure our paragraphs, I explained that we start by saying a very phrase and with the last sentences of the logical chain. This helps to create a clear flow in our writing."
                },
                {
                    "original": "Because like our reason, what is our reason first?",
                    "corrected": "Because, like our reason, what is our first reason?",
                    "explanation": "The phrase 'our reason first' is awkward; it should be 'our first reason' for clarity.",
                    "context": "In trying to clarify the structure of our arguments, I asked, 'Because, like our reason, what is our first reason?' This emphasizes the importance of clearly stating our reasons."
                },
                {
                    "original": "It should be something specific with a certain idea.",
                    "corrected": "It should be something specific with a clear idea.",
                    "explanation": "'Certain idea' is vague; 'clear idea' is more precise and idiomatic.",
                    "context": "When discussing the examples we should use, I noted that it should be something specific with a clear idea. This helps to strengthen our arguments."
                },
                {
                    "original": "And if we compare dental health of Canadian children and Swedish children, children of Switzerland, then we see that in Canada the percentage is higher.",
                    "corrected": "And if we compare the dental health of Canadian children and Swiss children, then we see that in Canada the percentage is higher.",
                    "explanation": "The phrase 'children of Switzerland' is awkward; 'Swiss children' is more concise and idiomatic.",
                    "context": "In providing examples of research, I pointed out that if we compare the dental health of Canadian children and Swiss children, then we see that in Canada the percentage is higher. This illustrates the impact of promotional laws."
                },
                {
                    "original": "You need to write the same thing.",
                    "corrected": "You need to write the same type of essay.",
                    "explanation": "'The same thing' is vague; 'the same type of essay' clarifies what is expected.",
                    "context": "When assigning homework, I told you that you need to write the same type of essay. This ensures you understand the structure we discussed."
                },
                {
                    "original": "If you want to challenge yourself, then okay.",
                    "corrected": "If you want to challenge yourself, then that's fine.",
                    "explanation": "'Okay' is informal; 'that's fine' is more appropriate in this context.",
                    "context": "In discussing how to manage your time, I said that if you want to challenge yourself, then that's fine. It's important to find a balance that works for you."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Bon Appétit",
                    "definition": "A French phrase used to wish someone an enjoyable meal.",
                    "context": {
                        "Context 1": "Before serving dinner, she smiled and said, 'Bon appétit!' to her guests.",
                        "Context 2": "As the chef prepared the meal, he reminded everyone to say 'Bon appétit' before eating.",
                        "Context 3": "The waiter handed us the menu and said, 'Bon appétit!' as we placed our order."
                    }
                },
                {
                    "word": "Proficient",
                    "definition": "Competent or skilled in doing or using something.",
                    "context": {
                        "Context 1": "He is very proficient in English, able to hold conversations easily.",
                        "Context 2": "She became proficient in playing the piano after years of practice.",
                        "Context 3": "The proficient mechanic fixed the car in less than an hour."
                    }
                },
                {
                    "word": "Passive Vocabulary",
                    "definition": "Words that a person understands but does not actively use.",
                    "context": {
                        "Context 1": "After years of studying French, I realized I had a large passive vocabulary.",
                        "Context 2": "His passive vocabulary in Spanish helped him understand the movie without subtitles.",
                        "Context 3": "The teacher emphasized the importance of building passive vocabulary before speaking."
                    }
                },
                {
                    "word": "Emphasis",
                    "definition": "Special importance or significance placed on something.",
                    "context": {
                        "Context 1": "In her essay, she placed emphasis on the importance of healthy eating.",
                        "Context 2": "The coach put emphasis on teamwork during practice.",
                        "Context 3": "The speaker used emphasis to highlight key points in her presentation."
                    }
                },
                {
                    "word": "Convinced",
                    "definition": "To be persuaded to believe something.",
                    "context": {
                        "Context 1": "He was convinced that children are easily influenced by advertising.",
                        "Context 2": "After the presentation, she was convinced to join the club.",
                        "Context 3": "The detective was convinced of the suspect's innocence after finding new evidence."
                    }
                },
                {
                    "word": "Addiction",
                    "definition": "The state of being enslaved to a habit or practice.",
                    "context": {
                        "Context 1": "The discussion highlighted the sugar addiction among children.",
                        "Context 2": "His coffee addiction made it difficult for him to function without caffeine.",
                        "Context 3": "She sought help for her addiction to video games."
                    }
                },
                {
                    "word": "Sensitive",
                    "definition": "Quick to detect or respond to slight changes, signals, or influences.",
                    "context": {
                        "Context 1": "Children are sensitive to sugar, which can affect their eating habits.",
                        "Context 2": "He is sensitive to criticism and often takes it personally.",
                        "Context 3": "The sensitive microphone picked up even the faintest sounds."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement of and relations between the parts or elements of something complex.",
                    "context": {
                        "Context 1": "The teacher advised him to improve the structure of his essay.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "In biology, the structure of DNA is crucial for understanding genetics."
                    }
                },
                {
                    "word": "Explicitly",
                    "definition": "In a clear and detailed manner, leaving no room for confusion or doubt.",
                    "context": {
                        "Context 1": "In his essay, he explicitly stated his opinion on unhealthy food.",
                        "Context 2": "The instructions were explicitly written to avoid any misunderstandings.",
                        "Context 3": "The contract explicitly outlined the terms of the agreement."
                    }
                },
                {
                    "word": "Habit",
                    "definition": "A settled or regular tendency or practice, especially one that is hard to give up.",
                    "context": {
                        "Context 1": "Developing healthy eating habits is essential for children.",
                        "Context 2": "He has a habit of biting his nails when he is nervous.",
                        "Context 3": "She started a habit of jogging every morning to stay fit."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Bon Appétit",
                    "fact": "In some cultures, saying 'Bon appétit' is so important that it's considered rude not to!"
                },
                {
                    "word": "Addiction",
                    "fact": "Did you know that people can be addicted to chocolate? It's true—some studies suggest it can be as strong as a drug addiction!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the tomato turn red?",
                    "answer": "Because it saw the salad dressing!"
                },
                {
                    "question": "Why did the student eat his homework?",
                    "answer": "Because the teacher said it was a piece of cake!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Argument",
                    "definition": "A reason or set of reasons given to persuade others that an action or idea is right or wrong.",
                    "context": {
                        "Context 1": "In the debate, each participant presented their argument clearly.",
                        "Context 2": "The cat argued with the dog about who should get the last piece of food.",
                        "Context 3": "During the meeting, they discussed the argument for increasing the budget."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something written or spoken using different words.",
                    "context": {
                        "Context 1": "The teacher asked the students to paraphrase the main idea of the article.",
                        "Context 2": "He tried to paraphrase his favorite song but ended up making it sound silly.",
                        "Context 3": "The chef had to paraphrase the recipe to make it easier for beginners."
                    }
                },
                {
                    "word": "Promotion",
                    "definition": "The act of raising awareness or encouraging the sale of a product or service.",
                    "context": {
                        "Context 1": "The promotion of healthy eating habits is essential for children's well-being.",
                        "Context 2": "She received a promotion at work after successfully completing her project.",
                        "Context 3": "The promotion of the new movie included billboards and social media ads."
                    }
                },
                {
                    "word": "Illegal",
                    "definition": "Not allowed by law; unlawful.",
                    "context": {
                        "Context 1": "Advertising unhealthy food to children should be considered illegal.",
                        "Context 2": "It is illegal to park your car in front of a fire hydrant.",
                        "Context 3": "He was caught with illegal fireworks during the holiday."
                    }
                },
                {
                    "word": "Health disorders",
                    "definition": "Conditions that affect the normal functioning of the body or mind.",
                    "context": {
                        "Context 1": "Consuming too much junk food can lead to serious health disorders.",
                        "Context 2": "She studied health disorders in her medical research.",
                        "Context 3": "The health disorders of the fictional character were a major plot point in the movie."
                    }
                },
                {
                    "word": "Commas",
                    "definition": "Punctuation marks used to indicate a pause between parts of a sentence.",
                    "context": {
                        "Context 1": "Remember to use commas after linking devices in your writing.",
                        "Context 2": "He forgot to put commas in his grocery list, and it turned into a confusing mess.",
                        "Context 3": "The teacher explained that commas can change the meaning of a sentence."
                    }
                },
                {
                    "word": "Linking devices",
                    "definition": "Words or phrases that connect ideas in writing or speech.",
                    "context": {
                        "Context 1": "Using linking devices helps to create a smooth flow in your essay.",
                        "Context 2": "He used linking devices to connect his thoughts during the presentation.",
                        "Context 3": "The linking devices in her poem made it more enjoyable to read."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern used to illustrate a point.",
                    "context": {
                        "Context 1": "The teacher asked for an example to clarify the concept.",
                        "Context 2": "He used a funny example to make his point during the speech.",
                        "Context 3": "In math class, we learned how to find the example of a fraction."
                    }
                },
                {
                    "word": "Convincing",
                    "definition": "Capable of causing someone to believe that something is true or real.",
                    "context": {
                        "Context 1": "Her argument was so convincing that everyone agreed with her.",
                        "Context 2": "The magician's tricks were convincing enough to fool the audience.",
                        "Context 3": "He gave a convincing performance that earned him an award."
                    }
                },
                {
                    "word": "Substance",
                    "definition": "A particular kind of matter with uniform properties.",
                    "context": {
                        "Context 1": "Sugar is a substance that can lead to health issues if consumed excessively.",
                        "Context 2": "The chemist studied the properties of the new substance in the lab.",
                        "Context 3": "The artist used a variety of substances to create her mixed media artwork."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Illegal",
                    "fact": "In France, it is illegal to name a pig Napoleon!"
                },
                {
                    "word": "Commas",
                    "fact": "A missing comma can turn a recipe for 'Let's eat, Grandma!' into 'Let's eat Grandma!'"
                },
                {
                    "word": "Promotion",
                    "fact": "In the 1800s, a promotion for a circus included a live elephant walking through the streets!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the teacher wear sunglasses?",
                    "answer": "Because her students were so bright!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Logical Change",
                    "definition": "A shift in reasoning or argumentation that follows a coherent pattern.",
                    "context": {
                        "Context 1": "In the lesson, we discussed how a logical change can help clarify our arguments.",
                        "Context 2": "The magician performed a logical change in his trick, making the audience question reality.",
                        "Context 3": "During the debate, she made a logical change that surprised everyone and turned the conversation."
                    }
                },
                {
                    "word": "Promotion",
                    "definition": "The act of raising awareness or encouraging the sale of a product or service.",
                    "context": {
                        "Context 1": "The promotion of sugary drinks in schools is a controversial topic.",
                        "Context 2": "He received a promotion at work after successfully completing his project.",
                        "Context 3": "The promotion of the new movie included a red carpet event and celebrity appearances."
                    }
                },
                {
                    "word": "Compare",
                    "definition": "To examine the similarities and differences between two or more items.",
                    "context": {
                        "Context 1": "We need to compare the dental health of children in different states.",
                        "Context 2": "She likes to compare different types of chocolate before choosing her favorite.",
                        "Context 3": "When you compare cars, make sure to look at fuel efficiency and safety ratings."
                    }
                },
                {
                    "word": "Research",
                    "definition": "The systematic investigation into a subject to discover or revise facts.",
                    "context": {
                        "Context 1": "The dentists' research revealed important findings about children's dental health.",
                        "Context 2": "She spent hours conducting research for her thesis on climate change.",
                        "Context 3": "The research on ancient civilizations uncovered new artifacts that changed our understanding of history."
                    }
                },
                {
                    "word": "Argument",
                    "definition": "A statement or series of statements for or against something.",
                    "context": {
                        "Context 1": "The argument presented in the essay was well-structured and convincing.",
                        "Context 2": "They had a friendly argument about which pizza topping was the best.",
                        "Context 3": "His argument for adopting a pet was based on the benefits of companionship."
                    }
                },
                {
                    "word": "Obesity",
                    "definition": "A medical condition characterized by excessive body fat that increases health risks.",
                    "context": {
                        "Context 1": "The lesson mentioned centers that fight obesity and promote healthy eating.",
                        "Context 2": "Obesity can lead to serious health issues, including diabetes and heart disease.",
                        "Context 3": "The documentary focused on the causes of obesity in modern society."
                    }
                },
                {
                    "word": "Main Body Paragraph",
                    "definition": "The central part of an essay where the main ideas and arguments are developed.",
                    "context": {
                        "Context 1": "In the lesson, we learned how to structure a main body paragraph effectively.",
                        "Context 2": "Her main body paragraph included several examples to support her thesis.",
                        "Context 3": "The main body paragraph of the report highlighted the key findings of the study."
                    }
                },
                {
                    "word": "Topic Sentence",
                    "definition": "A sentence that expresses the main idea of a paragraph.",
                    "context": {
                        "Context 1": "The topic sentence should clearly state the paragraph's focus.",
                        "Context 2": "He started his speech with a strong topic sentence to grab the audience's attention.",
                        "Context 3": "In her essay, each topic sentence linked back to her thesis statement."
                    }
                },
                {
                    "word": "Evidence",
                    "definition": "Information or data that supports a claim or argument.",
                    "context": {
                        "Context 1": "The lesson emphasized the importance of providing evidence in our essays.",
                        "Context 2": "The detective gathered evidence to solve the mystery.",
                        "Context 3": "In court, the lawyer presented evidence to prove her client's innocence."
                    }
                },
                {
                    "word": "Comfortable Pace",
                    "definition": "A speed or rate of activity that feels easy and manageable.",
                    "context": {
                        "Context 1": "The teacher advised students to work at a comfortable pace when writing their essays.",
                        "Context 2": "He prefers to run at a comfortable pace rather than sprinting.",
                        "Context 3": "During the yoga class, the instructor encouraged everyone to find their comfortable pace."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Obesity",
                    "fact": "Did you know that the heaviest recorded person weighed over 1,400 pounds? That's a lot of pizza!"
                },
                {
                    "word": "Research",
                    "fact": "Research shows that people who talk to their plants are more likely to have healthier plants. So, if your plant starts talking back, it might be time to worry!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the essay go to therapy?",
                    "answer": "Because it had too many unresolved arguments!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to reach new heights in their research!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going this afternoon?"
                },
                {
                    "Person 2": "Pretty good! Just finished lunch. How about you?"
                },
                {
                    "Person 1": "Nice! I just had a sandwich. You know, I always forget how much I love them."
                },
                {
                    "Person 2": "Same here! What kind of sandwich did you have?"
                },
                {
                    "Person 1": "Just a classic turkey and cheese. Can’t go wrong with that!"
                },
                {
                    "Person 2": "Absolutely! I had a veggie wrap. Trying to eat healthier, you know?"
                },
                {
                    "Person 1": "Good for you! I should probably do the same. I’ve been indulging a bit too much lately."
                },
                {
                    "Person 2": "It happens! What’s your favorite guilty pleasure food?"
                },
                {
                    "Person 1": "Oh man, definitely pizza. I could eat it every day!"
                },
                {
                    "Person 2": "Pizza is the best! Do you have a favorite topping?"
                },
                {
                    "Person 1": "I’m a pepperoni guy, all the way. How about you?"
                },
                {
                    "Person 2": "I love mushrooms on mine! They add a nice flavor."
                },
                {
                    "Person 1": "Mushrooms are great! We should have a pizza night soon."
                },
                {
                    "Person 2": "That sounds awesome! Let’s plan for it next weekend."
                },
                {
                    "Person 1": "Perfect! I’ll bring the drinks."
                },
                {
                    "Person 2": "And I’ll handle the pizza! Can’t wait!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh man, I missed it! How did it go?"
                },
                {
                    "Person 1": "It was intense! We were down by ten points at halftime, but we made a crazy comeback."
                },
                {
                    "Person 2": "No way! That sounds exciting. Who scored the winning points?"
                },
                {
                    "Person 1": "It was our new guy, Jake. He hit a three-pointer right at the buzzer!"
                },
                {
                    "Person 2": "Wow, that’s awesome! I’ve heard good things about him. Is he fitting in well with the team?"
                },
                {
                    "Person 1": "Definitely! He’s been a game-changer for us. The fans love him."
                },
                {
                    "Person 2": "I can imagine! I need to catch a game soon. What’s the next one?"
                },
                {
                    "Person 1": "We play again on Friday. You should come with me!"
                },
                {
                    "Person 2": "Count me in! I’ll bring snacks."
                },
                {
                    "Person 1": "Perfect! I’ll grab the drinks. It’ll be a fun night!"
                },
                {
                    "Person 2": "Absolutely! I can’t wait to see Jake in action."
                },
                {
                    "Person 1": "You’re gonna love it! Let’s hope for another win."
                },
                {
                    "Person 2": "Fingers crossed! See you Friday!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a nail-biter, right? I thought they were going to lose for sure."
                },
                {
                    "Person 1": "I know! That last-minute goal was insane. I was jumping up and down in my living room."
                },
                {
                    "Person 2": "Same here! I was watching with my friends, and we all went wild. Did you see the highlight reel?"
                },
                {
                    "Person 1": "I did! That play where the goalie made that crazy save was something else."
                },
                {
                    "Person 2": "Absolutely! It’s moments like that which make sports so exciting."
                },
                {
                    "Person 1": "For sure! So, are you planning to watch the next game?"
                },
                {
                    "Person 2": "Definitely! I wouldn’t miss it. We should get together and watch it."
                },
                {
                    "Person 1": "That sounds like a plan! Maybe we can order some pizza too?"
                },
                {
                    "Person 2": "Yes! Pizza and sports is the perfect combo. What toppings do you like?"
                },
                {
                    "Person 1": "I’m a classic pepperoni guy. How about you?"
                },
                {
                    "Person 2": "I love a good veggie pizza! But I can do pepperoni too. It’s all good."
                },
                {
                    "Person 1": "Awesome! Let’s set a date then."
                },
                {
                    "Person 2": "Sounds good! I’ll bring the drinks!"
                },
                {
                    "Person 1": "Perfect! Can’t wait!"
                },
                {
                    "Person 2": "Me too! It’s going to be a blast!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I guess I can't say I cooked it.",
                    "corrected": "I guess I can't say I made it.",
                    "explanation": "'Cooked' is not the right verb here; 'made' is more appropriate for preparing a drink.",
                    "context": "I ran to make myself a cup of freshly boiled coffee. I guess I can't say I made it. I'm drinking leftover coffee from yesterday."
                },
                {
                    "original": "But my sister.",
                    "corrected": "But my sister doesn't watch streams.",
                    "explanation": "The sentence is incomplete and lacks a verb; it needs to be a full thought.",
                    "context": "Maybe if it's my favorite influencer, then maybe. But my sister doesn't watch streams."
                },
                {
                    "original": "If part one and part two is something...",
                    "corrected": "If part one and part two are something...",
                    "explanation": "The subject 'part one and part two' is plural, so the verb should be 'are' instead of 'is.'",
                    "context": "In the speaking part, or vials, there is part three. If part one and part two are something close to what we do in real life..."
                },
                {
                    "original": "The structure is similar to what we use in the essay.",
                    "corrected": "The structure is similar to what we use in essays.",
                    "explanation": "The term 'essay' should be pluralized to 'essays' to refer to the general concept.",
                    "context": "The structure is similar to what we use in essays. For example, if I ask you, do you think streaming is...?"
                },
                {
                    "original": "You thought of certain people or certain cases, certain experiences in your life.",
                    "corrected": "You thought of certain people, cases, or experiences in your life.",
                    "explanation": "The repetition of 'certain' is unnecessary; it can be streamlined for clarity.",
                    "context": "When you were thinking about this question, you definitely had something in your head. You thought of certain people, cases, or experiences in your life."
                },
                {
                    "original": "No, I'm joking. As far as I know, in Japan...",
                    "corrected": "No, I'm joking. But as far as I know, in Japan...",
                    "explanation": "The conjunction 'but' is needed to connect the two contrasting ideas more smoothly.",
                    "context": "No, I'm joking. But as far as I know, in Japan, a lot of people struggle with depression..."
                },
                {
                    "original": "So streaming is extremely popular and is extremely good way to earn money.",
                    "corrected": "So streaming is extremely popular and is an extremely good way to earn money.",
                    "explanation": "The article 'an' is missing before 'extremely good way.'",
                    "context": "So streaming is extremely popular and is an extremely good way to earn money. A lot of people are ready to pay you..."
                },
                {
                    "original": "You saw how you mixed two ideas.",
                    "corrected": "You saw how you mixed two different ideas.",
                    "explanation": "Adding 'different' clarifies that the two ideas are distinct from each other.",
                    "context": "You saw how you mixed two different ideas. First depression, then money."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "It's also a very profitable activity or something.",
                    "corrected": "It's also a very profitable activity.",
                    "explanation": "The phrase 'or something' is vague and informal; it weakens the statement.",
                    "context": "In discussing the importance of money in a certain activity, I mentioned that it's also a very profitable activity. This emphasizes the financial aspect of the topic."
                },
                {
                    "original": "You're not using any formal language, because it's a casual conversation.",
                    "corrected": "You're not using formal language because it's a casual conversation.",
                    "explanation": "The use of 'any' is unnecessary here; 'formal language' is sufficient.",
                    "context": "I was explaining that the conversation style should be casual. You're not using formal language because it's a casual conversation."
                },
                {
                    "original": "I thought about making my speech sound more formal.",
                    "corrected": "I thought about making my speech sound more formal.",
                    "explanation": "The sentence is correct but could be simplified for clarity.",
                    "context": "I was reflecting on my speaking style. I thought about making my speech sound more formal, but I realized that might not be appropriate."
                },
                {
                    "original": "But usually when you're having just occasional conversation with them, they switch to a more human-like language.",
                    "corrected": "But usually when you're having just an occasional conversation with them, they switch to a more human-like language.",
                    "explanation": "The article 'an' is needed before 'occasional conversation' for grammatical correctness.",
                    "context": "I was discussing how native speakers communicate. But usually when you're having just an occasional conversation with them, they switch to a more human-like language."
                },
                {
                    "original": "I wouldn't be so certain about it.",
                    "corrected": "I wouldn't be so certain about that.",
                    "explanation": "'About it' is less specific; 'about that' refers directly to the previous statement.",
                    "context": "In response to a question about AI replacing teachers, I expressed my uncertainty. I wouldn't be so certain about that."
                },
                {
                    "original": "It's unlikely that AI will replace teachers at universities in the future.",
                    "corrected": "It's unlikely that AI will replace teachers at universities.",
                    "explanation": "The phrase 'in the future' is redundant; the context implies a future consideration.",
                    "context": "I was sharing my thoughts on AI's impact on education. It's unlikely that AI will replace teachers at universities."
                },
                {
                    "original": "Because the adults that are studying at the universities, they are quite fully developed.",
                    "corrected": "Because the adults studying at universities are quite developed.",
                    "explanation": "The phrase 'that are' is unnecessary; simplifying the sentence improves clarity.",
                    "context": "I was discussing the differences between teaching adults and children. Because the adults studying at universities are quite developed, they may not need as much connection with teachers."
                },
                {
                    "original": "But again, you're basing it on your experience at university.",
                    "corrected": "But again, you're basing that on your experience at university.",
                    "explanation": "'It' should be replaced with 'that' for clarity and specificity.",
                    "context": "In response to feedback, I acknowledged the importance of personal experience. But again, you're basing that on your experience at university."
                },
                {
                    "original": "Just say that.",
                    "corrected": "Just say it.",
                    "explanation": "The word 'that' is unnecessary; 'say it' is more direct.",
                    "context": "I was encouraged to be more straightforward in my responses. Just say it."
                },
                {
                    "original": "Because what they did was just giving information.",
                    "corrected": "Because what they did was just give information.",
                    "explanation": "The verb 'give' should be in the base form after 'was.'",
                    "context": "I was reflecting on the role of teachers at university. Because what they did was just give information."
                },
                {
                    "original": "Because maybe AI would structure differently.",
                    "corrected": "Because maybe AI would structure things differently.",
                    "explanation": "The word 'things' is needed for clarity and grammatical correctness.",
                    "context": "I speculated on the potential of AI in education. Because maybe AI would structure things differently."
                },
                {
                    "original": "But some teachers, I wouldn't want them to be AI.",
                    "corrected": "But for some teachers, I wouldn't want them to be AI.",
                    "explanation": "The phrase 'for some teachers' clarifies the subject of the sentence.",
                    "context": "I expressed my feelings about certain teachers. But for some teachers, I wouldn't want them to be AI."
                },
                {
                    "original": "Because again, first part, first ingredient.",
                    "corrected": "Because again, the first part, the first ingredient.",
                    "explanation": "The definite article 'the' is needed for grammatical correctness.",
                    "context": "I was emphasizing the importance of structure in responses. Because again, the first part, the first ingredient."
                },
                {
                    "original": "If you don't spend some time at least to structure it, when you're giving these fewer sentences, you're already thinking what that might be.",
                    "corrected": "If you don't spend at least some time structuring it, when you're giving fewer sentences, you're already thinking about what that might be.",
                    "explanation": "The phrase 'at least to structure it' is awkward; 'structuring it' is more natural.",
                    "context": "I was advising on the importance of structuring answers. If you don't spend at least some time structuring it, when you're giving fewer sentences, you're already thinking about what that might be."
                },
                {
                    "original": "Because like, write a message like a normal human being.",
                    "corrected": "Because, like, write messages like a normal human being.",
                    "explanation": "The phrase 'a message' should be plural for consistency with 'write.'",
                    "context": "I was encouraging a more natural speaking style. Because, like, write messages like a normal human being."
                },
                {
                    "original": "Because I remember that like last student that we worked with, she did the aisle staves.",
                    "corrected": "Because I remember that last student we worked with; she did the IELTS practice.",
                    "explanation": "The phrase 'the aisle staves' is incorrect; it should be 'the IELTS practice.' A semicolon is also needed for clarity.",
                    "context": "I was recalling a previous student's experience. Because I remember that last student we worked with; she did the IELTS practice."
                },
                {
                    "original": "And I didn't tell her these things.",
                    "corrected": "And I didn't tell her about these things.",
                    "explanation": "The preposition 'about' is needed for grammatical correctness.",
                    "context": "I was reflecting on my teaching approach. And I didn't tell her about these things."
                },
                {
                    "original": "You just need to be aware of certain things.",
                    "corrected": "You just need to be aware of certain criteria.",
                    "explanation": "The word 'criteria' is more specific and appropriate in this context.",
                    "context": "I was discussing the requirements for scoring well. You just need to be aware of certain criteria."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "It's the same like task achievement.",
                    "corrected": "It's the same as task achievement.",
                    "explanation": "\"Like\" is incorrect here; \"as\" should be used to make comparisons.",
                    "context": "In discussing language proficiency, I mentioned that fluency is similar to task achievement. It's the same as task achievement, which is a key aspect of effective communication."
                },
                {
                    "original": "But if you pause to think of what you're going to say, if you didn't think of what you're going to say, if you didn't develop the idea fully in your head, that's not being not fluent.",
                    "corrected": "But if you pause to think of what you're going to say, if you haven't thought of what you're going to say, if you haven't developed the idea fully in your head, that's not being fluent.",
                    "explanation": "The use of 'didn't' is incorrect in this context; 'haven't' should be used to indicate an ongoing state.",
                    "context": "I was explaining what fluency means. If you pause to think of what you're going to say, if you haven't thought of what you're going to say, that's not being fluent."
                },
                {
                    "original": "And very often you see a person with a very high level.",
                    "corrected": "And very often you see a person at a very high level.",
                    "explanation": "The preposition 'with' is incorrect; 'at' should be used to indicate proficiency level.",
                    "context": "I was comparing different levels of language proficiency. Very often, you see a person at a very high level, and they may speak quite slowly."
                },
                {
                    "original": "I remember when I was in eighth grade I went to an English school and they tested me and I couldn't understand a thing she was saying.",
                    "corrected": "I remember when I was in eighth grade, I went to an English school, and they tested me, but I couldn't understand a thing she was saying.",
                    "explanation": "The sentence is a run-on; it needs proper punctuation to separate independent clauses.",
                    "context": "I was reflecting on my past experiences with language learning. I remember when I was in eighth grade, I went to an English school, and they tested me, but I couldn't understand a thing she was saying."
                },
                {
                    "original": "Because in eighth grade you weren't proficient enough.",
                    "corrected": "Because in eighth grade, I wasn't proficient enough.",
                    "explanation": "The subject is missing; it should specify 'I' to clarify who wasn't proficient.",
                    "context": "I was discussing my language skills during my school years. Because in eighth grade, I wasn't proficient enough, I struggled to understand the teacher."
                },
                {
                    "original": "I could maybe read well.",
                    "corrected": "I could read well, maybe.",
                    "explanation": "The adverb 'maybe' should be placed at the end for better sentence flow.",
                    "context": "I was talking about my reading skills as a child. I could read well, maybe, but my speaking skills were lacking."
                },
                {
                    "original": "So it's much easier for me to start.",
                    "corrected": "So it's much easier for me to get started.",
                    "explanation": "'Start' is less idiomatic here; 'get started' is a more common phrase.",
                    "context": "I was explaining how practice affects language use. So it's much easier for me to get started after some practice."
                },
                {
                    "original": "I think that the very good configuration is the speaking part first and then you go directly straight to the main test.",
                    "corrected": "I think that the best configuration is the speaking part first, and then you go directly to the main test.",
                    "explanation": "'Very good' is awkward; 'best' is more appropriate for this context.",
                    "context": "I was giving advice about test-taking strategies. I think that the best configuration is the speaking part first, and then you go directly to the main test."
                },
                {
                    "original": "I thought immobilize is like the disabilitive.",
                    "corrected": "I thought immobilize was like the disabilitative.",
                    "explanation": "The verb form 'is' should be 'was' to match the past tense context.",
                    "context": "I was clarifying my misunderstanding about the word 'immobilize.' I thought immobilize was like the disabilitative, but I learned it means to freeze."
                },
                {
                    "original": "I remember when I was in seventh grade, I used to watch this game, Detroit Become Human.",
                    "corrected": "I remember when I was in seventh grade; I used to watch this game, Detroit: Become Human.",
                    "explanation": "The title of the game is incorrectly punctuated; it should include a colon.",
                    "context": "I was reminiscing about my interests as a child. I remember when I was in seventh grade; I used to watch this game, Detroit: Become Human, and I loved it."
                },
                {
                    "original": "I was very having troubles deciding whether I think that androids should live like.",
                    "corrected": "I was having a lot of trouble deciding whether I think that androids should live like.",
                    "explanation": "The phrase 'very having troubles' is incorrect; it should be 'having a lot of trouble.'",
                    "context": "I was discussing my thoughts on the ethical implications of AI. I was having a lot of trouble deciding whether I think that androids should live like humans."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "Like UGROSOI.",
                    "corrected": "Like UGROSOY.",
                    "explanation": "The correct spelling of the word is 'UGROSOY'; the student misspelled it.",
                    "context": "I was trying to compare MENACE to another AI. Like UGROSOY, it has a similar impact. Both seem to have a menacing quality."
                },
                {
                    "original": "Like it's nothing compared to what was released before it.",
                    "corrected": "Like it's nothing compared to what was released before.",
                    "explanation": "The phrase 'before it' is unnecessary; 'before' is sufficient to convey the meaning.",
                    "context": "I was discussing the capabilities of MENACE. Like it's nothing compared to what was released before. MENACE truly stands out in its abilities."
                },
                {
                    "original": "Because like Chanty PT is pretty good at, you know, helping you, assisting you with creating a site.",
                    "corrected": "Because Chanty PT is pretty good at helping you, you know, assist with creating a site.",
                    "explanation": "The phrase 'like' is unnecessary and disrupts the flow; 'you know' should be placed after 'helping you.'",
                    "context": "I was explaining the usefulness of Chanty PT. Because Chanty PT is pretty good at helping you, you know, assist with creating a site. It really simplifies the process."
                },
                {
                    "original": "This thing creates the site.",
                    "corrected": "This thing can create the site.",
                    "explanation": "The modal verb 'can' is needed to indicate ability; 'creates' is too definitive in this context.",
                    "context": "I was emphasizing the capabilities of MENACE. This thing can create the site. It doesn't need you to do anything."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Responsibilities",
                    "definition": "Duties or tasks that one is required or expected to take care of.",
                    "context": {
                        "Context 1": "I’m trying to run from my responsibilities and enjoy some free time.",
                        "Context 2": "As a pet owner, I have responsibilities to feed and care for my animals.",
                        "Context 3": "The responsibilities of a teacher include preparing lessons and grading assignments."
                    }
                },
                {
                    "word": "Stream",
                    "definition": "To transmit or receive data (especially video and audio material) over the internet in real time.",
                    "context": {
                        "Context 1": "I enjoy watching my favorite influencers stream on YouTube.",
                        "Context 2": "The river began to stream rapidly after the heavy rain.",
                        "Context 3": "He decided to stream his gaming session to share with friends."
                    }
                },
                {
                    "word": "Influencer",
                    "definition": "A person who has the power to affect the purchasing decisions of others because of their authority, knowledge, position, or relationship with their audience.",
                    "context": {
                        "Context 1": "My favorite influencer shares great tips on fashion and lifestyle.",
                        "Context 2": "The influencer at the party was known for his dance moves.",
                        "Context 3": "She became an influencer after her cooking videos went viral."
                    }
                },
                {
                    "word": "Culture",
                    "definition": "The ideas, customs, and social behavior of a particular people or society.",
                    "context": {
                        "Context 1": "I never understood this whole culture of streaming until I met my friend.",
                        "Context 2": "The culture of ancient Greece has influenced modern philosophy.",
                        "Context 3": "Food is a big part of the culture in every country."
                    }
                },
                {
                    "word": "Abstract",
                    "definition": "Existing in thought or as an idea but not having a physical or concrete existence.",
                    "context": {
                        "Context 1": "In part three, you are asked abstract questions about streaming.",
                        "Context 2": "The artist's abstract painting left many viewers puzzled.",
                        "Context 3": "He prefers abstract concepts over practical applications in his studies."
                    }
                },
                {
                    "word": "Structured",
                    "definition": "Arranged in a definite pattern or organization.",
                    "context": {
                        "Context 1": "You need to provide a more structured answer to the question.",
                        "Context 2": "The structured layout of the garden made it easy to navigate.",
                        "Context 3": "Her structured approach to studying helped her achieve high grades."
                    }
                },
                {
                    "word": "Thesis statement",
                    "definition": "A statement or sentence that summarizes the main point or claim of an essay or research paper.",
                    "context": {
                        "Context 1": "Your thesis statement should clearly express your opinion on streaming.",
                        "Context 2": "The thesis statement of her paper was very compelling.",
                        "Context 3": "He struggled to write a strong thesis statement for his assignment."
                    }
                },
                {
                    "word": "Lonely",
                    "definition": "Feeling sad because one has no friends or company.",
                    "context": {
                        "Context 1": "Many people struggle with feeling lonely, which makes streaming appealing.",
                        "Context 2": "The lonely dog waited by the door for its owner to return.",
                        "Context 3": "She felt lonely at the party because she didn’t know anyone."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "Practical contact with and observation of facts or events.",
                    "context": {
                        "Context 1": "You might not have any experience with streaming, but you can still share your thoughts.",
                        "Context 2": "His experience as a traveler enriched his storytelling.",
                        "Context 3": "The experience of skydiving was exhilarating and unforgettable."
                    }
                },
                {
                    "word": "Conversation",
                    "definition": "A talk, especially an informal one, between two or more people.",
                    "context": {
                        "Context 1": "It’s important to make it feel like a real conversation during the speaking part.",
                        "Context 2": "Their conversation about movies lasted for hours.",
                        "Context 3": "She enjoyed having a conversation with her grandmother about family history."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Stream",
                    "fact": "The term 'streaming' was first used in the 1990s, but it sounds like something you'd do with a fishing rod!"
                },
                {
                    "word": "Influencer",
                    "fact": "Did you know that the first influencer was probably a caveman who convinced others to try his new rock tool?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the influencer bring a ladder to the stream?",
                    "answer": "Because they wanted to reach new heights in their career!"
                },
                {
                    "question": "Why did the coffee file a police report?",
                    "answer": "It got mugged!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Profitable",
                    "definition": "Yielding financial gain or benefit.",
                    "context": {
                        "Context 1": "Investing in renewable energy can be a profitable venture.",
                        "Context 2": "The bakery became profitable after they introduced new recipes.",
                        "Context 3": "Selling lemonade on a hot day can be surprisingly profitable for kids."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement or organization of parts to form a whole.",
                    "context": {
                        "Context 1": "The structure of your essay should include an introduction, body, and conclusion.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "In a game of Jenga, the structure becomes unstable as blocks are removed."
                    }
                },
                {
                    "word": "Casual",
                    "definition": "Relaxed and unconcerned; informal.",
                    "context": {
                        "Context 1": "In casual conversations, people often use slang and informal language.",
                        "Context 2": "He wore a casual outfit to the party, opting for jeans and a t-shirt.",
                        "Context 3": "The casual atmosphere of the café made it a great place to meet friends."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "Practical contact with and observation of facts or events.",
                    "context": {
                        "Context 1": "Her experience as a teacher helped her understand student needs better.",
                        "Context 2": "Traveling to different countries can provide a rich cultural experience.",
                        "Context 3": "He gained experience in cooking by helping his grandmother in the kitchen."
                    }
                },
                {
                    "word": "Connection",
                    "definition": "A relationship in which a person or thing is linked or associated with something else.",
                    "context": {
                        "Context 1": "Building a strong connection with students is essential for effective teaching.",
                        "Context 2": "The connection between the two friends grew stronger over the years.",
                        "Context 3": "He felt a deep connection to the music that reminded him of his childhood."
                    }
                },
                {
                    "word": "Ambiguous",
                    "definition": "Open to more than one interpretation; not having one obvious meaning.",
                    "context": {
                        "Context 1": "Her ambiguous answer left everyone confused about her true feelings.",
                        "Context 2": "The ambiguous road sign made it difficult for drivers to know which way to go.",
                        "Context 3": "The poem was intentionally ambiguous, allowing readers to draw their own conclusions."
                    }
                },
                {
                    "word": "Engaging",
                    "definition": "Attractive or interesting; capable of holding attention.",
                    "context": {
                        "Context 1": "The teacher's engaging style made the lesson enjoyable for all students.",
                        "Context 2": "The movie was so engaging that I forgot about the time.",
                        "Context 3": "She has an engaging personality that draws people to her."
                    }
                },
                {
                    "word": "Controversial",
                    "definition": "Giving rise or likely to give rise to public disagreement.",
                    "context": {
                        "Context 1": "The controversial topic sparked a heated debate among the students.",
                        "Context 2": "His controversial artwork challenged societal norms.",
                        "Context 3": "The controversial decision to close the park led to protests."
                    }
                },
                {
                    "word": "Criteria",
                    "definition": "Principles or standards by which something is judged or decided.",
                    "context": {
                        "Context 1": "The criteria for passing the exam include both written and oral assessments.",
                        "Context 2": "The hiring criteria for the job were clearly outlined in the advertisement.",
                        "Context 3": "In cooking competitions, judges use specific criteria to evaluate dishes."
                    }
                },
                {
                    "word": "Expand",
                    "definition": "To increase in size, volume, quantity, or scope.",
                    "context": {
                        "Context 1": "The company plans to expand its operations into new markets next year.",
                        "Context 2": "He wanted to expand his knowledge by reading more books.",
                        "Context 3": "The balloon began to expand as air was pumped into it."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Profitable",
                    "fact": "Did you know that the most profitable item sold at McDonald's is their French fries?"
                },
                {
                    "word": "Ambiguous",
                    "fact": "The word 'ambiguous' is often used to describe things that are unclear, but it can also be used to describe a person who can't decide what to wear!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the teacher go to the beach?",
                    "answer": "Because she wanted to test the waters!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Fluency",
                    "definition": "The ability to express oneself easily and articulately in a language.",
                    "context": {
                        "Context 1": "Fluency in English is not just about speaking quickly; it's about being able to communicate ideas clearly.",
                        "Context 2": "She demonstrated her fluency in French by effortlessly conversing with the locals during her trip.",
                        "Context 3": "The fluency of the river's flow was interrupted by the sudden rainstorm."
                    }
                },
                {
                    "word": "Concise",
                    "definition": "Giving a lot of information clearly and in a few words; brief but comprehensive.",
                    "context": {
                        "Context 1": "Her concise explanation helped everyone understand the complex topic quickly.",
                        "Context 2": "The concise summary of the book made it easy for the students to grasp the main ideas.",
                        "Context 3": "He wrote a concise poem that captured the essence of love in just a few lines."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event, statement, or idea that help clarify its meaning.",
                    "context": {
                        "Context 1": "Understanding the context of the conversation is crucial for effective communication.",
                        "Context 2": "In historical context, the painting reflects the social issues of its time.",
                        "Context 3": "Without context, the joke might not make sense to someone unfamiliar with the topic."
                    }
                },
                {
                    "word": "Proficient",
                    "definition": "Competent or skilled in doing or using something.",
                    "context": {
                        "Context 1": "She is proficient in Spanish, allowing her to work in a bilingual environment.",
                        "Context 2": "He became proficient at playing the guitar after years of practice.",
                        "Context 3": "The chef is proficient in Italian cuisine, making him a sought-after cook."
                    }
                },
                {
                    "word": "Immobilize",
                    "definition": "To prevent something from moving or operating as normal.",
                    "context": {
                        "Context 1": "The injury immobilized her arm, making it difficult for her to write.",
                        "Context 2": "The police had to immobilize the suspect to ensure everyone's safety.",
                        "Context 3": "The cold weather can immobilize the machinery if not properly maintained."
                    }
                },
                {
                    "word": "Assessment",
                    "definition": "The evaluation or estimation of the nature, quality, or ability of someone or something.",
                    "context": {
                        "Context 1": "The teacher's assessment of the student's progress was very positive.",
                        "Context 2": "A thorough assessment of the building's safety was conducted after the earthquake.",
                        "Context 3": "The assessment of the new software revealed several bugs that needed fixing."
                    }
                },
                {
                    "word": "Experiment",
                    "definition": "A scientific procedure undertaken to make a discovery, test a hypothesis, or demonstrate a known fact.",
                    "context": {
                        "Context 1": "The scientist conducted an experiment to test the effects of temperature on plant growth.",
                        "Context 2": "He decided to experiment with different recipes to create the perfect cake.",
                        "Context 3": "The children were excited to experiment with colors during their art class."
                    }
                },
                {
                    "word": "Feedback",
                    "definition": "Information about reactions to a product, a person's performance of a task, etc., used as a basis for improvement.",
                    "context": {
                        "Context 1": "The teacher provided constructive feedback on the student's essay.",
                        "Context 2": "Customer feedback is essential for improving the quality of the service.",
                        "Context 3": "He received feedback from his friends about his new haircut."
                    }
                },
                {
                    "word": "Nonsense",
                    "definition": "Spoken or written words that have no meaning or make no sense.",
                    "context": {
                        "Context 1": "The student's answer was complete nonsense, showing he hadn't studied.",
                        "Context 2": "The comedian's jokes often border on nonsense but are still hilarious.",
                        "Context 3": "The book was filled with nonsense rhymes that entertained children."
                    }
                },
                {
                    "word": "Ethical",
                    "definition": "Relating to moral principles or the branch of knowledge dealing with these.",
                    "context": {
                        "Context 1": "The ethical implications of the experiment were discussed in detail.",
                        "Context 2": "She faced an ethical dilemma when deciding whether to report the incident.",
                        "Context 3": "The company prides itself on ethical sourcing of its materials."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Fluency",
                    "fact": "Did you know that the word 'fluent' comes from the Latin 'fluere,' meaning 'to flow'? So, speaking fluently is like letting your words flow!"
                },
                {
                    "word": "Concise",
                    "fact": "The shortest complete sentence in the English language is 'I am.' It’s concise and to the point!"
                },
                {
                    "word": "Nonsense",
                    "fact": "The word 'nonsense' was first used in the 16th century and originally referred to something that made no sense, like a bad poem!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the teacher go to the beach?",
                    "answer": "Because she wanted to test the waters!"
                },
                {
                    "question": "What do you call a teacher who never farts in public?",
                    "answer": "A private tutor!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Monitor",
                    "definition": "To observe and check the progress or quality of something over a period of time.",
                    "context": {
                        "Context 1": "I am monitoring the updates in the field of AI technology.",
                        "Context 2": "The teacher will monitor the students during the exam to prevent cheating.",
                        "Context 3": "Parents often monitor their children's screen time to ensure a healthy balance."
                    }
                },
                {
                    "word": "Capable",
                    "definition": "Having the ability, fitness, or quality necessary to do or achieve a specified thing.",
                    "context": {
                        "Context 1": "This AI is very, very capable compared to previous versions.",
                        "Context 2": "She is capable of running a marathon without any training.",
                        "Context 3": "The capable chef prepared a five-course meal in under two hours."
                    }
                },
                {
                    "word": "Scary",
                    "definition": "Causing fear or alarm; frightening.",
                    "context": {
                        "Context 1": "It sounds scary when you think about the capabilities of MENACE.",
                        "Context 2": "The scary movie kept me awake all night.",
                        "Context 3": "The thought of a haunted house can be scary for some people."
                    }
                },
                {
                    "word": "Assist",
                    "definition": "To help or aid someone in doing something.",
                    "context": {
                        "Context 1": "Chanty PT is good at assisting you with creating a site.",
                        "Context 2": "The nurse will assist the doctor during the surgery.",
                        "Context 3": "He offered to assist his friend with moving into a new apartment."
                    }
                },
                {
                    "word": "Create",
                    "definition": "To bring something into existence; to make or produce.",
                    "context": {
                        "Context 1": "This AI can create a site without needing you.",
                        "Context 2": "She loves to create art in her free time.",
                        "Context 3": "The team worked hard to create a new marketing strategy."
                    }
                },
                {
                    "word": "Field",
                    "definition": "An area of study or activity.",
                    "context": {
                        "Context 1": "I am monitoring the updates in the field of AI technology.",
                        "Context 2": "She is an expert in the field of marine biology.",
                        "Context 3": "The field of psychology has many different specializations."
                    }
                },
                {
                    "word": "Updates",
                    "definition": "New information or changes to something.",
                    "context": {
                        "Context 1": "I am monitoring all the updates in AI technology.",
                        "Context 2": "The software updates improved the app's performance.",
                        "Context 3": "He received updates about the weather every hour."
                    }
                },
                {
                    "word": "Technology",
                    "definition": "The application of scientific knowledge for practical purposes, especially in industry.",
                    "context": {
                        "Context 1": "I am monitoring the updates in the field of AI technology.",
                        "Context 2": "Advancements in technology have changed how we communicate.",
                        "Context 3": "Many students are interested in studying technology and engineering."
                    }
                },
                {
                    "word": "AI (Artificial Intelligence)",
                    "definition": "The simulation of human intelligence processes by machines, especially computer systems.",
                    "context": {
                        "Context 1": "MENACE is a very capable AI that has been recently released.",
                        "Context 2": "AI can help automate tasks in various industries.",
                        "Context 3": "Some people worry about the ethical implications of AI."
                    }
                },
                {
                    "word": "Release",
                    "definition": "To make something available to the public.",
                    "context": {
                        "Context 1": "MENACE was recently released and is very capable.",
                        "Context 2": "The company plans to release a new product next month.",
                        "Context 3": "The movie will be released in theaters this summer."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "AI (Artificial Intelligence)",
                    "fact": "Did you know that the first AI program was written in 1956? It was called the Logic Theorist!"
                },
                {
                    "word": "Create",
                    "fact": "The word 'create' comes from the Latin 'creare,' which means 'to make or produce.' So, every time you create something, you're channeling ancient Roman vibes!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of anxiety!"
                },
                {
                    "question": "What do you call an AI that tells jokes?",
                    "answer": "A pun-derful machine!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going this afternoon?"
                },
                {
                    "Person 2": "Not too bad! Just trying to escape my responsibilities for a bit. You know how it is."
                },
                {
                    "Person 1": "Totally! I just made myself a cup of coffee, but I think it’s leftover from yesterday."
                },
                {
                    "Person 2": "Yikes! Hope it doesn’t taste too bad. I usually can’t drink old coffee."
                },
                {
                    "Person 1": "Yeah, I’m not sure if it’s good for me, but I’ll find out soon enough!"
                },
                {
                    "Person 2": "Haha, fair enough! By the way, I see you finally got a camera set up!"
                },
                {
                    "Person 1": "Yeah! I even got a light for my background. Trying to look more professional, you know?"
                },
                {
                    "Person 2": "It looks great! Feels like I’m watching a live stream instead of just chatting."
                },
                {
                    "Person 1": "That was the goal! Maybe I should start streaming."
                },
                {
                    "Person 2": "Are you into streaming? I can never seem to catch anything live."
                },
                {
                    "Person 1": "Same here! I usually just watch my favorite YouTubers after the fact."
                },
                {
                    "Person 2": "Who do you watch? I’m a big fan of Danny Gonzalez."
                },
                {
                    "Person 1": "Oh, I love him! He’s hilarious. I also like Curtis Corner."
                },
                {
                    "Person 2": "Curtis Corner? I haven’t heard of them. What do they do?"
                },
                {
                    "Person 1": "They used to do stand-up, but now they make funny videos and sometimes stream games like Minecraft."
                },
                {
                    "Person 2": "Nice! I’ve never really gotten into Twitch, though. Just don’t get the appeal."
                },
                {
                    "Person 1": "I get that. It’s a whole different culture. My roommate is really into it, though."
                },
                {
                    "Person 2": "Is he a streamer or just a viewer?"
                },
                {
                    "Person 1": "Just a viewer! He spends hours watching different streams."
                },
                {
                    "Person 2": "Wow, that’s dedication! I guess it’s kind of like listening to music, right?"
                },
                {
                    "Person 1": "Exactly! You have to listen a lot to get better at speaking."
                },
                {
                    "Person 2": "And I guess it’s nice to feel connected to someone, even if it’s through a screen."
                },
                {
                    "Person 1": "For sure! It’s like having a friend hanging out with you."
                },
                {
                    "Person 2": "Yeah, definitely! So, do you think streaming will get even more popular?"
                },
                {
                    "Person 1": "I think so! A lot of people feel lonely, and streaming makes it feel like they’re part of something."
                },
                {
                    "Person 2": "That makes sense. It’s a good way to connect without actually being there."
                },
                {
                    "Person 1": "Exactly! Plus, it’s entertaining to watch other people live their lives."
                },
                {
                    "Person 2": "Alright, I’m convinced! Maybe I should give it another shot."
                },
                {
                    "Person 1": "You should! Let’s plan a streaming night together sometime."
                },
                {
                    "Person 2": "Sounds like a plan! I’ll bring the snacks!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you seen all the buzz about AI lately?"
                },
                {
                    "Person 2": "Yeah, it's everywhere! I feel like every other article is about how it's going to change everything."
                },
                {
                    "Person 1": "Right? I was reading about how some people think it might even replace teachers in universities."
                },
                {
                    "Person 2": "I don’t know about that. I mean, teachers do so much more than just share information."
                },
                {
                    "Person 1": "Exactly! It’s about connecting with students and sharing experiences."
                },
                {
                    "Person 2": "Totally! I remember my favorite professors. They made such a difference in my learning."
                },
                {
                    "Person 1": "Same here! But I guess for some subjects, AI could help with the basics, right?"
                },
                {
                    "Person 2": "Yeah, like if it's just about delivering facts or data, AI could do that."
                },
                {
                    "Person 1": "But when it comes to discussions and critical thinking, I think we still need real teachers."
                },
                {
                    "Person 2": "For sure! Plus, kids really need that personal connection. It’s different with adults."
                },
                {
                    "Person 1": "Exactly! I think AI could assist, but not fully replace teachers, especially for younger students."
                },
                {
                    "Person 2": "Agreed! It’s all about balance. AI can be a tool, but not the whole solution."
                },
                {
                    "Person 1": "Yeah, I like that. So, what do you think the future holds for education?"
                },
                {
                    "Person 2": "I think it’ll be a mix of traditional teaching and tech. It could be really exciting!"
                },
                {
                    "Person 1": "Definitely! Let’s keep an eye on how it all unfolds."
                },
                {
                    "Person 2": "For sure! And we can chat about it more next time."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new show everyone's talking about?"
                },
                {
                    "Person 2": "Which one? There are so many out right now!"
                },
                {
                    "Person 1": "The one about the robots that become conscious. It's called Westworld."
                },
                {
                    "Person 2": "Oh, I think my brother watches that! Is it any good?"
                },
                {
                    "Person 1": "Yeah, it's pretty interesting. It raises a lot of ethical questions about AI and consciousness."
                },
                {
                    "Person 2": "That sounds intense! I’m not sure I’d like it, though. I prefer lighter shows."
                },
                {
                    "Person 1": "Totally get that! Sometimes you just want something fun and easy to watch."
                },
                {
                    "Person 2": "Exactly! I remember watching this game called Detroit Become Human. It was about androids and their rights."
                },
                {
                    "Person 1": "Oh, I've heard of that! Did you enjoy it?"
                },
                {
                    "Person 2": "Yeah, but it was tough to decide if the androids should have the same rights as humans."
                },
                {
                    "Person 1": "That’s a big question! It’s fascinating how shows and games can make us think about these things."
                },
                {
                    "Person 2": "For sure! But sometimes I just want to watch something silly to unwind."
                },
                {
                    "Person 1": "Same here! What’s your go-to show for that?"
                },
                {
                    "Person 2": "I love The Office! It always makes me laugh."
                },
                {
                    "Person 1": "Classic choice! I could watch that on repeat."
                },
                {
                    "Person 2": "Right? It never gets old. We should have a binge-watching night soon!"
                },
                {
                    "Person 1": "Absolutely! Let’s plan for it this weekend."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, did you hear about that new AI called MENACE?"
                },
                {
                    "Person 2": "Yeah, I did! Sounds kind of intense, right? Like, what’s the deal with that name?"
                },
                {
                    "Person 1": "I know, right? It sounds like something that could cause trouble!"
                },
                {
                    "Person 2": "Exactly! I mean, it’s supposed to be super advanced compared to other AIs."
                },
                {
                    "Person 1": "Yeah, I heard it can actually create websites on its own. That’s wild!"
                },
                {
                    "Person 2": "For real? I thought AI was just for helping out with stuff, not doing everything by itself."
                },
                {
                    "Person 1": "Same! I mean, I use AI for writing and brainstorming, but this sounds like it’s on another level."
                },
                {
                    "Person 2": "Right? It’s like we’re one step closer to having robots do everything for us."
                },
                {
                    "Person 1": "Kind of scary to think about, honestly. What if it gets too smart?"
                },
                {
                    "Person 2": "Yeah, I guess we have to keep an eye on it. But it’s also exciting to see how technology is evolving."
                },
                {
                    "Person 1": "True! I just hope it doesn’t take over everything. I still like doing things myself."
                },
                {
                    "Person 2": "Same here! Balance is key, right? We can use tech but still keep our human touch."
                },
                {
                    "Person 1": "Absolutely! So, what’s next? Are we getting MENACE to help us with our projects?"
                },
                {
                    "Person 2": "Haha, maybe! But let’s not forget to double-check its work, just in case."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "my office have a little have a little destroy",
                    "corrected": "my office has a little destruction",
                    "explanation": "The verb 'have' should be 'has' to agree with the singular noun 'office.' 'Destroy' is a verb; 'destruction' is the correct noun form.",
                    "context": "I think my office is a bit messy. My office has a little destruction. It's been a hectic week."
                },
                {
                    "original": "I lose my time",
                    "corrected": "I lost my time",
                    "explanation": "The verb 'lose' is present tense; 'lost' is the correct past tense form to indicate that the action has already happened.",
                    "context": "I was very frustrated with the delivery. I lost my time of five hours with these two workers. It was a complete waste."
                },
                {
                    "original": "they will fire him",
                    "corrected": "they would fire him",
                    "explanation": "The conditional 'would' should be used here instead of 'will' to indicate a hypothetical situation.",
                    "context": "If they told me about the issues, they would fire him. I felt bad for the workers but understood their situation."
                },
                {
                    "original": "the chairs is okay",
                    "corrected": "the chairs are okay",
                    "explanation": "'Chairs' is plural, so the verb should be 'are' instead of 'is.'",
                    "context": "I had some issues with the sofa, but the chairs are okay. At least one part of the delivery went well."
                },
                {
                    "original": "I bought it when the war started. It was a very low price and this or that.",
                    "corrected": "I bought it when the war started. It was a very low price and that's why I got it.",
                    "explanation": "The phrase 'this or that' is vague; 'that's why I got it' clarifies the reason for the purchase.",
                    "context": "I needed a TV for my living room. I bought it when the war started. It was a very low price and that's why I got it."
                },
                {
                    "original": "I have not PlayStation",
                    "corrected": "I do not have a PlayStation",
                    "explanation": "The correct structure for negation in this context requires 'do' and the article 'a' before 'PlayStation.'",
                    "context": "I enjoy gaming but I don't have a PlayStation. I have not PlayStation, but I wish I could play some games."
                },
                {
                    "original": "I think in Japan it's... wait, influence, depression, pain, stomach, what is it?",
                    "corrected": "I think in Japan it's... wait, influence, depression, pain, sickness, what is it?",
                    "explanation": "'Stomach' is not the correct term here; 'sickness' fits better in the context of mental health.",
                    "context": "I was trying to explain a cultural phenomenon. I think in Japan it's... wait, influence, depression, pain, sickness, what is it?"
                },
                {
                    "original": "you sick?",
                    "corrected": "are you sick?",
                    "explanation": "The correct form of the question requires the verb 'are' to be grammatically correct.",
                    "context": "I was discussing the meaning of being sick. I asked, 'Are you sick?' to clarify the expression."
                },
                {
                    "original": "when awkward silence, the policeman is born",
                    "corrected": "when there's an awkward silence, a policeman is born",
                    "explanation": "The phrase needs a subject and verb to be correct; 'there's' and 'is' clarify the statement.",
                    "context": "We were talking about social situations. I said, 'When there's an awkward silence, a policeman is born.' It's a funny saying."
                },
                {
                    "original": "how it's right?",
                    "corrected": "how is it spelled?",
                    "explanation": "The phrase needs to be restructured for clarity; 'how is it spelled?' correctly asks for the spelling.",
                    "context": "I was curious about the word 'awkward.' I asked, 'How is it spelled?' because it's tricky."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I just noticed that I can not go out in two weeks, in three weeks.",
                    "corrected": "I just noticed that I cannot go out for two weeks, for three weeks.",
                    "explanation": "The phrase 'can not' should be written as 'cannot' in formal contexts. Additionally, 'in' should be replaced with 'for' to indicate duration.",
                    "context": "I've been working from home a lot lately. I just noticed that I cannot go out for two weeks, for three weeks. It's strange how isolated I've become."
                },
                {
                    "original": "It's don't.",
                    "corrected": "It doesn't.",
                    "explanation": "'It's don't' is incorrect; the contraction 'it's' (it is) should not be used here. The correct form is 'it doesn't' (it does not).",
                    "context": "I was explaining the condition of my new sofa. It doesn't match my expectations. I was hoping for something different."
                },
                {
                    "original": "I take the factory who built this sofa to change.",
                    "corrected": "I took it to the factory that built this sofa to get it changed.",
                    "explanation": "The verb tense should be past ('took') and 'who' should be replaced with 'that' when referring to a factory. The phrase 'to change' is vague; 'to get it changed' is clearer.",
                    "context": "I wanted to fix my old sofa. I took it to the factory that built this sofa to get it changed. I hoped they could renew it."
                },
                {
                    "original": "I may be playing.",
                    "corrected": "I might have played.",
                    "explanation": "The phrase 'I may be playing' implies ongoing action, while 'I might have played' correctly indicates a past action.",
                    "context": "When reminiscing about my childhood, I thought about my past activities. I might have played games with friends. It was a fun time."
                },
                {
                    "original": "I not agree.",
                    "corrected": "I don't agree.",
                    "explanation": "The phrase 'I not agree' is incorrect; it should be 'I don't agree' to properly use the negative form.",
                    "context": "During a discussion, I expressed my opinion. I don't agree with that perspective. I have a different view on the matter."
                },
                {
                    "original": "He can look demonstrate his vampire has his teeth.",
                    "corrected": "He can demonstrate his skills; he has a sharp mind.",
                    "explanation": "The phrase is unclear and contains grammatical errors. It should be rephrased for clarity and correctness.",
                    "context": "I was describing a new colleague. He can demonstrate his skills; he has a sharp mind. He’s quite impressive in his role."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I mean in the me in the in the middle",
                    "corrected": "I mean in the middle.",
                    "explanation": "The phrase 'in the me in the in the middle' is redundant and unclear; it should simply be 'in the middle.'",
                    "context": "Our team is struggling with communication. I mean in the middle. I'm very tired because they all can't connect very well."
                },
                {
                    "original": "he scares him",
                    "corrected": "he scares them.",
                    "explanation": "'Scares him' is incorrect; it should be 'scares them' to refer to multiple people.",
                    "context": "They are afraid of him. He scares them. Yes, he comes from war, and we don't need a worker like this."
                },
                {
                    "original": "we didn't we don't need a worker like this",
                    "corrected": "we don't need a worker like this.",
                    "explanation": "The phrase 'we didn't' is incorrect in this context; it should be present tense 'we don't.'",
                    "context": "He comes from war, and we don't need a worker like this. I'm tired of the situation."
                },
                {
                    "original": "it's a little like a children can't connect",
                    "corrected": "it's a little like children can't connect.",
                    "explanation": "The article 'a' is unnecessary before 'children'; it should be plural without it.",
                    "context": "I'm tired of the situation. It's a little like children can't connect. They need to focus on doing business."
                },
                {
                    "original": "I can't question if I can't ask it",
                    "corrected": "I have a question if I can ask it.",
                    "explanation": "The phrase 'I can't question' is incorrect; it should be 'I have a question.'",
                    "context": "I have a question for you. If I can ask it, when did you leave for Russia? Two years ago, in September 2022."
                },
                {
                    "original": "at this week I go for a walk with him",
                    "corrected": "this week I went for a walk with him.",
                    "explanation": "The phrase 'at this week' is incorrect; it should be 'this week' and the verb should be in the past tense.",
                    "context": "This week I went for a walk with him. We sat in the park and talked about various topics."
                },
                {
                    "original": "he have work with a trapeze therapy psychology",
                    "corrected": "he has been working with a therapist.",
                    "explanation": "'He have' is incorrect; it should be 'he has.' The phrase 'trapeze therapy psychology' is unclear.",
                    "context": "He has been working with a therapist. Last year, he had problems with drugs and alcohol."
                },
                {
                    "original": "he can he can't work remotely remotely remotely",
                    "corrected": "he can't work remotely.",
                    "explanation": "The repetition of 'remotely' is unnecessary; it should only be stated once.",
                    "context": "He can’t work remotely. He was fired from his job, and it doesn't matter now."
                },
                {
                    "original": "he want to live and his flat flat he have a flat",
                    "corrected": "he wants to live in his flat.",
                    "explanation": "'He want' should be 'he wants' for subject-verb agreement; 'flat flat' is redundant.",
                    "context": "He wants to live in his flat. His parents gave him a very good flat in Moscow."
                },
                {
                    "original": "he think if he stay in Russia he the policeman punch him",
                    "corrected": "he thinks if he stays in Russia, the police will punch him.",
                    "explanation": "The verb forms are incorrect; it should be 'he thinks' and 'he stays.' 'The policeman punch him' should be 'the police will punch him.'",
                    "context": "He thinks if he stays in Russia, the police will punch him. He fears for his safety."
                },
                {
                    "original": "he can learn anymore anymore anything anything",
                    "corrected": "he can learn anything.",
                    "explanation": "The repetition of 'anymore' and 'anything' is unnecessary; it should simply be 'he can learn anything.'",
                    "context": "He knows English very well. I think he can learn anything. He has a good brain."
                },
                {
                    "original": "it's hard to go I mean I've had I've had a few students",
                    "corrected": "it's hard to go. I mean, I've had a few students.",
                    "explanation": "The sentence lacks proper punctuation; it should be split into two sentences for clarity.",
                    "context": "It's hard to go. I mean, I've had a few students who managed to migrate successfully."
                },
                {
                    "original": "I'm have a Japanese passport",
                    "corrected": "I have a Japanese passport.",
                    "explanation": "'I'm have' is incorrect; it should simply be 'I have.'",
                    "context": "I have a Japanese passport. I can go to other countries without problems."
                },
                {
                    "original": "I wait there half years to the take or visa",
                    "corrected": "I waited there for half a year to get a visa.",
                    "explanation": "The verb tense is incorrect; it should be 'I waited.' The phrase 'to the take or visa' is unclear and should be 'to get a visa.'",
                    "context": "I waited there for half a year to get a visa. It's really hard to take a visa."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "I didn't have a problem but my Russian teams have a lot of questions from the policemen's military.",
                    "corrected": "I didn't have a problem, but my Russian team had a lot of questions from the military policemen.",
                    "explanation": "The plural 'teams' should be singular 'team' for consistency, and 'policemen's military' is awkward; 'military policemen' is more appropriate.",
                    "context": "When I visited Bucharest, I didn't have a problem. However, my Russian team had a lot of questions from the military policemen. They were trying to understand the regulations."
                },
                {
                    "original": "we lost lost lose many times",
                    "corrected": "we lost many times",
                    "explanation": "The phrase 'lost lost lose' is incorrect; only 'lost' is needed to convey the past tense.",
                    "context": "During our time in Bucharest, we faced several challenges. We lost many times due to misunderstandings. It was frustrating for everyone involved."
                },
                {
                    "original": "I have a student who wants to go to in April",
                    "corrected": "I have a student who wants to go in April.",
                    "explanation": "The phrase 'to go to in April' is incorrect; 'to go in April' is the correct form.",
                    "context": "One of my students is eager to travel. I have a student who wants to go in April. She has plans to see her favorite band."
                },
                {
                    "original": "it's a visa for more than half here",
                    "corrected": "it's a visa for more than half a year.",
                    "explanation": "'Half here' is a mispronunciation; it should be 'half a year' to indicate a duration.",
                    "context": "We discussed visa durations. It's a visa for more than half a year. This can be challenging to obtain."
                },
                {
                    "original": "I think it's a warm wind if you and Moscow not the Moscow maybe across Nagorsk Easter it's a cold wind.",
                    "corrected": "I think it's a warm wind in Moscow, but maybe across Noginsk it's a cold wind.",
                    "explanation": "The phrase 'if you and Moscow not the Moscow' is confusing; 'in Moscow' is correct, and 'across Nagorsk Easter' should be 'across Noginsk.'",
                    "context": "We were discussing the weather in Moscow. I think it's a warm wind in Moscow. However, across Noginsk, it might be a cold wind."
                },
                {
                    "original": "it's a winter clothes in summer it's a spring coat",
                    "corrected": "it's winter clothes in summer; it's a spring coat.",
                    "explanation": "The sentence lacks proper punctuation; a semicolon or period is needed to separate the two independent clauses.",
                    "context": "We talked about clothing for different seasons. It's winter clothes in summer; it's a spring coat. It’s important to dress appropriately."
                },
                {
                    "original": "I have many, many, many problems and obligations, how it's correct in English.",
                    "corrected": "I have many problems and obligations; how is it correct in English?",
                    "explanation": "The phrase 'how it's correct' is incorrect; it should be 'how is it correct.' A semicolon is also needed for clarity.",
                    "context": "I was expressing my struggles with English. I have many problems and obligations; how is it correct in English? I want to improve."
                },
                {
                    "original": "I look a little too serious on Two and a Half Men in English with subtitles.",
                    "corrected": "I watched a little too seriously Two and a Half Men in English with subtitles.",
                    "explanation": "'Look' is incorrect here; 'watched' is the appropriate verb, and the adverb 'seriously' should follow the verb.",
                    "context": "I was discussing my viewing habits. I watched a little too seriously Two and a Half Men in English with subtitles. It was an interesting experience."
                },
                {
                    "original": "it's a little bit more comfortable than previously, generation, a little bit.",
                    "corrected": "it's a little bit more comfortable than previously; a little bit.",
                    "explanation": "The phrase is awkward and lacks clarity; it should be restructured for better flow.",
                    "context": "We were talking about comfort levels. It's a little bit more comfortable than previously; a little bit. Small changes can make a difference."
                },
                {
                    "original": "It's more forms, more change or more little forms?",
                    "corrected": "Are there more forms, more changes, or more little forms?",
                    "explanation": "The original sentence lacks proper structure; it should be a question with correct verb placement.",
                    "context": "I was curious about variations. Are there more forms, more changes, or more little forms? I want to understand the differences."
                },
                {
                    "original": "He was really like... Her brain... He was really trying very hard to fetch those English words from the back of your head.",
                    "corrected": "He was really trying very hard to fetch those English words from the back of his head.",
                    "explanation": "The use of 'your head' is incorrect; it should be 'his head' to maintain consistency in the subject.",
                    "context": "I was describing a student's struggle. He was really trying very hard to fetch those English words from the back of his head. It was challenging for him."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Delivery",
                    "definition": "The act of bringing goods to a specific location.",
                    "context": {
                        "Context 1": "The delivery of the sofa was delayed due to a mix-up with the order.",
                        "Context 2": "She eagerly awaited the delivery of her birthday cake.",
                        "Context 3": "The mailman made his daily delivery of letters and packages."
                    }
                },
                {
                    "word": "Complaint",
                    "definition": "An expression of dissatisfaction or annoyance about something.",
                    "context": {
                        "Context 1": "He filed a complaint with the manager after receiving poor service.",
                        "Context 2": "Her complaint about the noise was ignored by the neighbors.",
                        "Context 3": "The teacher received a complaint from a parent about the homework load."
                    }
                },
                {
                    "word": "Fired",
                    "definition": "To be dismissed from a job or position.",
                    "context": {
                        "Context 1": "He was fired for being late too many times.",
                        "Context 2": "The actor was fired from the movie after a scandal.",
                        "Context 3": "She feared she would be fired if she didn't meet her sales targets."
                    }
                },
                {
                    "word": "Awkward",
                    "definition": "Causing or feeling embarrassment or inconvenience.",
                    "context": {
                        "Context 1": "There was an awkward silence after the joke fell flat.",
                        "Context 2": "He felt awkward when he realized he had forgotten her name.",
                        "Context 3": "The awkward moment came when they both reached for the last slice of pizza."
                    }
                },
                {
                    "word": "Tension",
                    "definition": "Mental or emotional strain; stress.",
                    "context": {
                        "Context 1": "There was a lot of tension in the room during the meeting.",
                        "Context 2": "The tension between the two rivals was palpable.",
                        "Context 3": "Yoga can help relieve tension in both the body and mind."
                    }
                },
                {
                    "word": "Sofa",
                    "definition": "A comfortable seat wide enough for several people to sit on.",
                    "context": {
                        "Context 1": "The new sofa in the living room is very cozy.",
                        "Context 2": "They decided to buy a sectional sofa for their family room.",
                        "Context 3": "He fell asleep on the sofa while watching TV."
                    }
                },
                {
                    "word": "Manager",
                    "definition": "A person responsible for controlling or administering an organization or group.",
                    "context": {
                        "Context 1": "The manager scheduled a meeting to discuss the project.",
                        "Context 2": "She reported the issue to her manager for further action.",
                        "Context 3": "The restaurant manager ensured that all customers were satisfied."
                    }
                },
                {
                    "word": "Fix",
                    "definition": "To repair or correct something.",
                    "context": {
                        "Context 1": "They called a technician to fix the broken air conditioner.",
                        "Context 2": "He tried to fix the car himself but ended up making it worse.",
                        "Context 3": "She needed to fix her schedule to accommodate the new class."
                    }
                },
                {
                    "word": "Quality",
                    "definition": "The standard of something as measured against other things of a similar kind.",
                    "context": {
                        "Context 1": "The quality of the furniture was excellent for the price.",
                        "Context 2": "She always looks for quality ingredients when cooking.",
                        "Context 3": "The quality of the movie was much better than expected."
                    }
                },
                {
                    "word": "Purchase",
                    "definition": "The act of buying something.",
                    "context": {
                        "Context 1": "She made a purchase at the store for some new clothes.",
                        "Context 2": "His recent purchase of a new car made him very happy.",
                        "Context 3": "They decided to purchase a house in the suburbs."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Awkward",
                    "fact": "The word 'awkward' is often considered awkward to pronounce, especially for non-native speakers!"
                },
                {
                    "word": "Delivery",
                    "fact": "In ancient Rome, they had a postal system that could deliver messages faster than some modern services!"
                },
                {
                    "word": "Sofa",
                    "fact": "The world's longest sofa is over 1,000 feet long and is located in a hotel in Italy!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the sofa break up with the chair?",
                    "answer": "Because it found someone more supportive!"
                },
                {
                    "question": "What did one wall say to the other wall?",
                    "answer": "I'll meet you at the corner!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Awkward",
                    "definition": "Causing or feeling embarrassment or inconvenience.",
                    "context": {
                        "Context 1": "The awkward silence after the joke fell flat made everyone uncomfortable.",
                        "Context 2": "He felt awkward when he realized he had forgotten her name.",
                        "Context 3": "The awkward dance moves at the party made everyone laugh."
                    }
                },
                {
                    "word": "Hikikomori",
                    "definition": "A social phenomenon in Japan where individuals withdraw from social life, often seeking extreme degrees of isolation.",
                    "context": {
                        "Context 1": "Many hikikomori spend months or years without leaving their homes.",
                        "Context 2": "The hikikomori lifestyle is often romanticized in movies and books.",
                        "Context 3": "Some hikikomori find solace in online gaming communities."
                    }
                },
                {
                    "word": "Self-esteem",
                    "definition": "Confidence in one's own worth or abilities; self-respect.",
                    "context": {
                        "Context 1": "Low self-esteem can lead to feelings of inadequacy and depression.",
                        "Context 2": "Building self-esteem is crucial for personal development.",
                        "Context 3": "High self-esteem can sometimes be mistaken for arrogance."
                    }
                },
                {
                    "word": "Sofa",
                    "definition": "A long upholstered seat with a back and arms, for two or more people.",
                    "context": {
                        "Context 1": "The old sofa in the living room was in desperate need of replacement.",
                        "Context 2": "She loves to curl up on her sofa with a good book.",
                        "Context 3": "The sofa was so comfortable that he fell asleep during the movie."
                    }
                },
                {
                    "word": "Satisfied",
                    "definition": "Contented; pleased with what has been received or achieved.",
                    "context": {
                        "Context 1": "She felt satisfied after completing her project on time.",
                        "Context 2": "He was not satisfied with the service at the restaurant.",
                        "Context 3": "The dog looked satisfied after finishing its meal."
                    }
                },
                {
                    "word": "Colleagues",
                    "definition": "People with whom one works, especially in a profession or business.",
                    "context": {
                        "Context 1": "My colleagues and I often collaborate on projects.",
                        "Context 2": "She invited her colleagues to her wedding.",
                        "Context 3": "Colleagues can become great friends outside of work."
                    }
                },
                {
                    "word": "Veteran",
                    "definition": "A person who has had long experience in a particular field.",
                    "context": {
                        "Context 1": "The veteran teacher shared her wisdom with the new staff.",
                        "Context 2": "He is a veteran of the tech industry, having worked for over 20 years.",
                        "Context 3": "Veterans often have unique perspectives on teamwork."
                    }
                },
                {
                    "word": "Depression",
                    "definition": "A mental health disorder characterized by persistently low mood and loss of interest.",
                    "context": {
                        "Context 1": "She sought help for her depression after feeling down for months.",
                        "Context 2": "Seasonal depression affects many people during the winter months.",
                        "Context 3": "Exercise has been shown to help alleviate symptoms of depression."
                    }
                },
                {
                    "word": "Material",
                    "definition": "The substance or substances from which a thing is made.",
                    "context": {
                        "Context 1": "The sofa was made from high-quality material that was durable.",
                        "Context 2": "He studied the material for his science exam thoroughly.",
                        "Context 3": "The artist used various materials to create her sculpture."
                    }
                },
                {
                    "word": "Ego",
                    "definition": "A person's sense of self-esteem or self-importance.",
                    "context": {
                        "Context 1": "His ego was bruised after losing the competition.",
                        "Context 2": "She has a healthy ego that helps her navigate challenges.",
                        "Context 3": "An inflated ego can lead to conflicts in teamwork."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Sofa",
                    "fact": "Did you know that the world's longest sofa is over 70 meters long? That's a lot of room for lounging!"
                },
                {
                    "word": "Ego",
                    "fact": "The term 'ego' comes from Latin, meaning 'I'. So, when someone says they have a big ego, they might just be really into themselves!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the sofa break up with the chair?",
                    "answer": "Because it found someone more supportive!"
                },
                {
                    "question": "Why don’t scientists trust atoms?",
                    "answer": "Because they make up everything!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Collective",
                    "definition": "Relating to a group of individuals acting together.",
                    "context": {
                        "Context 1": "Our team has a strong collective spirit that helps us work better together.",
                        "Context 2": "The collective effort of the community helped rebuild the park after the storm.",
                        "Context 3": "In a collective society, decisions are often made for the good of the group rather than the individual."
                    }
                },
                {
                    "word": "Connect",
                    "definition": "To join or link together; to establish a relationship.",
                    "context": {
                        "Context 1": "It's important for team members to connect with each other to foster collaboration.",
                        "Context 2": "I need to connect my phone to the Wi-Fi network to access the internet.",
                        "Context 3": "The artist wanted to connect with her audience through her paintings."
                    }
                },
                {
                    "word": "Tension",
                    "definition": "Mental or emotional strain; stress.",
                    "context": {
                        "Context 1": "There was a lot of tension in the room during the meeting due to differing opinions.",
                        "Context 2": "The tension in the air was palpable as the final seconds of the game ticked away.",
                        "Context 3": "Yoga helps relieve tension and promotes relaxation."
                    }
                },
                {
                    "word": "Comfortable",
                    "definition": "Providing physical ease and relaxation; free from stress or anxiety.",
                    "context": {
                        "Context 1": "He felt comfortable discussing his feelings with his friends.",
                        "Context 2": "The new sofa is so comfortable that I could sit on it all day.",
                        "Context 3": "She wore comfortable shoes for the long hike."
                    }
                },
                {
                    "word": "Relocate",
                    "definition": "To move to a different place, often for work or personal reasons.",
                    "context": {
                        "Context 1": "Many people chose to relocate to other countries for better job opportunities.",
                        "Context 2": "After the storm, the family had to relocate to a safer area.",
                        "Context 3": "He plans to relocate his business to a larger city next year."
                    }
                },
                {
                    "word": "Political",
                    "definition": "Relating to the government or public affairs of a country.",
                    "context": {
                        "Context 1": "The discussion turned political when they started talking about the upcoming elections.",
                        "Context 2": "His political views often spark debates among his friends.",
                        "Context 3": "Many artists use their work to comment on political issues."
                    }
                },
                {
                    "word": "Therapist",
                    "definition": "A professional who provides treatment for mental or emotional disorders.",
                    "context": {
                        "Context 1": "She decided to see a therapist to help her cope with anxiety.",
                        "Context 2": "The therapist recommended some exercises to improve his mental health.",
                        "Context 3": "Many athletes work with a sports therapist to recover from injuries."
                    }
                },
                {
                    "word": "Migrating",
                    "definition": "Moving from one place to another, often for better living conditions or opportunities.",
                    "context": {
                        "Context 1": "He is migrating to Canada for better job prospects.",
                        "Context 2": "Birds are migrating south for the winter.",
                        "Context 3": "The software company is migrating its data to a new server."
                    }
                },
                {
                    "word": "Antidepressant",
                    "definition": "A medication used to treat depression and anxiety disorders.",
                    "context": {
                        "Context 1": "The doctor prescribed an antidepressant to help manage her symptoms.",
                        "Context 2": "Some people find that exercise can be as effective as an antidepressant.",
                        "Context 3": "He read about the side effects of antidepressants before starting his treatment."
                    }
                },
                {
                    "word": "Accountable",
                    "definition": "Responsible for one's actions or decisions; required to explain or justify them.",
                    "context": {
                        "Context 1": "Leaders should be accountable for their team's performance.",
                        "Context 2": "Parents are accountable for their children's education.",
                        "Context 3": "The company must be accountable to its shareholders."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Collective",
                    "fact": "Did you know that a group of flamingos is called a 'flamboyance'? Talk about a collective of colorful characters!"
                },
                {
                    "word": "Tension",
                    "fact": "In physics, tension refers to the force that is transmitted through a string or rope when it is pulled tight. So next time you're stressed, just remember: it's all about the tension!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the scarecrow win an award?",
                    "answer": "Because he was outstanding in his field!"
                },
                {
                    "question": "Why don’t scientists trust atoms?",
                    "answer": "Because they make up everything!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Visa",
                    "definition": "An official document allowing a person to enter or leave a country.",
                    "context": {
                        "Context 1": "She applied for a visa to attend her favorite band's concert in Italy.",
                        "Context 2": "The visa process can be lengthy, requiring various documents.",
                        "Context 3": "He forgot to check if his visa was still valid before traveling."
                    }
                },
                {
                    "word": "Obligations",
                    "definition": "Responsibilities or duties that one is bound to fulfill.",
                    "context": {
                        "Context 1": "He mentioned he had many obligations that kept him from watching more shows.",
                        "Context 2": "Her obligations as a parent often limit her free time.",
                        "Context 3": "The obligations of a student include attending classes and completing assignments."
                    }
                },
                {
                    "word": "Responsibilities",
                    "definition": "The state or fact of having a duty to deal with something.",
                    "context": {
                        "Context 1": "He confused the word 'responsibilities' with 'respect' during the lesson.",
                        "Context 2": "As a team leader, she has many responsibilities to ensure the project runs smoothly.",
                        "Context 3": "His responsibilities at work increased after his promotion."
                    }
                },
                {
                    "word": "Calm",
                    "definition": "A state of tranquility or quietness.",
                    "context": {
                        "Context 1": "He described the Troparion as very calm and peaceful.",
                        "Context 2": "She tried to remain calm during the stressful exam.",
                        "Context 3": "The calm waters of the lake were perfect for a relaxing day."
                    }
                },
                {
                    "word": "Slightly",
                    "definition": "To a small degree; not considerably.",
                    "context": {
                        "Context 1": "He explained that 'a little bit' means slightly more comfortable than before.",
                        "Context 2": "The weather is slightly warmer today than it was yesterday.",
                        "Context 3": "She was slightly disappointed with the movie's ending."
                    }
                },
                {
                    "word": "Duration",
                    "definition": "The length of time something lasts.",
                    "context": {
                        "Context 1": "They discussed the duration of each episode being about 20 minutes.",
                        "Context 2": "The duration of the concert was longer than expected.",
                        "Context 3": "He measured the duration of his workout to track his progress."
                    }
                },
                {
                    "word": "Practice",
                    "definition": "Repetitive exercise in a skill to improve proficiency.",
                    "context": {
                        "Context 1": "He noted that even small practice is important for language learning.",
                        "Context 2": "She needs to practice her piano skills more often.",
                        "Context 3": "The team scheduled extra practice sessions before the big game."
                    }
                },
                {
                    "word": "Fetch",
                    "definition": "To go for and then bring back something.",
                    "context": {
                        "Context 1": "He used 'fetch' to describe how his student was trying to recall words.",
                        "Context 2": "The dog loves to fetch the ball when thrown.",
                        "Context 3": "She asked her brother to fetch her a glass of water."
                    }
                },
                {
                    "word": "Confidence",
                    "definition": "A feeling of self-assurance arising from one's appreciation of one's own abilities.",
                    "context": {
                        "Context 1": "He mentioned that watching the series gave him confidence in speaking English.",
                        "Context 2": "Her confidence grew after successfully completing the project.",
                        "Context 3": "Public speaking can help build confidence in many individuals."
                    }
                },
                {
                    "word": "Warm",
                    "definition": "Having or showing a friendly and affectionate nature; also refers to a moderate temperature.",
                    "context": {
                        "Context 1": "He asked if the wind in Moscow was warm or cold.",
                        "Context 2": "The warm sun made the day perfect for a picnic.",
                        "Context 3": "She received a warm welcome from her friends at the party."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Visa",
                    "fact": "In some countries, you need a visa just to visit the bathroom in a fancy restaurant!"
                },
                {
                    "word": "Calm",
                    "fact": "Did you know that the word 'calm' is often used to describe both the sea and a person's demeanor? It’s like a two-for-one deal!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of anxiety!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to get my living room sorted out."
                },
                {
                    "Person 1": "Oh, really? What’s going on in there?"
                },
                {
                    "Person 2": "I had a sofa delivered, but it came with some issues. It’s got three parts, and two of them don’t work right."
                },
                {
                    "Person 1": "That sounds frustrating! Did they at least try to fix it?"
                },
                {
                    "Person 2": "Not really. The delivery guys were nice, but they said if they complained, they’d get in trouble."
                },
                {
                    "Person 1": "Wow, that’s rough. So, what did you do?"
                },
                {
                    "Person 2": "I called the manager and told him I wasn’t paying for a broken sofa. I was pretty upset!"
                },
                {
                    "Person 1": "I can imagine! Did they agree to send someone else out?"
                },
                {
                    "Person 2": "They’re supposed to deliver a new one today. Fingers crossed it works!"
                },
                {
                    "Person 1": "Good luck! And what about your TV? Is it big enough for the living room?"
                },
                {
                    "Person 2": "It’s a 55-inch, but I’m thinking about upgrading to a 70-inch. My friend has one, and it looks amazing!"
                },
                {
                    "Person 1": "70 inches? That’s massive! What do you usually watch?"
                },
                {
                    "Person 2": "Mostly movies and some gaming. But I don’t have a PlayStation yet."
                },
                {
                    "Person 1": "You should get one! They have some great games out right now."
                },
                {
                    "Person 2": "Yeah, but I’m worried I’d end up playing too much and not going out."
                },
                {
                    "Person 1": "I get that. It’s easy to get sucked in! Maybe set some limits?"
                },
                {
                    "Person 2": "That’s a good idea! I’ll think about it. Just need to get this sofa situation sorted first."
                },
                {
                    "Person 1": "Definitely! Let me know how it goes!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going? You look a little tired."
                },
                {
                    "Person 2": "Yeah, it's been a long week. I had some issues at work with a new guy."
                },
                {
                    "Person 1": "Oh no, what happened?"
                },
                {
                    "Person 2": "We got a new lawyer, and he seems a bit intense. I mean, he looks like he could be a hitman or something!"
                },
                {
                    "Person 1": "Seriously? That sounds a bit scary! Is he at least good at his job?"
                },
                {
                    "Person 2": "Yeah, he actually knows his stuff. But he has this vibe that makes everyone a little uneasy."
                },
                {
                    "Person 1": "I get that. Sometimes it’s hard to work with someone who feels intimidating."
                },
                {
                    "Person 2": "Exactly! And on top of that, I’ve been dealing with some personal stuff too."
                },
                {
                    "Person 1": "Oh no, what’s going on?"
                },
                {
                    "Person 2": "I tried to get my sofa fixed, but it turned out worse than before."
                },
                {
                    "Person 1": "Yikes! What happened to it?"
                },
                {
                    "Person 2": "I thought I could just renew it, but now it’s even more uncomfortable."
                },
                {
                    "Person 1": "That’s frustrating! So, do you think you’ll just buy a new one?"
                },
                {
                    "Person 2": "I might have to. I just want something cozy for when my friends come over."
                },
                {
                    "Person 1": "Totally understandable! A good sofa is essential for hanging out."
                },
                {
                    "Person 2": "Right? And with everything else going on, I just want to relax at home."
                },
                {
                    "Person 1": "For sure! Let me know if you need help picking one out."
                },
                {
                    "Person 2": "Thanks! I might take you up on that. I could use a second opinion."
                },
                {
                    "Person 1": "Anytime! We’ll find you the perfect sofa."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going? You look a bit stressed."
                },
                {
                    "Person 2": "Oh, you know, just the usual work drama. My team is having a tough time connecting with this new guy."
                },
                {
                    "Person 1": "Really? What's the issue?"
                },
                {
                    "Person 2": "Well, he’s a bit intimidating. Some of my colleagues are really soft-spoken, and they seem scared to approach him."
                },
                {
                    "Person 1": "That’s tough. Is he really that scary?"
                },
                {
                    "Person 2": "Not scary, but he has a serious vibe. He’s been through a lot, and it makes people uneasy."
                },
                {
                    "Person 1": "I get that. Sometimes people just need to break the ice."
                },
                {
                    "Person 2": "Exactly! I wish they could just focus on work and not let personal feelings get in the way."
                },
                {
                    "Person 1": "Yeah, work should be about teamwork, not tension."
                },
                {
                    "Person 2": "Right? And speaking of tension, I ran into an old friend recently, and we ended up talking about politics."
                },
                {
                    "Person 1": "Oh no, that can be a heavy topic! Did it get heated?"
                },
                {
                    "Person 2": "A little! He’s been through some tough times and it’s exhausting to hear him complain about everything."
                },
                {
                    "Person 1": "I can imagine. Sometimes it’s just nice to catch up without diving into heavy stuff."
                },
                {
                    "Person 2": "Totally! I just wanted to enjoy our time together, but it kept coming back to politics."
                },
                {
                    "Person 1": "That’s the thing with friends sometimes. You want to reconnect, but the world keeps creeping in."
                },
                {
                    "Person 2": "Exactly! I love him, but I just needed a break from all that talk."
                },
                {
                    "Person 1": "For sure. So, what’s your plan? Just try to steer the conversation next time?"
                },
                {
                    "Person 2": "Yeah, I think I’ll suggest we do something fun instead. Maybe go for a hike or something."
                },
                {
                    "Person 1": "That sounds like a great idea! Fresh air can do wonders."
                },
                {
                    "Person 2": "Definitely! I just want to enjoy our friendship without all the stress."
                },
                {
                    "Person 1": "Good call! Let me know how it goes."
                },
                {
                    "Person 2": "Will do! Thanks for listening."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to figure out my travel plans for the summer."
                },
                {
                    "Person 1": "Oh nice! Where are you thinking of going?"
                },
                {
                    "Person 2": "I really want to see my favorite band in Italy. They’re playing in April!"
                },
                {
                    "Person 1": "That sounds awesome! Have you applied for a visa yet?"
                },
                {
                    "Person 2": "Yeah, I got it pretty quickly, like within a month. It's for 19 days."
                },
                {
                    "Person 1": "Sweet! So, you can explore Italy a bit too?"
                },
                {
                    "Person 2": "Exactly! I might even swing by Romania afterwards."
                },
                {
                    "Person 1": "That would be cool! But I heard getting a longer visa can be tricky."
                },
                {
                    "Person 2": "Yeah, it seems like it’s doable but definitely a bit harder."
                },
                {
                    "Person 1": "So, what’s the weather like in Moscow right now?"
                },
                {
                    "Person 2": "It’s around 11 degrees Celsius, but the wind can be pretty chilly."
                },
                {
                    "Person 1": "Ugh, I can’t wait for spring! I just want to wear a light jacket and go for walks."
                },
                {
                    "Person 2": "Same here! I’m so over winter coats."
                },
                {
                    "Person 1": "By the way, have you watched anything in English lately?"
                },
                {
                    "Person 2": "Yeah, I caught a couple of episodes of 'Two and a Half Men' with subtitles."
                },
                {
                    "Person 1": "Nice! How long did you watch?"
                },
                {
                    "Person 2": "About 40 minutes total, two episodes."
                },
                {
                    "Person 1": "That’s great practice! Did you learn anything new?"
                },
                {
                    "Person 2": "I heard the phrase 'a little bit' a lot, but I’m not sure what it means."
                },
                {
                    "Person 1": "'A little bit' just means a small amount of something."
                },
                {
                    "Person 2": "Oh, like when you say something is a little bit better?"
                },
                {
                    "Person 1": "Exactly! It’s just a slight difference."
                },
                {
                    "Person 2": "Got it! Thanks for explaining that."
                },
                {
                    "Person 1": "No problem! Every little bit of practice helps."
                },
                {
                    "Person 2": "For sure! Well, I should get going. I have a lesson soon."
                },
                {
                    "Person 1": "Alright, enjoy your weekend!"
                },
                {
                    "Person 2": "You too! Catch you later!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
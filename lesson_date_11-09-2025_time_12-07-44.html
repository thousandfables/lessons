<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "Did it told you that I passed my theoretical exam driving?",
                    "corrected": "Did I tell you that I passed my theoretical driving exam?",
                    "explanation": "The verb 'told' should be 'tell' in this context, as it is a question in the past tense.",
                    "context": "I was excited to share my news. Did I tell you that I passed my theoretical driving exam? I passed it two weeks ago on Saturday."
                },
                {
                    "original": "I will congratulate, but it's a big thing as well, because like this theory, if you really started it, if you really started all those tickets, and if you really could be able to...",
                    "corrected": "I will congratulate you, but it's a big thing as well because this theory, if you really studied it, if you really studied all those tickets, and if you really could be able to...",
                    "explanation": "The phrase 'I will congratulate' is incomplete; it should include the object 'you.' Additionally, 'started' should be 'studied' for clarity.",
                    "context": "I wanted to acknowledge the effort put into studying. I will congratulate you, but it's a big thing as well because this theory requires serious study."
                },
                {
                    "original": "This is a important thing because it actually makes driving safer.",
                    "corrected": "This is an important thing because it actually makes driving safer.",
                    "explanation": "'A' should be 'an' before a vowel sound, which is 'important' in this case.",
                    "context": "I emphasized the significance of the exam. This is an important thing because it actually makes driving safer."
                },
                {
                    "original": "And as long as like they just all just give me the driver's license, I will, I know how to drive.",
                    "corrected": "And as long as they just give me the driver's license, I will know how to drive.",
                    "explanation": "The phrase 'just all just' is redundant; it should simply be 'they just give me.'",
                    "context": "I expressed frustration about some people's attitudes. And as long as they just give me the driver's license, I will know how to drive."
                },
                {
                    "original": "I would say 80%. Like, if you like, could you imagine that you could you imagine driving without an instructor?",
                    "corrected": "I would say 80%. Like, could you imagine driving without an instructor?",
                    "explanation": "The phrase 'if you like' is unnecessary and disrupts the flow of the sentence.",
                    "context": "I was trying to gauge my comfort level. I would say 80%. Like, could you imagine driving without an instructor?"
                },
                {
                    "original": "It's, you know, usually it happens like that.",
                    "corrected": "It's usually like that.",
                    "explanation": "The phrase 'you know' is informal and can be omitted for clarity.",
                    "context": "I was explaining a common pattern in driving lessons. It's usually like that."
                },
                {
                    "original": "You study like with mechanical transmission.",
                    "corrected": "You study with a mechanical transmission.",
                    "explanation": "The word 'like' is unnecessary and makes the sentence awkward.",
                    "context": "I was discussing the learning process. You study with a mechanical transmission."
                },
                {
                    "original": "And then after that, after you pass exam, you never ever use it.",
                    "corrected": "And then after that, after you pass the exam, you never use it.",
                    "explanation": "The article 'the' is needed before 'exam' for grammatical correctness.",
                    "context": "I was explaining what happens after passing the exam. And then after that, after you pass the exam, you never use it."
                },
                {
                    "original": "Yeah, because that one day when you absolutely must drive a car with a mechanical transmission, at least you will know how to handle that.",
                    "corrected": "Yeah, because one day when you absolutely must drive a car with a mechanical transmission, at least you will know how to handle it.",
                    "explanation": "The phrase 'that one day' is awkward; it should simply be 'one day.'",
                    "context": "I was emphasizing the importance of learning about mechanical transmission. Yeah, because one day when you absolutely must drive a car with a mechanical transmission, at least you will know how to handle it."
                },
                {
                    "original": "Did I tell you that or did I not about the different difficulty of tasks?",
                    "corrected": "Did I tell you about the different difficulty of tasks or not?",
                    "explanation": "The structure of the question is awkward; it should be rephrased for clarity.",
                    "context": "I was trying to recall if I had explained something. Did I tell you about the different difficulty of tasks or not?"
                },
                {
                    "original": "So like the like we are we we have an hour to complete the whole section.",
                    "corrected": "So we have an hour to complete the whole section.",
                    "explanation": "The phrase 'like the like' is redundant and should be removed for clarity.",
                    "context": "I was explaining the time limit for a task. So we have an hour to complete the whole section."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "A lot of people, they get, you know, they are they are.",
                    "corrected": "A lot of people get trapped, you know.",
                    "explanation": "The phrase 'they are they are' is redundant and confusing; it should be simplified.",
                    "context": "Many people struggle with the exam. A lot of people get trapped, you know, thinking the reading section is easy."
                },
                {
                    "original": "You need to very quickly do part one.",
                    "corrected": "You need to do part one very quickly.",
                    "explanation": "The adverb 'very' should precede 'quickly' for proper placement.",
                    "context": "It's crucial to manage your time well. You need to do part one very quickly to avoid running out of time."
                },
                {
                    "original": "You need to 30 minutes.",
                    "corrected": "You need to spend 30 minutes.",
                    "explanation": "The verb 'spend' is necessary to clarify the action being taken with the time.",
                    "context": "For effective time management, you need to spend 30 minutes on part three."
                },
                {
                    "original": "It's usually very academic text about very academic subject.",
                    "corrected": "It's usually a very academic text about a very academic subject.",
                    "explanation": "The article 'a' is needed before 'very academic text' and 'very academic subject' for grammatical correctness.",
                    "context": "The reading material can be challenging. It's usually a very academic text about a very academic subject."
                },
                {
                    "original": "You're not only how you're able to judge from one context, from one sentence.",
                    "corrected": "It's not only about how you're able to judge from one context, from one sentence.",
                    "explanation": "The phrase is missing a subject; 'it's' clarifies the statement.",
                    "context": "Understanding the text is complex. It's not only about how you're able to judge from one context, from one sentence."
                },
                {
                    "original": "As AI is represented more and more in media and entertainment, it could lead to a split between those who benefit from AI and those who don't.",
                    "corrected": "As AI is increasingly represented in media and entertainment, it could lead to a split between those who benefit from AI and those who don't.",
                    "explanation": "The phrase 'more and more' can be replaced with 'increasingly' for conciseness.",
                    "context": "The portrayal of AI is evolving. As AI is increasingly represented in media and entertainment, it could lead to a split between those who benefit from AI and those who don't."
                },
                {
                    "original": "It does matter how many of them you read, you will see new words.",
                    "corrected": "It does matter how many of them you read; you will see new words.",
                    "explanation": "A semicolon is needed to separate two independent clauses.",
                    "context": "Reading extensively is beneficial. It does matter how many of them you read; you will see new words."
                },
                {
                    "original": "Because there is a mention there about portrayals, about films, about AI in the future.",
                    "corrected": "Because there is a mention of portrayals, films, and AI in the future.",
                    "explanation": "The phrase 'mention there about' is awkward; 'mention of' is more idiomatic.",
                    "context": "We need to analyze the text closely. Because there is a mention of portrayals, films, and AI in the future, we should consider that."
                },
                {
                    "original": "There is no sentence like this.",
                    "corrected": "There is no sentence like that.",
                    "explanation": "'This' should be replaced with 'that' for proper reference to something previously mentioned.",
                    "context": "We are looking for specific information. There is no sentence like that in the text."
                },
                {
                    "original": "Your task is specifically to find evidence.",
                    "corrected": "Your task is to specifically find evidence.",
                    "explanation": "The adverb 'specifically' should come before the verb 'find' for correct placement.",
                    "context": "When answering questions, clarity is key. Your task is to specifically find evidence in the text."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I think it's true. I think it's not given.",
                    "corrected": "I think it's true, and I think it's not given.",
                    "explanation": "The original sentence lacks proper conjunctions to connect the two independent clauses.",
                    "context": "When analyzing the text, I assessed the statements. I think it's true, and I think it's not given. This helps clarify my reasoning."
                },
                {
                    "original": "It's better to put something than not to put anything, right?",
                    "corrected": "It's better to put something than to put nothing, right?",
                    "explanation": "The phrase 'not to put anything' is less idiomatic; 'to put nothing' is more concise and natural.",
                    "context": "In the exam, if you're unsure, it's better to put something than to put nothing, right? This way, you at least have a chance."
                },
                {
                    "original": "You don't need the whole text to do the task.",
                    "corrected": "You don't need the whole text to complete the task.",
                    "explanation": "'Do the task' is less formal; 'complete the task' is more appropriate in an academic context.",
                    "context": "When preparing for the exam, remember that you don't need the whole text to complete the task. Focus on key information instead."
                },
                {
                    "original": "You did it just because you couldn't locate the sentence.",
                    "corrected": "You did it only because you couldn't locate the sentence.",
                    "explanation": "'Just' implies a casual reason; 'only' emphasizes the limitation of the action.",
                    "context": "I noticed that you did it only because you couldn't locate the sentence. This indicates a need for better strategies."
                },
                {
                    "original": "I will tell you how I did it.",
                    "corrected": "I will explain how I did it.",
                    "explanation": "'Tell' is too informal; 'explain' is more suitable for a teaching context.",
                    "context": "As we discuss strategies, I will explain how I did it. This way, you can understand my approach better."
                },
                {
                    "original": "It's not hard to do them.",
                    "corrected": "They're not hard to do.",
                    "explanation": "The original phrasing is awkward; using 'they're' makes it clearer and more conversational.",
                    "context": "When practicing, remember that they're not hard to do. With enough practice, you can improve quickly."
                },
                {
                    "original": "If you feel very comfortable, if you feel that you did all this task.",
                    "corrected": "If you feel very comfortable and that you've completed all these tasks.",
                    "explanation": "The original structure is fragmented; combining the clauses improves clarity.",
                    "context": "If you feel very comfortable and that you've completed all these tasks, we can move on to new challenges."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Download",
                    "definition": "To transfer data from one computer system to another.",
                    "context": {
                        "Context 1": "Can you download the file I sent you?",
                        "Context 2": "I need to download a new game on my console.",
                        "Context 3": "He forgot to download the latest software update before the meeting."
                    }
                },
                {
                    "word": "Convenient",
                    "definition": "Fitting in well with a person's needs, activities, and plans.",
                    "context": {
                        "Context 1": "Isn't it convenient to have a laptop in class?",
                        "Context 2": "The new grocery store is very convenient since it's just around the corner.",
                        "Context 3": "She found it convenient to work from home during the pandemic."
                    }
                },
                {
                    "word": "Version",
                    "definition": "A particular form of something differing from an earlier form.",
                    "context": {
                        "Context 1": "What version of Windows are you using?",
                        "Context 2": "The latest version of the app includes several new features.",
                        "Context 3": "He prefers the original version of the song over the remix."
                    }
                },
                {
                    "word": "Exam",
                    "definition": "A formal test of a person's knowledge or proficiency in a subject.",
                    "context": {
                        "Context 1": "I passed my theoretical exam driving.",
                        "Context 2": "She studied all night for her final exam in biology.",
                        "Context 3": "The exam results will be announced next week."
                    }
                },
                {
                    "word": "Instructor",
                    "definition": "A person who teaches something.",
                    "context": {
                        "Context 1": "Do you feel comfortable when you're driving now with the instructor?",
                        "Context 2": "The instructor explained the rules of the game clearly.",
                        "Context 3": "He is a certified yoga instructor with years of experience."
                    }
                },
                {
                    "word": "Mechanical transmission",
                    "definition": "A system in a vehicle that uses gears to transmit power from the engine to the wheels.",
                    "context": {
                        "Context 1": "You're studying the mechanical transmission.",
                        "Context 2": "The mechanical transmission in my car needs to be repaired.",
                        "Context 3": "He prefers driving cars with mechanical transmission for better control."
                    }
                },
                {
                    "word": "Safety",
                    "definition": "The condition of being protected from or unlikely to cause danger, risk, or injury.",
                    "context": {
                        "Context 1": "It actually makes driving safer.",
                        "Context 2": "The safety of the building was ensured by following strict codes.",
                        "Context 3": "She always wears a helmet for her safety while biking."
                    }
                },
                {
                    "word": "Accident",
                    "definition": "An unfortunate incident that happens unexpectedly and unintentionally.",
                    "context": {
                        "Context 1": "It results in a lot of car accidents.",
                        "Context 2": "He had a minor accident while playing soccer.",
                        "Context 3": "The accident caused a major traffic jam on the highway."
                    }
                },
                {
                    "word": "Cap",
                    "definition": "A limit on the amount of something.",
                    "context": {
                        "Context 1": "There is a 40-minute cap on the free version of Zoom.",
                        "Context 2": "The company imposed a cap on overtime hours to reduce costs.",
                        "Context 3": "He wore a cap to shield his eyes from the sun."
                    }
                },
                {
                    "word": "Conference",
                    "definition": "A formal meeting for discussion.",
                    "context": {
                        "Context 1": "You just say start conference and then share a link with me.",
                        "Context 2": "The annual conference attracted experts from all over the world.",
                        "Context 3": "She presented her research at a conference last month."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Download",
                    "fact": "The first downloadable file was created in 1965, but it took until the 1990s for it to become popular!"
                },
                {
                    "word": "Exam",
                    "fact": "In some countries, students take exams in the middle of the night to avoid the heat of the day!"
                },
                {
                    "word": "Accident",
                    "fact": "Did you know that the word 'accident' comes from the Latin 'accidere,' which means 'to happen'?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Comprehend",
                    "definition": "To understand or grasp the meaning of something.",
                    "context": {
                        "Context 1": "It's important to comprehend the main ideas of the text to answer the questions correctly.",
                        "Context 2": "He struggled to comprehend the complex math problem during the exam.",
                        "Context 3": "The teacher used visual aids to help students comprehend the historical events."
                    }
                },
                {
                    "word": "Polarize",
                    "definition": "To divide into two sharply contrasting groups or opinions.",
                    "context": {
                        "Context 1": "The film polarized the audience, with some loving it and others hating it.",
                        "Context 2": "The new policy polarized the community, leading to heated debates.",
                        "Context 3": "The weather can polarize people's opinions about outdoor activities."
                    }
                },
                {
                    "word": "Thoroughly",
                    "definition": "In a detailed and careful manner.",
                    "context": {
                        "Context 1": "You need to read the text thoroughly to understand the connections between ideas.",
                        "Context 2": "She cleaned her room thoroughly before her parents arrived home.",
                        "Context 3": "The chef prepared the meal thoroughly, ensuring every ingredient was perfect."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or idea.",
                    "context": {
                        "Context 1": "Understanding the context of the passage is key to answering the questions.",
                        "Context 2": "In the context of the party, the music choice was perfect.",
                        "Context 3": "He explained the historical context of the painting to the visitors."
                    }
                },
                {
                    "word": "Evidence",
                    "definition": "Information or details that support a claim or argument.",
                    "context": {
                        "Context 1": "You need to provide evidence from the text to support your answer.",
                        "Context 2": "The detective gathered evidence to solve the mystery.",
                        "Context 3": "In court, the lawyer presented evidence to prove the defendant's innocence."
                    }
                },
                {
                    "word": "Contradict",
                    "definition": "To assert the opposite of a statement or idea.",
                    "context": {
                        "Context 1": "The new findings contradict the previous research on the topic.",
                        "Context 2": "His actions contradict his words, making it hard to trust him.",
                        "Context 3": "The witness's testimony contradicted the suspect's alibi."
                    }
                },
                {
                    "word": "Locate",
                    "definition": "To find or identify the position of something.",
                    "context": {
                        "Context 1": "You need to locate the relevant passage in the text to answer the question.",
                        "Context 2": "She struggled to locate her keys in the cluttered bag.",
                        "Context 3": "The map helped them locate the nearest gas station."
                    }
                },
                {
                    "word": "Average",
                    "definition": "The result obtained by adding several quantities together and dividing by the number of quantities.",
                    "context": {
                        "Context 1": "Part two of the exam is of average difficulty, so manage your time wisely.",
                        "Context 2": "The average temperature in summer can reach up to 30 degrees Celsius.",
                        "Context 3": "He scored above average on the test, which made him very happy."
                    }
                },
                {
                    "word": "Relevant",
                    "definition": "Closely connected or appropriate to what is being done or considered.",
                    "context": {
                        "Context 1": "Make sure your answer is relevant to the question asked.",
                        "Context 2": "The professor emphasized the need for relevant research in the field.",
                        "Context 3": "Her comments were not relevant to the discussion about the project."
                    }
                },
                {
                    "word": "Skeptic",
                    "definition": "A person inclined to question or doubt accepted opinions.",
                    "context": {
                        "Context 1": "Skeptics of the new technology raised concerns about its safety.",
                        "Context 2": "He was a skeptic when it came to believing in ghosts.",
                        "Context 3": "The scientist was a skeptic of the initial findings until further tests were conducted."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Polarize",
                    "fact": "Did you know that the term 'polarize' comes from the way light can be filtered to create distinct patterns, just like how opinions can be filtered to create distinct groups?"
                },
                {
                    "word": "Thoroughly",
                    "fact": "The word 'thoroughly' is often used in cleaning commercials, but did you know it can also describe how well someone studies for an exam?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What do you call a teacher who never farts in public?",
                    "answer": "A private tutor!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Significantly",
                    "definition": "In a sufficiently great or important way as to be worthy of attention.",
                    "context": {
                        "Context 1": "The results of the study significantly changed our understanding of AI.",
                        "Context 2": "Her performance significantly improved after she started practicing daily.",
                        "Context 3": "The weather significantly affected our plans for the picnic."
                    }
                },
                {
                    "word": "Modify",
                    "definition": "To make changes to something, typically to improve it or make it less extreme.",
                    "context": {
                        "Context 1": "Users are able to modify the settings of the AI application.",
                        "Context 2": "He decided to modify his diet to include more vegetables.",
                        "Context 3": "The artist wanted to modify her painting to better reflect her emotions."
                    }
                },
                {
                    "word": "Familiarity",
                    "definition": "Close acquaintance with or knowledge of something.",
                    "context": {
                        "Context 1": "Having familiarity with AI can enhance your ability to use it effectively.",
                        "Context 2": "Her familiarity with the city made it easy for her to navigate.",
                        "Context 3": "The dog showed familiarity with the commands after weeks of training."
                    }
                },
                {
                    "word": "Consumer Approval",
                    "definition": "The acceptance or endorsement of a product or service by customers.",
                    "context": {
                        "Context 1": "The new AI feature received high consumer approval during testing.",
                        "Context 2": "Consumer approval for the new restaurant was overwhelmingly positive.",
                        "Context 3": "The movie's consumer approval ratings skyrocketed after its release."
                    }
                },
                {
                    "word": "True/False/Not Given",
                    "definition": "A type of question format often used in reading comprehension tests.",
                    "context": {
                        "Context 1": "In the exam, you need to determine if the statements are true, false, or not given.",
                        "Context 2": "She struggled with the true/false/not given questions on the quiz.",
                        "Context 3": "The teacher explained how to tackle true/false/not given questions effectively."
                    }
                },
                {
                    "word": "Educated Guess",
                    "definition": "An estimate made based on knowledge and experience rather than complete information.",
                    "context": {
                        "Context 1": "If you're unsure, making an educated guess can sometimes lead to the right answer.",
                        "Context 2": "He made an educated guess about the weather based on the forecast.",
                        "Context 3": "The detective made an educated guess about where the suspect might be hiding."
                    }
                },
                {
                    "word": "Algorithm",
                    "definition": "A process or set of rules to be followed in calculations or problem-solving operations.",
                    "context": {
                        "Context 1": "The AI uses a complex algorithm to analyze data.",
                        "Context 2": "She learned how to create an algorithm for sorting numbers.",
                        "Context 3": "The algorithm for the game determines how characters move."
                    }
                },
                {
                    "word": "Task",
                    "definition": "A piece of work to be done or undertaken.",
                    "context": {
                        "Context 1": "Completing the task efficiently is crucial for success.",
                        "Context 2": "He was assigned a task to organize the files.",
                        "Context 3": "The task of baking a cake was more challenging than she expected."
                    }
                },
                {
                    "word": "Locate",
                    "definition": "To find or discover the exact position of something.",
                    "context": {
                        "Context 1": "You need to locate the correct sentence in the text for your answer.",
                        "Context 2": "She was able to locate her lost keys under the couch.",
                        "Context 3": "The map helped him locate the nearest gas station."
                    }
                },
                {
                    "word": "Impact",
                    "definition": "The strong effect or influence that something has on a situation.",
                    "context": {
                        "Context 1": "The impact of AI on various industries is significant.",
                        "Context 2": "The impact of the storm caused widespread damage.",
                        "Context 3": "His speech had a lasting impact on the audience."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Algorithm",
                    "fact": "Did you know that the word 'algorithm' comes from the name of a Persian mathematician, Al-Khwarizmi?"
                },
                {
                    "word": "Modify",
                    "fact": "In the world of video games, players often modify their games to create entirely new experiences!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going this morning?"
                },
                {
                    "Person 2": "Pretty good! Just trying to figure out my computer. It’s acting up again."
                },
                {
                    "Person 1": "Oh no! What’s wrong with it this time?"
                },
                {
                    "Person 2": "I think it’s just old. I can’t even get some files to download."
                },
                {
                    "Person 1": "That’s frustrating. What kind of computer do you have?"
                },
                {
                    "Person 2": "It’s a Windows 10, but I think it’s been around for a while. My mom uses it too."
                },
                {
                    "Person 1": "Gotcha. Is she on it a lot?"
                },
                {
                    "Person 2": "Not really. Just here and there for work. Mostly, it’s just me using it for school."
                },
                {
                    "Person 1": "Do you ever take it to class?"
                },
                {
                    "Person 2": "Nah, I just use my iPad for that."
                },
                {
                    "Person 1": "Oh cool! How’s that working out for you?"
                },
                {
                    "Person 2": "It’s okay, but it’s running out of memory. I can’t even update it."
                },
                {
                    "Person 1": "That’s a bummer. Have you tried using Zoom on it?"
                },
                {
                    "Person 2": "I haven’t. I’m worried it won’t handle a video call well."
                },
                {
                    "Person 1": "We should test it out sometime! I mean, it might surprise you."
                },
                {
                    "Person 2": "Yeah, maybe! I just hate how Zoom limits the free version."
                },
                {
                    "Person 1": "Right? The 40-minute cap is so annoying."
                },
                {
                    "Person 2": "Exactly! But hey, speaking of updates, did I tell you I passed my driving theory exam?"
                },
                {
                    "Person 1": "No way! That’s awesome! Congrats!"
                },
                {
                    "Person 2": "Thanks! I was really nervous, but I got a zero on mistakes!"
                },
                {
                    "Person 1": "Wow, that’s impressive! So when’s your driving test?"
                },
                {
                    "Person 2": "It’s on September 24. I’m a bit anxious about it."
                },
                {
                    "Person 1": "You’ll do great! Just practice a lot before then."
                },
                {
                    "Person 2": "I’m trying! I feel about 80% comfortable driving with my instructor."
                },
                {
                    "Person 1": "That’s good! Just take your time and don’t rush it."
                },
                {
                    "Person 2": "Yeah, I just hope I can handle it without the instructor."
                },
                {
                    "Person 1": "You’ll be fine! Just remember everything you learned."
                },
                {
                    "Person 2": "Thanks! I appreciate the support. So, what’s on your agenda today?"
                },
                {
                    "Person 1": "Not much, just some reading and maybe catching up on some shows."
                },
                {
                    "Person 2": "Sounds like a relaxing day! I might join you on that."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you started studying for that exam yet?"
                },
                {
                    "Person 2": "Not really. I keep thinking it’s going to be easy, but I know I shouldn’t underestimate it."
                },
                {
                    "Person 1": "Right? I heard the first part is pretty straightforward, but people still mess it up."
                },
                {
                    "Person 2": "Exactly! They spend too much time on it and then struggle with the harder sections."
                },
                {
                    "Person 1": "Yeah, I read that part two is kind of average, but part three is where it gets tricky."
                },
                {
                    "Person 2": "Totally! I think I need to dedicate more time to part three since it’s the hardest."
                },
                {
                    "Person 1": "Good plan! I’ve heard it’s all about understanding the connections between different ideas."
                },
                {
                    "Person 2": "For sure! And sometimes the questions can be misleading, like true or false, right?"
                },
                {
                    "Person 1": "Yeah, I hate those! You really have to pay attention to the details."
                },
                {
                    "Person 2": "Exactly! And I always find new words that I don’t know when I read those texts."
                },
                {
                    "Person 1": "Same here! It’s like no matter how much you study, there’s always something new."
                },
                {
                    "Person 2": "Right? I think we should practice together. It might help us stay focused."
                },
                {
                    "Person 1": "Great idea! Let’s set a schedule and tackle it bit by bit."
                },
                {
                    "Person 2": "Sounds good! Just remind me not to get distracted by my phone!"
                },
                {
                    "Person 1": "Deal! We can do this!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch the game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a comeback, right?"
                },
                {
                    "Person 1": "Absolutely! I thought they were done for, but they really pulled it together."
                },
                {
                    "Person 2": "I know! That last-minute goal was insane. I jumped off the couch!"
                },
                {
                    "Person 1": "Same here! I was yelling at the TV like they could hear me."
                },
                {
                    "Person 2": "Haha! I think we all do that. Who was your MVP for the game?"
                },
                {
                    "Person 1": "Definitely the goalie. He saved so many shots!"
                },
                {
                    "Person 2": "For sure! But I think the forward really stepped up too. He was everywhere."
                },
                {
                    "Person 1": "Yeah, he was on fire! I can’t believe how well they played as a team."
                },
                {
                    "Person 2": "Right? It’s like they finally found their rhythm. I hope they keep it up."
                },
                {
                    "Person 1": "Me too! Next week’s game is going to be huge."
                },
                {
                    "Person 2": "Are you going to watch it together?"
                },
                {
                    "Person 1": "Definitely! Let’s make some snacks and enjoy it."
                },
                {
                    "Person 2": "Sounds like a plan! I’ll bring the chips."
                },
                {
                    "Person 1": "Great! I’ll handle the dip. Can’t wait!"
                },
                {
                    "Person 2": "Same here! It’s going to be a blast."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
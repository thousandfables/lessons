<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I want to 3123 morning hello and hi is it like is there some nerve connected to the head or to the eyes yeah oh Yeah, he tried to he tried to he tried to break out yeah from your grip you're gripping him.",
                    "corrected": "I want to say good morning. Hello and hi! Is there some nerve connected to the head or the eyes?",
                    "explanation": "The phrase 'I want to 3123 morning' is unclear and likely a typo. It should be 'I want to say good morning.' The use of 'is it like' is also unnecessary.",
                    "context": "I want to say good morning. Hello and hi! Is there some nerve connected to the head or the eyes? I was curious about how our bodies work."
                },
                {
                    "original": "You this exercise is called or pull-ups FSDM?",
                    "corrected": "This exercise is called pull-ups, right?",
                    "explanation": "The phrase 'You this exercise is called or pull-ups FSDM?' is confusing and grammatically incorrect. It should be rephrased for clarity.",
                    "context": "I was demonstrating an exercise. This exercise is called pull-ups, right? I wanted to confirm if I was using the correct term."
                },
                {
                    "original": "like you lost some weight you mean a shirt are yeah you know what that's actually interesting like you're you have a like everybody wants to lose weight and to build muscle right",
                    "corrected": "You mean you lost some weight? That's actually interesting. Everyone wants to lose weight and build muscle, right?",
                    "explanation": "The original sentence is overly long and lacks proper punctuation. It should be broken into shorter sentences for clarity.",
                    "context": "I noticed a change in your appearance. You mean you lost some weight? That's actually interesting. Everyone wants to lose weight and build muscle, right?"
                },
                {
                    "original": "does does this happen muscles yeah okay yeah they carry this little boxes with chicken with them yeah yeah yeah yeah",
                    "corrected": "Does this happen with muscles? Yeah, they carry little boxes with chicken with them.",
                    "explanation": "The repetition of 'does' is unnecessary, and 'this happen muscles' is grammatically incorrect. It should be rephrased.",
                    "context": "I was discussing how people manage their diets. Does this happen with muscles? Yeah, they carry little boxes with chicken with them."
                },
                {
                    "original": "and when they arrived he sees three people and two of them are very very big like very with very big shoulders and very big like people in one very short very tiny like like weak yeah skinny",
                    "corrected": "When they arrived, he saw three people. Two of them were very big with broad shoulders, and one was very short and skinny.",
                    "explanation": "The original sentence is too long and convoluted. It needs to be broken down and clarified.",
                    "context": "I was telling a joke about bodyguards. When they arrived, he saw three people. Two of them were very big with broad shoulders, and one was very short and skinny."
                },
                {
                    "original": "I mean I mean the Russian version is like uses uses more use a stronger language",
                    "corrected": "I mean, the Russian version uses stronger language.",
                    "explanation": "The repetition of 'uses' is unnecessary, and the sentence structure is awkward. It should be simplified.",
                    "context": "I was comparing jokes in different languages. I mean, the Russian version uses stronger language."
                },
                {
                    "original": "not a single time I worked not a single time I had a class when I called to a person in there telling me ok I'm on fire today today I'm at my best",
                    "corrected": "Not a single time have I had a class where a person told me, 'I'm on fire today! I'm at my best!'",
                    "explanation": "The original sentence is poorly structured and lacks proper punctuation. It should be rephrased for clarity.",
                    "context": "I was reflecting on my experiences in class. Not a single time have I had a class where a person told me, 'I'm on fire today! I'm at my best!'"
                },
                {
                    "original": "did you ask them to change the time zone I can't take it anymore please change the time zone so my son wakes up later",
                    "corrected": "Did you ask them to change the time zone? I can't take it anymore! Please change the time zone so my son wakes up later.",
                    "explanation": "The original sentence lacks proper punctuation and is a run-on. It should be separated into distinct sentences.",
                    "context": "I was discussing my son's sleep schedule. Did you ask them to change the time zone? I can't take it anymore! Please change the time zone so my son wakes up later."
                },
                {
                    "original": "like yeah he your he her diet is headphones which is quite expensive",
                    "corrected": "His diet is quite expensive, especially for her.",
                    "explanation": "The original sentence is confusing and contains grammatical errors. It should be simplified for clarity.",
                    "context": "I was talking about someone's pet. His diet is quite expensive, especially for her."
                },
                {
                    "original": "he doesn't know how to treat small pets yeah and he can harm them your son but there is no guarantee that it will be only two kittens",
                    "corrected": "He doesn't know how to treat small pets, and he could harm them. But there is no guarantee that there will only be two kittens.",
                    "explanation": "The original sentence is unclear and contains grammatical errors. It should be restructured for clarity.",
                    "context": "I was discussing the care of small pets. He doesn't know how to treat small pets, and he could harm them. But there is no guarantee that there will only be two kittens."
                },
                {
                    "original": "I just you know I started chatting with chatty PT like answering a different questions",
                    "corrected": "I started chatting with ChatGPT, answering different questions.",
                    "explanation": "The phrase 'chatty PT' is incorrect; it should be 'ChatGPT.' The sentence also needs to be simplified.",
                    "context": "I was sharing my recent activities. I started chatting with ChatGPT, answering different questions."
                },
                {
                    "original": "like yesterday I tried to figure out I tried to find out yeah like to clarify some of the questions in my head about like early stages of human development as a species",
                    "corrected": "Yesterday, I tried to clarify some questions in my head about the early stages of human development as a species.",
                    "explanation": "The original sentence is too long and repetitive. It should be rephrased for clarity.",
                    "context": "I was reflecting on my learning process. Yesterday, I tried to clarify some questions in my head about the early stages of human development as a species."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "if you know that you didn't do nothing today",
                    "corrected": "if you know that you didn't do anything today",
                    "explanation": "Double negatives like 'didn't do nothing' are incorrect in standard English; 'didn't do anything' is the correct form.",
                    "context": "Sometimes, on my day off, I realize that I didn't do anything productive. I feel unmotivated and wish I could be more inspired."
                },
                {
                    "original": "they can't spend time on parenting what is the best way",
                    "corrected": "they can't spend time on parenting; what is the best way",
                    "explanation": "A semicolon is needed to separate two independent clauses; a comma is insufficient.",
                    "context": "I wonder about wealthy parents who are too busy to raise their children properly. They can't spend time on parenting; what is the best way for them to manage this?"
                },
                {
                    "original": "they do themselves worse and then complain",
                    "corrected": "they make their lives worse and then complain",
                    "explanation": "'Do themselves worse' is incorrect; 'make their lives worse' is the correct expression.",
                    "context": "Some people create their own problems and then seek sympathy. They make their lives worse and then complain about their situation."
                },
                {
                    "original": "it's ingrained in Russian I don't know, in Russian culture",
                    "corrected": "it's ingrained in Russian culture",
                    "explanation": "The phrase 'I don't know' is unnecessary and disrupts the flow of the sentence.",
                    "context": "I believe this mindset is common in my culture. It's ingrained in Russian culture and affects how people behave."
                },
                {
                    "original": "For girls talking, you are girl, you need to you need to be tolerate, endure.",
                    "corrected": "For girls, they say, 'you are a girl; you need to be tolerant and endure.'",
                    "explanation": "The structure is awkward; it should clarify who is speaking and use the correct form of 'tolerate.'",
                    "context": "In my culture, there are specific expectations for boys and girls. For girls, they say, 'you are a girl; you need to be tolerant and endure.'"
                },
                {
                    "original": "I learned to psychologist and she showed me something like saver, saver-aggressor and victim triangle",
                    "corrected": "I learned from a psychologist, and she showed me something like the savior, savior-aggressor, and victim triangle.",
                    "explanation": "The phrase 'learned to psychologist' is incorrect; it should be 'learned from a psychologist.'",
                    "context": "I once studied under a psychologist who introduced me to the concept of the savior, savior-aggressor, and victim triangle. It helped me understand behavior better."
                },
                {
                    "original": "For popular psychology, we have only triangle.",
                    "corrected": "In popular psychology, we only have the triangle.",
                    "explanation": "The phrase 'we have only triangle' is missing an article; it should include 'the.'",
                    "context": "In popular psychology, we only have the triangle to explain complex behaviors. It simplifies the concepts for easier understanding."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I'm often saver and trying to save somebody from anything and it's not help to the people.",
                    "corrected": "I'm often a savior and trying to save somebody from anything, and it's not helping the people.",
                    "explanation": "The word 'saver' should be 'savior' to refer to someone who saves. Additionally, 'it's not help' should be 'it's not helping' for correct verb form.",
                    "context": "I often find myself in the role of a savior, trying to help others. However, I realize that it's not helping the people I aim to assist."
                },
                {
                    "original": "I stop to help everybody because they don't want to...",
                    "corrected": "I stopped helping everybody because they don't want to...",
                    "explanation": "The verb tense should be past ('stopped') to match the context of the previous actions.",
                    "context": "I realized that my efforts weren't appreciated. I stopped helping everybody because they don't want to take responsibility for their own issues."
                },
                {
                    "original": "it's not help for their mental health.",
                    "corrected": "it's not helpful for their mental health.",
                    "explanation": "'Help' should be 'helpful' to correctly describe the effect on mental health.",
                    "context": "I understand that my actions can have negative consequences. It's not helpful for their mental health."
                },
                {
                    "original": "you can be in another role and it's not good for your life and the life of another people.",
                    "corrected": "you can be in another role and it's not good for your life and the lives of other people.",
                    "explanation": "The phrase 'another people' should be 'other people' for correct plural usage.",
                    "context": "It's important to recognize the roles we play in relationships. You can be in another role, and it's not good for your life and the lives of other people."
                },
                {
                    "original": "he's trying to be aggressive to solve some problems.",
                    "corrected": "he's trying to be aggressive to solve certain problems.",
                    "explanation": "'Some problems' should be 'certain problems' for clarity and specificity.",
                    "context": "I observe my husband’s behavior closely. He's trying to be aggressive to solve certain problems, which can lead to more issues."
                },
                {
                    "original": "he told me, oh, I really try to problem clients for being aggressive because he lived in some in the environment where he can't be aggressive.",
                    "corrected": "he told me, oh, I really try to deal with problem clients by being aggressive because he lived in an environment where he couldn't be aggressive.",
                    "explanation": "The phrase 'try to problem clients' should be 'try to deal with problem clients' for correct expression. 'In some in the environment' is incorrect; it should be 'in an environment.'",
                    "context": "He expressed his frustrations about his work. He told me he really tries to deal with problem clients by being aggressive because he lived in an environment where he couldn't be aggressive."
                },
                {
                    "original": "But he can be aggressive in the aggressive problems.",
                    "corrected": "But he can be aggressive in aggressive situations.",
                    "explanation": "'Aggressive problems' should be 'aggressive situations' for a more natural expression.",
                    "context": "He feels the need to assert himself. But he can be aggressive in aggressive situations, which sometimes leads to conflict."
                },
                {
                    "original": "And often psychologists doesn't help because for analyzing this you need to analyze yourself and to be honest with the psychologist and psychologists often need to money.",
                    "corrected": "And often psychologists don't help because to analyze this, you need to analyze yourself and be honest with the psychologist, and psychologists often need money.",
                    "explanation": "The verb 'doesn't' should be 'don't' for plural 'psychologists.' The phrase 'need to money' should be 'need money.'",
                    "context": "I have my doubts about therapy. Often psychologists don't help because to analyze this, you need to analyze yourself and be honest with the psychologist, and psychologists often need money."
                },
                {
                    "original": "Yes, some people need one or two sessions but a lot of people need many years.",
                    "corrected": "Yes, some people need one or two sessions, but many people need many years.",
                    "explanation": "The phrase 'a lot of people' should be 'many people' for better clarity and formality.",
                    "context": "Therapy can vary greatly in duration. Yes, some people need one or two sessions, but many people need many years."
                },
                {
                    "original": "I did a nice job with it.",
                    "corrected": "I did a good job with it.",
                    "explanation": "'Nice job' is less formal; 'good job' is more appropriate in this context.",
                    "context": "Reflecting on my efforts, I feel positive. I did a good job with it and am ready to move forward."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Grip",
                    "definition": "To hold something tightly.",
                    "context": {
                        "Context 1": "He tried to break free from your grip during the exercise.",
                        "Context 2": "She had a firm grip on the steering wheel as she drove through the storm.",
                        "Context 3": "The athlete's grip on the barbell was strong enough to lift heavy weights."
                    }
                },
                {
                    "word": "Workout",
                    "definition": "A session of physical exercise.",
                    "context": {
                        "Context 1": "Have you thought of starting to work out to build muscle?",
                        "Context 2": "After a long day, I like to unwind with a good workout at the gym.",
                        "Context 3": "He prefers to workout in the morning when he has more energy."
                    }
                },
                {
                    "word": "Calories",
                    "definition": "Units of energy that food provides to the body.",
                    "context": {
                        "Context 1": "If you eat something with a lot of calories, you need to work out harder to burn them.",
                        "Context 2": "She tracks her calorie intake to maintain a healthy diet.",
                        "Context 3": "The cake was so delicious that I forgot how many calories it had!"
                    }
                },
                {
                    "word": "Muscle",
                    "definition": "Tissue in the body that can contract to produce movement.",
                    "context": {
                        "Context 1": "You need to work out to build muscle effectively.",
                        "Context 2": "He pulled a muscle while trying to lift a heavy box.",
                        "Context 3": "Some people believe that muscle weighs more than fat, but it's actually denser."
                    }
                },
                {
                    "word": "Expert",
                    "definition": "A person who has a comprehensive and authoritative knowledge of or skill in a particular area.",
                    "context": {
                        "Context 1": "You think an expert in fitness will help you build muscle?",
                        "Context 2": "The expert gave a fascinating lecture on climate change.",
                        "Context 3": "She is an expert in ancient history and has published several books."
                    }
                },
                {
                    "word": "Recommendations",
                    "definition": "Suggestions or proposals for the best course of action.",
                    "context": {
                        "Context 1": "He will give you recommendations on how to build muscle.",
                        "Context 2": "The restaurant's recommendations were spot on, and we loved every dish.",
                        "Context 3": "She asked for recommendations on which movie to watch this weekend."
                    }
                },
                {
                    "word": "Diet",
                    "definition": "The kinds of food that a person, animal, or community habitually eats.",
                    "context": {
                        "Context 1": "Her diet consists of high-protein foods to support muscle growth.",
                        "Context 2": "He decided to change his diet to include more fruits and vegetables.",
                        "Context 3": "The diet of ancient Egyptians was primarily based on grains and fish."
                    }
                },
                {
                    "word": "Sleep Schedule",
                    "definition": "A routine that dictates the times one goes to bed and wakes up.",
                    "context": {
                        "Context 1": "Do you wish you could change your sleep schedule?",
                        "Context 2": "Maintaining a consistent sleep schedule can improve your overall health.",
                        "Context 3": "After traveling, it took her a week to adjust her sleep schedule back to normal."
                    }
                },
                {
                    "word": "Relax",
                    "definition": "To make or become less tense or anxious.",
                    "context": {
                        "Context 1": "Having a pet in the office helps people relax.",
                        "Context 2": "She likes to relax by reading a book in her favorite chair.",
                        "Context 3": "After a long week, he decided to relax at the beach."
                    }
                },
                {
                    "word": "Inspiration",
                    "definition": "The process of being mentally stimulated to do or feel something.",
                    "context": {
                        "Context 1": "The inspiration to study often comes in the evening.",
                        "Context 2": "She found inspiration in nature for her artwork.",
                        "Context 3": "The speaker's story was a source of inspiration for many in the audience."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Grip",
                    "fact": "Did you know that octopuses have a grip so strong that they can hold onto objects even in strong currents?"
                },
                {
                    "word": "Calories",
                    "fact": "In the U.S., the average person consumes about 3,600 calories a day, which is enough to feed a small family in some countries!"
                },
                {
                    "word": "Expert",
                    "fact": "The word 'expert' comes from the Latin 'expertus,' meaning 'to try out' or 'to test.' So, technically, we are all experts at something!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the gym close down?",
                    "answer": "It just didn't work out!"
                },
                {
                    "question": "What do you call a bear with no teeth?",
                    "answer": "A gummy bear!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Absorbed",
                    "definition": "Deeply engaged or involved in something.",
                    "context": {
                        "Context 1": "She was so absorbed in her book that she didn't notice the time passing.",
                        "Context 2": "The sponge absorbed all the water from the spilled drink.",
                        "Context 3": "He was absorbed in his thoughts while walking through the park."
                    }
                },
                {
                    "word": "Inspiration",
                    "definition": "The process of being mentally stimulated to do or feel something, especially to do something creative.",
                    "context": {
                        "Context 1": "The artist found inspiration in the beauty of nature.",
                        "Context 2": "He felt a sudden inspiration to bake a cake at midnight.",
                        "Context 3": "The movie was a great source of inspiration for her next novel."
                    }
                },
                {
                    "word": "Disturbing",
                    "definition": "Causing anxiety or worry; upsetting.",
                    "context": {
                        "Context 1": "The disturbing news about the accident left everyone in shock.",
                        "Context 2": "The disturbing sound from the basement made her feel uneasy.",
                        "Context 3": "He found the disturbing plot twist in the book hard to digest."
                    }
                },
                {
                    "word": "Compassion",
                    "definition": "Sympathetic pity and concern for the sufferings or misfortunes of others.",
                    "context": {
                        "Context 1": "She showed great compassion towards the homeless people in her city.",
                        "Context 2": "The doctor’s compassion made the patients feel more comfortable.",
                        "Context 3": "He felt compassion for the stray dog and decided to adopt it."
                    }
                },
                {
                    "word": "Draining",
                    "definition": "Causing someone to lose energy or vitality.",
                    "context": {
                        "Context 1": "The long meeting was mentally draining for everyone involved.",
                        "Context 2": "Running a marathon can be physically draining but rewarding.",
                        "Context 3": "Her constant complaints were emotionally draining for her friends."
                    }
                },
                {
                    "word": "Parenting",
                    "definition": "The activity of bringing up a child as a parent.",
                    "context": {
                        "Context 1": "Effective parenting requires patience and understanding.",
                        "Context 2": "He wrote a book on parenting to help new mothers and fathers.",
                        "Context 3": "Parenting styles can vary greatly between cultures."
                    }
                },
                {
                    "word": "Sympathy",
                    "definition": "Feelings of pity and sorrow for someone else's misfortune.",
                    "context": {
                        "Context 1": "She expressed her sympathy for the victims of the disaster.",
                        "Context 2": "He felt sympathy for his friend who lost his job.",
                        "Context 3": "The sympathy card was a thoughtful gesture during tough times."
                    }
                },
                {
                    "word": "Aggressive",
                    "definition": "Ready or likely to attack or confront; characterized by or resulting from aggression.",
                    "context": {
                        "Context 1": "His aggressive behavior during the game surprised everyone.",
                        "Context 2": "The aggressive marketing strategy helped the company gain more customers.",
                        "Context 3": "She took an aggressive stance in the debate to make her point clear."
                    }
                },
                {
                    "word": "Analyze",
                    "definition": "To examine something in detail for purposes of explanation and interpretation.",
                    "context": {
                        "Context 1": "The scientist will analyze the data collected from the experiment.",
                        "Context 2": "He likes to analyze the lyrics of his favorite songs.",
                        "Context 3": "The teacher asked the students to analyze the character's motivations in the story."
                    }
                },
                {
                    "word": "Behavior",
                    "definition": "The way in which one acts or conducts oneself, especially toward others.",
                    "context": {
                        "Context 1": "Her behavior in class was disruptive and needed to be addressed.",
                        "Context 2": "Animal behavior can tell us a lot about their environment.",
                        "Context 3": "His behavior at the party was quite entertaining."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Compassion",
                    "fact": "Studies show that people who practice compassion are often happier and healthier—so being nice is good for you!"
                },
                {
                    "word": "Draining",
                    "fact": "Did you know that just thinking about doing something can be as draining as actually doing it? No wonder we feel tired after a long day of work!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the parent bring a ladder to parenting class?",
                    "answer": "Because they heard the course was about raising kids!"
                },
                {
                    "question": "What do you call a parent who tells dad jokes?",
                    "answer": "A pun-derful parent!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Victim",
                    "definition": "A person harmed, injured, or killed as a result of a crime, accident, or other event.",
                    "context": {
                        "Context 1": "In the lesson, the speaker mentioned that every person can be a victim in different situations.",
                        "Context 2": "The victim of the robbery reported the incident to the police.",
                        "Context 3": "In the movie, the victim was saved just in time by the hero."
                    }
                },
                {
                    "word": "Saver",
                    "definition": "A person who helps or rescues someone from a difficult situation.",
                    "context": {
                        "Context 1": "The speaker expressed that they often take on the role of a saver.",
                        "Context 2": "The saver of the day was the firefighter who rescued the cat from the tree.",
                        "Context 3": "In the story, the saver always arrives just when the main character needs help."
                    }
                },
                {
                    "word": "Aggressor",
                    "definition": "A person or entity that initiates conflict or attack.",
                    "context": {
                        "Context 1": "The lesson discussed how the aggressor looks for a victim.",
                        "Context 2": "The aggressor in the debate was quickly challenged by the opposing team.",
                        "Context 3": "In the animal kingdom, the lion is often seen as the aggressor in its territory."
                    }
                },
                {
                    "word": "Mental health",
                    "definition": "A person's emotional, psychological, and social well-being.",
                    "context": {
                        "Context 1": "The speaker noted that being a saver can negatively affect mental health.",
                        "Context 2": "Taking breaks and practicing mindfulness can improve mental health.",
                        "Context 3": "The community organized a workshop to raise awareness about mental health."
                    }
                },
                {
                    "word": "Harm",
                    "definition": "To cause physical injury or damage to someone or something.",
                    "context": {
                        "Context 1": "The lesson emphasized that trying to save someone can sometimes harm them.",
                        "Context 2": "The storm caused significant harm to the coastal towns.",
                        "Context 3": "He didn't mean to harm the plant, but he forgot to water it."
                    }
                },
                {
                    "word": "Analyze",
                    "definition": "To examine something in detail for better understanding.",
                    "context": {
                        "Context 1": "The speaker mentioned that psychologists need to analyze themselves.",
                        "Context 2": "The scientist will analyze the data collected from the experiment.",
                        "Context 3": "In class, we will analyze the themes of the novel we are reading."
                    }
                },
                {
                    "word": "Therapy",
                    "definition": "Treatment intended to relieve or heal a disorder.",
                    "context": {
                        "Context 1": "The lesson discussed how therapy can take many years for some people.",
                        "Context 2": "She attends therapy every week to help manage her anxiety.",
                        "Context 3": "The therapy dog brought comfort to the patients in the hospital."
                    }
                },
                {
                    "word": "Rehabilitation",
                    "definition": "The process of restoring someone to health or normal life through training and therapy.",
                    "context": {
                        "Context 1": "The speaker mentioned going to rehabilitation for their shoulder.",
                        "Context 2": "After the accident, he underwent rehabilitation to regain his strength.",
                        "Context 3": "The rehabilitation center focuses on helping individuals recover from addiction."
                    }
                },
                {
                    "word": "Progress",
                    "definition": "Forward or onward movement towards a destination or goal.",
                    "context": {
                        "Context 1": "The speaker talked about their progress in preparing for the exam.",
                        "Context 2": "She made significant progress in her painting skills over the summer.",
                        "Context 3": "The team celebrated their progress in the project during the meeting."
                    }
                },
                {
                    "word": "Mock test",
                    "definition": "A practice exam that simulates the conditions of a real test.",
                    "context": {
                        "Context 1": "The speaker plans to take a mock test to prepare for the exam.",
                        "Context 2": "The teacher gave a mock test to help students feel more comfortable.",
                        "Context 3": "He studied hard for the mock test, hoping to improve his score."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Victim",
                    "fact": "In ancient Rome, victims were often chosen for sacrifices, but thankfully, today we just have to deal with bad luck!"
                },
                {
                    "word": "Saver",
                    "fact": "Did you know that in superhero movies, savers often have the most dramatic backstories? They really know how to make an entrance!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the psychology student bring a ladder to class?",
                    "answer": "Because they wanted to reach new heights in understanding mental health!"
                },
                {
                    "question": "What did the therapist say to the anxious student?",
                    "answer": "Don't worry, you're not alone in your thoughts... I charge by the hour!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going this morning?"
                },
                {
                    "Person 2": "Not too bad! Just trying to wake up. How about you?"
                },
                {
                    "Person 1": "Same here! I could really use an extra hour of sleep. Did you sleep well?"
                },
                {
                    "Person 2": "Not really. My cat decided it was playtime at 3 AM. How about you?"
                },
                {
                    "Person 1": "Oh no! My dog was barking at something outside. I swear they have a sixth sense for that."
                },
                {
                    "Person 2": "Right? It's like they know when we need sleep the most. Have you thought about changing your sleep schedule?"
                },
                {
                    "Person 1": "I have! But then I remember how much I love staying up late watching shows."
                },
                {
                    "Person 2": "Same! I keep telling myself I’ll go to bed earlier, but then I get sucked into another episode."
                },
                {
                    "Person 1": "Exactly! And then I wake up feeling like a zombie."
                },
                {
                    "Person 2": "Haha, right? Maybe we should start a morning workout routine to wake us up."
                },
                {
                    "Person 1": "That could work! But I might need some motivation. Maybe we can do it together?"
                },
                {
                    "Person 2": "For sure! We can hold each other accountable. Plus, it’ll be fun!"
                },
                {
                    "Person 1": "Definitely! And we can reward ourselves with breakfast after."
                },
                {
                    "Person 2": "Now you’re talking! Pancakes sound good?"
                },
                {
                    "Person 1": "Yes! Pancakes it is. Let’s plan for tomorrow?"
                },
                {
                    "Person 2": "Tomorrow sounds perfect! Just don’t let your cat keep you up again!"
                },
                {
                    "Person 1": "I’ll try my best! See you in the morning!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! You ever find yourself wide awake at 3 a.m. just thinking about everything?"
                },
                {
                    "Person 2": "Oh, totally! It’s like my brain decides that’s the perfect time to go into overdrive."
                },
                {
                    "Person 1": "Right? I’ll be lying there, and suddenly I’m thinking about all the things I didn’t get done that day."
                },
                {
                    "Person 2": "Exactly! And it feels like all those ideas just pile up until I can’t sleep."
                },
                {
                    "Person 1": "I wonder if it’s because we’re too busy during the day to process everything."
                },
                {
                    "Person 2": "That makes sense. It’s like our minds need that quiet time to sort things out."
                },
                {
                    "Person 1": "Yeah, but it’s such a bummer when you have to be up early the next day."
                },
                {
                    "Person 2": "For sure! I’ve tried to limit screen time before bed, but it’s hard."
                },
                {
                    "Person 1": "Same here! I’ll say, 'Okay, just one more episode,' and then it’s 2 a.m."
                },
                {
                    "Person 2": "Haha, I know that struggle! What do you think would help?"
                },
                {
                    "Person 1": "Maybe a bedtime routine? Like reading a book or something calming?"
                },
                {
                    "Person 2": "That sounds good! I’ve heard journaling can help too, just to get thoughts out."
                },
                {
                    "Person 1": "Yeah, I might give that a shot. Anything to avoid staring at the ceiling!"
                },
                {
                    "Person 2": "Exactly! Let’s make a pact to try it out this week."
                },
                {
                    "Person 1": "Deal! But I might still need to sneak in a few late-night snacks."
                },
                {
                    "Person 2": "Haha, priorities, right? Snacks are essential!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to get through the week. How about you?"
                },
                {
                    "Person 1": "Same here! I've been busy with work and trying to study for an exam."
                },
                {
                    "Person 2": "Oh, what subject is it for?"
                },
                {
                    "Person 1": "It's for psychology. We’re learning about different roles people play in relationships."
                },
                {
                    "Person 2": "That sounds interesting! Like the victim, savior, and aggressor roles?"
                },
                {
                    "Person 1": "Exactly! It's wild how people can switch between those roles."
                },
                {
                    "Person 2": "Yeah, I can see how that would mess with someone's mental health."
                },
                {
                    "Person 1": "Right? Sometimes people just need to help themselves instead of relying on others."
                },
                {
                    "Person 2": "Totally! I think it’s important to find a balance."
                },
                {
                    "Person 1": "Speaking of balance, I need to take a break from studying. Want to watch something funny?"
                },
                {
                    "Person 2": "Sure! I love a good laugh. What do you have in mind?"
                },
                {
                    "Person 1": "I was thinking about some stand-up comedy or maybe some funny YouTube videos."
                },
                {
                    "Person 2": "Sounds perfect! I could use a good laugh after all this studying."
                },
                {
                    "Person 1": "Alright, let’s find something and take a break!"
                },
                {
                    "Person 2": "Yes! We deserve it. Let’s do this!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
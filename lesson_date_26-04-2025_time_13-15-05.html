<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I just want to see children without internet.",
                    "corrected": "I just want to see children without the internet.",
                    "explanation": "The article 'the' is needed before 'internet' to specify it as a known entity.",
                    "context": "In discussing the impact of the internet on children, I expressed my desire to see children without the internet. I just want to see children without the internet because I believe it can have negative influences."
                },
                {
                    "original": "It is a space where... We have some... Sometimes we have special topic about... I don't know... Drugs and etc.",
                    "corrected": "It is a space where we sometimes have special topics about drugs, etc.",
                    "explanation": "The phrase 'and etc.' is redundant; 'etc.' already implies additional items. Also, 'special topic' should be plural to match 'some'.",
                    "context": "While discussing the internet's influence, I mentioned that it is a space where we sometimes have special topics about drugs, etc. I think this can lead to negative influences on children."
                },
                {
                    "original": "My best friends have children, yeah.",
                    "corrected": "My best friend has children.",
                    "explanation": "The subject 'best friend' should be singular to match the verb 'has'.",
                    "context": "I was sharing my personal experience regarding children and the internet. My best friend has children, and they use mobile phones with internet access."
                },
                {
                    "original": "And their children use mobile phone with internet.",
                    "corrected": "And their children use mobile phones with the internet.",
                    "explanation": "The noun 'mobile phone' should be pluralized to 'mobile phones' to match 'children', and 'the' is needed before 'internet'.",
                    "context": "Continuing my story, I noted that their children use mobile phones with the internet. This access can expose them to various risks."
                },
                {
                    "original": "And after that my friend just call on police and tell about the situation that has his son sent a message with drugs.",
                    "corrected": "And after that, my friend just called the police and told about the situation where his son sent a message about drugs.",
                    "explanation": "The verb tenses should be past tense ('called', 'told'), and 'call on police' should be 'called the police'. The phrase 'that has his son sent' is awkward and should be rephrased.",
                    "context": "I recounted a serious incident involving my friend's child. After that, my friend just called the police and told about the situation where his son sent a message about drugs."
                },
                {
                    "original": "I know some of my friends who knows some shop of drugs, yeah.",
                    "corrected": "I know some of my friends who know some drug shops.",
                    "explanation": "The verb 'knows' should be 'know' to agree with the plural subject 'friends', and 'shop of drugs' is awkward; 'drug shops' is more idiomatic.",
                    "context": "I was trying to illustrate the issue of drug availability online. I know some of my friends who know some drug shops."
                },
                {
                    "original": "Different thing, yeah.",
                    "corrected": "Different things.",
                    "explanation": "The phrase should be pluralized to 'different things' to match the context of multiple examples.",
                    "context": "When discussing the types of drugs available, I mentioned various examples. Different things can be found online, like weed or stronger drugs."
                },
                {
                    "original": "To buy some weed.",
                    "corrected": "To buy weed.",
                    "explanation": "The phrase 'some weed' is unnecessary; 'buy weed' is sufficient and more natural.",
                    "context": "In talking about the availability of drugs, I mentioned the act of purchasing. To buy weed is one of the options available online."
                },
                {
                    "original": "It is not a problem.",
                    "corrected": "It's not a problem.",
                    "explanation": "The contraction 'it's' is more natural in spoken English than the full form 'it is'.",
                    "context": "In response to a question about the situation, I reassured that it's not a problem. I felt confident about discussing the topic."
                },
                {
                    "original": "But I know that Russia too, yeah, it's not a problem.",
                    "corrected": "But I know that it's the same in Russia; it's not a problem.",
                    "explanation": "The phrase should include 'it's' for clarity, and 'the same' is more idiomatic than 'too'.",
                    "context": "While discussing drug issues, I noted that it's the same in Russia. It's not a problem to talk about these issues openly."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "They can order some of drugs.",
                    "corrected": "They can order some drugs.",
                    "explanation": "The phrase 'some of drugs' is incorrect; 'some drugs' is the correct form.",
                    "context": "When children have access to the internet, they can order some drugs. This is one of the concerns about their online activities."
                },
                {
                    "original": "It's what? It is just far.",
                    "corrected": "It's just for fun.",
                    "explanation": "The phrase 'it is just far' is incorrect; it should be 'it is just for fun' to convey the intended meaning.",
                    "context": "Some people might argue that children ordering drugs online is not serious. They might say it's just for fun."
                },
                {
                    "original": "It is stupid because it is distract our brain.",
                    "corrected": "It is stupid because it distracts our brains.",
                    "explanation": "'Distract' should be in the third person singular form 'distracts' to agree with the subject 'it.'",
                    "context": "I think drugs are harmful. It is stupid because it distracts our brains from important things."
                },
                {
                    "original": "If every children right now have some of money from their parents.",
                    "corrected": "If every child right now has some money from their parents.",
                    "explanation": "'Every children' is incorrect; it should be 'every child.' Additionally, 'have' should be 'has' to match the singular subject.",
                    "context": "Some might say that children can't buy drugs because they don't have money. However, if every child right now has some money from their parents, they could potentially buy drugs."
                },
                {
                    "original": "Children, children have addiction from Internet.",
                    "corrected": "Children have an addiction to the Internet.",
                    "explanation": "'Addiction from Internet' is incorrect; it should be 'addiction to the Internet' for proper phrasing.",
                    "context": "We should consider that children have an addiction to the Internet. This is another reason why we should be cautious about their online access."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "Want create a law.",
                    "corrected": "Want to create a law.",
                    "explanation": "The infinitive form 'to create' is needed after 'want.'",
                    "context": "We can keep the word government. Maybe adult people want to create a law. The idea is to express it differently."
                },
                {
                    "original": "A law that banned internet.",
                    "corrected": "A law that bans the internet.",
                    "explanation": "The verb should be in the present tense 'bans' to indicate the law's ongoing effect.",
                    "context": "We can use the word banned. A law that bans the internet is necessary. This is a law that should be enforced."
                },
                {
                    "original": "Under 14 years old.",
                    "corrected": "For people under 14 years old.",
                    "explanation": "The preposition 'for' is needed to clarify the age restriction applies to people.",
                    "context": "Children under 14 years old are affected. For people under 14 years old, this law is crucial."
                },
                {
                    "original": "Addiction to internet.",
                    "corrected": "Addiction to the internet.",
                    "explanation": "The definite article 'the' is needed before 'internet' to specify it.",
                    "context": "Most children have an addiction to the internet. This addiction is a serious issue we need to address."
                },
                {
                    "original": "They sometimes order drugs.",
                    "corrected": "They sometimes order drugs online.",
                    "explanation": "Adding 'online' clarifies where the ordering takes place, enhancing the context.",
                    "context": "Children sometimes order drugs. They sometimes order drugs online, which is alarming."
                },
                {
                    "original": "Parents don't always see their children.",
                    "corrected": "Parents don't always supervise their children.",
                    "explanation": "The word 'supervise' is more precise than 'see' in this context.",
                    "context": "Parents don't always see their children. Parents don't always supervise their children, which can lead to issues."
                },
                {
                    "original": "Order cocaine or heroin for example.",
                    "corrected": "Order cocaine or heroin, for example.",
                    "explanation": "A comma is needed before 'for example' to separate it from the main clause.",
                    "context": "Children may order cocaine or heroin, for example. This highlights the severity of the issue."
                },
                {
                    "original": "Because they are available everywhere on the internet.",
                    "corrected": "Because they are available everywhere on the internet.",
                    "explanation": "This sentence is correct but could be more concise.",
                    "context": "Why do children order drugs? Because they are available everywhere on the internet, it's a significant concern."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "Many young individuals in Europe... Can now children order cocaine here?",
                    "corrected": "Can children order cocaine here in Europe now?",
                    "explanation": "The original sentence structure is awkward and confusing; it should be rephrased for clarity.",
                    "context": "We were discussing the situation of young individuals in Europe. Can children order cocaine here in Europe now? This raises important questions about youth and drug access."
                },
                {
                    "original": "And sometimes they get a stupid thing.",
                    "corrected": "And sometimes they do stupid things.",
                    "explanation": "'Get a stupid thing' is not idiomatic; 'do stupid things' is the correct expression.",
                    "context": "We talked about the behavior of children with free time. And sometimes they do stupid things. This behavior can lead to risky situations."
                },
                {
                    "original": "This one follows the structure.",
                    "corrected": "This one follows the correct structure.",
                    "explanation": "The word 'correct' adds clarity and specifies that it adheres to the expected format.",
                    "context": "I was explaining the importance of structure in writing. This one follows the correct structure. It helps in organizing thoughts effectively."
                },
                {
                    "original": "You should first come up with a plan for the second paragraph.",
                    "corrected": "You should first create a plan for the second paragraph.",
                    "explanation": "'Come up with' is informal; 'create' is more precise and appropriate in this context.",
                    "context": "I was guiding students on how to write their essays. You should first create a plan for the second paragraph. This will help in organizing your ideas."
                },
                {
                    "original": "Not very easy, but understandable.",
                    "corrected": "It's not very easy, but it's understandable.",
                    "explanation": "The sentence is missing a subject and verb; adding them makes it grammatically correct.",
                    "context": "I was summarizing the writing process. It's not very easy, but it's understandable. With practice, you can improve your writing skills."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Platform",
                    "definition": "A digital service or application that allows users to connect, communicate, or share information.",
                    "context": {
                        "Context 1": "We used a different platform for our video call today.",
                        "Context 2": "The new gaming platform has amazing graphics and features.",
                        "Context 3": "She stood on a platform to give her speech to the crowd."
                    }
                },
                {
                    "word": "Conference",
                    "definition": "A formal meeting for discussion, often involving multiple participants.",
                    "context": {
                        "Context 1": "I joined a conference call to discuss our project.",
                        "Context 2": "The science conference featured many renowned speakers.",
                        "Context 3": "The conference room was decorated for the wedding reception."
                    }
                },
                {
                    "word": "Lag",
                    "definition": "A delay or slowdown in response time, especially in technology.",
                    "context": {
                        "Context 1": "Sometimes there is a lag when using video calls.",
                        "Context 2": "The lag in the video game made it difficult to play.",
                        "Context 3": "She felt a lag in her energy after a long day at work."
                    }
                },
                {
                    "word": "Sore throat",
                    "definition": "Pain or discomfort in the throat, often a symptom of illness.",
                    "context": {
                        "Context 1": "He mentioned he had a sore throat during our lesson.",
                        "Context 2": "After singing for hours, she developed a sore throat.",
                        "Context 3": "The cold weather often gives me a sore throat."
                    }
                },
                {
                    "word": "Reschedule",
                    "definition": "To change the time or date of a planned event.",
                    "context": {
                        "Context 1": "We might need to reschedule our lesson for another day.",
                        "Context 2": "She had to reschedule her dentist appointment due to a conflict.",
                        "Context 3": "The concert was rescheduled because of bad weather."
                    }
                },
                {
                    "word": "Abstract",
                    "definition": "Existing in thought or as an idea but not having a physical or concrete existence.",
                    "context": {
                        "Context 1": "We should keep our ideas more abstract to avoid personal details.",
                        "Context 2": "The artist's abstract painting was open to interpretation.",
                        "Context 3": "He wrote an abstract for his research paper summarizing the findings."
                    }
                },
                {
                    "word": "Influence",
                    "definition": "The capacity to have an effect on the character, development, or behavior of someone or something.",
                    "context": {
                        "Context 1": "The internet can have a negative influence on children.",
                        "Context 2": "Her positive influence helped him succeed in his career.",
                        "Context 3": "The influence of climate change is evident in weather patterns."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern that illustrates a concept.",
                    "context": {
                        "Context 1": "We can use drugs as an example of bad influences from the internet.",
                        "Context 2": "She provided an example of how to solve the math problem.",
                        "Context 3": "The teacher asked for an example of a historical event."
                    }
                },
                {
                    "word": "Message",
                    "definition": "A communication sent from one person to another.",
                    "context": {
                        "Context 1": "He received a concerning message about drug use from a friend.",
                        "Context 2": "She sent a message to her colleague about the meeting time.",
                        "Context 3": "The message in the bottle traveled across the ocean."
                    }
                },
                {
                    "word": "Problem",
                    "definition": "A matter or situation regarded as unwelcome or harmful and needing to be dealt with.",
                    "context": {
                        "Context 1": "The issue of drug messages is a serious problem.",
                        "Context 2": "He faced a problem when his car broke down.",
                        "Context 3": "The math problem took her hours to solve."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Lag",
                    "fact": "Did you know that the term 'lag' originally comes from the world of sailing, where it described a ship that was left behind?"
                },
                {
                    "word": "Abstract",
                    "fact": "The word 'abstract' comes from the Latin 'abstractus,' which means 'drawn away'—like your attention when you're daydreaming!"
                },
                {
                    "word": "Platform",
                    "fact": "The first digital platform was created in the 1960s and was used for sharing research among scientists—talk about a nerdy social network!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Access",
                    "definition": "The means or opportunity to approach or enter a place or situation.",
                    "context": {
                        "Context 1": "When children have access to the internet, they can find a wealth of information.",
                        "Context 2": "The library provides access to various educational resources for all students.",
                        "Context 3": "She had access to the VIP area at the concert because of her special pass."
                    }
                },
                {
                    "word": "Counterargument",
                    "definition": "An argument made to oppose another argument.",
                    "context": {
                        "Context 1": "The essay included a strong counterargument to the initial claim about internet safety.",
                        "Context 2": "In a debate, presenting a counterargument is crucial to show understanding of the topic.",
                        "Context 3": "His counterargument was so convincing that it changed my perspective on the issue."
                    }
                },
                {
                    "word": "Self-development",
                    "definition": "The process of improving oneself through activities that develop talents and potential.",
                    "context": {
                        "Context 1": "Many believe that access to the internet can aid in self-development for children.",
                        "Context 2": "Self-development can include reading books, attending workshops, or practicing new skills.",
                        "Context 3": "She focused on self-development by taking online courses during her free time."
                    }
                },
                {
                    "word": "Moral ground",
                    "definition": "A set of principles concerning what is right and wrong behavior.",
                    "context": {
                        "Context 1": "Parents often teach their children to stand firm on their moral ground.",
                        "Context 2": "The politician's moral ground was questioned after the scandal broke.",
                        "Context 3": "He felt he was on solid moral ground when he reported the unethical practices at work."
                    }
                },
                {
                    "word": "Distraction",
                    "definition": "A thing that prevents someone from giving full attention to something else.",
                    "context": {
                        "Context 1": "The internet can be a major distraction for children trying to focus on their studies.",
                        "Context 2": "His phone was a constant distraction during the meeting, causing him to miss important points.",
                        "Context 3": "She found that listening to music helped her reduce distractions while studying."
                    }
                },
                {
                    "word": "Addiction",
                    "definition": "The fact or condition of being addicted to a particular substance or activity.",
                    "context": {
                        "Context 1": "The discussion highlighted concerns about internet addiction among children.",
                        "Context 2": "His addiction to video games led to poor academic performance.",
                        "Context 3": "Many people struggle with addiction to caffeine, especially in the workplace."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "Each side of the debate offered a different perspective on children's internet access.",
                        "Context 2": "Traveling abroad can give you a new perspective on your own culture.",
                        "Context 3": "Her perspective on life changed after she experienced a major setback."
                    }
                },
                {
                    "word": "Argument",
                    "definition": "An exchange of diverging or opposite views, typically a heated or angry one.",
                    "context": {
                        "Context 1": "The argument about internet safety sparked a lively discussion in class.",
                        "Context 2": "They had an argument over which movie to watch on Friday night.",
                        "Context 3": "His argument for a later curfew was well-received by his parents."
                    }
                },
                {
                    "word": "Risky",
                    "definition": "Full of the possibility of danger, failure, or loss.",
                    "context": {
                        "Context 1": "Using the internet without supervision can be risky for children.",
                        "Context 2": "Investing in stocks can be risky, but it can also yield high returns.",
                        "Context 3": "She took a risky shortcut through the woods to get home faster."
                    }
                },
                {
                    "word": "Harm",
                    "definition": "Physical injury, especially that which is deliberately inflicted.",
                    "context": {
                        "Context 1": "The lesson emphasized the potential harm that drugs can cause to children.",
                        "Context 2": "He was worried that the storm could cause harm to his property.",
                        "Context 3": "The doctor explained that the medication could cause harm if taken incorrectly."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Access",
                    "fact": "Did you know that the first computer virus was created in 1986 and was called 'Brain'? It was a way to control access to floppy disks!"
                },
                {
                    "word": "Addiction",
                    "fact": "There’s a term called 'internet addiction disorder,' but it’s not officially recognized. So, technically, you can’t be addicted to being addicted!"
                },
                {
                    "word": "Distraction",
                    "fact": "Studies show that the average person checks their phone over 150 times a day. Talk about a major distraction!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of anxiety!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Banned",
                    "definition": "Officially or legally prohibited.",
                    "context": {
                        "Context 1": "The government has banned smoking in public places to protect public health.",
                        "Context 2": "In some countries, certain books are banned due to their controversial content.",
                        "Context 3": "The school banned the use of cell phones during class hours."
                    }
                },
                {
                    "word": "Explicitly",
                    "definition": "In a clear and detailed manner, leaving no room for confusion.",
                    "context": {
                        "Context 1": "The teacher explicitly stated the rules for the exam to avoid any misunderstandings.",
                        "Context 2": "He explicitly asked her to stop talking during the movie.",
                        "Context 3": "The contract explicitly outlines the responsibilities of both parties."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something using different words.",
                    "context": {
                        "Context 1": "The student was asked to paraphrase the text to demonstrate understanding.",
                        "Context 2": "She decided to paraphrase the recipe to make it easier to follow.",
                        "Context 3": "In a debate, it's important to paraphrase your opponent's arguments to clarify your response."
                    }
                },
                {
                    "word": "Addiction",
                    "definition": "The state of being enslaved to a habit or practice, often harmful.",
                    "context": {
                        "Context 1": "Many teenagers struggle with internet addiction, affecting their studies.",
                        "Context 2": "His addiction to video games led to poor academic performance.",
                        "Context 3": "Addiction to caffeine can lead to withdrawal symptoms when trying to quit."
                    }
                },
                {
                    "word": "Diverge",
                    "definition": "To separate from another route and go in a different direction.",
                    "context": {
                        "Context 1": "The conversation began to diverge from the main topic.",
                        "Context 2": "The two paths diverge at the old oak tree.",
                        "Context 3": "As they grew older, their interests began to diverge significantly."
                    }
                },
                {
                    "word": "Opportunities",
                    "definition": "A set of circumstances that makes it possible to do something.",
                    "context": {
                        "Context 1": "The internet provides many opportunities for learning and growth.",
                        "Context 2": "He seized the opportunity to travel abroad for work.",
                        "Context 3": "Volunteering can open up new opportunities for career advancement."
                    }
                },
                {
                    "word": "Explicit",
                    "definition": "Stated clearly and in detail, leaving no room for confusion or doubt.",
                    "context": {
                        "Context 1": "The instructions were explicit, making it easy for everyone to follow.",
                        "Context 2": "He gave explicit directions on how to reach his house.",
                        "Context 3": "The movie contained explicit content that was not suitable for children."
                    }
                },
                {
                    "word": "Stating",
                    "definition": "To express something in words.",
                    "context": {
                        "Context 1": "The report is stating the findings of the research clearly.",
                        "Context 2": "She is stating her opinion on the matter during the meeting.",
                        "Context 3": "Stating your goals can help you stay focused on achieving them."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement of and relations between the parts or elements of something complex.",
                    "context": {
                        "Context 1": "The structure of the essay should include an introduction, body, and conclusion.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "Understanding the structure of a story can enhance your reading experience."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern that serves as a model.",
                    "context": {
                        "Context 1": "The teacher provided an example to illustrate the concept.",
                        "Context 2": "He used a famous painting as an example of modern art.",
                        "Context 3": "An example of teamwork can be seen in successful sports teams."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Banned",
                    "fact": "In some places, it's banned to chew gum in public, but you can still eat it in private!"
                },
                {
                    "word": "Addiction",
                    "fact": "Did you know that some people are so addicted to coffee that they have a 'brew-tiful' morning routine?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Individuals",
                    "definition": "Single human beings as distinct from a group.",
                    "context": {
                        "Context 1": "Many young individuals in Europe are exploring new opportunities.",
                        "Context 2": "The zoo has a special section for endangered individuals of various species.",
                        "Context 3": "In a large crowd, it can be hard to notice individuals who stand out."
                    }
                },
                {
                    "word": "Deliberately",
                    "definition": "With intention; on purpose.",
                    "context": {
                        "Context 1": "They did not deliberately choose to engage in risky behavior.",
                        "Context 2": "She deliberately wore mismatched socks to make a fashion statement.",
                        "Context 3": "He deliberately ignored the warning signs while driving."
                    }
                },
                {
                    "word": "Prerequisites",
                    "definition": "Requirements that must be met before something can happen.",
                    "context": {
                        "Context 1": "Understanding the prerequisites is essential before starting the project.",
                        "Context 2": "The prerequisites for the cooking class include basic knife skills.",
                        "Context 3": "To join the club, there are no prerequisites; anyone can sign up."
                    }
                },
                {
                    "word": "Amplify",
                    "definition": "To make something stronger or more intense.",
                    "context": {
                        "Context 1": "We need to amplify our arguments to make them more convincing.",
                        "Context 2": "The speaker used a microphone to amplify her voice in the large auditorium.",
                        "Context 3": "He decided to amplify the colors in his painting for a more dramatic effect."
                    }
                },
                {
                    "word": "Abstract",
                    "definition": "Existing in thought or as an idea but not having a physical or concrete existence.",
                    "context": {
                        "Context 1": "The concept of freedom can be quite abstract and varies from person to person.",
                        "Context 2": "Her abstract painting left viewers questioning its meaning.",
                        "Context 3": "In mathematics, abstract concepts often require deep thought to understand."
                    }
                },
                {
                    "word": "Stupid",
                    "definition": "Lacking intelligence or common sense.",
                    "context": {
                        "Context 1": "Sometimes they do stupid things without thinking of the consequences.",
                        "Context 2": "He made a stupid mistake by forgetting his keys inside the car.",
                        "Context 3": "The movie was so stupid that it became a cult classic."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement or organization of parts to form a whole.",
                    "context": {
                        "Context 1": "A clear structure is important for writing an effective essay.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "In biology, the structure of a cell is crucial for its function."
                    }
                },
                {
                    "word": "Control",
                    "definition": "The power to influence or direct people's behavior or the course of events.",
                    "context": {
                        "Context 1": "We have full control of our grammar in this writing exercise.",
                        "Context 2": "The pilot lost control of the aircraft during turbulence.",
                        "Context 3": "Parents often try to control their children's screen time."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something written or spoken using different words.",
                    "context": {
                        "Context 1": "Your conclusion should paraphrase the introduction for clarity.",
                        "Context 2": "He had to paraphrase the complex article for his classmates.",
                        "Context 3": "Paraphrasing is a useful skill for summarizing long texts."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Stupid",
                    "fact": "Did you know that the word 'stupid' comes from the Latin 'stupidus,' which means 'to be stunned or amazed'?"
                },
                {
                    "word": "Control",
                    "fact": "In the world of psychology, the term 'locus of control' refers to how much people believe they can control events affecting them!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to stay awake. How about you?"
                },
                {
                    "Person 1": "Same here! I didn't sleep well last night. Just tossing and turning."
                },
                {
                    "Person 2": "Ugh, I hate that. Was it something you ate?"
                },
                {
                    "Person 1": "I think so. I had some spicy tacos for dinner. Might have been a mistake."
                },
                {
                    "Person 2": "Spicy food can be a real sleep killer! What are you up to today?"
                },
                {
                    "Person 1": "Just working on some stuff for school. Got an essay due soon."
                },
                {
                    "Person 2": "Oh, essays! The joy of student life. What's the topic?"
                },
                {
                    "Person 1": "It's about the impact of technology on kids. Kind of a broad topic."
                },
                {
                    "Person 2": "That sounds interesting! You could go in so many directions with that."
                },
                {
                    "Person 1": "Yeah, I was thinking about how social media affects their mental health."
                },
                {
                    "Person 2": "That's a great angle! There's so much research on that now."
                },
                {
                    "Person 1": "Exactly! I just need to organize my thoughts and get writing."
                },
                {
                    "Person 2": "Want to brainstorm some ideas together? Sometimes talking it out helps."
                },
                {
                    "Person 1": "Sure! That would be awesome. I could use the help."
                },
                {
                    "Person 2": "Alright, let’s grab some coffee and get to it!"
                },
                {
                    "Person 1": "Sounds like a plan! I could use a caffeine boost."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you see that new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I did! I heard they have the best lattes in town."
                },
                {
                    "Person 1": "I’m definitely going to check it out this weekend. Have you been yet?"
                },
                {
                    "Person 2": "Not yet, but I’m planning to go tomorrow. I’ve heard they have some cool pastries too."
                },
                {
                    "Person 1": "Nice! I love a good pastry with my coffee. What are you thinking of trying?"
                },
                {
                    "Person 2": "I’m eyeing their almond croissant. It looks amazing!"
                },
                {
                    "Person 1": "That sounds delicious! I might have to get one of those too."
                },
                {
                    "Person 2": "We should go together sometime! It’d be fun to catch up."
                },
                {
                    "Person 1": "Absolutely! Let’s plan for next weekend then."
                },
                {
                    "Person 2": "Perfect! I’ll make sure to save room for that croissant."
                },
                {
                    "Person 1": "And I’ll save room for a latte! Can’t wait!"
                },
                {
                    "Person 2": "Same here! It’ll be a nice little treat."
                },
                {
                    "Person 1": "For sure! See you then!"
                },
                {
                    "Person 2": "See you!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a comeback, right?"
                },
                {
                    "Person 1": "Absolutely! I thought they were done for, but they really pulled it together."
                },
                {
                    "Person 2": "I know! It was like they flipped a switch in the second half."
                },
                {
                    "Person 1": "For real! That last-minute goal had me on the edge of my seat."
                },
                {
                    "Person 2": "Same here! I was jumping around my living room like a crazy person."
                },
                {
                    "Person 1": "Haha! I can picture that. Did you watch it with anyone?"
                },
                {
                    "Person 2": "Yeah, I had a couple of friends over. We made nachos and everything."
                },
                {
                    "Person 1": "Nice! That sounds like a perfect game night."
                },
                {
                    "Person 2": "It really was! We should do that next time."
                },
                {
                    "Person 1": "Definitely! I’ll bring the drinks."
                },
                {
                    "Person 2": "Deal! Can’t wait for the next game."
                },
                {
                    "Person 1": "Me too! Let’s hope for another thrilling match."
                },
                {
                    "Person 2": "For sure! And maybe we can plan a barbecue for the playoffs?"
                },
                {
                    "Person 1": "That’s a great idea! I’m in!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I went there last weekend! It's pretty cool. They have a ton of different brews."
                },
                {
                    "Person 1": "Nice! I heard they have a special blend that’s supposed to be amazing."
                },
                {
                    "Person 2": "Oh, for sure! I tried it, and it was really smooth. I think it’s their signature drink."
                },
                {
                    "Person 1": "I need to check it out. I love trying new coffee places."
                },
                {
                    "Person 2": "Same here! Plus, the vibe is really chill. Perfect for hanging out or getting some work done."
                },
                {
                    "Person 1": "Sounds like my kind of spot. Do they have free Wi-Fi?"
                },
                {
                    "Person 2": "Yep! And plenty of outlets too, so you can charge your laptop."
                },
                {
                    "Person 1": "Awesome! Maybe we should go there together sometime."
                },
                {
                    "Person 2": "Definitely! How about this weekend?"
                },
                {
                    "Person 1": "That works for me! I’ll bring my laptop, and we can get some work done."
                },
                {
                    "Person 2": "Perfect! And we can reward ourselves with that special coffee afterward."
                },
                {
                    "Person 1": "Sounds like a plan! I’m looking forward to it."
                },
                {
                    "Person 2": "Me too! It’ll be fun to catch up."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
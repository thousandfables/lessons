<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "My holiday started for a week.",
                    "corrected": "My holiday has started for a week.",
                    "explanation": "The present perfect tense 'has started' is used to indicate that the holiday began in the past and is still ongoing.",
                    "context": "I had a good week because I had two days of rest, Friday and Saturday. My holiday has started for a week. I'm really looking forward to enjoying my time off."
                },
                {
                    "original": "But when you work, when you work, you can't really have the same thing.",
                    "corrected": "But when you work, you can't really have the same experience.",
                    "explanation": "The word 'thing' is too vague; 'experience' clarifies what is being referred to.",
                    "context": "I feel like holidays are different when you're an adult. But when you work, you can't really have the same experience. It's just not the same as when you were in school."
                },
                {
                    "original": "Nobody pays me.",
                    "corrected": "No one pays me.",
                    "explanation": "'Nobody' is informal; 'no one' is more appropriate in this context.",
                    "context": "I can't take long breaks from work. Nobody pays me. I have to keep working to make ends meet."
                },
                {
                    "original": "I will feel myself more confident.",
                    "corrected": "I will feel more confident.",
                    "explanation": "The reflexive pronoun 'myself' is unnecessary here; 'more confident' is sufficient.",
                    "context": "Studying will help me improve my marks, for example. I will feel more confident. I want to do well in school."
                },
                {
                    "original": "To be more erudite, I guess.",
                    "corrected": "To be more erudite, I suppose.",
                    "explanation": "'I guess' is too informal; 'I suppose' is more appropriate in this context.",
                    "context": "Studying will help me be more knowledgeable. To be more erudite, I suppose. I want to have a broad understanding of various subjects."
                },
                {
                    "original": "I want to make clear with biology, chemistry and physics.",
                    "corrected": "I want to clarify my understanding of biology, chemistry, and physics.",
                    "explanation": "'Make clear' is awkward; 'clarify my understanding' is more idiomatic.",
                    "context": "On the holiday, I want to focus on my studies. I want to clarify my understanding of biology, chemistry, and physics. I need to catch up on what I missed."
                },
                {
                    "original": "Have you already tried consulting your classmate?",
                    "corrected": "Have you already tried asking your classmate for help?",
                    "explanation": "'Consulting' is too formal; 'asking for help' is more natural in this context.",
                    "context": "I need to improve in my subjects. Have you already tried asking your classmate for help? I think it could be beneficial."
                },
                {
                    "original": "Do you really think you can use help?",
                    "corrected": "Do you really think you can use her help?",
                    "explanation": "The pronoun 'you' is incorrect; 'her' specifies whose help is being referred to.",
                    "context": "I want to make sure I understand the material. Do you really think you can use her help? She is very good at biology."
                },
                {
                    "original": "The last one I watched was about a doctor that watched Autism.",
                    "corrected": "The last one I watched was about a doctor who treated autism.",
                    "explanation": "'That watched Autism' is incorrect; 'who treated autism' clarifies the subject's role.",
                    "context": "I don't watch movies much. The last one I watched was about a doctor who treated autism. It was quite interesting."
                },
                {
                    "original": "I can watch three or four series, but after it will just be a little bit disgusting.",
                    "corrected": "I can watch three or four series, but after that, it becomes a little bit overwhelming.",
                    "explanation": "'Disgusting' is inappropriate here; 'overwhelming' better describes the feeling of fatigue.",
                    "context": "I don't enjoy watching films. I can watch three or four series, but after that, it becomes a little bit overwhelming. I lose focus and interest."
                },
                {
                    "original": "Because you will lose focus.",
                    "corrected": "Because you might lose focus.",
                    "explanation": "'Will' implies certainty; 'might' indicates possibility, which is more appropriate here.",
                    "context": "It's easy to get distracted while watching. Because you might lose focus. It happens to me often."
                },
                {
                    "original": "I remember how in Hades my parents gave me really interesting books.",
                    "corrected": "I remember how, in my childhood, my parents gave me really interesting books.",
                    "explanation": "'In Hades' is incorrect; 'in my childhood' clarifies the time period.",
                    "context": "I love reading. I remember how, in my childhood, my parents gave me really interesting books. Those stories captivated me."
                },
                {
                    "original": "But why is book, like, why aren't you get bored?",
                    "corrected": "But why is that? Why don't you get bored?",
                    "explanation": "The structure is awkward; 'why is that?' and 'why don't you get bored?' are clearer.",
                    "context": "I find reading engaging. But why is that? Why don't you get bored? I think it’s because of the captivating stories."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I just prefer books than movies.",
                    "corrected": "I just prefer books to movies.",
                    "explanation": "The correct preposition to use with 'prefer' is 'to,' not 'than.'",
                    "context": "I enjoy reading a lot. I just prefer books to movies. They offer a depth that films often lack."
                },
                {
                    "original": "I read Revisor, Google's Revisor, because we added on literature.",
                    "corrected": "I read Revisor, Google's Revisor, because we added it to our literature.",
                    "explanation": "The phrase 'added on' is incorrect; it should be 'added it to' to indicate inclusion in the curriculum.",
                    "context": "Last week, I had a lot of reading to do. I read Revisor, Google's Revisor, because we added it to our literature class."
                },
                {
                    "original": "It's good for describing, for example, making... A review?",
                    "corrected": "It's good for describing, for example, making a review.",
                    "explanation": "The ellipsis is unnecessary and disrupts the flow; it should be a complete thought.",
                    "context": "When discussing literature, clarity is important. It's good for describing, for example, making a review."
                },
                {
                    "original": "I like usual kind of books, texts, just stories.",
                    "corrected": "I like usual kinds of books, texts, just stories.",
                    "explanation": "The word 'kind' should be plural ('kinds') to match the plural subject 'books, texts, stories.'",
                    "context": "When it comes to reading, I have my preferences. I like usual kinds of books, texts, just stories."
                },
                {
                    "original": "I like to role as powerful characters.",
                    "corrected": "I like to role-play as powerful characters.",
                    "explanation": "'Role' should be part of the phrase 'role-play' to indicate the act of acting out a character.",
                    "context": "In storytelling, I enjoy embodying different personas. I like to role-play as powerful characters."
                },
                {
                    "original": "If you will write, for example, your character, my character is very gorgeous and beautiful, it will be very gorgeous and beautiful.",
                    "corrected": "If you write, for example, your character, my character is very gorgeous and beautiful, it will be very gorgeous and beautiful.",
                    "explanation": "The phrase 'if you will write' is incorrect; 'if you write' is the correct conditional form.",
                    "context": "When creating characters, I think about their traits. If you write, for example, your character, my character is very gorgeous and beautiful."
                },
                {
                    "original": "If you will use magic, for example, without stick, it will be strange.",
                    "corrected": "If you use magic, for example, without a stick, it will be strange.",
                    "explanation": "The phrase 'if you will use' should be 'if you use,' and 'stick' needs the article 'a.'",
                    "context": "In fantasy stories, the rules of magic are important. If you use magic, for example, without a stick, it will be strange."
                },
                {
                    "original": "For me, it's a good thing, I really like it.",
                    "corrected": "For me, it's a good thing; I really like it.",
                    "explanation": "A semicolon should be used to connect two independent clauses instead of a comma.",
                    "context": "When discussing preferences, clarity matters. For me, it's a good thing; I really like it."
                },
                {
                    "original": "I could never understand why in the last film he managed to defeat Dark Lord.",
                    "corrected": "I could never understand why in the last film he managed to defeat the Dark Lord.",
                    "explanation": "The term 'Dark Lord' should have 'the' before it to specify the character.",
                    "context": "In analyzing the story, some elements confuse me. I could never understand why in the last film he managed to defeat the Dark Lord."
                },
                {
                    "original": "Maybe because this is one and only magic Harry used in both themes.",
                    "corrected": "Maybe because this is the one and only magic Harry used in both films.",
                    "explanation": "The phrase should include 'the' for specificity, and 'themes' should be 'films' for clarity.",
                    "context": "When discussing the plot, I often find inconsistencies. Maybe because this is the one and only magic Harry used in both films."
                },
                {
                    "original": "Expilarmus is what? Just to get away a stick?",
                    "corrected": "Expelliarmus is what? Just to get away a stick?",
                    "explanation": "'Expilarmus' is misspelled; the correct term is 'Expelliarmus.'",
                    "context": "In the context of spells, accuracy is key. Expelliarmus is what? Just to get away a stick?"
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I bet you know there are three actors of Spider-Man.",
                    "corrected": "I bet you know there are three actors who played Spider-Man.",
                    "explanation": "The phrase 'actors of Spider-Man' is incorrect; it should refer to actors who played the character.",
                    "context": "I was talking about Spider-Man and how many actors have portrayed him. I bet you know there are three actors who played Spider-Man. The first one was Tobey Maguire."
                },
                {
                    "original": "Andrew Goldford.",
                    "corrected": "Andrew Garfield.",
                    "explanation": "The name 'Andrew Goldford' is incorrect; the correct name is 'Andrew Garfield.'",
                    "context": "While discussing the actors who played Spider-Man, I mistakenly mentioned the wrong name. Andrew Goldford. I meant to say Andrew Garfield."
                },
                {
                    "original": "I never remembered it as well.",
                    "corrected": "I never remembered it either.",
                    "explanation": "'As well' is incorrect in this context; 'either' is the appropriate word to indicate agreement in a negative statement.",
                    "context": "I was trying to express that I also couldn't remember the names of the other Spider-Man actors. I never remembered it either. It's hard to keep track of them."
                },
                {
                    "original": "For me they are cool.",
                    "corrected": "To me, they are cool.",
                    "explanation": "'For me' is less idiomatic; 'to me' is a more natural way to express personal opinion.",
                    "context": "I was sharing my thoughts on the Spider-Man actors. To me, they are cool. I really enjoy their performances."
                },
                {
                    "original": "What this island must have?",
                    "corrected": "What must this island have?",
                    "explanation": "The word order is incorrect; the auxiliary verb 'must' should come before the subject 'this island.'",
                    "context": "We were discussing what features I would want on my personal island. What must this island have? I think it should have a big house and a beach."
                },
                {
                    "original": "Like what will you...",
                    "corrected": "Like what will you want...",
                    "explanation": "The sentence is incomplete; it needs to specify what the listener will want.",
                    "context": "I was asking about the features of the island. Like what will you want on this island? A big house and a pool, I imagine."
                },
                {
                    "original": "For example yards.",
                    "corrected": "For example, yards.",
                    "explanation": "A comma is needed after 'for example' to separate it from the rest of the sentence.",
                    "context": "I was listing the features I wanted on my island. For example, yards. I want a lot of space for gardens."
                },
                {
                    "original": "Tropical forest is the worst thing.",
                    "corrected": "A tropical forest is the worst thing.",
                    "explanation": "The article 'A' is needed to specify the type of forest being discussed.",
                    "context": "I was expressing my dislike for tropical forests. A tropical forest is the worst thing. They have too many insects."
                },
                {
                    "original": "You can do such forest as you want.",
                    "corrected": "You can create any kind of forest you want.",
                    "explanation": "The phrase 'do such forest' is incorrect; 'create' and 'any kind of' are more appropriate.",
                    "context": "We were discussing the possibilities for my island's forest. You can create any kind of forest you want. It could be beautiful and unique."
                },
                {
                    "original": "I guess if I'll see them I will immediately recognize.",
                    "corrected": "I guess if I see them, I will immediately recognize them.",
                    "explanation": "The use of 'I'll' is unnecessary; the simple present 'I see' is more appropriate in this conditional sentence.",
                    "context": "I was talking about recognizing luxury apartment videos. I guess if I see them, I will immediately recognize them. They look really impressive."
                },
                {
                    "original": "One and only apartment I don't want is in car.",
                    "corrected": "The one apartment I don't want is in a car.",
                    "explanation": "The phrase is awkward; it needs a definite article and 'in a car' for clarity.",
                    "context": "I was discussing my preferences for living spaces. The one apartment I don't want is in a car. That sounds uncomfortable."
                },
                {
                    "original": "Because these apartments by the way they are first of all they allow for some solitude.",
                    "corrected": "Because, by the way, these apartments first of all allow for some solitude.",
                    "explanation": "The sentence structure is awkward; commas are needed for clarity and flow.",
                    "context": "I was explaining the benefits of high-rise apartments. Because, by the way, these apartments first of all allow for some solitude. It's nice to escape the noise."
                },
                {
                    "original": "I always like to travel.",
                    "corrected": "I have always liked to travel.",
                    "explanation": "The present perfect tense is more appropriate here to indicate a continuous action from the past to the present.",
                    "context": "I was sharing my passion for travel. I have always liked to travel. It's one of my favorite activities."
                },
                {
                    "original": "I don't remember really months because I remember memories from our traveling but no time when.",
                    "corrected": "I don't really remember the months because I remember the memories from our travels, but not the exact times.",
                    "explanation": "The sentence structure is awkward; it needs clearer phrasing and article usage.",
                    "context": "I was reflecting on my travels in Italy. I don't really remember the months because I remember the memories from our travels, but not the exact times."
                },
                {
                    "original": "For there was a war in Russia.",
                    "corrected": "Because there was a war in Russia.",
                    "explanation": "'For' is incorrectly used; 'because' is the appropriate conjunction to explain reasoning.",
                    "context": "I was discussing my thoughts on Italy. Because there was a war in Russia, I have a different perspective on the country."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "But if you like go five meters away from this path from this tourist path or tourist street.",
                    "corrected": "But if you go like five meters away from this path, from this tourist path or tourist street.",
                    "explanation": "The placement of 'like' is incorrect; it should come after 'go' for clarity.",
                    "context": "In Venice, the atmosphere changes dramatically just a short distance from the tourist areas. If you go like five meters away from this path, from this tourist path or tourist street, you find complete silence."
                },
                {
                    "original": "There are boring films, there are boring series. But one are boring, one are interesting.",
                    "corrected": "There are boring films, there are boring series. But some are boring, some are interesting.",
                    "explanation": "'One' should be replaced with 'some' to refer to multiple items correctly.",
                    "context": "When discussing entertainment options, I mentioned that not everything is engaging. There are boring films, there are boring series. But some are boring, some are interesting."
                },
                {
                    "original": "It's a great book by the way.",
                    "corrected": "By the way, it's a great book.",
                    "explanation": "The phrase 'by the way' is better placed at the beginning for smoother flow.",
                    "context": "While recommending a book, I wanted to emphasize its quality. By the way, it's a great book, and I think you would love it."
                },
                {
                    "original": "I think you would love this book if you read it in English and Russian.",
                    "corrected": "I think you would love this book if you read it in both English and Russian.",
                    "explanation": "The phrase 'in both' clarifies that two languages are being referred to.",
                    "context": "I was encouraging the student to explore literature in different languages. I think you would love this book if you read it in both English and Russian."
                },
                {
                    "original": "And the story is great.",
                    "corrected": "The story is great.",
                    "explanation": "The conjunction 'and' is unnecessary at the beginning of the sentence.",
                    "context": "In discussing the appeal of the book, I wanted to highlight its narrative. The story is great, and it adds to the overall experience."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Holiday",
                    "definition": "A day of festivity or recreation when no work is done.",
                    "context": {
                        "Context 1": "I can't wait for my holiday to start next week.",
                        "Context 2": "During the holiday season, many people travel to visit family.",
                        "Context 3": "He decided to take a holiday from his usual routine and try something new."
                    }
                },
                {
                    "word": "Consult",
                    "definition": "To seek information or advice from someone.",
                    "context": {
                        "Context 1": "I will consult my teacher about the project requirements.",
                        "Context 2": "Before making a big decision, it's wise to consult with a financial advisor.",
                        "Context 3": "She decided to consult a travel guide to plan her vacation."
                    }
                },
                {
                    "word": "Erudite",
                    "definition": "Having or showing great knowledge or learning.",
                    "context": {
                        "Context 1": "He is an erudite scholar who has published many papers.",
                        "Context 2": "The erudite professor captivated the audience with his insights.",
                        "Context 3": "She was known for her erudite conversations about literature and history."
                    }
                },
                {
                    "word": "Marks",
                    "definition": "Scores or grades given for academic work.",
                    "context": {
                        "Context 1": "I need to improve my marks in math to pass the class.",
                        "Context 2": "The teacher announced the marks for the recent exam.",
                        "Context 3": "He received high marks for his creative project."
                    }
                },
                {
                    "word": "Well-rounded",
                    "definition": "Having a variety of interests and abilities.",
                    "context": {
                        "Context 1": "A well-rounded education includes both academics and extracurricular activities.",
                        "Context 2": "She is a well-rounded individual, excelling in sports, arts, and academics.",
                        "Context 3": "Employers often look for well-rounded candidates with diverse skills."
                    }
                },
                {
                    "word": "Focus",
                    "definition": "The center of interest or activity; to concentrate attention.",
                    "context": {
                        "Context 1": "I need to focus on my studies to prepare for the exam.",
                        "Context 2": "The artist lost focus while painting and ended up creating an abstract piece.",
                        "Context 3": "To improve your focus, try eliminating distractions in your study area."
                    }
                },
                {
                    "word": "Occupation",
                    "definition": "A job or profession.",
                    "context": {
                        "Context 1": "Her occupation as a nurse is both challenging and rewarding.",
                        "Context 2": "He is considering a career change to pursue a different occupation.",
                        "Context 3": "Many occupations require specific training or education."
                    }
                },
                {
                    "word": "Subjects",
                    "definition": "Areas of knowledge studied in school or college.",
                    "context": {
                        "Context 1": "Math and science are my favorite subjects in school.",
                        "Context 2": "She decided to take additional subjects to broaden her knowledge.",
                        "Context 3": "The subjects covered in the curriculum include history, geography, and literature."
                    }
                },
                {
                    "word": "Stimulus",
                    "definition": "Something that incites or rouses to action; an incentive.",
                    "context": {
                        "Context 1": "Visual stimulus can enhance learning in the classroom.",
                        "Context 2": "The government provided a financial stimulus to boost the economy.",
                        "Context 3": "Music can serve as a stimulus for creativity and inspiration."
                    }
                },
                {
                    "word": "Character",
                    "definition": "The mental and moral qualities distinctive to an individual.",
                    "context": {
                        "Context 1": "The main character in the book is very relatable.",
                        "Context 2": "She has a strong character and stands up for what she believes in.",
                        "Context 3": "In movies, character development is crucial for engaging storytelling."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Holiday",
                    "fact": "In some countries, it’s a holiday if you forget your spouse’s birthday!"
                },
                {
                    "word": "Erudite",
                    "fact": "The word 'erudite' comes from the Latin 'erudire,' which means to 'educate' or 'instruct,' but it sounds like a fancy way to say 'I read a lot!'"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Bias",
                    "definition": "A tendency to favor one person or group over another, often in a way considered to be unfair.",
                    "context": {
                        "Context 1": "In the lesson, the student mentioned a bias towards their favorite character in a book.",
                        "Context 2": "The journalist was accused of bias in her reporting on the political event.",
                        "Context 3": "His bias against dogs made it hard for him to appreciate the puppy's cuteness."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "The discussion about films and books highlighted different perspectives on storytelling.",
                        "Context 2": "From her perspective, the project was a success despite the challenges.",
                        "Context 3": "The artist's unique perspective on life is reflected in her paintings."
                    }
                },
                {
                    "word": "Regenerate",
                    "definition": "To regrow or restore something to a better condition.",
                    "context": {
                        "Context 1": "The student expressed a desire for characters that can regenerate and overcome challenges.",
                        "Context 2": "After a long day, I need to regenerate my energy with a good night's sleep.",
                        "Context 3": "Scientists are studying how certain animals can regenerate lost limbs."
                    }
                },
                {
                    "word": "Almighty",
                    "definition": "Having complete power; able to do anything.",
                    "context": {
                        "Context 1": "The student described powerful characters as almighty beings in their favorite stories.",
                        "Context 2": "In many religions, God is often referred to as the almighty creator.",
                        "Context 3": "The superhero was portrayed as an almighty figure who could save the world."
                    }
                },
                {
                    "word": "Expelliarmus",
                    "definition": "A spell used to disarm an opponent in the Harry Potter series.",
                    "context": {
                        "Context 1": "The lesson discussed how Harry Potter's use of expelliarmus was significant in his battles.",
                        "Context 2": "During the duel, the wizard shouted 'Expelliarmus!' to disarm his opponent.",
                        "Context 3": "In the game, players can use expelliarmus to gain an advantage over their rivals."
                    }
                },
                {
                    "word": "Vibe",
                    "definition": "A person's emotional state or the atmosphere of a place as communicated to and felt by others.",
                    "context": {
                        "Context 1": "The students compared the vibe of Marvel comics to that of anime stories.",
                        "Context 2": "The party had a relaxed vibe, making everyone feel comfortable.",
                        "Context 3": "She loved the vibe of the café, with its cozy decor and friendly staff."
                    }
                },
                {
                    "word": "Character",
                    "definition": "A person or figure in a story, play, or movie.",
                    "context": {
                        "Context 1": "The discussion revolved around powerful characters in stories and their abilities.",
                        "Context 2": "He dressed up as his favorite character from the movie for Halloween.",
                        "Context 3": "The character development in the novel was praised by critics."
                    }
                },
                {
                    "word": "Inconsistent",
                    "definition": "Not compatible or in keeping with; lacking in harmony or regularity.",
                    "context": {
                        "Context 1": "The students noted that the Harry Potter series was inconsistent in its portrayal of magic.",
                        "Context 2": "Her inconsistent attendance made it difficult for her to keep up with the class.",
                        "Context 3": "The weather has been inconsistent lately, with sunny days followed by sudden rain."
                    }
                },
                {
                    "word": "Epic",
                    "definition": "Extremely good or impressive; often used to describe grand stories or events.",
                    "context": {
                        "Context 1": "The students discussed how wizards using guns would create an epic scenario in their stories.",
                        "Context 2": "The movie was an epic tale of love and adventure across the ages.",
                        "Context 3": "His epic fail at the talent show became a running joke among his friends."
                    }
                },
                {
                    "word": "Secret",
                    "definition": "Something that is kept or meant to be kept unknown or unseen by others.",
                    "context": {
                        "Context 1": "The student described a character with a secret power that was unexpected and intriguing.",
                        "Context 2": "She shared a secret recipe for her famous chocolate cake with her friends.",
                        "Context 3": "The spy's mission was to uncover the enemy's secret plans."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Expelliarmus",
                    "fact": "In the Harry Potter universe, expelliarmus is so popular that some fans jokingly call it the 'disarming charm' for all situations!"
                },
                {
                    "word": "Almighty",
                    "fact": "The term 'almighty' is often used in superhero movies, but did you know that in ancient times, it was used to describe powerful gods?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did Harry Potter go to the beach?",
                    "answer": "Because he wanted to catch some rays with his wand!"
                },
                {
                    "question": "Why don’t wizards use cell phones?",
                    "answer": "Because they prefer to use their spell-check!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Enormous",
                    "definition": "Very large in size, quantity, or extent.",
                    "context": {
                        "Context 1": "My dream house is an enormous mansion with many rooms.",
                        "Context 2": "The enormous elephant walked gracefully through the savannah.",
                        "Context 3": "She had an enormous appetite and could eat three pizzas in one sitting."
                    }
                },
                {
                    "word": "Solitude",
                    "definition": "The state of being alone, often by choice.",
                    "context": {
                        "Context 1": "Living in a high-rise apartment allows for some solitude away from the busy city.",
                        "Context 2": "He enjoyed the solitude of the mountains, where he could think and reflect.",
                        "Context 3": "After a long week, she sought solitude in her favorite coffee shop."
                    }
                },
                {
                    "word": "Captivated",
                    "definition": "Attracted and held the attention of someone completely.",
                    "context": {
                        "Context 1": "She was captivated by the story and couldn't put the book down.",
                        "Context 2": "The audience was captivated by the magician's incredible tricks.",
                        "Context 3": "He was captivated by the beauty of the sunset over the ocean."
                    }
                },
                {
                    "word": "Tropical",
                    "definition": "Relating to or situated in the tropics, characterized by warm temperatures.",
                    "context": {
                        "Context 1": "A tropical forest is full of diverse wildlife and plants.",
                        "Context 2": "They planned a tropical vacation to escape the winter cold.",
                        "Context 3": "The tropical fruit market was filled with colorful and exotic fruits."
                    }
                },
                {
                    "word": "Luxury",
                    "definition": "A state of great comfort or elegance, often involving great expense.",
                    "context": {
                        "Context 1": "The luxury apartments in New York offer stunning views and high-end amenities.",
                        "Context 2": "She treated herself to a luxury spa day for her birthday.",
                        "Context 3": "The luxury car had all the latest technology and features."
                    }
                },
                {
                    "word": "Incredible",
                    "definition": "Difficult to believe; extraordinary.",
                    "context": {
                        "Context 1": "The view from the top of the skyscraper was incredible.",
                        "Context 2": "He told an incredible story about his adventures in the Amazon rainforest.",
                        "Context 3": "The incredible performance left the audience in awe."
                    }
                },
                {
                    "word": "Absorbed",
                    "definition": "Deeply engaged or involved in something.",
                    "context": {
                        "Context 1": "She was so absorbed in her book that she didn't hear her friend calling her.",
                        "Context 2": "He was absorbed in his work and lost track of time.",
                        "Context 3": "The children were absorbed in the game and didn't notice the rain outside."
                    }
                },
                {
                    "word": "Recognize",
                    "definition": "To identify someone or something from previous encounters or knowledge.",
                    "context": {
                        "Context 1": "If I see the video, I will immediately recognize the actors.",
                        "Context 2": "She couldn't recognize her old friend after so many years.",
                        "Context 3": "The dog seemed to recognize its owner after being away for a long time."
                    }
                },
                {
                    "word": "Travel",
                    "definition": "To make a journey, typically over a distance.",
                    "context": {
                        "Context 1": "I always like to travel to new places and experience different cultures.",
                        "Context 2": "They plan to travel around Europe next summer.",
                        "Context 3": "Traveling by train can be a scenic way to see the countryside."
                    }
                },
                {
                    "word": "Confused",
                    "definition": "Unable to think clearly; bewildered.",
                    "context": {
                        "Context 1": "I always get confused between Venice and Venezuela.",
                        "Context 2": "She was confused by the complicated instructions for the game.",
                        "Context 3": "He felt confused after hearing two different opinions on the matter."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Enormous",
                    "fact": "Did you know that the blue whale is the largest animal on Earth and can weigh as much as 33 elephants? That's enormous!"
                },
                {
                    "word": "Solitude",
                    "fact": "Some people believe that solitude can lead to creativity; even famous artists like Vincent van Gogh found inspiration in being alone!"
                },
                {
                    "word": "Tropical",
                    "fact": "The Amazon rainforest is so tropical that it produces 20% of the world's oxygen!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the tourist bring a ladder to Italy?",
                    "answer": "Because they heard the food was on another level!"
                },
                {
                    "question": "Why did the spider-man refuse to play hide and seek?",
                    "answer": "Because good luck hiding when you can stick to walls!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Stranded",
                    "definition": "Left in a difficult or helpless position.",
                    "context": {
                        "Context 1": "I felt stranded when I got lost in the middle of Venice.",
                        "Context 2": "After the storm, many travelers were stranded at the airport.",
                        "Context 3": "The hikers were stranded on the mountain due to heavy snowfall."
                    }
                },
                {
                    "word": "Bustling",
                    "definition": "Full of energetic and noisy activity.",
                    "context": {
                        "Context 1": "The bustling streets of Venice were filled with tourists.",
                        "Context 2": "The bustling market was a great place to find fresh produce.",
                        "Context 3": "On weekends, the bustling café is always packed with customers."
                    }
                },
                {
                    "word": "Remote",
                    "definition": "Far away from civilization; isolated.",
                    "context": {
                        "Context 1": "I found myself in a remote part of Venice where it was completely silent.",
                        "Context 2": "The remote village had no access to modern technology.",
                        "Context 3": "They decided to take a vacation in a remote cabin in the woods."
                    }
                },
                {
                    "word": "Abandoned",
                    "definition": "Left behind or deserted.",
                    "context": {
                        "Context 1": "It felt like I was walking in an abandoned city.",
                        "Context 2": "The abandoned house at the end of the street was rumored to be haunted.",
                        "Context 3": "They discovered an abandoned amusement park hidden in the forest."
                    }
                },
                {
                    "word": "Chill",
                    "definition": "To relax or spend time in a calm way.",
                    "context": {
                        "Context 1": "I plan to chill and sleep as long as I can during the holiday.",
                        "Context 2": "After a long week, I just want to chill at home with a movie.",
                        "Context 3": "They decided to chill at the beach and enjoy the sunset."
                    }
                },
                {
                    "word": "Listening practice",
                    "definition": "Exercises or activities aimed at improving listening skills.",
                    "context": {
                        "Context 1": "You should focus on your listening practice to improve your English.",
                        "Context 2": "Listening practice is essential for learning a new language.",
                        "Context 3": "She uses podcasts as a form of listening practice every day."
                    }
                },
                {
                    "word": "Boring",
                    "definition": "Not interesting; dull.",
                    "context": {
                        "Context 1": "There are boring films, but also interesting ones.",
                        "Context 2": "He finds math boring, but loves history.",
                        "Context 3": "The lecture was so boring that many students fell asleep."
                    }
                },
                {
                    "word": "Series",
                    "definition": "A set of related television programs or books.",
                    "context": {
                        "Context 1": "You might enjoy watching a series like Game of Thrones.",
                        "Context 2": "She binge-watched the entire series over the weekend.",
                        "Context 3": "The book series became a bestseller after the movie adaptation."
                    }
                },
                {
                    "word": "Great",
                    "definition": "Of an extent, amount, or intensity considerably above the normal or average.",
                    "context": {
                        "Context 1": "Game of Thrones is a great book series.",
                        "Context 2": "He had a great time at the concert last night.",
                        "Context 3": "The restaurant received great reviews for its delicious food."
                    }
                },
                {
                    "word": "Rest",
                    "definition": "To cease work or movement in order to relax or recover strength.",
                    "context": {
                        "Context 1": "Make sure to have some rest on your holiday.",
                        "Context 2": "After a long day, she needed to rest before the big meeting.",
                        "Context 3": "He took a short rest during his hike to regain energy."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Chill",
                    "fact": "The word 'chill' was originally used to describe cold weather, but now it’s all about relaxing!"
                },
                {
                    "word": "Abandoned",
                    "fact": "In some cities, there are more abandoned buildings than occupied ones, making them perfect for urban explorers!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the tourist bring a ladder to Venice?",
                    "answer": "Because they heard the city was on another level!"
                },
                {
                    "question": "Why don’t secrets last long in Venice?",
                    "answer": "Because they always float to the surface!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to wake up. I accidentally dropped my headphones in a glass of water this morning."
                },
                {
                    "Person 1": "Oh no! Are they still working?"
                },
                {
                    "Person 2": "Yeah, surprisingly they are! How was your week?"
                },
                {
                    "Person 1": "Pretty good! I finally got a couple of days off. Just relaxed and caught up on some sleep."
                },
                {
                    "Person 2": "Nice! I wish I had some time off. When do you get your next break?"
                },
                {
                    "Person 1": "I think my next holiday is in a few weeks. I can’t wait!"
                },
                {
                    "Person 2": "That sounds great! It’s hard to find time to relax when you’re working all the time."
                },
                {
                    "Person 1": "Absolutely! I feel like I need a vacation just to recharge."
                },
                {
                    "Person 2": "For sure! What do you usually do on your days off?"
                },
                {
                    "Person 1": "I like to hang out with friends, maybe go hiking or just binge-watch some shows."
                },
                {
                    "Person 2": "Sounds fun! I’ve been meaning to catch up on some series too. Any recommendations?"
                },
                {
                    "Person 1": "Definitely! I just finished watching a show about a doctor. It’s really good!"
                },
                {
                    "Person 2": "Oh, is it 'The Good Doctor'? I’ve heard a lot about that one!"
                },
                {
                    "Person 1": "Yeah, that’s the one! It’s really interesting and keeps you hooked."
                },
                {
                    "Person 2": "I’ll have to check it out. I usually prefer series over movies."
                },
                {
                    "Person 1": "Same here! Movies can be a bit long sometimes."
                },
                {
                    "Person 2": "Right? I can watch a few episodes of a series, but a two-hour movie feels like a marathon."
                },
                {
                    "Person 1": "Exactly! Plus, with series, you can take breaks in between."
                },
                {
                    "Person 2": "True! So, what’s on your agenda for today?"
                },
                {
                    "Person 1": "Just some chores and maybe a little studying. How about you?"
                },
                {
                    "Person 2": "I have some work to finish up, but I’m hoping to relax later with a good show."
                },
                {
                    "Person 1": "Sounds like a plan! Let’s catch up later and see what we both watched."
                },
                {
                    "Person 2": "Definitely! Talk to you later!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, have you seen any good movies lately?"
                },
                {
                    "Person 2": "Not really! I’ve been more into reading books these days. How about you?"
                },
                {
                    "Person 1": "Same here! I used to binge-watch movies, but now I find myself picking up a book instead."
                },
                {
                    "Person 2": "Yeah, I feel like books let you dive deeper into the story. You can really get to know the characters."
                },
                {
                    "Person 1": "Exactly! Plus, if a part gets boring, you can just skip ahead."
                },
                {
                    "Person 2": "Right? But with movies, you have to sit through everything. Sometimes it feels like a commitment."
                },
                {
                    "Person 1": "Totally! And have you tried listening to podcasts? They’re a nice mix of both."
                },
                {
                    "Person 2": "I love podcasts! They’re great for multitasking. I can listen while I’m cooking or working out."
                },
                {
                    "Person 1": "Same! I just started one about true crime, and it’s super interesting."
                },
                {
                    "Person 2": "Oh, I’ve heard about that one! I need to check it out. I’m more into comedy podcasts, though."
                },
                {
                    "Person 1": "Comedy is always a good choice! It’s nice to have a laugh while you’re doing chores."
                },
                {
                    "Person 2": "For sure! So, what book are you reading right now?"
                },
                {
                    "Person 1": "I’m reading a fantasy novel. It’s about a world where magic is forbidden. What about you?"
                },
                {
                    "Person 2": "I just finished a mystery novel. It kept me guessing until the last page!"
                },
                {
                    "Person 1": "Nice! I love when a book does that. Makes it hard to put down."
                },
                {
                    "Person 2": "Exactly! I stayed up way too late finishing it."
                },
                {
                    "Person 1": "Haha, I can relate! So, what’s next on your reading list?"
                },
                {
                    "Person 2": "I’m thinking of starting a classic. Maybe something by Jane Austen."
                },
                {
                    "Person 1": "Great choice! I’ve always wanted to read more classics."
                },
                {
                    "Person 2": "Let’s do a buddy read! We can discuss it after."
                },
                {
                    "Person 1": "That sounds fun! I’m in!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you see that video about Harry Potter with guns?"
                },
                {
                    "Person 2": "No, I missed that one! Sounds wild though."
                },
                {
                    "Person 1": "Right? I mean, can you imagine? Harry Potter just blasting spells with a gun!"
                },
                {
                    "Person 2": "That would definitely change the vibe! Speaking of movies, who’s your favorite Spider-Man?"
                },
                {
                    "Person 1": "Tobey Maguire, for sure! He was the first one I saw."
                },
                {
                    "Person 2": "Same! But I also like Tom Holland. He brings a different energy."
                },
                {
                    "Person 1": "Yeah, he’s really good. But I think Tobey will always be my favorite."
                },
                {
                    "Person 2": "Totally get that. So, if you could be any superhero, who would you choose?"
                },
                {
                    "Person 1": "Hmm, probably Iron Man. The tech and the money would be awesome!"
                },
                {
                    "Person 2": "For sure! Imagine having your own island like Tony Stark."
                },
                {
                    "Person 1": "Oh man, that would be the dream! A big house, a beach, and maybe a few sports cars."
                },
                {
                    "Person 2": "Definitely! But what would your island have? Like, what’s a must-have?"
                },
                {
                    "Person 1": "A huge swimming pool, a gym, and a nice garden. And of course, a beach!"
                },
                {
                    "Person 2": "Sounds perfect! But what about a tropical forest? You know, for some adventure?"
                },
                {
                    "Person 1": "Ugh, not sure about that. Too many bugs and humidity!"
                },
                {
                    "Person 2": "Fair point! But it could be cool if you could design it yourself."
                },
                {
                    "Person 1": "True! I’d just make sure there are no creepy crawlies."
                },
                {
                    "Person 2": "Haha! Speaking of cool places, have you seen those luxury apartments in New York?"
                },
                {
                    "Person 1": "No, but I’ve heard about them. They sound amazing!"
                },
                {
                    "Person 2": "They really are! Imagine living high above the city with a view."
                },
                {
                    "Person 1": "That would be incredible! But I still think I’d prefer my own island."
                },
                {
                    "Person 2": "Yeah, I get that. But what if you could have both?"
                },
                {
                    "Person 1": "Now that would be the ultimate lifestyle!"
                },
                {
                    "Person 2": "Exactly! You could travel anywhere and still have your paradise."
                },
                {
                    "Person 1": "That’s the dream! Now I just need to figure out how to make it happen."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Remember that time I got lost in Venice?"
                },
                {
                    "Person 2": "Oh man, yes! You were telling me about how it got dark and you were all alone."
                },
                {
                    "Person 1": "Exactly! I was wandering around, and it felt like I was in an abandoned city."
                },
                {
                    "Person 2": "That sounds so creepy! How did you find your way back?"
                },
                {
                    "Person 1": "I just kept walking until I stumbled back onto a busy street with tourists. Thank goodness!"
                },
                {
                    "Person 2": "Phew! That’s a relief. So, what’s on your agenda this week?"
                },
                {
                    "Person 1": "I’m planning to study hard, but I’ll definitely squeeze in some chill time."
                },
                {
                    "Person 2": "Good call! Are you thinking about reading anything in English?"
                },
                {
                    "Person 1": "Yeah, I might dive into some role plays or something."
                },
                {
                    "Person 2": "That sounds fun! You should also try watching something to improve your listening skills."
                },
                {
                    "Person 1": "True! I need to find a series that actually interests me."
                },
                {
                    "Person 2": "Have you thought about starting 'Game of Thrones'? It’s super popular!"
                },
                {
                    "Person 1": "I’ve heard about it! I might give it a shot. The books are supposed to be great too."
                },
                {
                    "Person 2": "Definitely! George R.R. Martin really knows how to tell a story."
                },
                {
                    "Person 1": "Alright, I’ll check it out. Thanks for the suggestion!"
                },
                {
                    "Person 2": "No problem! Have a great day and enjoy your week!"
                },
                {
                    "Person 1": "You too! Let’s catch up later."
                },
                {
                    "Person 2": "For sure! Bye!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I grew in Astrakhan.",
                    "corrected": "I grew up in Astrakhan.",
                    "explanation": "The phrase 'grew in' is incorrect; the correct phrase is 'grew up' to indicate childhood development.",
                    "context": "I grew up in Astrakhan. It's not a small place, but it has about 500,000 citizens. I always felt like I wanted to move to a bigger city."
                },
                {
                    "original": "for example, because he just grew up in places like that.",
                    "corrected": "for example, because he grew up in places like that.",
                    "explanation": "The word 'just' is unnecessary and makes the sentence awkward.",
                    "context": "He loves crowded places, for example, because he grew up in places like that. My mom and I share similar feelings about it."
                },
                {
                    "original": "I don't know, maybe my feelings are a little less, weaker, sicker.",
                    "corrected": "I don't know, maybe my feelings are a little weaker.",
                    "explanation": "The phrase 'less, weaker, sicker' is awkward; 'weaker' is sufficient and more idiomatic.",
                    "context": "But my friends were born here. I don't know, maybe my feelings are a little weaker. I just love Rostov-on-Don and traveling."
                },
                {
                    "original": "it just feels, I don't know, there's a life.",
                    "corrected": "it just feels lively.",
                    "explanation": "The phrase 'there's a life' is awkward; 'lively' is a more appropriate descriptor.",
                    "context": "I really like this place because it just feels lively. Here, I don't see people, and it's boring."
                },
                {
                    "original": "when I walk here, I feel a strange.",
                    "corrected": "when I walk here, I feel strange.",
                    "explanation": "'A strange' is incorrect; 'strange' should be used as an adjective without 'a.'",
                    "context": "When I walk here, I feel strange. In Moscow, however, I feel like this is my place."
                },
                {
                    "original": "there's no opportunities for my future life,",
                    "corrected": "there are no opportunities for my future life,",
                    "explanation": "The subject 'there's' should be 'there are' to agree with the plural noun 'opportunities.'",
                    "context": "They totally agree with me. I should not live here because there are no opportunities for my future life."
                },
                {
                    "original": "maybe my parents, when me and my sister moved, we will move in Novorossiysk,",
                    "corrected": "maybe my parents, when my sister and I move, we will move to Novorossiysk,",
                    "explanation": "'Me and my sister' should be 'my sister and I,' and 'move in' should be 'move to.'",
                    "context": "Maybe my parents, when my sister and I move, we will move to Novorossiysk. It's a city by the sea, and we love the Black Sea."
                },
                {
                    "original": "I don't want to move in Novorossiysk.",
                    "corrected": "I don't want to move to Novorossiysk.",
                    "explanation": "'Move in' is incorrect; it should be 'move to' which indicates destination.",
                    "context": "I don't want to move to Novorossiysk. It's a cool city, but for my future life, it's too small."
                },
                {
                    "original": "this is how it should be, right?",
                    "corrected": "that's how it should be, right?",
                    "explanation": "The phrase 'this is how' is less idiomatic; 'that's how' is more natural in this context.",
                    "context": "Because otherwise, what's their incentive to work? That's how it should be, right? People should be rewarded for their work."
                },
                {
                    "original": "But just sometimes it's hard, you know?",
                    "corrected": "But sometimes it's just hard, you know?",
                    "explanation": "The adverb 'just' should follow the verb 'is' for better clarity.",
                    "context": "Sometimes it's just hard, you know? I feel overwhelmed with making decisions."
                },
                {
                    "original": "Zeus and very cruel to animals?",
                    "corrected": "Zoos are very cruel to animals?",
                    "explanation": "'Zeus' is a misspelling; the correct word is 'zoos' to refer to animal enclosures.",
                    "context": "What is the problem with the title? Zoos are very cruel to animals? Yes, we need to decide on an opinion to discuss."
                },
                {
                    "original": "this were useful for education.",
                    "corrected": "this is useful for education.",
                    "explanation": "'This were' is incorrect; 'this is' must be used for present tense.",
                    "context": "I didn’t write about that. This is useful for education. You don't have to write about them."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "Because some animals can live in the natural environment and some animals can't do it because we just live in Zeus and we don't have choice to where future living, I think.",
                    "corrected": "Because some animals can live in their natural environment and some animals can't do that because they just live in zoos and don't have a choice about their future living situations, I think.",
                    "explanation": "Incorrect phrasing and grammar; 'Zeus' should be 'zoos', 'do it' should be 'do that', and 'we don't have choice' should be 'don't have a choice about'.",
                    "context": "My argument is that some animals can thrive in their natural habitat, while others cannot survive in captivity. They just live in zoos and don't have a choice about their future living situations, I think. This is key for discussing the ethics of zoos."
                },
                {
                    "original": "I see here two, I have three reasons.",
                    "corrected": "I see here two, but I have three reasons.",
                    "explanation": "Lack of clarity; 'I see here two' needs a conjunction for coherence.",
                    "context": "While explaining my points, I'm trying to clarify my reasoning. I see here two reasons, but I have three reasons. So I need to find a way to organize them clearly."
                },
                {
                    "original": "Because Panda lived and he has a scary appearance.",
                    "corrected": "Because the panda lived there and had a scary appearance.",
                    "explanation": "Poor subject pronoun use; 'Panda' should be 'the panda', and 'he has' should be 'had'.",
                    "context": "When discussing the specific case of a panda, I want to illustrate my point. The panda lived there and had a scary appearance, which indicates the poor conditions it endured."
                },
                {
                    "original": "Here, how many reasons did you give that Zeus are dangerous?",
                    "corrected": "Here, how many reasons did you give that zoos are dangerous?",
                    "explanation": "'Zeus' is a mispronunciation; it should be 'zoos' which is the correct noun.",
                    "context": "I am trying to assess the points made about the dangers of zoos. Here, how many reasons did you give that zoos are dangerous? This clarification is crucial for discussing the negative impact they have."
                },
                {
                    "original": "I think what is the right and what was wrong there?",
                    "corrected": "I think about what is right and what was wrong there.",
                    "explanation": "Misapplication of the phrase; 'what is the right and what was wrong' should be 'what is right and what was wrong'.",
                    "context": "In my analysis, I'm trying to discern the aspects of the situation. I think about what is right and what was wrong there, especially regarding animal welfare."
                },
                {
                    "original": "So, this is the reason why she looked so terrible and her health was why her health had big problems.",
                    "corrected": "So, this is the reason why she looked so terrible and why her health had big problems.",
                    "explanation": "Redundant expression and incorrect wording; eliminate 'was' for clarity.",
                    "context": "In evaluating the panda's situation, I reflect on her condition. So, this is the reason why she looked so terrible and why her health had big problems."
                },
                {
                    "original": "So I need to write about this living condition.",
                    "corrected": "So I need to write about these living conditions.",
                    "explanation": "Singular/plural error; 'this' should be 'these' to match 'living conditions' which is plural.",
                    "context": "As I formulate my thoughts, I'm focusing on specific aspects. So I need to write about these living conditions, as they are critical to my argument."
                },
                {
                    "original": "When you say scary appearance, that is a little bit different.",
                    "corrected": "When you say 'scary appearance,' that is a little bit different.",
                    "explanation": "Missing quotation marks; they are needed to indicate direct speech.",
                    "context": "In discussing the panda, I want to highlight nuances in language. When you say 'scary appearance,' that is a little bit different, and we need to clarify what we mean."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "this is a country where this panda was originally born.",
                    "corrected": "this is the country where this panda was originally born.",
                    "explanation": "Use 'the' to specify a particular country.",
                    "context": "In discussing the conditions for pandas, I noted that this is the country where this panda was originally born. It’s crucial to understand how an animal's origin affects its well-being."
                },
                {
                    "original": "Because they're because of what?",
                    "corrected": "Because of what?",
                    "explanation": "The phrase is redundant; 'they're' should be removed for clarity.",
                    "context": "I was trying to identify the reasons why pandas are happy in China. I asked, 'Because of what?' to encourage further discussion on their happiness."
                },
                {
                    "original": "she thinks she lives in her natural environment and she she has a natural environment, environment, environment.",
                    "corrected": "she thinks she lives in her natural environment, and she has a natural environment.",
                    "explanation": "The repetition of 'environment' is unnecessary and creates confusion.",
                    "context": "While emphasizing the panda's perception of its surroundings, I mentioned that she thinks she lives in her natural environment, and she has a natural environment. This is important for understanding the animal's mental state."
                },
                {
                    "original": "Because she limited she does not have enough space.",
                    "corrected": "Because she is limited, she does not have enough space.",
                    "explanation": "The verb 'is' is missing before 'limited', which is necessary for grammatical correctness.",
                    "context": "In discussing the panda's experience in captivity, I noted that because she is limited, she does not have enough space. This limitation affects her health and happiness."
                },
                {
                    "original": "A lot of. People. That's a huge stress for an animal.",
                    "corrected": "A lot of people. That's a huge stress for an animal.",
                    "explanation": "The period after 'of' is misplaced; it creates an incomplete thought.",
                    "context": "When talking about the stressors for a panda in a zoo, I pointed out that a lot of people cause significant stress for an animal. This is an important factor in zoos."
                },
                {
                    "original": "the nature there are.",
                    "corrected": "the nature there is.",
                    "explanation": "The verb 'is' should be used instead of 'are' to agree with the singular noun 'nature'.",
                    "context": "While contrasting zoos and national parks, I noted that the nature there is vastly different. This plays a significant role in the well-being of pandas."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "Your goal is a writer to pinpoint only those things that you are worried about.",
                    "corrected": "Your goal as a writer is to pinpoint only those things that you are worried about.",
                    "explanation": "The phrase 'is a writer' is incorrect; it should be 'as a writer' to clarify the role being referred to.",
                    "context": "When writing, one must remain focused. Your goal as a writer is to pinpoint only those things that you are worried about. This approach helps in addressing key concerns effectively."
                },
                {
                    "original": "But we're supposed to talk about animals here.",
                    "corrected": "But we're supposed to be talking about animals here.",
                    "explanation": "The use of 'talk' should be in the continuous form 'talking' for ongoing discussion.",
                    "context": "In our discussion, we must keep the focus clear. But we're supposed to be talking about animals here. Let's ensure we don't stray into other topics."
                },
                {
                    "original": "In reality, this is just a form of entertainment for them.",
                    "corrected": "In reality, it is just a form of entertainment for them.",
                    "explanation": "'This' should be replaced with 'it' for better flow and clarity of the subject being discussed.",
                    "context": "We need to acknowledge the real motivations behind people's actions. In reality, it is just a form of entertainment for them. This reality raises concerns about how it affects animals."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "opportunity",
                    "definition": "A set of circumstances that makes it possible to do something.",
                    "context": {
                        "Context 1": "I think what I want, I should not live here because there's no opportunities for my future life.",
                        "Context 2": "Winning the lottery gave him the opportunity to travel the world.",
                        "Context 3": "She seized the opportunity to showcase her artwork at the local gallery."
                    }
                },
                {
                    "word": "crowded",
                    "definition": "Filled with too many people or things; packed.",
                    "context": {
                        "Context 1": "I like crowded places, but sometimes it's overwhelming.",
                        "Context 2": "The subway was so crowded that I could barely breathe.",
                        "Context 3": "During the festival, the streets became crowded with people celebrating."
                    }
                },
                {
                    "word": "freedom",
                    "definition": "The power or right to act, speak, or think as one wants without hindrance or restraint.",
                    "context": {
                        "Context 1": "Do you feel more freedom in Moscow?",
                        "Context 2": "The activist fought for freedom of speech in her country.",
                        "Context 3": "Children should be given the freedom to express themselves through art."
                    }
                },
                {
                    "word": "boring",
                    "definition": "Not interesting or exciting; dull.",
                    "context": {
                        "Context 1": "I find this place boring compared to Moscow.",
                        "Context 2": "The lecture was so boring that several students fell asleep.",
                        "Context 3": "He thinks that gardening is a boring hobby, but many find it relaxing."
                    }
                },
                {
                    "word": "conscientious",
                    "definition": "Wishing to do what is right, especially to do one's work or duty well and thoroughly.",
                    "context": {
                        "Context 1": "You're very conscientious about supporting the developers.",
                        "Context 2": "The conscientious student always submitted her assignments on time.",
                        "Context 3": "As a conscientious parent, he monitored his child's screen time closely."
                    }
                },
                {
                    "word": "medium",
                    "definition": "A way of doing something or a channel through which something is communicated.",
                    "context": {
                        "Context 1": "Novorossiysk is a medium city, not very big, not very small.",
                        "Context 2": "The artist chose painting as her medium to express her emotions.",
                        "Context 3": "Radio is an effective medium for reaching a wide audience."
                    }
                },
                {
                    "word": "excited",
                    "definition": "Very enthusiastic and eager.",
                    "context": {
                        "Context 1": "I think it's great, because I don’t love to celebrate my birthday, but I’m excited about the concert.",
                        "Context 2": "The children were excited to see the circus performers.",
                        "Context 3": "She felt excited about starting her new job in a different city."
                    }
                },
                {
                    "word": "plan",
                    "definition": "A detailed proposal for doing or achieving something.",
                    "context": {
                        "Context 1": "I only wrote the plan for the essay.",
                        "Context 2": "They made a plan to hike the mountain next weekend.",
                        "Context 3": "The committee is working on a plan to improve school safety."
                    }
                },
                {
                    "word": "artist",
                    "definition": "A person who creates art, especially visual art, but could also include musicians and writers.",
                    "context": {
                        "Context 1": "His favorite artist is performing in Rostov-on-Don.",
                        "Context 2": "The artist spent months preparing for her solo exhibition.",
                        "Context 3": "He always wanted to be an artist, but became a lawyer instead."
                    }
                },
                {
                    "word": "life",
                    "definition": "The condition that distinguishes animals and plants from inorganic matter, including the capacity for growth, reproduction, functional activity, and continual change.",
                    "context": {
                        "Context 1": "In Moscow, it just feels like there’s life all around.",
                        "Context 2": "His life changed dramatically after he moved to the city.",
                        "Context 3": "The novel explores the life of a young woman in the 19th century."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "crowded",
                    "fact": "Did you know that Tokyo's subway can get so crowded that there's a 'push man' just to help cram everyone in?"
                },
                {
                    "word": "freedom",
                    "fact": "In the United States, people celebrate Independence Day to commemorate their freedom from British rule, while also lighting up the sky... and often setting their grills ablaze accidentally!"
                },
                {
                    "word": "boring",
                    "fact": "Some people find watching paint dry to be boring, but in reality, that paint is going through dramatic changes!"
                }
            ],
            "jokes": [
                {
                    "question": "Why don’t scientists trust atoms?",
                    "answer": "Because they make up everything!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes and couldn’t process its feelings!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Ban",
                    "definition": "To officially or legally prohibit something.",
                    "context": {
                        "Context 1": "We should ban zoos because they can be cruel to animals.",
                        "Context 2": "The city decided to ban plastic bags to reduce pollution.",
                        "Context 3": "Some schools impose a ban on using cell phones during classes."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something.",
                    "context": {
                        "Context 1": "From an animal's perspective, living in a zoo is very stressful.",
                        "Context 2": "Her perspective on the issue changed after she did more research.",
                        "Context 3": "Looking at life from a child's perspective can help adults understand their problems better."
                    }
                },
                {
                    "word": "Cruel",
                    "definition": "Willfully causing pain or suffering to others.",
                    "context": {
                        "Context 1": "Many consider it cruel to keep animals in small cages in zoos.",
                        "Context 2": "The act of bullying is considered cruel and unacceptable in schools.",
                        "Context 3": "Watching the documentary about animal cruelty was heart-wrenching for everyone."
                    }
                },
                {
                    "word": "Injustice",
                    "definition": "Lack of fairness or justice; a violation of the rights of another.",
                    "context": {
                        "Context 1": "The injustice faced by these animals in zoos must be addressed.",
                        "Context 2": "Many activists fight against social injustices in their communities.",
                        "Context 3": "Participating in movements against injustice can bring about social change."
                    }
                },
                {
                    "word": "Living conditions",
                    "definition": "The circumstances affecting the way in which people or animals live.",
                    "context": {
                        "Context 1": "The bad living conditions in the zoo led to health problems for the panda.",
                        "Context 2": "After the storm, many families were left with poor living conditions.",
                        "Context 3": "Living conditions in large cities can be very different from those in rural areas."
                    }
                },
                {
                    "word": "Activist",
                    "definition": "A person who campaigns for some kind of social change.",
                    "context": {
                        "Context 1": "Activists are often at the forefront of the movement to protect animal rights.",
                        "Context 2": "The activist organized a rally to raise awareness about climate change.",
                        "Context 3": "Many activists use social media to spread their message around the world."
                    }
                },
                {
                    "word": "Health",
                    "definition": "The state of being free from illness or injury; overall well-being.",
                    "context": {
                        "Context 1": "The panda's health deteriorated due to poor living conditions.",
                        "Context 2": "Eating a balanced diet is essential for maintaining good health.",
                        "Context 3": "The doctor emphasized the importance of regular check-ups for health."
                    }
                },
                {
                    "word": "Suffer",
                    "definition": "To experience pain or distress.",
                    "context": {
                        "Context 1": "Animals in zoos often suffer from inadequate care and living conditions.",
                        "Context 2": "He had to suffer through a long and boring lecture.",
                        "Context 3": "Many people suffer from anxiety in stressful environments."
                    }
                },
                {
                    "word": "Condition",
                    "definition": "The state or quality of something, especially in terms of its adequacy or health.",
                    "context": {
                        "Context 1": "The living conditions of the panda were reported to be terrible.",
                        "Context 2": "The car is in good condition after being serviced.",
                        "Context 3": "Working conditions in some factories can be unsafe."
                    }
                },
                {
                    "word": "Convince",
                    "definition": "To persuade someone to do something or to believe that something is true.",
                    "context": {
                        "Context 1": "The documentary aims to convince viewers of the need to ban zoos.",
                        "Context 2": "It took several hours to convince him to join the hiking trip.",
                        "Context 3": "Her argument was strong enough to convince the committee to approve the project."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Cruel",
                    "fact": "Did you know that the term 'cruel' comes from the Latin word 'crudelis,' which means 'of flesh' or 'savage'?"
                },
                {
                    "word": "Activist",
                    "fact": "Some animal rights activists have spent months living in trees to protect them from being cut down!"
                },
                {
                    "word": "Ban",
                    "fact": "In the 1920s, it was illegal to sell alcohol in the USA due to a ban known as Prohibition. Cheers to that, right?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the panda break up with their zoo partner?",
                    "answer": "Because they were tired of living in a cagey relationship!"
                },
                {
                    "question": "Why don't animals in the zoo use social media?",
                    "answer": "Because they are tired of being followed!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Conditions",
                    "definition": "The state or circumstances in which something exists.",
                    "context": {
                        "Context 1": "The living conditions for the panda in the American zoo were poor compared to its natural habitat.",
                        "Context 2": "The weather conditions were ideal for a picnic yesterday.",
                        "Context 3": "There are strict conditions for entering the concert, including age restrictions."
                    }
                },
                {
                    "word": "Environment",
                    "definition": "The surroundings or conditions in which a person, animal, or plant lives or operates.",
                    "context": {
                        "Context 1": "The zoo could not replicate the natural environment that pandas thrive in.",
                        "Context 2": "The school environment needs to be more supportive for all students.",
                        "Context 3": "He felt more relaxed after immersing himself in nature's environment during his hike."
                    }
                },
                {
                    "word": "Symbol",
                    "definition": "Something that stands for or represents something else.",
                    "context": {
                        "Context 1": "Pandas are a symbol of conservation efforts in China.",
                        "Context 2": "The heart is often seen as a symbol of love.",
                        "Context 3": "His award was a symbol of all the hard work he had done throughout the years."
                    }
                },
                {
                    "word": "Happiness",
                    "definition": "The state of being happy; a feeling of joy and contentment.",
                    "context": {
                        "Context 1": "The panda seemed to find happiness in its new environment in China.",
                        "Context 2": "The key to happiness is often found within oneself.",
                        "Context 3": "They celebrated the happiness of their graduation with a big party."
                    }
                },
                {
                    "word": "Transfer",
                    "definition": "To move from one place to another.",
                    "context": {
                        "Context 1": "The panda was transferred from the American zoo to a sanctuary in China.",
                        "Context 2": "She had to transfer her files from her old computer to the new one.",
                        "Context 3": "In soccer, players can transfer to different clubs during the off-season."
                    }
                },
                {
                    "word": "Brethren",
                    "definition": "Brothers; used to refer to members of a group sharing a common interest.",
                    "context": {
                        "Context 1": "The panda felt happier when reunited with her brethren at the reserve.",
                        "Context 2": "The soldiers considered each other brethren after fighting together.",
                        "Context 3": "The fraternity hosted a charity event to support their fellow brethren in need."
                    }
                },
                {
                    "word": "Safari",
                    "definition": "An expedition to observe or hunt animals in their natural habitat.",
                    "context": {
                        "Context 1": "Zoos could evolve into more safari-like environments for animals to roam freely.",
                        "Context 2": "They went on a safari in Africa to see the wildlife up close.",
                        "Context 3": "During the summer, her family prefers beach trips over safari adventures."
                    }
                },
                {
                    "word": "Natural",
                    "definition": "Existing in or caused by nature; not made or caused by humankind.",
                    "context": {
                        "Context 1": "Pandas are happier in a natural environment where they can roam freely.",
                        "Context 2": "She prefers natural remedies over pharmaceutical alternatives.",
                        "Context 3": "The artist showcased her talent through a series of natural landscape paintings."
                    }
                },
                {
                    "word": "Wildlife",
                    "definition": "Animals that live and thrive in their natural environment.",
                    "context": {
                        "Context 1": "National parks are crucial for protecting wildlife like pandas.",
                        "Context 2": "The documentary focused on the diverse wildlife in the Amazon rainforest.",
                        "Context 3": "He enjoys watching wildlife documentaries during the weekends."
                    }
                },
                {
                    "word": "Activists",
                    "definition": "People who campaign for some kind of social change.",
                    "context": {
                        "Context 1": "Eco activists worked hard to transfer the sick panda back to China.",
                        "Context 2": "Political activists rallied for human rights across the country.",
                        "Context 3": "Animal activists often organize events to raise awareness about pet adoption."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Pandas",
                    "fact": "Did you know that pandas can eat up to 28 pounds of bamboo a day? That’s like eating the equivalent of 40 pizzas!"
                },
                {
                    "word": "Symbol",
                    "fact": "The word 'symbol' comes from the Greek word 'symbolon,' which referred to a token that was used to signify something distinct, like a secret club handshake!"
                }
            ],
            "jokes": [
                {
                    "question": "Why don't pandas use computers?",
                    "answer": "Because they’re afraid of the ‘byte’!"
                },
                {
                    "question": "Why did the panda like the zoo?",
                    "answer": "Because it was a-peeling!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Conditions",
                    "definition": "The circumstances under which something exists or occurs.",
                    "context": {
                        "Context 1": "The living conditions for the animals in the zoo were inadequate and needed improvement.",
                        "Context 2": "He realized the conditions of the contest were unfair and spoke out against them.",
                        "Context 3": "She enjoyed the sunny weather conditions during her vacation at the beach."
                    }
                },
                {
                    "word": "Plan",
                    "definition": "A detailed proposal for achieving something.",
                    "context": {
                        "Context 1": "Before starting the project, we need to write a clear plan outlining our goals.",
                        "Context 2": "Her plan to bake a cake included buying all the necessary ingredients.",
                        "Context 3": "He thought it was a good plan to take a break before starting his homework."
                    }
                },
                {
                    "word": "Pinpoint",
                    "definition": "To identify or locate something precisely.",
                    "context": {
                        "Context 1": "It is important to pinpoint the main problems affecting the animals' well-being.",
                        "Context 2": "The detective was able to pinpoint the location of the missing item after investigating.",
                        "Context 3": "She managed to pinpoint the exact moment when the audience began to lose interest in the movie."
                    }
                },
                {
                    "word": "Cruel",
                    "definition": "Willfully causing pain or suffering to others.",
                    "context": {
                        "Context 1": "It is considered cruel to keep animals in small cages without proper care.",
                        "Context 2": "The upbringing of the child was marked by a cruel environment that affected their personality.",
                        "Context 3": "He thought it was cruel to tease someone for their mistakes."
                    }
                },
                {
                    "word": "Draft",
                    "definition": "A preliminary version of a piece of writing.",
                    "context": {
                        "Context 1": "We need to complete the first draft of the essay before the deadline.",
                        "Context 2": "Her draft of the novel had many interesting concepts that needed editing.",
                        "Context 3": "He submitted a rough draft of his project to get feedback from his teacher."
                    }
                },
                {
                    "word": "Reference",
                    "definition": "The act of mentioning or alluding to something.",
                    "context": {
                        "Context 1": "You should reference the original article when writing your paper.",
                        "Context 2": "The film made a great reference to classic movies from the 80s.",
                        "Context 3": "She didn't quite understand the reference to pop culture in the conversation."
                    }
                },
                {
                    "word": "Entertainment",
                    "definition": "Activities or performances intended to amuse people.",
                    "context": {
                        "Context 1": "Many people view zoos as a form of entertainment rather than a conservation effort.",
                        "Context 2": "His favorite form of entertainment is playing video games with friends.",
                        "Context 3": "The circus provided entertainment for the whole family on a Saturday night."
                    }
                },
                {
                    "word": "Evidence",
                    "definition": "Fact or information indicating whether a belief or proposition is true or valid.",
                    "context": {
                        "Context 1": "We need solid evidence to support our claims about the animals' treatment in the zoo.",
                        "Context 2": "The lawyer presented evidence that proved his client was innocent.",
                        "Context 3": "Scientists gathered evidence to back their theory about climate change."
                    }
                },
                {
                    "word": "Concerns",
                    "definition": "Worries or issues that are important or matter to someone.",
                    "context": {
                        "Context 1": "The concerns about animal welfare in zoos are becoming a larger topic of discussion.",
                        "Context 2": "She voiced her concerns about the environmental impact of the new construction project.",
                        "Context 3": "His concerns about the exam made him study harder than ever."
                    }
                },
                {
                    "word": "Inadequate",
                    "definition": "Not sufficient or not enough; lacking.",
                    "context": {
                        "Context 1": "The inadequate living conditions in the zoo raised ethical questions.",
                        "Context 2": "His inadequate preparation for the test resulted in a poor grade.",
                        "Context 3": "She determined that the room had inadequate lighting for reading at night."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Cruel",
                    "fact": "The term 'cruel' is said to have originated from an old Latin word meaning 'to torture.' However, being cruel can sometimes lead to funny misunderstandings!"
                },
                {
                    "word": "Evidence",
                    "fact": "In the law, the 'hearsay' rule states that statements made outside of court can’t be used as evidence. It’s a bit like asking your neighbor to confirm your alibi—you might want someone more reliable!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer keep freezing during the exam?",
                    "answer": "Because it didn’t have enough cache!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, have you ever thought about moving to a bigger city?"
                },
                {
                    "Person 2": "Yeah, I definitely have. I grew up near a small town, and sometimes it feels a bit too quiet."
                },
                {
                    "Person 1": "Exactly! My dad grew up in a big city and always talks about how much he loves it. For him, the hustle and bustle are exciting."
                },
                {
                    "Person 2": "Same here! My friends love it when we visit the city. They were born and raised here, but they still want to explore bigger places."
                },
                {
                    "Person 1": "That's interesting. I wonder what it's like for them. I just feel like I want to see more life around me."
                },
                {
                    "Person 2": "Totally! You know what? I was thinking of visiting New York soon, just to feel that energy!"
                },
                {
                    "Person 1": "Nice! I've heard the vibe there is amazing. It's so full of life."
                },
                {
                    "Person 2": "For sure! And speaking of big cities, did you hear about that concert coming up? It's going to be in my area."
                },
                {
                    "Person 1": "No way! Who’s performing?"
                },
                {
                    "Person 2": "Oh, it's one of my favorite artists! They're doing a world tour, and they’ll be here on my birthday!"
                },
                {
                    "Person 1": "That's awesome! Sounds like the perfect way to celebrate."
                },
                {
                    "Person 2": "Right? I usually don’t do much for my birthday, but this makes it special."
                },
                {
                    "Person 1": "Have you ever been to a concert in a big city? I bet it’s an electric experience."
                },
                {
                    "Person 2": "Yeah, I went to one in Chicago last year. The crowd was just wild!"
                },
                {
                    "Person 1": "I can only imagine! It's such a different vibe from smaller places."
                },
                {
                    "Person 2": "Exactly! I think I’ll always enjoy the excitement of cities. It feels like home."
                },
                {
                    "Person 1": "Same here! Well, if you do end up visiting New York, let me know—I want to hear all about it!"
                },
                {
                    "Person 2": "Definitely! I’ll share all the stories and pictures!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, did you hear about that panda that got returned to China from the American zoo?"
                },
                {
                    "Person 2": "Yeah, I did! The photos of her looked so sad. What was up with that?"
                },
                {
                    "Person 1": "Apparently, she was living in some pretty rough conditions over here. Activists were really pushing for her return."
                },
                {
                    "Person 2": "That’s awful! I can’t believe they let her live in such bad conditions. What kind of care were they giving her?"
                },
                {
                    "Person 1": "From what I read, they weren’t feeding her right and the space wasn't suitable for her at all."
                },
                {
                    "Person 2": "That’s terrible! It’s no wonder she looked so unhealthy. Do you think she’s doing better now that she’s back in China?"
                },
                {
                    "Person 1": "I hope so! They said she’s under better care now. It just makes you wonder how many other animals go through that."
                },
                {
                    "Person 2": "Exactly! Zoos can be educational, but they also can be so harmful if the conditions aren't right."
                },
                {
                    "Person 1": "Right? I mean, it’s all about balancing conservation with how we treat the animals."
                },
                {
                    "Person 2": "Yeah, maybe we should start thinking about alternatives, like sanctuaries, that focus more on the animals' well-being."
                },
                {
                    "Person 1": "That sounds like a good idea! It's just sad to think about what they go through."
                },
                {
                    "Person 2": "Totally! Hopefully, people become more aware and push for better treatment."
                },
                {
                    "Person 1": "Fingers crossed! We need to do our part to advocate for these animals."
                },
                {
                    "Person 2": "For sure! Let’s keep an eye on the news and stay informed."
                },
                {
                    "Person 1": "Absolutely! I’ll send you any updates I find."
                },
                {
                    "Person 2": "Thanks! I appreciate it. Let’s keep the conversation going."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you see that video of the panda getting moved to a new zoo?"
                },
                {
                    "Person 2": "Yeah, I did! It was kind of sad to see her looking so sick in that old place."
                },
                {
                    "Person 1": "For sure. It made me wonder how different it is for her now in China."
                },
                {
                    "Person 2": "Right? I mean, especially since pandas are such a big deal over there."
                },
                {
                    "Person 1": "Exactly! I heard the environment is just way better for them in their home country."
                },
                {
                    "Person 2": "Yeah, like they have more space and it feels more like their natural habitat."
                },
                {
                    "Person 1": "Totally. And I think they get more attention from people who really care about them."
                },
                {
                    "Person 2": "Definitely! It’s like they’re treated like national treasures."
                },
                {
                    "Person 1": "Imagine being a panda and getting all those hugs and bamboo treats every day!"
                },
                {
                    "Person 2": "Sounds like a dream! Way better than being stuck in a small enclosure."
                },
                {
                    "Person 1": "Yeah, and that’s what's so important! Keeping them in a place where they can actually thrive."
                },
                {
                    "Person 2": "Exactly! It’s not just about keeping them safe; it’s about making them happy too."
                },
                {
                    "Person 1": "You know, it really makes you think about how zoos should be run."
                },
                {
                    "Person 2": "For sure. Maybe we need more wildlife parks that focus on their natural behaviors."
                },
                {
                    "Person 1": "That would make a big difference! Let's hope more places follow that model."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Pretty good! Just trying to get my thoughts together. You know, writing an essay is harder than it looks."
                },
                {
                    "Person 1": "Tell me about it. It’s like you know what you want to say, but getting it on paper is a whole different story."
                },
                {
                    "Person 2": "Exactly! I just finished my first draft, and now I’m not sure if it even makes sense."
                },
                {
                    "Person 1": "Do you want some feedback? Sometimes a fresh pair of eyes helps!"
                },
                {
                    "Person 2": "That would be awesome! I’m struggling to pinpoint the main issues I want to discuss."
                },
                {
                    "Person 1": "What are you writing about?"
                },
                {
                    "Person 2": "It's about animal welfare, especially in zoos. I feel like there are a couple of problems I should focus on."
                },
                {
                    "Person 1": "Sounds important! What issues have you thought of?"
                },
                {
                    "Person 2": "I was thinking about their living conditions and how people can be cruel to them, whether they realize it or not."
                },
                {
                    "Person 1": "That's a good angle! You could really highlight the contrast between what people think and what's actually happening."
                },
                {
                    "Person 2": "Yeah, like people think they’re helping animals by learning about them, but it’s just entertainment for most."
                },
                {
                    "Person 1": "Right! And you can mention how that kind of entertainment can hurt animals instead."
                },
                {
                    "Person 2": "Great idea! I think I’m gonna rewrite part of it with that in mind."
                },
                {
                    "Person 1": "Do you have a sample essay to help guide you?"
                },
                {
                    "Person 2": "I do! I plan to use it to help shape my final draft."
                },
                {
                    "Person 1": "Awesome! Can't wait to read it. And by the way, when’s your birthday again?"
                },
                {
                    "Person 2": "February 28th! Just a few months away!"
                },
                {
                    "Person 1": "Cool! We should celebrate—maybe next week?"
                },
                {
                    "Person 2": "Sounds good! Let’s plan it out."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
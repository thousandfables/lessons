<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none
            background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;
            
            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 2,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "They have a first pre-admission on 22nd of February.",
                    "corrected": "They have a first pre-admission on the 22nd of February.",
                    "explanation": "The definite article 'the' is needed before specific dates.",
                    "context": "They have a first pre-admission on the 22nd of February. And in order to register, like, enroll for the first exam, you have to give them a certificate of your English language skills."
                },
                {
                    "original": "I am not able to go to Kazakhstan or somewhere to take a test because they won't be able to do it fast enough.",
                    "corrected": "I am not able to go to Kazakhstan or anywhere to take a test because they won't be able to do it fast enough.",
                    "explanation": "'Somewhere' is incorrect; 'anywhere' is more appropriate in negative sentences.",
                    "context": "I am not able to go to Kazakhstan or anywhere to take a test because they won't be able to do it fast enough. So I asked my English teacher from a university, I don't study anymore, to make me this certificate like that I have passed some exams because I study in an English program."
                },
                {
                    "original": "to make me this certificate like that I have passed some exams",
                    "corrected": "to make me this certificate stating that I have passed some exams",
                    "explanation": "'Like that' is informal and unclear; 'stating that' is more precise.",
                    "context": "So I asked my English teacher from a university, I don't study anymore, to make me this certificate stating that I have passed some exams because I study in an English program. So they gave me."
                },
                {
                    "original": "You mean to forge a certificate?",
                    "corrected": "You mean to forge a certificate?",
                    "explanation": "This sentence is correct but lacks context; it could be rephrased for clarity.",
                    "context": "So they gave me. You mean to forge a certificate? What? Forge? Forge a document?"
                },
                {
                    "original": "It's a fake document?",
                    "corrected": "Is it a fake document?",
                    "explanation": "The sentence should be a question; it needs inversion.",
                    "context": "What? Forge? Forge a document? Is it a fake document? No, it's real."
                },
                {
                    "original": "They do this all the time.",
                    "corrected": "They do this all the time.",
                    "explanation": "This sentence is correct but could be more formal.",
                    "context": "No, it's real. They do this all the time. They just probably won't accept it."
                },
                {
                    "original": "But like I have C1, C1, C1, C1.",
                    "corrected": "But I have a C1 level.",
                    "explanation": "'Like' is unnecessary and informal; 'level' clarifies the meaning.",
                    "context": "But like I have C1, C1, C1, C1. Me too."
                },
                {
                    "original": "So they say like my intercultural experience that I study in an English program",
                    "corrected": "So they say that my intercultural experience includes studying in an English program.",
                    "explanation": "'Like' is informal; 'that' is needed for clarity, and 'includes studying' is more precise.",
                    "context": "So they say that my intercultural experience includes studying in an English program. And I have attended some business English course classes."
                },
                {
                    "original": "They didn't specify what kind of certificate they would accept?",
                    "corrected": "They didn't specify what kind of certificate they would accept.",
                    "explanation": "This is a statement, not a question; it should end with a period.",
                    "context": "They have attended some business English course classes. They didn't specify what kind of certificate they would accept."
                },
                {
                    "original": "the university specified and very clearly that they won't accept anything besides like IELTS, SAT, FCE or something like all these Cambridge exams and others.",
                    "corrected": "the university specified very clearly that they won't accept anything besides IELTS, SAT, FCE, or other Cambridge exams.",
                    "explanation": "Remove 'like' for clarity; 'or something like' is vague and informal.",
                    "context": "No, the university specified very clearly that they won't accept anything besides IELTS, SAT, FCE, or other Cambridge exams. And they said like they won't accept anything else."
                },
                {
                    "original": "But I really want to try.",
                    "corrected": "But I really want to give it a try.",
                    "explanation": "'Try' is informal; 'give it a try' is a more idiomatic expression.",
                    "context": "And they said like they won't accept anything else. But I really want to give it a try."
                },
                {
                    "original": "I can talk to you.",
                    "corrected": "I can communicate with you.",
                    "explanation": "'Talk' is informal; 'communicate' is more appropriate in this context.",
                    "context": "I will text them and like, you know, I'm Russian. I can communicate with you."
                },
                {
                    "original": "You can see that I can't comprehend, you know.",
                    "corrected": "You can see that I can't comprehend.",
                    "explanation": "'You know' is unnecessary and informal.",
                    "context": "I can communicate with you. You can see that I can't comprehend."
                },
                {
                    "original": "Probably you can't read.",
                    "corrected": "Perhaps you can't read.",
                    "explanation": "'Probably' is less formal; 'perhaps' is more suitable in this context.",
                    "context": "Yeah, of course. I hope they will understand my situation. Perhaps you can't read."
                },
                {
                    "original": "Probably it's just speaking that you are proficient in.",
                    "corrected": "Perhaps it's just speaking in which you are proficient.",
                    "explanation": "'That' is vague; 'in which' clarifies the relationship.",
                    "context": "But you can't read. Perhaps it's just speaking in which you are proficient."
                },
                {
                    "original": "I hope they will understand my situation.",
                    "corrected": "I hope they understand my situation.",
                    "explanation": "The future tense is unnecessary; present tense is more direct.",
                    "context": "Yeah, of course. I hope they will understand my situation. I like your attitude."
                },
                {
                    "original": "You know, I like that you are trying to do something.",
                    "corrected": "I appreciate that you are trying to do something.",
                    "explanation": "'You know' is informal; 'I appreciate' is more formal and sincere.",
                    "context": "I hope they understand my situation. I like your attitude. I appreciate that you are trying to do something."
                },
                {
                    "original": "one, like some of them, they have very strict rules",
                    "corrected": "some of them have very strict rules",
                    "explanation": "The word 'one' is unnecessary; 'like' is informal.",
                    "context": "You know, sometimes all those universities, some of them have very strict rules and they won't allow any, they won't soften up."
                },
                {
                    "original": "they are really welcoming to like the talented students, the talented people.",
                    "corrected": "they are really welcoming to talented students and talented people.",
                    "explanation": "'Like' is informal; 'and' is more appropriate here.",
                    "context": "But others, you know, they are really welcoming to talented students and talented people. And sometimes they would break the code, like break the rules to let you in."
                },
                {
                    "original": "And sometimes they would break the code, like break the rules to let you in.",
                    "corrected": "And sometimes they would break the rules to let you in.",
                    "explanation": "'Like' is unnecessary here.",
                    "context": "And sometimes they would break the code to let you in. And you definitely should give it a try."
                },
                {
                    "original": "I can send them the results later.",
                    "corrected": "I can send them the results later.",
                    "explanation": "This sentence is correct but could be more specific.",
                    "context": "I will tell them that I will take an exam in March and I can send them the results later. Like, because some."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "Can you show them pre-certificate your like estimated grades?",
                    "corrected": "Can you show them a pre-certificate of your estimated grades?",
                    "explanation": "The phrase 'pre-certificate your like estimated grades' is incorrect; it should include an article and a preposition.",
                    "context": "Can you show them pre-certificate your like estimated grades? Like... Is it a thing now?"
                },
                {
                    "original": "Are schools now issue, do schools now issue some kind of this average grade in your certificate?",
                    "corrected": "Do schools now issue some kind of average grade in your certificate?",
                    "explanation": "The phrase 'Are schools now issue' is incorrect; it should be rephrased for clarity and grammatical correctness.",
                    "context": "Can you show them a pre-certificate of your estimated grades? Are schools now issue, do schools now issue some kind of this average grade in your certificate?"
                },
                {
                    "original": "But maybe the motivational letter, like the universities, right?",
                    "corrected": "But maybe the motivational letter is important for universities, right?",
                    "explanation": "The sentence is missing a verb; 'is important' clarifies the statement.",
                    "context": "Of course, yes. GPA is the most important part, I feel like this. But maybe the motivational letter, like the universities, right?"
                },
                {
                    "original": "And with that, I have to, when I, when you are applying for some university, you give them your diploma and you give them your results, your UFU results.",
                    "corrected": "And with that, when you are applying to a university, you give them your diploma and your UFU results.",
                    "explanation": "The phrase 'I have to, when I, when you are applying' is convoluted; it should be simplified for clarity.",
                    "context": "Yeah. That's it. And my US, USC results. And with that, I have to, when I, when you are applying for some university, you give them your diploma and you give them your results, your UFU results."
                },
                {
                    "original": "But I mean, if you go to university in Russia, then yes, that's it.",
                    "corrected": "But I mean, if you go to a university in Russia, then yes, that's it.",
                    "explanation": "The article 'a' is needed before 'university' for grammatical correctness.",
                    "context": "But I mean, if you go to university in Russia, then yes, that's it. But I'm going to Austria."
                },
                {
                    "original": "They don't care about USC.",
                    "corrected": "They don't care about USC scores.",
                    "explanation": "Adding 'scores' clarifies what is being referred to by USC.",
                    "context": "But I'm going to Austria. They don't care about USC."
                },
                {
                    "original": "Some universities won't even accept someone who has a GPA less than 75%.",
                    "corrected": "Some universities won't even accept anyone with a GPA less than 75%.",
                    "explanation": "'Someone' should be replaced with 'anyone' for a more general statement.",
                    "context": "Like this is weird, but this is their way. Some universities won't even accept someone who has a GPA less than 75%."
                },
                {
                    "original": "So my GPA is great. I'm like 100%.",
                    "corrected": "So my GPA is great; I'm around 100%.",
                    "explanation": "'I'm like 100%' is informal; 'I'm around 100%' is more precise.",
                    "context": "So it's like four and something. So my GPA is great. I'm like 100%."
                },
                {
                    "original": "But this is just when you are not, when you haven't finished school yet, you can ask like the headmaster to give you like press certificate or something.",
                    "corrected": "But this is just when you haven't finished school yet; you can ask the headmaster to give you a pre-certificate.",
                    "explanation": "The phrase 'when you are not, when you haven't finished' is awkward; it should be simplified.",
                    "context": "So it's all right. But this is just when you are not, when you haven't finished school yet, you can ask like the headmaster to give you like press certificate or something."
                },
                {
                    "original": "And they're like, yeah, but just don't forget to send it later.",
                    "corrected": "And they say, 'Yeah, but just don't forget to send it later.'",
                    "explanation": "Using 'they're like' is informal; 'they say' is more appropriate in this context.",
                    "context": "And you send it to them and like, I haven't finished school yet, but like here's my estimated grades. And they're like, yeah, but just don't forget to send it later."
                },
                {
                    "original": "Yeah, when you're applying in March, in March you don't have any issues like diploma yet.",
                    "corrected": "Yeah, when you're applying in March, you won't have your diploma yet.",
                    "explanation": "The phrase 'you don't have any issues like diploma yet' is awkward; it should be rephrased for clarity.",
                    "context": "And they're like, yeah, but just don't forget to send it later. Yeah, when you're applying in March, in March you don't have any issues like diploma yet."
                },
                {
                    "original": "Yeah, they value, they put a high value in the school performance that.",
                    "corrected": "Yeah, they value school performance highly.",
                    "explanation": "The phrase 'they put a high value in the school performance that' is incorrect; it should be simplified.",
                    "context": "So, okay, pretty interesting. Okay. Yeah, I heard that in Germany, I don't know about Austria, but in Germany, they pay a lot of attention. Yeah, they value, they put a high value in the school performance that."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Certificate",
                    "definition": "An official document attesting a fact, especially as a qualification for academic or professional achievement.",
                    "context": {
                        "Context 1": "I need a certificate to prove my English language skills for university admission.",
                        "Context 2": "He received a certificate for completing the cooking course.",
                        "Context 3": "The certificate of authenticity confirmed that the painting was an original."
                    }
                },
                {
                    "word": "Forge",
                    "definition": "To create a fraudulent copy or imitation of something.",
                    "context": {
                        "Context 1": "It's illegal to forge a document like a certificate.",
                        "Context 2": "He decided to forge a signature on the contract to get the deal.",
                        "Context 3": "The artist was accused of trying to forge a famous painting."
                    }
                },
                {
                    "word": "Proficient",
                    "definition": "Competent or skilled in doing or using something.",
                    "context": {
                        "Context 1": "She is proficient in English, which helps her in her studies.",
                        "Context 2": "He became proficient at playing the guitar after years of practice.",
                        "Context 3": "The proficient chef prepared a five-course meal in under two hours."
                    }
                },
                {
                    "word": "Intercultural",
                    "definition": "Relating to or representing different cultures.",
                    "context": {
                        "Context 1": "My intercultural experience studying abroad has broadened my perspective.",
                        "Context 2": "The festival celebrates intercultural exchanges between various communities.",
                        "Context 3": "Intercultural communication is essential in global business."
                    }
                },
                {
                    "word": "Strict",
                    "definition": "Demanding that rules concerning behavior are obeyed and observed.",
                    "context": {
                        "Context 1": "Some universities have strict admission requirements.",
                        "Context 2": "The teacher was strict about homework deadlines.",
                        "Context 3": "The strict diet helped him lose weight quickly."
                    }
                },
                {
                    "word": "Comprehend",
                    "definition": "To understand or grasp the meaning of something.",
                    "context": {
                        "Context 1": "I hope they will comprehend my situation regarding the certificate.",
                        "Context 2": "It took me a while to comprehend the complex math problem.",
                        "Context 3": "She struggled to comprehend the plot of the movie."
                    }
                },
                {
                    "word": "Enroll",
                    "definition": "To officially register or sign up for a course or program.",
                    "context": {
                        "Context 1": "I need to enroll in the English course to improve my skills.",
                        "Context 2": "He decided to enroll in a yoga class to relieve stress.",
                        "Context 3": "Many students enroll in summer camps for additional learning."
                    }
                },
                {
                    "word": "Accept",
                    "definition": "To receive or agree to something offered.",
                    "context": {
                        "Context 1": "The university will only accept certain types of certificates.",
                        "Context 2": "She was thrilled when they accepted her application for the scholarship.",
                        "Context 3": "He couldn't accept the fact that he lost the game."
                    }
                },
                {
                    "word": "Talented",
                    "definition": "Having a natural aptitude or skill for something.",
                    "context": {
                        "Context 1": "Some universities are welcoming to talented students.",
                        "Context 2": "The talented artist was featured in a prestigious gallery.",
                        "Context 3": "She is a talented musician who plays several instruments."
                    }
                },
                {
                    "word": "Break the rules",
                    "definition": "To act against established guidelines or regulations.",
                    "context": {
                        "Context 1": "Sometimes universities will break the rules to let talented students in.",
                        "Context 2": "He decided to break the rules and stay out past curfew.",
                        "Context 3": "The team was penalized for breaking the rules during the game."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Certificate",
                    "fact": "In some countries, you can get a certificate for just about anything, including 'Best Napper'!"
                },
                {
                    "word": "Forge",
                    "fact": "The word 'forge' originally referred to a blacksmith's workshop, where they created real things, not fake documents!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes and couldn't process its feelings!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "GPA",
                    "definition": "Grade Point Average; a standard way of measuring academic achievement in the U.S.",
                    "context": {
                        "Context 1": "In the U.S., universities often require a minimum GPA for admission.",
                        "Context 2": "My GPA improved significantly after I started studying harder.",
                        "Context 3": "She was proud of her GPA, which reflected her dedication to her studies."
                    }
                },
                {
                    "word": "Certificate",
                    "definition": "An official document attesting a fact, especially one relating to academic achievement.",
                    "context": {
                        "Context 1": "You need to submit your certificate when applying to universities.",
                        "Context 2": "He received a certificate for completing the online course.",
                        "Context 3": "The wedding certificate proved they were legally married."
                    }
                },
                {
                    "word": "Diploma",
                    "definition": "A document awarded by an educational institution to show that someone has successfully completed a course of study.",
                    "context": {
                        "Context 1": "After graduating, she received her diploma in the mail.",
                        "Context 2": "His diploma hangs proudly on the wall of his office.",
                        "Context 3": "The diploma was a symbol of years of hard work and dedication."
                    }
                },
                {
                    "word": "Estimated grades",
                    "definition": "Projected academic scores based on current performance.",
                    "context": {
                        "Context 1": "Students can submit their estimated grades when they haven't finished school yet.",
                        "Context 2": "The teacher provided estimated grades to help students understand their progress.",
                        "Context 3": "He was nervous about his estimated grades affecting his college applications."
                    }
                },
                {
                    "word": "Headmaster",
                    "definition": "The principal of a school, especially a private school.",
                    "context": {
                        "Context 1": "You can ask the headmaster for a letter of recommendation.",
                        "Context 2": "The headmaster announced the new school policies during the assembly.",
                        "Context 3": "The headmaster's office was filled with awards and trophies from past students."
                    }
                },
                {
                    "word": "Admission",
                    "definition": "The process of being accepted into an institution, especially a college or university.",
                    "context": {
                        "Context 1": "Admission to the university is highly competitive.",
                        "Context 2": "She received her admission letter just in time for the start of the semester.",
                        "Context 3": "The admission process can be stressful for many students."
                    }
                },
                {
                    "word": "Performance",
                    "definition": "The execution or accomplishment of a task or activity, often measured by success or achievement.",
                    "context": {
                        "Context 1": "School performance is crucial for university applications.",
                        "Context 2": "His performance in the play earned him a standing ovation.",
                        "Context 3": "The athlete's performance in the championship was outstanding."
                    }
                },
                {
                    "word": "Value",
                    "definition": "The importance, worth, or usefulness of something.",
                    "context": {
                        "Context 1": "Many universities place a high value on academic performance.",
                        "Context 2": "She learned to value her friendships more than material possessions.",
                        "Context 3": "The value of the painting increased significantly over the years."
                    }
                },
                {
                    "word": "Attention",
                    "definition": "The act of focusing one's mind on something; consideration.",
                    "context": {
                        "Context 1": "They pay a lot of attention to school performance in Germany.",
                        "Context 2": "The teacher's attention to detail made her lessons more effective.",
                        "Context 3": "He struggled to get the attention of the crowd during his speech."
                    }
                },
                {
                    "word": "Weird",
                    "definition": "Strange or unusual; not normal.",
                    "context": {
                        "Context 1": "Some universities checking high school grades for master's programs seems weird.",
                        "Context 2": "She found it weird that her cat liked to sit in the sink.",
                        "Context 3": "His weird sense of humor always made everyone laugh."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "GPA",
                    "fact": "Did you know that the highest possible GPA is often a 4.0, but some schools have a weighted GPA that can go above that? Talk about pressure!"
                },
                {
                    "word": "Diploma",
                    "fact": "In some countries, diplomas are so important that they are framed and displayed like works of art!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student eat his homework?",
                    "answer": "Because the teacher said it was a piece of cake!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about the new English exam requirements for that program?"
                },
                {
                    "Person 2": "Yeah, I did! It sounds pretty strict. You have to have a specific certificate, right?"
                },
                {
                    "Person 1": "Exactly! I was thinking about taking the IELTS, but it’s a hassle to schedule it."
                },
                {
                    "Person 2": "I get that. I heard some people are trying to get their teachers to help them with certificates instead."
                },
                {
                    "Person 1": "Right? I asked my old English teacher if she could write me something, but I’m not sure it’ll be accepted."
                },
                {
                    "Person 2": "You mean like a fake certificate? Isn’t that risky?"
                },
                {
                    "Person 1": "No, no! It’s not fake. It’s just a letter saying I’ve studied in an English program."
                },
                {
                    "Person 2": "Oh, got it! But they might still want the official tests like IELTS or SAT."
                },
                {
                    "Person 1": "Yeah, the university made it clear they only accept those. It’s frustrating!"
                },
                {
                    "Person 2": "I can imagine! But hey, if you really want it, maybe you should just reach out to them directly."
                },
                {
                    "Person 1": "That’s what I’m thinking! I’ll tell them I’m planning to take the exam in March."
                },
                {
                    "Person 2": "That sounds like a solid plan! You never know, they might be flexible."
                },
                {
                    "Person 1": "Exactly! I hope they’ll understand my situation. It’s worth a shot."
                },
                {
                    "Person 2": "For sure! And if they’re strict, just remember there are other programs out there."
                },
                {
                    "Person 1": "True! But I really like this one. Fingers crossed they’ll be understanding!"
                },
                {
                    "Person 2": "Good luck! Let me know how it goes!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you heard about how universities are changing their application processes?"
                },
                {
                    "Person 2": "Not really. What’s going on?"
                },
                {
                    "Person 1": "I read that some schools are accepting students based on estimated grades before they even finish high school."
                },
                {
                    "Person 2": "Oh wow, that’s interesting! So, like, they give you a pre-certificate or something?"
                },
                {
                    "Person 1": "Exactly! They look at your GPA and maybe a motivational letter too."
                },
                {
                    "Person 2": "That’s different from when I applied. I just had my diploma and test scores."
                },
                {
                    "Person 1": "Right? I think it’s more common now. But it seems like it varies by country."
                },
                {
                    "Person 2": "Yeah, I heard in Germany they really focus on high school grades. What about Austria?"
                },
                {
                    "Person 1": "From what I know, they care a lot about school marks too. Even for master's programs!"
                },
                {
                    "Person 2": "That’s wild! I can’t believe they check high school grades for grad school."
                },
                {
                    "Person 1": "I know, right? Some universities won’t even accept anyone with a GPA below 75%."
                },
                {
                    "Person 2": "Wow, that’s pretty strict! What’s your GPA like?"
                },
                {
                    "Person 1": "Mine’s great! I’m at 100%, so I’m not worried."
                },
                {
                    "Person 2": "Nice! That’s impressive! So, do you have to send them your estimated grades before you graduate?"
                },
                {
                    "Person 1": "Yep! You can ask your headmaster for a pre-certificate to send along with your application."
                },
                {
                    "Person 2": "That sounds like a good plan. It must make things easier for students."
                },
                {
                    "Person 1": "For sure! Just gotta remember to send the final grades later."
                },
                {
                    "Person 2": "Definitely! It’s all about keeping track of everything."
                }
            ]
        }
    }
}

        // Set parts_number from json_content
        let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> ${mistake.context}</p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }

        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}.${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                let contextHtml = "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    contextHtml += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${sentence.replace(entry.word, `<span class="bold-italic">${entry.word}</span>`)}</span>`;
                });
                contextHtml += "</p>";
                html += contextHtml;
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                    <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
                 </div>`;
                });
            }


            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                    <p class="joke-question">${index + 1}. ${joke.question}</p>
                    <p class="italic joke">${joke.answer}</p>
                 </div>`;
                });
            }


            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
                html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 5,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "So I seeked it out on... SOT, yeah.",
                    "corrected": "So I sought it out on... SOT, yeah.",
                    "explanation": "The past tense of 'seek' is 'sought,' not 'seeked.'",
                    "context": "I had a very niche interest that I wasn't able to find a lot of information in Russian. So I sought it out on... SOT, yeah. I became accustomed to using English for my research."
                },
                {
                    "original": "I don't think so. No, no, no.",
                    "corrected": "I don't think so. No, no.",
                    "explanation": "The phrase 'no, no, no' is redundant; 'no, no' is sufficient to convey the same meaning.",
                    "context": "I was unsure about my previous statement. I don't think so. No, no. I often mix up verb forms when I speak."
                },
                {
                    "original": "I accumulated some amount of knowledge and my knowledge still isn't very systematic, I guess.",
                    "corrected": "I accumulated some knowledge, and my knowledge still isn't very systematic, I guess.",
                    "explanation": "The phrase 'some amount of knowledge' is awkward; 'some knowledge' is more idiomatic.",
                    "context": "Over time, I have learned a lot through practice. I accumulated some knowledge, and my knowledge still isn't very systematic, I guess. I rely more on experience than rules."
                },
                {
                    "original": "though to be fair I don't really know a lot of rules of Russian.",
                    "corrected": "though, to be fair, I don't really know a lot of rules in Russian.",
                    "explanation": "The preposition 'of' should be 'in' when referring to knowledge of a language.",
                    "context": "I often find myself unsure about grammar. Though, to be fair, I don't really know a lot of rules in Russian. I just speak based on what I hear."
                },
                {
                    "original": "I just use what I see and what I hear and then I speak and write how I feel is right.",
                    "corrected": "I just use what I see and what I hear, and then I speak and write how I feel is right.",
                    "explanation": "A comma should be placed before 'and' to separate the clauses for clarity.",
                    "context": "My learning style is quite intuitive. I just use what I see and what I hear, and then I speak and write how I feel is right. This method helps me communicate more naturally."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "That's very well.",
                    "corrected": "That's very good.",
                    "explanation": "\"Well\" is an adverb and should not be used to describe a noun; \"good\" is the correct adjective here.",
                    "context": "The video call was experiencing issues. That's very good. We can still continue our lesson despite the technical difficulties."
                },
                {
                    "original": "the person can always tell you that, well, we have ChargPT now, everything can be translated on the fly.",
                    "corrected": "the person can always tell you that, well, we have ChatGPT now, everything can be translated on the fly.",
                    "explanation": "The name of the AI tool is \"ChatGPT,\" not \"ChargPT.\"",
                    "context": "When discussing language accessibility, I mentioned how technology has changed the game. The person can always tell you that, well, we have ChatGPT now, everything can be translated on the fly."
                },
                {
                    "original": "the idea of creating a world or many worlds, you know, in your head, like imaginary worlds or worlds is very important.",
                    "corrected": "the idea of creating a world or many worlds, you know, in your head, like imaginary worlds is very important.",
                    "explanation": "The repetition of \"worlds\" is unnecessary and makes the sentence awkward.",
                    "context": "As an artist, you have a unique perspective on creativity. The idea of creating a world or many worlds, you know, in your head, like imaginary worlds is very important."
                },
                {
                    "original": "you will still do exactly what this instruction asks you. No matter that you haven't studied the structure and anything like that.",
                    "corrected": "you will still do exactly what this instruction asks you, no matter that you haven't studied the structure or anything like that.",
                    "explanation": "The conjunction 'and' should be replaced with 'or' to correctly connect the two clauses.",
                    "context": "In preparing for exams, it's crucial to follow instructions carefully. You will still do exactly what this instruction asks you, no matter that you haven't studied the structure or anything like that."
                },
                {
                    "original": "So from elderly. Workers, you know, by the way, workers is countable.",
                    "corrected": "So from elderly workers, you know, by the way, 'workers' is countable.",
                    "explanation": "The period after 'elderly' is incorrect; it should be a continuation of the sentence.",
                    "context": "During our discussion about essay writing, I emphasized the importance of using correct grammar. So from elderly workers, you know, by the way, 'workers' is countable."
                },
                {
                    "original": "Some words is not working quite correctly with it.",
                    "corrected": "Some words are not working quite correctly with it.",
                    "explanation": "The subject 'words' is plural, so the verb should be 'are' instead of 'is.'",
                    "context": "When analyzing the essay, I pointed out some grammatical issues. Some words are not working quite correctly with it."
                },
                {
                    "original": "How many more opportunities? How many more? Sounds weird to me for some reason.",
                    "corrected": "How many more opportunities? How many more? It sounds weird to me for some reason.",
                    "explanation": "The sentence is missing a subject; 'It' should be added for clarity.",
                    "context": "While discussing the phrasing in the essay, I expressed my confusion. How many more opportunities? How many more? It sounds weird to me for some reason."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I don't see any major issues with the sentence but it's too long.",
                    "corrected": "I don't see any major issues with the sentence, but it's too long.",
                    "explanation": "A comma is needed before 'but' to separate two independent clauses.",
                    "context": "I think the sentence is generally fine. I don't see any major issues with the sentence, but it's too long. It's important to keep sentences concise."
                },
                {
                    "original": "After increase we always put in.",
                    "corrected": "After 'increase,' we always put 'in.'",
                    "explanation": "Quotation marks are needed around 'increase' and 'in' for clarity.",
                    "context": "In writing, clarity is key. After 'increase,' we always put 'in.' This helps to maintain proper structure in our sentences."
                },
                {
                    "original": "What is wrong with some determiner that you used before this word?",
                    "corrected": "What is wrong with the determiner that you used before this word?",
                    "explanation": "The article 'the' is needed to specify which determiner is being referred to.",
                    "context": "When discussing grammar, specificity is important. What is wrong with the determiner that you used before this word? It helps to clarify the issue."
                },
                {
                    "original": "The older you become the more health problems you have.",
                    "corrected": "The older you become, the more health problems you have.",
                    "explanation": "A comma is needed after 'become' to separate the clauses.",
                    "context": "As we age, our health can decline. The older you become, the more health problems you have. It's a common reality for many."
                },
                {
                    "original": "Even if people live longer they still have problems.",
                    "corrected": "Even if people live longer, they still have problems.",
                    "explanation": "A comma is needed before the second clause for proper punctuation.",
                    "context": "Longevity doesn't guarantee good health. Even if people live longer, they still have problems. It's a truth we must acknowledge."
                },
                {
                    "original": "It sounds illogical to me but maybe another examiner would not have any problems with it.",
                    "corrected": "It sounds illogical to me, but maybe another examiner would not have any problems with it.",
                    "explanation": "A comma is needed before 'but' to separate the two independent clauses.",
                    "context": "Different perspectives can lead to varied interpretations. It sounds illogical to me, but maybe another examiner would not have any problems with it. This shows the subjectivity in writing."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "I didn't want to be in conclusion every time it's...",
                    "corrected": "I didn't want to be in 'in conclusion' every time it's...",
                    "explanation": "The phrase 'in conclusion' should be enclosed in quotes to indicate that it is a specific phrase being referenced.",
                    "context": "I find it repetitive to use the same phrase in my essays. I didn't want to be in 'in conclusion' every time it's mentioned. I prefer to vary my language."
                },
                {
                    "original": "But, you know, we only write essay once, only real exam.",
                    "corrected": "But, you know, we only write essays once, in a real exam.",
                    "explanation": "The noun 'essay' should be plural ('essays') and the phrase should include 'in' to clarify that it's referring to the context of a real exam.",
                    "context": "I understand the importance of writing well. But, you know, we only write essays once, in a real exam. I want to make sure I do my best."
                },
                {
                    "original": "I will send you the article actually, or you can, you know, ask Chachi Petit for clarifications.",
                    "corrected": "I will actually send you the article, or you can, you know, ask Chachi Petit for clarifications.",
                    "explanation": "The adverb 'actually' should be placed before the verb 'send' for correct placement in the sentence.",
                    "context": "I want to help you understand the topic better. I will actually send you the article, or you can, you know, ask Chachi Petit for clarifications."
                },
                {
                    "original": "I could, but then I'd have to get rid of wild, I think.",
                    "corrected": "I could, but then I'd have to get rid of 'wild', I think.",
                    "explanation": "The word 'wild' should be enclosed in quotes to indicate that it is a specific term being discussed.",
                    "context": "I want to maintain the essence of my writing. I could, but then I'd have to get rid of 'wild', I think. I believe it adds character to my essay."
                },
                {
                    "original": "A couple of howevers repeating themselves is fine.",
                    "corrected": "A couple of 'howevers' repeating themselves is fine.",
                    "explanation": "'Howevers' should be in quotes to indicate that it's a specific word being referenced.",
                    "context": "I think it's okay to use certain words more than once. A couple of 'howevers' repeating themselves is fine. It can add emphasis to my points."
                },
                {
                    "original": "How much time you need to spend on like each step of the way.",
                    "corrected": "How much time do you need to spend on each step of the way?",
                    "explanation": "The sentence is missing the auxiliary verb 'do' to form a correct question.",
                    "context": "I want to ensure we manage our time effectively. How much time do you need to spend on each step of the way? It's important to plan accordingly."
                },
                {
                    "original": "So, you know, the time for each step of the way equals 35, right?",
                    "corrected": "So, you know, the time for each step of the way equals 35 minutes, right?",
                    "explanation": "The unit of measurement 'minutes' should be added for clarity.",
                    "context": "I want to make sure we are on the same page about timing. So, you know, the time for each step of the way equals 35 minutes, right? It's crucial for our planning."
                },
                {
                    "original": "The idea is now to do that within a certain time.",
                    "corrected": "The idea is now to do that within a certain time limit.",
                    "explanation": "'Time limit' is a more precise term than just 'time' in this context.",
                    "context": "I want to emphasize the importance of time management. The idea is now to do that within a certain time limit. This will help us stay focused."
                }
            ]
        },
        "mistakes_5": {
            "mistakes_list": [
                {
                    "original": "I hear you and I see you very, very poorly.",
                    "corrected": "I hear you and see you very poorly.",
                    "explanation": "The second 'I' is unnecessary; the verb 'see' should be in the same structure as 'hear.'",
                    "context": "During our conversation, I expressed my difficulties. I hear you and see you very poorly. It's hard for me to grasp the words you're saying."
                },
                {
                    "original": "You know, you can kind of...",
                    "corrected": "You know, you can sort of...",
                    "explanation": "'Kind of' is informal; 'sort of' is a more appropriate phrase in this context.",
                    "context": "While explaining a process, I tried to convey a sense of uncertainty. You know, you can sort of begin to understand the chaos. But then, after some time, you draw conclusions."
                },
                {
                    "original": "First it will be a mess.",
                    "corrected": "At first, it will be a mess.",
                    "explanation": "The phrase 'At first' is more idiomatic and clarifies the timing.",
                    "context": "I was describing the initial stages of a task. At first, it will be a mess. But then, you start to make sense of it."
                },
                {
                    "original": "You draw some conclusions.",
                    "corrected": "You start to draw some conclusions.",
                    "explanation": "Adding 'start to' emphasizes the beginning of the action.",
                    "context": "As I continued my explanation, I highlighted the process of reflection. You start to draw some conclusions. This helps you improve for next time."
                },
                {
                    "original": "That is how people become rich.",
                    "corrected": "That's how people become rich.",
                    "explanation": "The contraction 'That's' is more conversational and fits the spoken context better.",
                    "context": "I was discussing the mindset needed for success. That's how people become rich. It's about determination and not giving up."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Impressive",
                    "definition": "Evoking admiration through size, quality, or skill.",
                    "context": {
                        "Context 1": "Your collection of t-shirts is impressive; I can't believe how many you have!",
                        "Context 2": "The magician's performance was impressive, leaving the audience in awe.",
                        "Context 3": "The impressive architecture of the ancient castle attracted many tourists."
                    }
                },
                {
                    "word": "Mocking",
                    "definition": "Making fun of someone or something in a cruel or sarcastic way.",
                    "context": {
                        "Context 1": "You’re mocking me with your different t-shirts, but I think it’s funny.",
                        "Context 2": "The comedian was mocking politicians, which made the crowd laugh.",
                        "Context 3": "She felt hurt by her friend's mocking comments about her cooking."
                    }
                },
                {
                    "word": "Artwork",
                    "definition": "A piece of creative work, especially visual art.",
                    "context": {
                        "Context 1": "I can see your artwork on the wall; it’s beautiful!",
                        "Context 2": "The museum displayed a stunning collection of modern artwork.",
                        "Context 3": "He decided to sell his artwork at the local art fair."
                    }
                },
                {
                    "word": "Initiation",
                    "definition": "The action of admitting someone into a secret or obscure society or group, often with a ritual.",
                    "context": {
                        "Context 1": "It feels like your drawing is an initiation into a special club.",
                        "Context 2": "The initiation ceremony for new members was both exciting and nerve-wracking.",
                        "Context 3": "In some cultures, initiation rites mark the transition from childhood to adulthood."
                    }
                },
                {
                    "word": "Admire",
                    "definition": "To regard with respect or warm approval.",
                    "context": {
                        "Context 1": "I admire your style of drawing; it’s unique and creative.",
                        "Context 2": "She admires her grandmother for her strength and resilience.",
                        "Context 3": "Many people admire athletes for their dedication and hard work."
                    }
                },
                {
                    "word": "Passionate",
                    "definition": "Having, showing, or caused by strong feelings or beliefs.",
                    "context": {
                        "Context 1": "You are passionate about Star Wars, which is great!",
                        "Context 2": "He is passionate about environmental issues and works to raise awareness.",
                        "Context 3": "Her passionate speech inspired many to take action."
                    }
                },
                {
                    "word": "Niche",
                    "definition": "A specialized segment of the market for a particular kind of product or service.",
                    "context": {
                        "Context 1": "You had a niche interest that led you to learn English.",
                        "Context 2": "The bookstore specializes in niche genres like fantasy and science fiction.",
                        "Context 3": "Finding a niche can help businesses target specific customers effectively."
                    }
                },
                {
                    "word": "Systematic",
                    "definition": "Done or acting according to a fixed plan or system; methodical.",
                    "context": {
                        "Context 1": "My knowledge of English isn’t very systematic, but I’m learning.",
                        "Context 2": "The scientist took a systematic approach to the research project.",
                        "Context 3": "A systematic review of the literature is essential for a good thesis."
                    }
                },
                {
                    "word": "Translate",
                    "definition": "To express the meaning of (words or text) in another language.",
                    "context": {
                        "Context 1": "I often translate texts from English to Russian.",
                        "Context 2": "She can translate poems beautifully, capturing their essence.",
                        "Context 3": "The app can translate multiple languages in real-time."
                    }
                },
                {
                    "word": "Platform",
                    "definition": "A raised level surface on which people or things can stand.",
                    "context": {
                        "Context 1": "We need to change the platform to Google Meet for our meeting.",
                        "Context 2": "The train arrived at the platform on time.",
                        "Context 3": "He built a platform for his new business to connect with customers online."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Impressive",
                    "fact": "Did you know that the tallest building in the world, the Burj Khalifa, is so impressive that it can be seen from 95 kilometers away?"
                },
                {
                    "word": "Mocking",
                    "fact": "In ancient Rome, mocking was a form of entertainment, often seen in plays where actors would imitate politicians!"
                },
                {
                    "word": "Niche",
                    "fact": "The word 'niche' comes from the French word for 'nest,' and it’s often used to describe a specialized market, like a bird finding its perfect spot!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the artist break up with their partner?",
                    "answer": "Because they just couldn't find common ground!"
                },
                {
                    "question": "Why did the t-shirt go to school?",
                    "answer": "Because it wanted to be a little more 'impressive'!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Access",
                    "definition": "The means or opportunity to approach or enter a place or to obtain something.",
                    "context": {
                        "Context 1": "I couldn't access the documents because I forgot my password.",
                        "Context 2": "The library provides access to a wide range of books and resources.",
                        "Context 3": "He found it difficult to access the mountain trail due to heavy snow."
                    }
                },
                {
                    "word": "Motivation",
                    "definition": "The reason or reasons one has for acting or behaving in a particular way.",
                    "context": {
                        "Context 1": "Her motivation to learn English came from her desire to travel.",
                        "Context 2": "The coach's speech was a great motivation for the team before the big game.",
                        "Context 3": "He lacked motivation to finish his homework after a long day."
                    }
                },
                {
                    "word": "Culture",
                    "definition": "The social behavior and norms found in human societies.",
                    "context": {
                        "Context 1": "Learning about different cultures can broaden your perspective.",
                        "Context 2": "The festival celebrated the rich culture of the indigenous people.",
                        "Context 3": "He was fascinated by the culture of ancient Rome and its architecture."
                    }
                },
                {
                    "word": "Identity",
                    "definition": "The fact of being who or what a person or thing is.",
                    "context": {
                        "Context 1": "Learning a new language can help shape your identity.",
                        "Context 2": "She struggled with her identity after moving to a new country.",
                        "Context 3": "His identity as an artist was reflected in his unique style."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something written or spoken using different words.",
                    "context": {
                        "Context 1": "It's important to paraphrase the instructions to avoid plagiarism.",
                        "Context 2": "He had to paraphrase the poem to make it easier to understand.",
                        "Context 3": "The teacher asked the students to paraphrase the story in their own words."
                    }
                },
                {
                    "word": "Expand",
                    "definition": "To increase in size, number, or importance.",
                    "context": {
                        "Context 1": "You need to expand on your ideas in the essay.",
                        "Context 2": "The company plans to expand its operations to new countries.",
                        "Context 3": "She decided to expand her garden by adding more flowers."
                    }
                },
                {
                    "word": "Opportunities",
                    "definition": "A set of circumstances that makes it possible to do something.",
                    "context": {
                        "Context 1": "Studying abroad provides many opportunities for personal growth.",
                        "Context 2": "He missed several job opportunities because he didn't apply in time.",
                        "Context 3": "The fair offered opportunities for local artists to showcase their work."
                    }
                },
                {
                    "word": "Wisdom",
                    "definition": "The quality of having experience, knowledge, and good judgment.",
                    "context": {
                        "Context 1": "Her wisdom in making decisions is respected by everyone.",
                        "Context 2": "He sought wisdom from his elders before making a big choice.",
                        "Context 3": "The book is filled with wisdom about life and relationships."
                    }
                },
                {
                    "word": "Synchronize",
                    "definition": "To cause to occur or operate at the same time or rate.",
                    "context": {
                        "Context 1": "We need to synchronize our schedules to meet up.",
                        "Context 2": "The dancers had to synchronize their movements perfectly for the performance.",
                        "Context 3": "He tried to synchronize his watch with the official time."
                    }
                },
                {
                    "word": "Countable",
                    "definition": "Able to be counted; having a plural form.",
                    "context": {
                        "Context 1": "The teacher explained that 'books' is a countable noun.",
                        "Context 2": "In math, we often deal with countable and uncountable sets.",
                        "Context 3": "She had a countable number of cookies left in the jar."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Access",
                    "fact": "Did you know that the first computer password was set in 1961 and was just a simple '12345'?"
                },
                {
                    "word": "Culture",
                    "fact": "In some cultures, it's considered rude to finish all the food on your plate because it implies your host didn't provide enough!"
                },
                {
                    "word": "Wisdom",
                    "fact": "The phrase 'wise as an owl' comes from the fact that owls are often seen as symbols of wisdom in various cultures!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What do you call a teacher who never farts in public?",
                    "answer": "A private tutor!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Impart",
                    "definition": "To make information known; to communicate.",
                    "context": {
                        "Context 1": "Teachers impart knowledge to their students every day.",
                        "Context 2": "The chef wanted to impart his secret recipe to his apprentice.",
                        "Context 3": "During the meeting, the manager tried to impart the company's vision to the employees."
                    }
                },
                {
                    "word": "Wisdom",
                    "definition": "The quality of having experience, knowledge, and good judgment.",
                    "context": {
                        "Context 1": "The elderly often impart wisdom to younger generations.",
                        "Context 2": "His wisdom in financial matters made him a trusted advisor.",
                        "Context 3": "The book is filled with the wisdom of ancient philosophers."
                    }
                },
                {
                    "word": "Balance",
                    "definition": "An even distribution of weight enabling someone or something to remain upright and steady.",
                    "context": {
                        "Context 1": "It's important to maintain a balance between work and leisure.",
                        "Context 2": "The gymnast showed incredible balance on the beam.",
                        "Context 3": "Finding balance in life can lead to greater happiness."
                    }
                },
                {
                    "word": "Expand",
                    "definition": "To increase in size, number, or importance.",
                    "context": {
                        "Context 1": "We can expand this idea more in our essay.",
                        "Context 2": "The company plans to expand its operations into new markets.",
                        "Context 3": "As the balloon filled with air, it began to expand."
                    }
                },
                {
                    "word": "Connection",
                    "definition": "A relationship in which a person, thing, or idea is linked or associated with something else.",
                    "context": {
                        "Context 1": "We can develop our connection to them as we learn from them.",
                        "Context 2": "The connection between the two friends grew stronger over time.",
                        "Context 3": "There is a strong connection between diet and health."
                    }
                },
                {
                    "word": "Pensioner",
                    "definition": "A person who receives a pension, typically after retirement.",
                    "context": {
                        "Context 1": "Russian pensioners often face financial challenges.",
                        "Context 2": "The pensioner enjoyed his retirement by traveling the world.",
                        "Context 3": "Many pensioners volunteer in their communities."
                    }
                },
                {
                    "word": "Subjective",
                    "definition": "Based on or influenced by personal feelings, tastes, or opinions.",
                    "context": {
                        "Context 1": "Some might find the statement subjective, while others agree.",
                        "Context 2": "Art appreciation is often subjective and varies from person to person.",
                        "Context 3": "His subjective view on the movie was different from the critics' reviews."
                    }
                },
                {
                    "word": "Lengthy",
                    "definition": "Taking a long time to do or lasting a long time; long-winded.",
                    "context": {
                        "Context 1": "I always advise against writing too lengthy sentences.",
                        "Context 2": "The lengthy meeting exhausted everyone involved.",
                        "Context 3": "Her lengthy explanation made the topic more confusing."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern; a model.",
                    "context": {
                        "Context 1": "You have a lot of examples here to illustrate your point.",
                        "Context 2": "She used an example from her childhood to explain her perspective.",
                        "Context 3": "The teacher provided an example of a well-written essay."
                    }
                },
                {
                    "word": "Cause and Effect",
                    "definition": "The principle of causation; the relationship between events where one is the result of the other.",
                    "context": {
                        "Context 1": "It sounds illogical to mix cause and effect in your argument.",
                        "Context 2": "The cause and effect of climate change are widely studied.",
                        "Context 3": "In science class, we learned about cause and effect relationships."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Wisdom",
                    "fact": "The phrase 'wise old owl' comes from the fact that owls are often seen as symbols of wisdom, but they actually sleep for about 12 hours a day!"
                },
                {
                    "word": "Balance",
                    "fact": "Did you know that tightrope walkers often use a long pole to help them balance? It’s like having a really long arm!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the essay go to therapy?",
                    "answer": "Because it had too many run-on sentences!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Connector",
                    "definition": "A word or phrase that links ideas or sentences together.",
                    "context": {
                        "Context 1": "In the lesson, we discussed how a connector like 'for instance' can improve the flow of writing.",
                        "Context 2": "The teacher emphasized the importance of using connectors to make the essay more coherent.",
                        "Context 3": "During the meeting, she used several connectors to ensure everyone understood her points."
                    }
                },
                {
                    "word": "Convincing",
                    "definition": "Capable of causing someone to believe that something is true or real.",
                    "context": {
                        "Context 1": "The example provided was very convincing and supported the argument well.",
                        "Context 2": "His convincing speech won over the audience completely.",
                        "Context 3": "The magician's tricks were so convincing that the audience was left in awe."
                    }
                },
                {
                    "word": "Clarifications",
                    "definition": "Explanations or details that make something clearer.",
                    "context": {
                        "Context 1": "The student asked for clarifications on the differences between economic terms.",
                        "Context 2": "After the presentation, the manager provided clarifications to the team's questions.",
                        "Context 3": "The recipe included clarifications to ensure that even beginners could follow it."
                    }
                },
                {
                    "word": "Economics",
                    "definition": "The branch of knowledge concerned with the production, consumption, and transfer of wealth.",
                    "context": {
                        "Context 1": "We discussed how economics studies the processes of money and goods in a country.",
                        "Context 2": "She decided to major in economics because she was fascinated by market trends.",
                        "Context 3": "The economics of running a bakery can be quite complex, involving costs and pricing strategies."
                    }
                },
                {
                    "word": "Prudent",
                    "definition": "Acting with or showing care and thought for the future.",
                    "context": {
                        "Context 1": "Being prudent with finances is essential for long-term stability.",
                        "Context 2": "His prudent decision to save money paid off when he needed to buy a car.",
                        "Context 3": "The prudent approach to investing involves diversifying your portfolio."
                    }
                },
                {
                    "word": "Construct",
                    "definition": "An idea or theory containing various conceptual elements.",
                    "context": {
                        "Context 1": "The lesson emphasized the importance of using a strong construct in writing.",
                        "Context 2": "Her construct of happiness included both personal and professional fulfillment.",
                        "Context 3": "The architect's construct for the new building was innovative and sustainable."
                    }
                },
                {
                    "word": "Polishing",
                    "definition": "The process of making something smooth and shiny or improving it.",
                    "context": {
                        "Context 1": "We talked about polishing our essays before submission to enhance clarity.",
                        "Context 2": "He spent hours polishing his speech to ensure it was perfect.",
                        "Context 3": "The jeweler was polishing the ring to make it sparkle for the customer."
                    }
                },
                {
                    "word": "Quantifiers",
                    "definition": "Words or phrases that indicate quantity.",
                    "context": {
                        "Context 1": "The lesson covered how quantifiers like 'many' and 'more' are used in sentences.",
                        "Context 2": "In math, we often use quantifiers to describe sets of numbers.",
                        "Context 3": "The recipe called for quantifiers to specify how much of each ingredient was needed."
                    }
                },
                {
                    "word": "Time limit",
                    "definition": "A fixed period of time in which something must be done.",
                    "context": {
                        "Context 1": "The teacher set a time limit for writing the essay to encourage quick thinking.",
                        "Context 2": "In a race, the time limit can determine who qualifies for the next round.",
                        "Context 3": "The project had a strict time limit, so everyone had to work efficiently."
                    }
                },
                {
                    "word": "Awareness",
                    "definition": "Knowledge or perception of a situation or fact.",
                    "context": {
                        "Context 1": "The lesson aimed to increase students' awareness of grammatical errors.",
                        "Context 2": "Her awareness of environmental issues led her to start a recycling program.",
                        "Context 3": "The campaign raised awareness about the importance of mental health."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Connector",
                    "fact": "The longest word in English, 'pneumonoultramicroscopicsilicovolcanoconiosis,' could use a few connectors to make it more readable!"
                },
                {
                    "word": "Economics",
                    "fact": "The term 'economics' comes from the Greek word 'oikonomia,' which means 'household management.' So, next time you budget, think of yourself as an economist!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the essay go to therapy?",
                    "answer": "Because it had too many run-on sentences!"
                }
            ]
        },
        "vocabulary_5": {
            "vocabulary_list": [
                {
                    "word": "Quality",
                    "definition": "The standard of something as measured against other things of a similar kind; the degree of excellence of something.",
                    "context": {
                        "Context 1": "Your quality may drop if you rush through your work.",
                        "Context 2": "The quality of the food at the restaurant was exceptional.",
                        "Context 3": "He was known for the quality of his craftsmanship in woodworking."
                    }
                },
                {
                    "word": "Chaotic",
                    "definition": "In a state of complete confusion and disorder.",
                    "context": {
                        "Context 1": "First, it will be chaotic when you start a new project.",
                        "Context 2": "The chaotic traffic made it difficult to reach the airport on time.",
                        "Context 3": "Her chaotic room was filled with clothes and books everywhere."
                    }
                },
                {
                    "word": "Conclusions",
                    "definition": "Judgments or decisions reached after consideration.",
                    "context": {
                        "Context 1": "You draw some conclusions after analyzing your work.",
                        "Context 2": "The scientist presented her conclusions at the conference.",
                        "Context 3": "After much debate, they finally reached conclusions about the best course of action."
                    }
                },
                {
                    "word": "Improve",
                    "definition": "To make or become better.",
                    "context": {
                        "Context 1": "You can ask yourself how you can improve here.",
                        "Context 2": "She took a course to improve her public speaking skills.",
                        "Context 3": "Regular exercise can improve your overall health."
                    }
                },
                {
                    "word": "Mistakes",
                    "definition": "An action or judgment that is misguided or wrong.",
                    "context": {
                        "Context 1": "You correct obvious mistakes in your essay.",
                        "Context 2": "Everyone makes mistakes; it's part of learning.",
                        "Context 3": "He learned from his mistakes and became a better player."
                    }
                },
                {
                    "word": "Succeed",
                    "definition": "To achieve the desired aim or result.",
                    "context": {
                        "Context 1": "At some point, you will succeed if you keep trying.",
                        "Context 2": "She worked hard to succeed in her career.",
                        "Context 3": "They believe that teamwork is essential to succeed in any project."
                    }
                },
                {
                    "word": "Attitude",
                    "definition": "A settled way of thinking or feeling about something.",
                    "context": {
                        "Context 1": "I really like that attitude of having no other choice.",
                        "Context 2": "His positive attitude helped motivate the team.",
                        "Context 3": "She approached the challenge with a can-do attitude."
                    }
                },
                {
                    "word": "Grasp",
                    "definition": "To seize and hold firmly; to understand fully.",
                    "context": {
                        "Context 1": "I can barely grasp the words you say.",
                        "Context 2": "He struggled to grasp the complex math concepts.",
                        "Context 3": "She had a firm grasp on the situation and knew what to do."
                    }
                },
                {
                    "word": "Farewell",
                    "definition": "An expression of good wishes when someone leaves.",
                    "context": {
                        "Context 1": "I bid my farewell as we ended the meeting.",
                        "Context 2": "They threw a farewell party for their friend moving away.",
                        "Context 3": "His farewell speech was emotional and heartfelt."
                    }
                },
                {
                    "word": "Enjoy",
                    "definition": "To take delight or pleasure in something.",
                    "context": {
                        "Context 1": "Enjoy your day as we conclude our lesson.",
                        "Context 2": "She enjoys painting in her free time.",
                        "Context 3": "They enjoy hiking in the mountains every summer."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Chaotic",
                    "fact": "The word 'chaotic' comes from the Greek word 'khaos,' which means 'void' or 'chasm.' So, next time you feel chaotic, just remember you’re channeling ancient Greek vibes!"
                },
                {
                    "word": "Succeed",
                    "fact": "Did you know that the word 'succeed' originally meant 'to come after'? So, if you’re succeeding, you’re just following in the footsteps of those who tried before you!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going today?"
                },
                {
                    "Person 2": "Pretty good! Just getting ready for work later. How about you?"
                },
                {
                    "Person 1": "Same here! I’ve got a few hours before I need to start. Just enjoying some downtime."
                },
                {
                    "Person 2": "Nice! You know, I was just thinking about how many t-shirts I have. I feel like I wear the same ones all the time."
                },
                {
                    "Person 1": "Oh, I totally get that! I have a ton of t-shirts, but I end up wearing the same few favorites."
                },
                {
                    "Person 2": "Right? It’s like, I have all these options, but I just stick to what I know."
                },
                {
                    "Person 1": "Exactly! And I always feel a bit guilty about it, like I should be more adventurous with my wardrobe."
                },
                {
                    "Person 2": "Yeah, but who has the time to think about outfits every day? I just grab what’s clean!"
                },
                {
                    "Person 1": "True! And speaking of outfits, I’ve been trying to rearrange my room a bit. It feels like a puzzle sometimes."
                },
                {
                    "Person 2": "I know what you mean! I always try to find the best angle for my setup, and it can be a challenge."
                },
                {
                    "Person 1": "For sure! I’ve got some art on my walls, but I feel like I should display more of my own stuff."
                },
                {
                    "Person 2": "That’s cool! What kind of art do you have?"
                },
                {
                    "Person 1": "I’ve got a few drawings I did, mostly of animals. I think they’re pretty funny!"
                },
                {
                    "Person 2": "Nice! I’d love to see them. I always admire people who can draw."
                },
                {
                    "Person 1": "Thanks! I also have a portrait of a musician I like. It was for his birthday last year."
                },
                {
                    "Person 2": "That’s awesome! It’s great to create something for someone you admire."
                },
                {
                    "Person 1": "Yeah, it feels special. By the way, do you watch movies in English or do you prefer translations?"
                },
                {
                    "Person 2": "I mostly watch in English, but I grew up with the translated versions. They have a special place for me."
                },
                {
                    "Person 1": "I get that! It’s interesting how our experiences shape what we prefer."
                },
                {
                    "Person 2": "Exactly! And speaking of experiences, why do you think we learn languages?"
                },
                {
                    "Person 1": "For me, it started with a specific interest I couldn’t find much info on in my native language."
                },
                {
                    "Person 2": "That makes sense! I think for me, it was about connecting with others who share similar interests."
                },
                {
                    "Person 1": "Totally! It’s amazing how language opens up new worlds and communities."
                },
                {
                    "Person 2": "Absolutely! We should keep this conversation going. It’s nice to chat!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going today?"
                },
                {
                    "Person 2": "Not too bad! Just trying to figure out this tech stuff. You know how it is."
                },
                {
                    "Person 1": "Oh, tell me about it! My phone is so outdated, I can't even update my apps."
                },
                {
                    "Person 2": "Ugh, that’s frustrating! I had to get a new laptop because mine was just too slow."
                },
                {
                    "Person 1": "Right? It’s like, how do we keep up with all this tech? I feel like I'm always behind."
                },
                {
                    "Person 2": "Same here! I just want to watch my shows without buffering every five minutes."
                },
                {
                    "Person 1": "Exactly! And don’t even get me started on video calls. Half the time, I can’t even get my camera to work."
                },
                {
                    "Person 2": "I know what you mean! I had a meeting last week where I couldn’t get my mic to work. So embarrassing!"
                },
                {
                    "Person 1": "Oh no! That’s the worst. Did you just sit there silently?"
                },
                {
                    "Person 2": "Pretty much! I was waving my hands like a maniac until someone noticed."
                },
                {
                    "Person 1": "Haha! That’s classic. At least you got their attention!"
                },
                {
                    "Person 2": "True! But I really need to get my tech sorted out. Maybe I should just ask for help."
                },
                {
                    "Person 1": "Yeah, that’s a good idea! Sometimes it’s just easier to ask someone who knows what they’re doing."
                },
                {
                    "Person 2": "Definitely! Anyway, what are you up to this weekend? Any plans?"
                },
                {
                    "Person 1": "Thinking about catching up on some reading. How about you?"
                },
                {
                    "Person 2": "I might binge-watch a new series. Gotta balance out all this tech frustration!"
                },
                {
                    "Person 1": "Sounds like a plan! Enjoy it!"
                },
                {
                    "Person 2": "You too! Let’s catch up later!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a finish, right? I thought the other team had it in the bag."
                },
                {
                    "Person 1": "I know! I was on the edge of my seat. That last-minute goal was insane!"
                },
                {
                    "Person 2": "Totally! I couldn't believe it. I was jumping around my living room."
                },
                {
                    "Person 1": "Same here! I even spilled my popcorn everywhere. Worth it, though!"
                },
                {
                    "Person 2": "Haha, I can relate! So, what do you think about their chances for the playoffs?"
                },
                {
                    "Person 1": "I think they have a good shot if they keep playing like that. The team chemistry seems solid."
                },
                {
                    "Person 2": "Agreed! Plus, their defense has really stepped up lately."
                },
                {
                    "Person 1": "Yeah, it's nice to see them working together. Makes the games so much more exciting."
                },
                {
                    "Person 2": "For sure! Hey, we should catch the next game together. It’ll be more fun."
                },
                {
                    "Person 1": "Absolutely! Let’s plan for it. I’ll bring the snacks this time."
                },
                {
                    "Person 2": "Deal! I’ll bring the drinks. Can’t wait!"
                },
                {
                    "Person 1": "Me neither! It’s going to be a blast."
                },
                {
                    "Person 2": "Definitely! See you then!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh man, I missed it! How did it go?"
                },
                {
                    "Person 1": "It was intense! We were down by ten points at halftime, but we made a huge comeback."
                },
                {
                    "Person 2": "No way! That's awesome! Who scored the winning points?"
                },
                {
                    "Person 1": "It was our new guy, Jake. He hit a three-pointer right at the buzzer!"
                },
                {
                    "Person 2": "Wow, sounds like he’s a game changer! I need to watch the highlights."
                },
                {
                    "Person 1": "Definitely! You won't believe the crowd's reaction. It was wild!"
                },
                {
                    "Person 2": "I can imagine! I love when games get that exciting. Are you going to the next game?"
                },
                {
                    "Person 1": "For sure! I already got my tickets. You should come with me!"
                },
                {
                    "Person 2": "Count me in! I’ll bring some snacks. What do you think we should bring?"
                },
                {
                    "Person 1": "Popcorn and some drinks sound perfect! Can't wait!"
                },
                {
                    "Person 2": "Same here! It’s going to be a blast!"
                },
                {
                    "Person 1": "Absolutely! Let’s hope for another great game!"
                },
                {
                    "Person 2": "Fingers crossed! See you then!"
                }
            ]
        },
        "dialogue_5": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to get through this week. How about you?"
                },
                {
                    "Person 1": "Same here! Work has been a bit chaotic lately."
                },
                {
                    "Person 2": "I hear you. Sometimes it feels like everything is happening at once."
                },
                {
                    "Person 1": "Exactly! I keep telling myself to just take it one step at a time."
                },
                {
                    "Person 2": "That’s a good mindset. I usually try to focus on what I can improve each day."
                },
                {
                    "Person 1": "Right? Like, if I mess up, I just think about how to do better next time."
                },
                {
                    "Person 2": "Totally! It’s all about learning from our mistakes."
                },
                {
                    "Person 1": "For sure! So, any fun plans for the weekend?"
                },
                {
                    "Person 2": "I might just relax and catch up on some shows. What about you?"
                },
                {
                    "Person 1": "I’m thinking of going hiking if the weather’s nice."
                },
                {
                    "Person 2": "That sounds awesome! Fresh air always helps clear the mind."
                },
                {
                    "Person 1": "Definitely! Alright, I should get back to work. Let’s catch up later?"
                },
                {
                    "Person 2": "For sure! Good luck with everything!"
                },
                {
                    "Person 1": "Thanks! You too! Talk soon!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
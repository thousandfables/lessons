<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "Yes, now all is good.",
                    "corrected": "Yes, everything is good now.",
                    "explanation": "'All is good' is not idiomatic; 'everything is good now' is more natural.",
                    "context": "At first, there were some issues with the video call. Yes, everything is good now. We're ready to continue with the lesson."
                },
                {
                    "original": "Because we started cold time.",
                    "corrected": "Because we've entered the cold season.",
                    "explanation": "'Started cold time' is awkward; 'entered the cold season' is clearer and more idiomatic.",
                    "context": "With the change in weather, I noticed it's getting colder. Because we've entered the cold season, I've adjusted my wardrobe for warmth."
                },
                {
                    "original": "I thought that I, yes, I should go in laboratory.",
                    "corrected": "I thought that I should go to the laboratory.",
                    "explanation": "'Go in laboratory' is incorrect; the correct phrase is 'go to the laboratory.'",
                    "context": "I had expected to be productive today. I thought that I should go to the laboratory to work on my projects."
                },
                {
                    "original": "And sometimes about my lazy a little bit, twice.",
                    "corrected": "And sometimes I'm a little bit lazy.",
                    "explanation": "'About my lazy a little bit, twice' is awkward; the correct form is to say 'I'm a little bit lazy.'",
                    "context": "Working on my projects can be challenging. And sometimes I'm a little bit lazy, which makes it hard to stay focused."
                },
                {
                    "original": "It's strange, very interesting income.",
                    "corrected": "It's a strange and very interesting source of income.",
                    "explanation": "Missing 'a' and 'source of' to clarify meaning; it needs to specify what kind of income.",
                    "context": "I have an unconventional job setup. It's a strange and very interesting source of income, and it keeps me engaged."
                },
                {
                    "original": "I work in three laboratories now.",
                    "corrected": "I currently work in three laboratories.",
                    "explanation": "'Now' is less formal; 'currently' fits better in this context.",
                    "context": "I've taken on multiple responsibilities. I currently work in three laboratories, balancing various projects."
                },
                {
                    "original": "But now I have some strange dispute next to my managers.",
                    "corrected": "But now I have some strange disputes with my managers.",
                    "explanation": "'Dispute next to my managers' is incorrect; we have 'disputes with' to show disagreement.",
                    "context": "There have been some complications lately. But now I have some strange disputes with my managers regarding project expectations."
                },
                {
                    "original": "I believed he studied in Russia and you met in Russia, right?",
                    "corrected": "I believe he studied in Russia and that you met there, right?",
                    "explanation": "Should use present tense 'believe' for current context; 'that' adds clarity.",
                    "context": "I’m curious about his background. I believe he studied in Russia and that you met there, right?"
                },
                {
                    "original": "When did he graduate? When? When did he graduate?",
                    "corrected": "When did he graduate?",
                    "explanation": "Repetition is unnecessary; one question is sufficient.",
                    "context": "There seems to be confusion about the timeline. When did he graduate? I want to understand his educational path."
                },
                {
                    "original": "He finished the Haylor's degree.",
                    "corrected": "He finished his bachelor's degree.",
                    "explanation": "Incorrect term 'Haylor's'; should simply state 'bachelor's degree.'",
                    "context": "I want to clarify his educational background. He finished his bachelor's degree two years ago."
                },
                {
                    "original": "But his second year he worked in laboratory.",
                    "corrected": "But in his second year, he worked in a laboratory.",
                    "explanation": "Missing articles 'a' and 'in'; need to clarify the timing with commas.",
                    "context": "His studies are progressing. But in his second year, he worked in a laboratory and gained practical experience."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I had been creating paper flowers during whole month and half.",
                    "corrected": "I had been creating paper flowers for a whole month and a half.",
                    "explanation": "The phrase 'during whole month and half' is incorrect in this context; 'for a whole month and a half' correctly indicates the duration of time.",
                    "context": "I worked very hard on my wedding decorations. I had been creating paper flowers for a whole month and a half. It felt like a long time, but it was worth it for the wedding."
                },
                {
                    "original": "Well, not exactly like that.",
                    "corrected": "Well, it's not exactly like that.",
                    "explanation": "The phrase is missing the subject 'it'; 'it's not exactly like that' is the correct form.",
                    "context": "During our discussion about mental health, I realized I had to clarify my point. Well, it's not exactly like that. Mental health is not going to get spoiled without tradition, but the mood will improve."
                },
                {
                    "original": "I am not sure should I do it in this example or not.",
                    "corrected": "I am not sure whether I should do it in this example or not.",
                    "explanation": "'Should I do it' needs 'whether' to indicate the uncertainty more clearly.",
                    "context": "As I was contemplating my writing approach, I felt unsure. I am not sure whether I should do it in this example or not. I want to make sure I convey my ideas effectively."
                },
                {
                    "original": "Answers the question better.",
                    "corrected": "Which one answers the question better?",
                    "explanation": "The original is improper as a standalone phrase; it needs a subject or introductory phrase.",
                    "context": "As we evaluated the plans for our essays, I wanted to emphasize clarity. I asked, 'Which one answers the question better?'"
                },
                {
                    "original": "I think that maybe I even used it right on it before.",
                    "corrected": "I think that maybe I have even used it correctly before.",
                    "explanation": "The correct form should use 'have' for present perfect tense and 'correctly' instead of 'right' for adverb usage.",
                    "context": "Reflecting on my previous experience with the topic, I felt nostalgic. I think that maybe I have even used it correctly before, but I’m not sure."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "But for the state, why is it important? Less people go.",
                    "corrected": "But for the state, why is it important? Fewer people go.",
                    "explanation": "'Less' is used with uncountable nouns, while 'fewer' should be used with countable nouns like 'people'.",
                    "context": "While discussing the significance of holiday celebrations for the state, I questioned why it matters to them. Fewer people go to celebrations, which could be a concern for the state."
                },
                {
                    "original": "Okay, good. What kind of an example we can give to support that?",
                    "corrected": "Okay, good. What kind of example can we give to support that?",
                    "explanation": "The phrase should be structured as 'What kind of example can we give', omitting 'an' before 'example'.",
                    "context": "After agreeing on an idea, I wanted to explore supporting examples. I asked, 'What kind of example can we give to support that?'"
                },
                {
                    "original": "Is there a word for scrupulous in English?",
                    "corrected": "Is there a word for 'scrupulous' in English?",
                    "explanation": "Direct quotes or specific terms should be enclosed in quotation marks.",
                    "context": "While clarifying the terminology, I asked, 'Is there a word for 'scrupulous' in English?' to confirm understanding."
                },
                {
                    "original": "Or if we don't remember this word, we can simply say the head of the city.",
                    "corrected": "Or if we don't remember that word, we can simply say the head of the city.",
                    "explanation": "'This' should be replaced with 'that' when referring to something mentioned previously.",
                    "context": "Discussing vocabulary, I stated that if we forget the precise term, we can refer to it differently. We can say, 'Or if we don't remember that word, we can simply say the head of the city.'"
                },
                {
                    "original": "Therefore... Okay. No, no, no, not because.",
                    "corrected": "Therefore... Okay. No, no, no, not 'because'.",
                    "explanation": "Specific words in speech need to be enclosed in quotation marks for clarity when distinguishing terms.",
                    "context": "While attempting to clarify the reasoning, I began with 'Therefore' but quickly corrected myself, saying, 'No, no, no, not 'because'.'"
                },
                {
                    "original": "In one proposal, well, okay, in two proposals, the point, the essence, what is the first step?",
                    "corrected": "In one proposal, well, okay, in two proposals, what is the main point?",
                    "explanation": "The phrase 'the point, the essence' is awkward; simplifying it to 'the main point' enhances clarity.",
                    "context": "In discussing ideas, I tried to outline the fundamental concepts, asking, 'In one proposal, well, okay, in two proposals, what is the main point?'"
                },
                {
                    "original": "I thought to lean towards the fact that people work better, so it went wrong.",
                    "corrected": "I thought I'd lean towards the idea that people work better, but it didn't turn out that way.",
                    "explanation": "The phrasing can be clearer by using 'I'd' and changing 'so it went wrong' to 'but it didn't turn out that way'.",
                    "context": "As we discussed people's productivity, I mentioned my initial thought, saying, 'I thought I'd lean towards the idea that people work better, but it didn't turn out that way.'"
                },
                {
                    "original": "In fact, how does this explanation example work?",
                    "corrected": "In fact, how does this explanation or example work?",
                    "explanation": "Adding 'or' clarifies the duality of explanation and example being discussed.",
                    "context": "We were trying to understand the relevance of our points, prompting me to ask, 'In fact, how does this explanation or example work?'"
                },
                {
                    "original": "But where is the proof that it really works?",
                    "corrected": "But where is the evidence that it really works?",
                    "explanation": "'Proof' is often used in mathematical or legal contexts, while 'evidence' is more appropriate for general usage.",
                    "context": "In examining the justification of our claims, I questioned, 'But where is the evidence that it really works?'"
                },
                {
                    "original": "It's not good for the economy, but it's worth it.",
                    "corrected": "It's not good for the economy, but it may be worth it.",
                    "explanation": "Adding 'may' indicates uncertainty and reflects the subjective nature of value judgments.",
                    "context": "While discussing the impact of holiday spending, I stated, 'It's not good for the economy, but it may be worth it.'"
                },
                {
                    "original": "It's a good idea, right?",
                    "corrected": "It's a good idea, isn't it?",
                    "explanation": "Tag questions are typically formed with the auxiliary verb that matches the main verb, so 'isn't it' should be used here.",
                    "context": "To conclude my thoughts on our discussion, I sought affirmation by asking, 'It's a good idea, isn't it?'"
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "people work much worse in the working conditions than in other countries.",
                    "corrected": "people work in much worse conditions than in other countries.",
                    "explanation": "The phrase 'in the working conditions' is awkward; it should be 'in much worse conditions' for clarity and conciseness.",
                    "context": "In discussing work culture, it's evident that people work in much worse conditions than in other countries. This disparity impacts their willingness to leave their jobs."
                },
                {
                    "original": "Then it's a little bit about the fact that they leave.",
                    "corrected": "Then it's a little bit about the fact that they don't leave.",
                    "explanation": "The original sentence contradicts itself; it should clarify that people continue to stay rather than leave.",
                    "context": "It’s interesting to note the reasons behind their stay. They don’t leave these workplaces despite the poor conditions."
                },
                {
                    "original": "Why is it profitable for business to do large corporate events at the end of the year?",
                    "corrected": "Why is it profitable for businesses to hold large corporate events at the end of the year?",
                    "explanation": "The plural 'businesses' is more accurate, and 'hold' is the correct term to use with events instead of 'do.'",
                    "context": "One topic we discussed was the profitability of large corporate events at the end of the year. Why is it profitable for businesses to hold these types of events?"
                },
                {
                    "original": "you feel like you are here with your own.",
                    "corrected": "you feel like you are here with your own people.",
                    "explanation": "The phrase 'with your own' is incomplete; 'with your own people' clarifies the sentiment of belonging.",
                    "context": "You really feel that sense of belonging. You feel like you are here with your own people, creating a strong community."
                },
                {
                    "original": "There is also something to write at the end.",
                    "corrected": "There is also something to add at the end.",
                    "explanation": "'Something to write' is vague; 'something to add' is clearer and more precise in this context.",
                    "context": "In discussing the conclusion of the essay, I realize there is also something to add at the end that might enhance the overall message."
                },
                {
                    "original": "I see such very strange formulations, very strange words.",
                    "corrected": "I see some very strange formulations and words.",
                    "explanation": "The use of 'such' is unnecessary; 'some' works better for indicating examples, and 'and' connects the phrases more fluidly.",
                    "context": "As I review the work, I see some very strange formulations and words that need clarification."
                },
                {
                    "original": "This example is generally not in the topic.",
                    "corrected": "This example is generally not on topic.",
                    "explanation": "'In the topic' is incorrect; it should be 'on topic' to indicate relevance to the discussion.",
                    "context": "Evaluating examples provided, I noted that this example is generally not on topic, and it requires adjustment."
                },
                {
                    "original": "that is, you need to rethink the idea itself.",
                    "corrected": "that is, you need to rethink the ideas themselves.",
                    "explanation": "The plural 'ideas' is more appropriate here if discussing multiple thoughts, and 'itself' does not align with the context.",
                    "context": "As we refine the essays, that is, you need to rethink the ideas themselves to improve clarity and focus."
                },
                {
                    "original": "you need to rewrite here and you need to think about how to simplify this essay.",
                    "corrected": "You need to rewrite it and think about how to simplify this essay.",
                    "explanation": "The original phrasing is redundant; 'rewrite it' is clearer, and simplifying the sentence improves flow.",
                    "context": "Lastly, you need to rewrite it and think about how to simplify this essay to ensure it communicates effectively."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Laboratory",
                    "definition": "A room or building equipped for scientific experiments, research, or teaching.",
                    "context": {
                        "Context 1": "I have never been to the laboratory during two weeks because of my health.",
                        "Context 2": "The laboratory was filled with the latest technology for conducting experiments.",
                        "Context 3": "He set up a mini-laboratory in his garage to brew his own beer."
                    }
                },
                {
                    "word": "Curly hair",
                    "definition": "Hair that has a spiral or wavy structure.",
                    "context": {
                        "Context 1": "I wake up with waves when I sleep with wet hair.",
                        "Context 2": "They always said that curly hair needs more products to keep it styled.",
                        "Context 3": "After the rain, my curly hair looked like a puffy cloud."
                    }
                },
                {
                    "word": "Stavka",
                    "definition": "A term used in Russian referring to a workplace or job position.",
                    "context": {
                        "Context 1": "I have never heard about 'stavka' in the context of your basic income.",
                        "Context 2": "He needs to find a stavka that pays well so he can save for his travels.",
                        "Context 3": "During the meeting, she explained her stavka and the responsibilities it entails."
                    }
                },
                {
                    "word": "Immunology",
                    "definition": "The branch of biology that deals with the immune system and its responses.",
                    "context": {
                        "Context 1": "My boyfriend is in immunology, working with the immune system.",
                        "Context 2": "Immunology studies have led to breakthroughs in vaccine development.",
                        "Context 3": "After watching a documentary on immunology, I became fascinated with how vaccines work."
                    }
                },
                {
                    "word": "Workplace",
                    "definition": "A location where a person works, such as an office or factory.",
                    "context": {
                        "Context 1": "There are no places for the workplace in the new laboratory.",
                        "Context 2": "He was promoted to manager at his workplace after two years of hard work.",
                        "Context 3": "The new workplace policy emphasized remote work and flexible hours."
                    }
                },
                {
                    "word": "Free time",
                    "definition": "Time available for hobbies and leisure activities.",
                    "context": {
                        "Context 1": "I decided it's a free night and I will relax at home.",
                        "Context 2": "During my free time, I love to read novels and go hiking.",
                        "Context 3": "His free time is often spent volunteering at the local animal shelter."
                    }
                },
                {
                    "word": "Dispute",
                    "definition": "A disagreement or argument, especially one that leads to conflict.",
                    "context": {
                        "Context 1": "I have some strange disputes with my managers from different laboratories.",
                        "Context 2": "The dispute over the property line was finally settled in court.",
                        "Context 3": "They got into a dispute about which movie to watch on movie night."
                    }
                },
                {
                    "word": "Non-official",
                    "definition": "Not recognized by the authority or not formal.",
                    "context": {
                        "Context 1": "I have non-official income from one of the laboratories.",
                        "Context 2": "He worked in a non-official capacity for the organization during the summer.",
                        "Context 3": "The non-official meeting led to many unexpected ideas being shared."
                    }
                },
                {
                    "word": "Complicated",
                    "definition": "Something that is difficult to understand or deal with.",
                    "context": {
                        "Context 1": "Everything is complicated when it comes to jobs and life in Germany.",
                        "Context 2": "The instructions for assembling the furniture were so complicated that I gave up.",
                        "Context 3": "Her relationships have always been complicated, full of unexpected turns."
                    }
                },
                {
                    "word": "Walk off",
                    "definition": "To leave a job or situation suddenly or angrily.",
                    "context": {
                        "Context 1": "It sounds strange, but walk off works when we're talking about leaving a job.",
                        "Context 2": "He decided to walk off from the meeting after the hostile discussion.",
                        "Context 3": "When things got tough, she thought about just walking off the project."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Laboratory",
                    "fact": "Did you know that some laboratories around the world have experiments involving weird combinations like gummy bears and extreme temperatures?"
                },
                {
                    "word": "Immunology",
                    "fact": "The field of immunology is so advanced that scientists have developed a vaccine for almost every known disease—except for a vaccine against forgetting where you parked your car!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the scientist bring a ladder to the laboratory?",
                    "answer": "Because they wanted to reach new heights in their research!"
                },
                {
                    "question": "Why don’t biologists ever get lost?",
                    "answer": "Because they always know how to follow 'cell' signals!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Perfect Continuous",
                    "definition": "A verb tense that expresses actions that began in the past and continue up to a specific point in the present or future.",
                    "context": {
                        "Context 1": "I had been preparing for the event for a month by the time it arrived.",
                        "Context 2": "The perfect continuous tense is often used in cooking shows when describing how food is prepared.",
                        "Context 3": "He had been playing the guitar for ten years before he formed his band."
                    }
                },
                {
                    "word": "Decorate",
                    "definition": "To make something look more attractive by adding items or colors.",
                    "context": {
                        "Context 1": "I decorated the wedding arch with beautiful flowers and ribbons.",
                        "Context 2": "They decided to decorate their house with Halloween themes this year.",
                        "Context 3": "She loves to decorate her cake with colorful icing."
                    }
                },
                {
                    "word": "Mood",
                    "definition": "A temporary state of mind or feeling.",
                    "context": {
                        "Context 1": "The decorations helped to lift the mood of the guests at the wedding.",
                        "Context 2": "His mood changes with the weather; he's always happier when it's sunny.",
                        "Context 3": "The movie had a gloomy mood that resonated with many viewers."
                    }
                },
                {
                    "word": "Tradition",
                    "definition": "A long-established custom or practice that is passed down through generations.",
                    "context": {
                        "Context 1": "Discussing traditions can often be a complex topic for essays.",
                        "Context 2": "Every year, our family has the tradition of making gingerbread houses at Christmas.",
                        "Context 3": "In many cultures, tradition plays a vital role in community bonding."
                    }
                },
                {
                    "word": "Support",
                    "definition": "To provide assistance, resources, or approval to someone or something.",
                    "context": {
                        "Context 1": "The government should support cultural traditions to strengthen community ties.",
                        "Context 2": "She supports local artists by buying their work and promoting them.",
                        "Context 3": "They launched a campaign to support wildlife conservation efforts."
                    }
                },
                {
                    "word": "Economics",
                    "definition": "The branch of knowledge concerned with the production, consumption, and transfer of wealth.",
                    "context": {
                        "Context 1": "The essay suggested that supporting traditions could boost local economics.",
                        "Context 2": "He studied economics to understand how markets operate and influence society.",
                        "Context 3": "Understanding economics is essential for anyone interested in running a business."
                    }
                },
                {
                    "word": "Mental Health",
                    "definition": "A person's condition with regard to their psychological and emotional well-being.",
                    "context": {
                        "Context 1": "Traditions can have a positive impact on mental health by fostering connections among people.",
                        "Context 2": "Mental health awareness has increased significantly over the past decade.",
                        "Context 3": "She practices yoga to improve her mental health and reduce stress."
                    }
                },
                {
                    "word": "Tweak",
                    "definition": "To make small adjustments or improvements to something.",
                    "context": {
                        "Context 1": "We need to tweak the essay to better address the main question.",
                        "Context 2": "The engineers tweaked the design of the car for better aerodynamics.",
                        "Context 3": "I had to tweak the recipe since I didn't have all the ingredients."
                    }
                },
                {
                    "word": "Correspond",
                    "definition": "To match or be in agreement with something; to communicate in writing.",
                    "context": {
                        "Context 1": "The essay’s theme should correspond to the given title.",
                        "Context 2": "He decided to correspond with his old friends from school through letters.",
                        "Context 3": "Their values correspond with the mission of the organization."
                    }
                },
                {
                    "word": "Lift",
                    "definition": "To raise or move to a higher position or level.",
                    "context": {
                        "Context 1": "We can lift the mood of the citizens during significant holidays.",
                        "Context 2": "He had to lift the heavy box over his head to place it on the shelf.",
                        "Context 3": "The new measures aim to lift people out of poverty."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Decorate",
                    "fact": "Did you know that people decorate Christmas trees with not just ornaments, but also edible treats like candy canes and popcorn?"
                },
                {
                    "word": "Mood",
                    "fact": "In a study, they found that looking at cute animal pictures can instantly improve your mood—so keep those puppy memes handy!"
                },
                {
                    "word": "Tradition",
                    "fact": "In some cultures, it's traditional to celebrate birthdays with songs, while others might feature “smashing” a cake - it's not always sweet!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the egg hide?",
                    "answer": "Because it was a little chicken!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Celebrate",
                    "definition": "To acknowledge a significant event or occasion with joy or festivities.",
                    "context": {
                        "Context 1": "Many people celebrate New Year's Eve with parties and fireworks.",
                        "Context 2": "She decided to celebrate her birthday with a quiet dinner at home.",
                        "Context 3": "The town will celebrate its anniversary with a parade and festivities."
                    }
                },
                {
                    "word": "Tradition",
                    "definition": "A long-established custom or practice that is passed down through generations.",
                    "context": {
                        "Context 1": "In many cultures, it is a tradition to exchange gifts during the holidays.",
                        "Context 2": "The family has a tradition of going to the beach every summer.",
                        "Context 3": "Singing carols is a popular tradition during Christmas time."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "Seeing the world from a different perspective can change your opinions.",
                        "Context 2": "In art, perspective is used to create depth and dimension in paintings.",
                        "Context 3": "From her perspective, the decision seemed unfair and rushed."
                    }
                },
                {
                    "word": "Integration",
                    "definition": "The process of combining or incorporating parts into a whole.",
                    "context": {
                        "Context 1": "Cultural integration can enhance unity in diverse communities.",
                        "Context 2": "He faced challenges with the integration of new software into the system.",
                        "Context 3": "Integration of technology in classrooms can benefit student learning."
                    }
                },
                {
                    "word": "Governor",
                    "definition": "An elected executive head of a state or region.",
                    "context": {
                        "Context 1": "The governor announced new policies to improve local education.",
                        "Context 2": "During the crisis, the governor held a press conference to address the public.",
                        "Context 3": "The governor of the state is responsible for managing resources and budgets."
                    }
                },
                {
                    "word": "Indicator",
                    "definition": "A sign or piece of information that indicates something.",
                    "context": {
                        "Context 1": "Rising sales can be an indicator of a healthy economy.",
                        "Context 2": "Temperature is an important indicator of climate change.",
                        "Context 3": "The traffic light is an indicator of when to stop or go."
                    }
                },
                {
                    "word": "Enthusiasm",
                    "definition": "Intense and eager enjoyment, interest, or approval.",
                    "context": {
                        "Context 1": "Her enthusiasm for the project motivated everyone involved.",
                        "Context 2": "He approached the new hobby with great enthusiasm and excitement.",
                        "Context 3": "The audience expressed enthusiasm with loud applause and cheers."
                    }
                },
                {
                    "word": "Economy",
                    "definition": "The system by which goods and services are produced, distributed, and consumed.",
                    "context": {
                        "Context 1": "A strong economy often leads to increased job opportunities.",
                        "Context 2": "The government's policies directly impact the overall economy of the country.",
                        "Context 3": "He studied the economy to understand better how financial markets work."
                    }
                },
                {
                    "word": "Support",
                    "definition": "To bear all or part of the weight; to uphold or sustain.",
                    "context": {
                        "Context 1": "The community came together to support local businesses during the pandemic.",
                        "Context 2": "She needed emotional support when going through a tough time.",
                        "Context 3": "The government plans to support renewable energy initiatives."
                    }
                },
                {
                    "word": "Holiday",
                    "definition": "A day of festivity or recreation when no work is done.",
                    "context": {
                        "Context 1": "New Year's Day is a public holiday celebrated in many countries.",
                        "Context 2": "She planned her holiday to Italy months in advance.",
                        "Context 3": "During the holiday season, many people travel to see their families."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Celebrate",
                    "fact": "In some cultures, it's believed that if you don't celebrate your birthday, you won't grow a year older!"
                },
                {
                    "word": "Tradition",
                    "fact": "In Japan, it's a tradition to eat noodles on New Year's for long life – the longer the noodle, the longer the life!"
                },
                {
                    "word": "Holiday",
                    "fact": "Did you know that in Spain, they celebrate Christmas by eating 12 grapes at midnight for good luck?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the celebration get out of hand?",
                    "answer": "Because they couldn’t find the party pooper!"
                },
                {
                    "question": "What do you call a holiday that’s only celebrated on the internet?",
                    "answer": "Web-ster Day!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Profitable",
                    "definition": "Financially beneficial; yielding profit.",
                    "context": {
                        "Context 1": "It is profitable for businesses to invest in employee training to improve productivity.",
                        "Context 2": "She found a profitable side hustle selling handmade crafts online.",
                        "Context 3": "The restaurant was not profitable due to high rent and low customer traffic."
                    }
                },
                {
                    "word": "Emotionally attached",
                    "definition": "Having a deep personal connection to someone or something.",
                    "context": {
                        "Context 1": "Many people are emotionally attached to their childhood homes.",
                        "Context 2": "The dog was emotionally attached to its owner and followed him everywhere.",
                        "Context 3": "After years of working together, they became emotionally attached to the project."
                    }
                },
                {
                    "word": "Cultural field",
                    "definition": "The environment defined by the cultural practices, beliefs, and activities of a group.",
                    "context": {
                        "Context 1": "Living in a diverse cultural field has enriched their understanding of the world.",
                        "Context 2": "The artists gathered to discuss the importance of their cultural field in today’s society.",
                        "Context 3": "She studied the cultural field of ancient Rome for her history project."
                    }
                },
                {
                    "word": "National unity",
                    "definition": "The sense of solidarity and connection among citizens of a nation.",
                    "context": {
                        "Context 1": "National unity is critical during times of crisis.",
                        "Context 2": "Sports events can enhance national unity among fans.",
                        "Context 3": "The campaign aimed to promote national unity through shared cultural experiences."
                    }
                },
                {
                    "word": "Criticize",
                    "definition": "To express disapproval of someone or something.",
                    "context": {
                        "Context 1": "He criticized the government's decision on healthcare reforms.",
                        "Context 2": "It's easy to criticize a movie you've never seen.",
                        "Context 3": "She felt bad for criticizing her friend's cooking when it was actually very good."
                    }
                },
                {
                    "word": "Consciousness",
                    "definition": "The state of being aware of and able to think and perceive; awareness.",
                    "context": {
                        "Context 1": "Her consciousness of social issues drives her activism.",
                        "Context 2": "While hiking, he experienced a heightened consciousness of nature around him.",
                        "Context 3": "The artist aimed to challenge consciousness with her thought-provoking installations."
                    }
                },
                {
                    "word": "Remodeled",
                    "definition": "To change or alter the structure or form of something.",
                    "context": {
                        "Context 1": "They remodeled their house to add more space and modern amenities.",
                        "Context 2": "The movie was remodeled into a modern version with a new twist.",
                        "Context 3": "She remodeled her diet to include more vegetables and whole grains."
                    }
                },
                {
                    "word": "Proposals",
                    "definition": "Plans or suggestions put forward for consideration.",
                    "context": {
                        "Context 1": "The team submitted several proposals for the new marketing strategy.",
                        "Context 2": "He reviewed marriage proposals from various characters in his novel.",
                        "Context 3": "The proposals for the festival included music, food, and art exhibits."
                    }
                },
                {
                    "word": "Simplify",
                    "definition": "To make something easier to understand or do.",
                    "context": {
                        "Context 1": "The teacher asked him to simplify his explanation for younger students.",
                        "Context 2": "They decided to simplify the recipe to make it more accessible to novice cooks.",
                        "Context 3": "The artist was known for her ability to simplify complex ideas into beautiful paintings."
                    }
                },
                {
                    "word": "Rethink",
                    "definition": "To consider or think about something again, especially to make changes.",
                    "context": {
                        "Context 1": "After feedback, they needed to rethink their approach to the project.",
                        "Context 2": "He had to rethink his travel plans after the flight was canceled.",
                        "Context 3": "The company decided to rethink its marketing strategy based on consumer trends."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Profitable",
                    "fact": "Did you know that making sandwiches for a busy office is a surprisingly profitable business?"
                },
                {
                    "word": "Criticize",
                    "fact": "There are more than 1 million people who are professional critics, and yet every restaurant still seems to have at least one angry customer."
                }
            ],
            "jokes": [
                {
                    "question": "Why did the scarecrow win an award?",
                    "answer": "Because he was outstanding in his field!"
                },
                {
                    "question": "What did one wall say to the other wall?",
                    "answer": "I'll meet you at the corner!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey there! Good morning!"
                },
                {
                    "Person 2": "Good morning! How's it going?"
                },
                {
                    "Person 1": "I'm pretty good, just trying to wake up. How about you?"
                },
                {
                    "Person 2": "Same here! I had trouble getting out of bed today."
                },
                {
                    "Person 1": "I know the feeling! Did you stay up late last night?"
                },
                {
                    "Person 2": "Yeah, I couldn’t stop binge-watching that new series on Netflix."
                },
                {
                    "Person 1": "Oh, which one? I need recommendations!"
                },
                {
                    "Person 2": "It’s called 'The Midnight Club.' A bit spooky, but really engaging!"
                },
                {
                    "Person 1": "Nice! I love a good spooky series. I’ll have to check it out."
                },
                {
                    "Person 2": "Totally! So, what’s the plan for today?"
                },
                {
                    "Person 1": "Just the usual work stuff. How about you?"
                },
                {
                    "Person 2": "I have some errands to run and then a meeting later."
                },
                {
                    "Person 1": "Sounds busy! Any fun plans after work?"
                },
                {
                    "Person 2": "I might hang out with some friends. We’re thinking of going bowling."
                },
                {
                    "Person 1": "Bowling sounds like fun! I haven't been in ages."
                },
                {
                    "Person 2": "You should join us next time! It’s a blast."
                },
                {
                    "Person 1": "For sure! Let me know when you plan the next outing."
                },
                {
                    "Person 2": "Will do! Alright, I guess I should get back to work now."
                },
                {
                    "Person 1": "Yeah, me too. Catch you later!"
                },
                {
                    "Person 2": "See ya!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! What’s up? Did you do anything fun this weekend?"
                },
                {
                    "Person 2": "Not much, just hung out with some friends and watched a couple of movies. How about you?"
                },
                {
                    "Person 1": "Nice! I went hiking. The weather was perfect for it."
                },
                {
                    "Person 2": "Oh, that sounds awesome! Where did you go?"
                },
                {
                    "Person 1": "I went to the state park near my house. They have this great trail with a waterfall."
                },
                {
                    "Person 2": "Wow, I love waterfalls! Did you take any pictures?"
                },
                {
                    "Person 1": "Yeah, I took a ton! I’ll show them to you later. It was such a good workout too."
                },
                {
                    "Person 2": "That’s great! I need to get out more. I’ve been so lazy lately."
                },
                {
                    "Person 1": "It happens! We just have to find the motivation to get outside."
                },
                {
                    "Person 2": "True! Maybe we can plan a hike together next weekend?"
                },
                {
                    "Person 1": "For sure! Let’s pick a new trail to explore."
                },
                {
                    "Person 2": "Sounds like a plan! I’ll check out some options."
                },
                {
                    "Person 1": "Great! Can’t wait to see those waterfalls!"
                },
                {
                    "Person 2": "Me too! It’ll be fun."
                },
                {
                    "Person 1": "Absolutely! Let’s do it!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! What are your plans for New Year's Eve this year?"
                },
                {
                    "Person 2": "Not sure yet! I’m thinking about a small gathering with friends. What about you?"
                },
                {
                    "Person 1": "That sounds nice! I might go to a party downtown. They usually do a big countdown there."
                },
                {
                    "Person 2": "Oh, I love those! The energy is always so fun. Do you think it'll be crowded?"
                },
                {
                    "Person 1": "Yeah, probably. But it’ll be exciting! Plus, they always have fireworks at midnight."
                },
                {
                    "Person 2": "Fireworks are the best part! Do you have any resolutions in mind for the new year?"
                },
                {
                    "Person 1": "I’m thinking about eating healthier and maybe picking up a new hobby. How about you?"
                },
                {
                    "Person 2": "I want to read more books this year. I’ve got a stack waiting for me!"
                },
                {
                    "Person 1": "That's a great goal! What kind of books do you like?"
                },
                {
                    "Person 2": "Mostly fiction, but I’m trying to read some non-fiction too. It’s good to mix it up!"
                },
                {
                    "Person 1": "Definitely! I think balancing it out is smart. By the way, have you tried any new hobbies recently?"
                },
                {
                    "Person 2": "I started painting a bit. It’s relaxing. I'm still a beginner though!"
                },
                {
                    "Person 1": "That’s awesome! I’ve always wanted to try painting. Any tips for a newbie?"
                },
                {
                    "Person 2": "Just have fun with it! Don’t worry about being perfect. It’s all about enjoying the process."
                },
                {
                    "Person 1": "Good advice! I might give it a shot after the new year."
                },
                {
                    "Person 2": "Do it! We should plan a painting night together. It’ll be a blast!"
                },
                {
                    "Person 1": "I’m in! Let’s celebrate the new year and start our hobbies right!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you watch that new show on Netflix that everyone's talking about?"
                },
                {
                    "Person 2": "Oh, you mean 'The Last Escape'? Yes, I binged it in two days! Such a wild ride!"
                },
                {
                    "Person 1": "Right? I couldn’t believe the twist at the end of the first season!"
                },
                {
                    "Person 2": "Same! I was literally sitting on the couch like, 'What just happened?'"
                },
                {
                    "Person 1": "I know! It’s crazy how these shows can pull you in so fast."
                },
                {
                    "Person 2": "Totally! I feel like I’m a little addicted to binge-watching now. I barely read anymore."
                },
                {
                    "Person 1": "Same here! I used to read all the time, but now it’s harder to focus on a book with all these shows around."
                },
                {
                    "Person 2": "I try to limit my screen time, but then I find myself falling down the rabbit hole of streaming."
                },
                {
                    "Person 1": "Maybe we should set a rule for ourselves, like no TV during the week?"
                },
                {
                    "Person 2": "That could work! We could incentivize it, like treat ourselves to a movie night on weekends."
                },
                {
                    "Person 1": "Oh, I like that idea! Plus, it could help me get back into reading."
                },
                {
                    "Person 2": "Definitely! Let’s start this week. How about a book club, just you and me?"
                },
                {
                    "Person 1": "That sounds awesome! I’m in. Let’s pick a book by Friday."
                },
                {
                    "Person 2": "Perfect! Looking forward to it. Just don’t let me get distracted by the next season of that show!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
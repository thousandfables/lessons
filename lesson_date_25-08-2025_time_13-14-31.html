<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I were at a concert.",
                    "corrected": "I was at a concert.",
                    "explanation": "The verb 'were' is incorrect here; 'was' should be used for the first-person singular.",
                    "context": "I had a concert over the weekend. I was at a concert. It was a great experience."
                },
                {
                    "original": "It's the gift.",
                    "corrected": "It's a gift.",
                    "explanation": "The article 'the' is incorrect here; 'a' should be used to refer to something non-specific.",
                    "context": "Someone gifted me tickets to the concert. It's a gift. I was really surprised."
                },
                {
                    "original": "near to Luzhniki Stadium.",
                    "corrected": "near Luzhniki Stadium.",
                    "explanation": "'Near to' is incorrect; 'near' is sufficient to indicate proximity.",
                    "context": "The concert was held in Luzhniki Park. It was near Luzhniki Stadium. The location was perfect."
                },
                {
                    "original": "There was five of us.",
                    "corrected": "There were five of us.",
                    "explanation": "'There was' is incorrect; 'were' should be used with plural subjects.",
                    "context": "I went to the concert with my friends. There were five of us. We had a lot of fun."
                },
                {
                    "original": "Most favorite?",
                    "corrected": "Favorite?",
                    "explanation": "'Most favorite' is redundant; 'favorite' is sufficient to express preference.",
                    "context": "I was asked about my favorite song. Favorite? I really like Arusha."
                },
                {
                    "original": "It's a spa salon with a gym and with massage?",
                    "corrected": "It's a spa salon with a gym and massage?",
                    "explanation": "The phrase 'with a massage' is awkward; 'massage' should be used without 'a' for clarity.",
                    "context": "I was explaining my plans for the day. It's a spa salon with a gym and massage. I need it for my health."
                },
                {
                    "original": "That's cool to have to be massaged for free.",
                    "corrected": "That's cool to get a massage for free.",
                    "explanation": "The phrase 'have to be massaged' is awkward; 'get a massage' is more idiomatic.",
                    "context": "I mentioned my massage appointment. That's cool to get a massage for free. I really appreciate it."
                },
                {
                    "original": "You didn't write discussion essay plans?",
                    "corrected": "You didn't write the discussion essay plans?",
                    "explanation": "The article 'the' is needed to specify which plans are being referred to.",
                    "context": "We were discussing homework. You didn't write the discussion essay plans? I thought you had."
                },
                {
                    "original": "It's not a spa.",
                    "corrected": "It isn't a spa.",
                    "explanation": "Using 'isn't' is more conversational and fits better in spoken English.",
                    "context": "I clarified what kind of place I was going to. It isn't a spa. It's for medical purposes."
                },
                {
                    "original": "I mean, no, I would say that it's a good point.",
                    "corrected": "I mean, yes, I would say that it's a good point.",
                    "explanation": "The use of 'no' contradicts the agreement with the previous statement; 'yes' should be used.",
                    "context": "We were discussing the importance of practical skills. I mean, yes, I would say that it's a good point. It really matters."
                },
                {
                    "original": "I didn't say anything about forcing all students to learn a language in my example.",
                    "corrected": "I didn't say anything about forcing students to learn a language in my example.",
                    "explanation": "The phrase 'all students' is unnecessary; 'students' is sufficient for clarity.",
                    "context": "We were analyzing my example. I didn't say anything about forcing students to learn a language in my example. It was more about choice."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "Like you talked about career, their career is a chef, being a chef.",
                    "corrected": "Like you talked about careers, their career is being a chef.",
                    "explanation": "The phrase 'about career' should be pluralized to 'about careers' for grammatical correctness.",
                    "context": "In our discussion, we touched on various career paths. Like you talked about careers, their career is being a chef. It's important to consider how language skills fit into these professions."
                },
                {
                    "original": "This time could have been spent on cooking classes, business management.",
                    "corrected": "This time could have been spent on cooking classes or business management.",
                    "explanation": "The sentence lacks a conjunction; 'or' should be used to connect the two options.",
                    "context": "We discussed how time could be better utilized. This time could have been spent on cooking classes or business management. These subjects might be more beneficial for their careers."
                },
                {
                    "original": "A conclusion is something that restates everything that was said before.",
                    "corrected": "A conclusion is something that restates everything that has been said before.",
                    "explanation": "The present perfect tense 'has been said' is more appropriate here to indicate ongoing relevance.",
                    "context": "In our lesson, we clarified the purpose of a conclusion. A conclusion is something that restates everything that has been said before. It should summarize the main points effectively."
                },
                {
                    "original": "These are different things.",
                    "corrected": "These are two different things.",
                    "explanation": "Adding 'two' clarifies that you are comparing two distinct ideas.",
                    "context": "We explored various aspects of language learning. These are two different things. It's essential to distinguish between them for clarity."
                },
                {
                    "original": "This one is not really needed here.",
                    "corrected": "This one is not really necessary here.",
                    "explanation": "'Needed' is less formal; 'necessary' is more appropriate in this context.",
                    "context": "During our discussion, we evaluated the relevance of certain points. This one is not really necessary here. We should focus on the main ideas."
                },
                {
                    "original": "This code is very important.",
                    "corrected": "This point is very important.",
                    "explanation": "'Code' is incorrect; 'point' is the intended term in this context.",
                    "context": "We were discussing the structure of the essay. This point is very important. It helps clarify our argument."
                },
                {
                    "original": "Because here we have idea, one idea.",
                    "corrected": "Because here we have one idea.",
                    "explanation": "The phrase 'idea, one idea' is redundant; it should be simplified.",
                    "context": "In our analysis, we focused on clarity. Because here we have one idea. It's crucial to stay on topic."
                },
                {
                    "original": "Is it because it is the key to the modern world? Or is it because of... I write it.",
                    "corrected": "Is it because it is the key to the modern world? Or is it because of... I will write it.",
                    "explanation": "The phrase 'I write it' should be in future tense to indicate intention.",
                    "context": "We were brainstorming ideas for the essay. Is it because it is the key to the modern world? Or is it because of... I will write it. We need to clarify our focus."
                },
                {
                    "original": "This is a different thing.",
                    "corrected": "This is a different idea.",
                    "explanation": "'Thing' is too vague; 'idea' is more specific and appropriate.",
                    "context": "We were differentiating between concepts. This is a different idea. It requires its own discussion."
                },
                {
                    "original": "Which one? General development of the brain.",
                    "corrected": "Which one? General development of the brain or understanding different cultures?",
                    "explanation": "The sentence lacks clarity; it should specify the options being compared.",
                    "context": "We were deciding on the focus of the essay. Which one? General development of the brain or understanding different cultures? Both are valid points."
                },
                {
                    "original": "So general development. We don't talk about that.",
                    "corrected": "So, we don't talk about general development.",
                    "explanation": "The sentence structure is awkward; it should be rephrased for clarity.",
                    "context": "In our planning, we realized some points were irrelevant. So, we don't talk about general development. We need to stick to our main argument."
                },
                {
                    "original": "Okay, what construction is used there?",
                    "corrected": "Okay, what construction is used here?",
                    "explanation": "'There' should be replaced with 'here' to refer to the current context.",
                    "context": "We were analyzing sentence structures. Okay, what construction is used here? It's important to understand the grammar."
                },
                {
                    "original": "If you could, in one sentence, if you could describe your counter argument body paragraph, how would you describe it?",
                    "corrected": "If you could describe your counterargument body paragraph in one sentence, how would you do it?",
                    "explanation": "The sentence is repetitive; it should be streamlined for clarity.",
                    "context": "We were summarizing our arguments. If you could describe your counterargument body paragraph in one sentence, how would you do it? This helps focus our writing."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "Because many international companies prefer to hire people who can speak a language very good.",
                    "corrected": "Because many international companies prefer to hire people who can speak a language very well.",
                    "explanation": "\"Very good\" is an adjective and should be replaced with the adverb \"well\" to describe the verb \"speak.\"",
                    "context": "Learning a language can greatly enhance job prospects. Many international companies prefer to hire people who can speak a language very well. This skill opens up more opportunities for employment."
                },
                {
                    "original": "Promotion and good salary is usually about staying, like having the same job, but being promoted on it.",
                    "corrected": "Promotion and a good salary are usually about staying in the same job but being promoted.",
                    "explanation": "The subject 'promotion and good salary' is plural, so the verb should be 'are' instead of 'is.'",
                    "context": "When discussing career advancement, it's important to clarify what we mean. Promotion and a good salary are usually about staying in the same job but being promoted. This distinction helps in understanding career growth."
                },
                {
                    "original": "Because I think they have more opportunities.",
                    "corrected": "Because I think international companies offer more opportunities.",
                    "explanation": "The sentence lacks clarity; specifying 'international companies' makes the subject clear.",
                    "context": "When comparing job prospects, I believe that international companies offer more opportunities. This is crucial for understanding the advantages of working in a global environment."
                },
                {
                    "original": "Because they work with, because they work worldwide.",
                    "corrected": "Because they work globally.",
                    "explanation": "The phrase is repetitive and can be simplified to convey the same idea more clearly.",
                    "context": "In discussing the advantages of international companies, it's important to note their global reach. Because they work globally, they can provide more diverse opportunities."
                },
                {
                    "original": "It's easier. Don't think too much. It's easier.",
                    "corrected": "It's easier; don't overthink it.",
                    "explanation": "The phrase 'don't think too much' can be more idiomatically expressed as 'don't overthink it.'",
                    "context": "When brainstorming ideas, I often remind myself that it's easier than it seems. It's easier; don't overthink it. This helps keep the creative process flowing."
                },
                {
                    "original": "We prove here that we learn a language and get more money as a result.",
                    "corrected": "We demonstrate that learning a language leads to higher earnings.",
                    "explanation": "The term 'prove' is too strong; 'demonstrate' is more appropriate in this context. Additionally, 'get more money' can be more formally expressed as 'leads to higher earnings.'",
                    "context": "In our discussion, we demonstrate that learning a language leads to higher earnings. This connection is vital for understanding the benefits of language acquisition."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "it is pointless.",
                    "corrected": "it is pointless to learn a language.",
                    "explanation": "The phrase lacks clarity; specifying 'to learn a language' makes the statement complete.",
                    "context": "We start from what schools make you learn a language. But we end up with the fact that it is pointless to learn a language. This raises questions about the value of language education."
                },
                {
                    "original": "it and pointless.",
                    "corrected": "it is pointless.",
                    "explanation": "The phrase is grammatically incorrect; 'it and pointless' should be 'it is pointless' for proper structure.",
                    "context": "Learning a language requires a lot of effort. All this could be spent on more practical skills, and that is why it is pointless."
                },
                {
                    "original": "what aspect does it lead to?",
                    "corrected": "what aspect does knowing the language lead to?",
                    "explanation": "The sentence is vague; specifying 'knowing the language' clarifies the subject.",
                    "context": "We know the language. What aspect does knowing the language lead to? More vocabulary is one aspect."
                },
                {
                    "original": "we can, let's say, or even so we can say, that we can get a job in a foreign company.",
                    "corrected": "we can say that we can get a job in a foreign company.",
                    "explanation": "The phrase is overly complicated; simplifying it improves clarity.",
                    "context": "It's not just a requirement. We can say that we can get a job in a foreign company because we can communicate with clients and colleagues."
                },
                {
                    "original": "But usually the reason is banal.",
                    "corrected": "But usually, the reason is quite simple.",
                    "explanation": "The word 'banal' may not convey the intended meaning; 'simple' is clearer in this context.",
                    "context": "Many people go to international companies for various reasons. But usually, the reason is quite simple."
                },
                {
                    "original": "this is already how we came to.",
                    "corrected": "this is how we arrived at.",
                    "explanation": "The phrase is awkward; 'arrived at' is a more idiomatic expression.",
                    "context": "We can put a point on it. This is how we arrived at the conclusion of why it's cool to learn the language."
                },
                {
                    "original": "this is the first point.",
                    "corrected": "This is the first argument.",
                    "explanation": "The term 'point' is too vague; 'argument' is more precise in this context.",
                    "context": "This is the first argument. The second point will address the counter-argument."
                },
                {
                    "original": "it is necessary to write everything here in the counter argument.",
                    "corrected": "It is necessary to write everything in the counter-argument here.",
                    "explanation": "The placement of 'here' is awkward; restructuring the sentence improves clarity.",
                    "context": "We need to think over the counter argument. It is necessary to write everything in the counter-argument here."
                },
                {
                    "original": "But to write an essay at home, in my opinion, this is enough.",
                    "corrected": "In my opinion, this is enough to write an essay at home.",
                    "explanation": "The sentence structure is awkward; reordering improves flow.",
                    "context": "We will talk about how to structure the finished essay. In my opinion, this is enough to write an essay at home."
                },
                {
                    "original": "I can't see anything on the ground.",
                    "corrected": "I can't see anything on the ground.",
                    "explanation": "This sentence is grammatically correct but repeated excessively, which may indicate a lack of clarity or focus.",
                    "context": "During the lesson, I was trying to focus on the task. However, I can't see anything on the ground."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Atmosphere",
                    "definition": "The pervading tone or mood of a place, situation, or creative work.",
                    "context": {
                        "Context 1": "The atmosphere at the concert was electric, with everyone singing along.",
                        "Context 2": "The atmosphere in the library was so quiet that you could hear a pin drop.",
                        "Context 3": "The restaurant's atmosphere was cozy, with dim lighting and soft music."
                    }
                },
                {
                    "word": "Desperate",
                    "definition": "Having a great need or desire; feeling hopeless.",
                    "context": {
                        "Context 1": "They were so desperate for attendees that they gave away free tickets.",
                        "Context 2": "After losing his job, he felt desperate and started applying everywhere.",
                        "Context 3": "The cat was desperate for food and meowed loudly at the door."
                    }
                },
                {
                    "word": "Reserved",
                    "definition": "Slow to reveal emotions or opinions; restrained.",
                    "context": {
                        "Context 1": "He is usually reserved, but at the concert, he let loose and danced.",
                        "Context 2": "She was reserved during the meeting, only speaking when necessary.",
                        "Context 3": "The reserved dog didn't bark at strangers, preferring to observe quietly."
                    }
                },
                {
                    "word": "Mellow",
                    "definition": "Relaxed and easy-going; not harsh or severe.",
                    "context": {
                        "Context 1": "He described himself as mellow, preferring calm activities over loud concerts.",
                        "Context 2": "The mellow music helped everyone unwind after a long day.",
                        "Context 3": "After a few hours of meditation, she felt mellow and at peace."
                    }
                },
                {
                    "word": "Crowd",
                    "definition": "A large number of people gathered together.",
                    "context": {
                        "Context 1": "The crowd at the concert was huge, with thousands of fans singing along.",
                        "Context 2": "A crowd gathered at the park to watch the fireworks show.",
                        "Context 3": "The crowd at the grocery store was overwhelming during the holiday rush."
                    }
                },
                {
                    "word": "Gift",
                    "definition": "A thing given willingly to someone without payment; a present.",
                    "context": {
                        "Context 1": "The concert tickets were a gift from the local government to promote culture.",
                        "Context 2": "She received a beautiful gift for her birthday from her best friend.",
                        "Context 3": "He considered his talent for painting a gift that he wanted to share with the world."
                    }
                },
                {
                    "word": "Manage",
                    "definition": "To be in charge of or to handle a task or situation.",
                    "context": {
                        "Context 1": "Did you manage to do your homework before the deadline?",
                        "Context 2": "She had to manage a team of volunteers for the charity event.",
                        "Context 3": "He struggled to manage his time effectively during the busy week."
                    }
                },
                {
                    "word": "Aspect",
                    "definition": "A particular part or feature of something.",
                    "context": {
                        "Context 1": "One aspect of the essay that needed improvement was the clarity of examples.",
                        "Context 2": "The financial aspect of the project was crucial for its success.",
                        "Context 3": "In photography, lighting is an important aspect to consider."
                    }
                },
                {
                    "word": "Piece",
                    "definition": "A portion of something; to put together parts to form a whole.",
                    "context": {
                        "Context 1": "You need to piece together your explanation with the examples provided.",
                        "Context 2": "He decided to piece together a puzzle on a rainy afternoon.",
                        "Context 3": "The artist wanted to piece together different materials for her sculpture."
                    }
                },
                {
                    "word": "Force",
                    "definition": "To make someone do something against their will; to compel.",
                    "context": {
                        "Context 1": "The teacher didn't want to force all students to learn a language.",
                        "Context 2": "They had to force the door open when it got stuck.",
                        "Context 3": "He felt it was wrong to force his opinions on others."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Atmosphere",
                    "fact": "Did you know that the Earth's atmosphere is made up of 78% nitrogen, 21% oxygen, and 1% other gases? That's a lot of air!"
                },
                {
                    "word": "Desperate",
                    "fact": "In ancient Rome, a desperate person could be seen as someone who would do anything for a loaf of bread, even if it meant running a marathon!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the musician get kicked out of the concert?",
                    "answer": "Because he kept playing the wrong notes and causing a 'note'-worthy disturbance!"
                },
                {
                    "question": "What do you call a concert that takes place in a bakery?",
                    "answer": "A 'roll' concert!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Counterargument",
                    "definition": "An argument that opposes another argument.",
                    "context": {
                        "Context 1": "In the essay, the writer presented a counterargument to address the opposing view on learning languages.",
                        "Context 2": "The lawyer prepared a counterargument to challenge the evidence presented by the prosecution.",
                        "Context 3": "During the debate, she skillfully used a counterargument to refute her opponent's claims."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "From her perspective, learning languages is essential for understanding different cultures.",
                        "Context 2": "The artist's perspective on life is reflected in her vibrant paintings.",
                        "Context 3": "He changed his perspective after traveling to different countries and meeting new people."
                    }
                },
                {
                    "word": "Paraphrasing",
                    "definition": "Restating text or passage in your own words while retaining the original meaning.",
                    "context": {
                        "Context 1": "The teacher emphasized the importance of paraphrasing to avoid plagiarism in essays.",
                        "Context 2": "He struggled with paraphrasing the complex scientific article for his report.",
                        "Context 3": "Paraphrasing can help improve comprehension and retention of information."
                    }
                },
                {
                    "word": "Thesis",
                    "definition": "A statement or theory that is put forward as a premise to be maintained or proved.",
                    "context": {
                        "Context 1": "The thesis of the essay argued that learning languages is crucial in a globalized world.",
                        "Context 2": "Her thesis on climate change received high praise from her professors.",
                        "Context 3": "He spent years researching for his doctoral thesis on ancient civilizations."
                    }
                },
                {
                    "word": "Effective",
                    "definition": "Successful in producing a desired or intended result.",
                    "context": {
                        "Context 1": "The teacher suggested more effective methods for learning a new language.",
                        "Context 2": "The new marketing strategy proved to be highly effective in increasing sales.",
                        "Context 3": "Exercise is an effective way to improve mental health."
                    }
                },
                {
                    "word": "Argument",
                    "definition": "An exchange of diverging or opposite views, typically a heated or angry one.",
                    "context": {
                        "Context 1": "The argument presented in the essay highlighted the benefits of learning languages.",
                        "Context 2": "Their argument about the best pizza toppings turned into a friendly debate.",
                        "Context 3": "The argument between the two friends was resolved after they discussed their differences."
                    }
                },
                {
                    "word": "Belief",
                    "definition": "An acceptance that something exists or is true, especially without proof.",
                    "context": {
                        "Context 1": "One belief discussed in the lesson was that learning languages is a waste of time.",
                        "Context 2": "Her belief in the power of kindness influenced her career choices.",
                        "Context 3": "Many cultures have a belief in the importance of family."
                    }
                },
                {
                    "word": "Resource",
                    "definition": "A source of supply or support that can be drawn upon when needed.",
                    "context": {
                        "Context 1": "The lesson highlighted how time is a valuable resource for learning languages.",
                        "Context 2": "The library is a great resource for students looking for research materials.",
                        "Context 3": "Natural resources like water and minerals are essential for economic development."
                    }
                },
                {
                    "word": "Skill",
                    "definition": "The ability to do something well, usually gained through training or experience.",
                    "context": {
                        "Context 1": "Learning a new language is a valuable skill in today’s global job market.",
                        "Context 2": "Cooking is a skill that can be developed with practice and patience.",
                        "Context 3": "She has a skill for playing the piano that impresses everyone."
                    }
                },
                {
                    "word": "Importance",
                    "definition": "The state or fact of being of great significance or value.",
                    "context": {
                        "Context 1": "The importance of learning languages was emphasized throughout the lesson.",
                        "Context 2": "Understanding the importance of teamwork can lead to better project outcomes.",
                        "Context 3": "The importance of mental health awareness is increasingly recognized in society."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Counterargument",
                    "fact": "Did you know that the term 'counterargument' is often used in debates, but in a food fight, it’s just called 'throwing back'?"
                },
                {
                    "word": "Perspective",
                    "fact": "The word 'perspective' comes from the Latin 'perspectivus,' which means 'to look through.' So, next time you're looking through your glasses, remember you're just gaining perspective!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Argumentation",
                    "definition": "The process of reasoning systematically in support of an idea, action, or theory.",
                    "context": {
                        "Context 1": "The argumentation in her essay was clear and well-structured.",
                        "Context 2": "The argumentation of the movie's plot left many viewers confused.",
                        "Context 3": "In a debate, effective argumentation can win over the audience."
                    }
                },
                {
                    "word": "Counterargument",
                    "definition": "An argument made to oppose another argument.",
                    "context": {
                        "Context 1": "He presented a strong counterargument to the proposal.",
                        "Context 2": "The counterargument in the book was surprisingly weak.",
                        "Context 3": "During the discussion, she forgot to mention her counterargument."
                    }
                },
                {
                    "word": "Disclosed",
                    "definition": "To make (something) known or revealed.",
                    "context": {
                        "Context 1": "The findings were disclosed in the final report.",
                        "Context 2": "He disclosed his secret recipe to his best friend.",
                        "Context 3": "The magician disclosed how he performed the trick."
                    }
                },
                {
                    "word": "Logical chain",
                    "definition": "A sequence of reasoning that connects ideas in a coherent manner.",
                    "context": {
                        "Context 1": "The logical chain in her argument was easy to follow.",
                        "Context 2": "His logical chain of thoughts led him to a surprising conclusion.",
                        "Context 3": "The logical chain in the recipe was missing key ingredients."
                    }
                },
                {
                    "word": "Qualification",
                    "definition": "A quality or accomplishment that makes someone suitable for a particular job or activity.",
                    "context": {
                        "Context 1": "Her qualifications made her an ideal candidate for the position.",
                        "Context 2": "He received a qualification in underwater basket weaving.",
                        "Context 3": "The qualification required to join the club was simply a love for cats."
                    }
                },
                {
                    "word": "Networking",
                    "definition": "The action or process of interacting with others to exchange information and develop professional or social contacts.",
                    "context": {
                        "Context 1": "Networking is essential for career advancement in many fields.",
                        "Context 2": "He enjoyed networking at the local dog park.",
                        "Context 3": "She used networking to find a good pizza place in town."
                    }
                },
                {
                    "word": "Opportunities",
                    "definition": "A set of circumstances that makes it possible to do something.",
                    "context": {
                        "Context 1": "Studying abroad can provide many opportunities for personal growth.",
                        "Context 2": "He found opportunities to play video games during his free time.",
                        "Context 3": "The opportunities to travel are endless when you have a flexible job."
                    }
                },
                {
                    "word": "Promotion",
                    "definition": "The advancement of an employee's rank or position in an organizational hierarchy.",
                    "context": {
                        "Context 1": "She received a promotion after her hard work and dedication.",
                        "Context 2": "The promotion of the new album was a huge success.",
                        "Context 3": "He got a promotion in his video game, leveling up to a new character."
                    }
                },
                {
                    "word": "International",
                    "definition": "Relating to or involving two or more countries.",
                    "context": {
                        "Context 1": "She works for an international company that has offices worldwide.",
                        "Context 2": "The international flavor of the dish made it a favorite at the restaurant.",
                        "Context 3": "He attended an international festival celebrating local cultures."
                    }
                },
                {
                    "word": "Securing",
                    "definition": "To obtain or achieve something, often with effort.",
                    "context": {
                        "Context 1": "Securing a job in a competitive market can be challenging.",
                        "Context 2": "He was securing his bike to the rack to prevent theft.",
                        "Context 3": "The team was securing their victory with a last-minute goal."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Networking",
                    "fact": "Did you know that networking can also refer to connecting computers? Just imagine a party where computers are the guests!"
                },
                {
                    "word": "Promotion",
                    "fact": "In the corporate world, a promotion can mean more money, but in the animal kingdom, it just means you get to sit on the highest branch!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to the networking event?",
                    "answer": "Because it wanted to make some connections!"
                },
                {
                    "question": "Why did the employee bring a ladder to work?",
                    "answer": "Because they heard they were getting a promotion!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Pointless",
                    "definition": "Having no useful purpose; not worth doing.",
                    "context": {
                        "Context 1": "Many students feel that learning grammar can be pointless if they don't use it in real life.",
                        "Context 2": "He thought it was pointless to argue about the color of the sky.",
                        "Context 3": "The meeting felt pointless since no decisions were made."
                    }
                },
                {
                    "word": "Effort",
                    "definition": "A vigorous or determined attempt.",
                    "context": {
                        "Context 1": "Learning a new language requires a lot of effort and dedication.",
                        "Context 2": "She put in a great effort to bake the perfect cake for the party.",
                        "Context 3": "His effort to climb the mountain was admirable, even if he didn't reach the top."
                    }
                },
                {
                    "word": "Aspect",
                    "definition": "A particular part or feature of something.",
                    "context": {
                        "Context 1": "Understanding the cultural aspect of a language is important for effective communication.",
                        "Context 2": "The financial aspect of running a business can be very challenging.",
                        "Context 3": "In art, the emotional aspect can often resonate more than technical skill."
                    }
                },
                {
                    "word": "Communicate",
                    "definition": "To share or exchange information, news, or ideas.",
                    "context": {
                        "Context 1": "Being able to communicate with colleagues in English is essential in international companies.",
                        "Context 2": "They used sign language to communicate with each other across the crowded room.",
                        "Context 3": "He found it difficult to communicate his feelings to his friends."
                    }
                },
                {
                    "word": "Counter argument",
                    "definition": "An argument that opposes another argument.",
                    "context": {
                        "Context 1": "In an essay, it's important to include a counter argument to strengthen your position.",
                        "Context 2": "The lawyer presented a counter argument to challenge the prosecution's claims.",
                        "Context 3": "During the debate, she prepared a counter argument to refute the opposing team's points."
                    }
                },
                {
                    "word": "Career",
                    "definition": "An occupation undertaken for a significant period of a person's life, often with opportunities for progress.",
                    "context": {
                        "Context 1": "Learning a language can open many doors for your career.",
                        "Context 2": "He decided to change his career from engineering to teaching.",
                        "Context 3": "Her career in medicine has been very rewarding."
                    }
                },
                {
                    "word": "Opportunities",
                    "definition": "A set of circumstances that makes it possible to do something.",
                    "context": {
                        "Context 1": "Speaking multiple languages can provide more job opportunities.",
                        "Context 2": "The internship offered great opportunities for networking.",
                        "Context 3": "She seized every opportunity to travel while studying abroad."
                    }
                },
                {
                    "word": "Salary",
                    "definition": "A fixed regular payment, typically paid on a monthly or biweekly basis.",
                    "context": {
                        "Context 1": "Bilingual employees often earn a higher salary than their monolingual counterparts.",
                        "Context 2": "He was excited to receive his first salary after starting his new job.",
                        "Context 3": "The company announced a salary increase for all employees."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement of and relations between the parts or elements of something complex.",
                    "context": {
                        "Context 1": "It's important to structure your essay logically to make your argument clear.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "He admired the structure of the poem and its rhythmic flow."
                    }
                },
                {
                    "word": "Final version",
                    "definition": "The last and complete version of a document or project.",
                    "context": {
                        "Context 1": "Make sure to proofread your final version before submitting it.",
                        "Context 2": "The final version of the movie included several deleted scenes.",
                        "Context 3": "She was proud of the final version of her painting after many revisions."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Pointless",
                    "fact": "Did you know that the word 'pointless' was first recorded in the early 1800s? Before that, people just called things 'not worth it'!"
                },
                {
                    "word": "Effort",
                    "fact": "The longest recorded effort to stay awake is 11 days! Just imagine how pointless it would feel to stay awake that long!"
                },
                {
                    "word": "Career",
                    "fact": "The word 'career' comes from the Latin word 'carrus,' meaning 'cart.' So technically, we all started our careers as cart-pullers!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going today?"
                },
                {
                    "Person 2": "Pretty good! Just enjoying a lazy day. How about you?"
                },
                {
                    "Person 1": "Same here! I just finished binge-watching a new series. You seen anything good lately?"
                },
                {
                    "Person 2": "Oh, definitely! I just watched that new crime drama. It had me on the edge of my seat!"
                },
                {
                    "Person 1": "Nice! I love those kinds of shows. What’s it called?"
                },
                {
                    "Person 2": "It’s called 'The Shadows.' You should check it out!"
                },
                {
                    "Person 1": "Sounds intriguing! I’ll add it to my list. Did you watch it all in one go?"
                },
                {
                    "Person 2": "Pretty much! I started it in the afternoon and didn’t stop until I finished."
                },
                {
                    "Person 1": "That’s the best way to do it! Sometimes you just can’t help yourself."
                },
                {
                    "Person 2": "Exactly! So, what else is new with you?"
                },
                {
                    "Person 1": "Not much, just trying to get back into running. I signed up for a 5K next month."
                },
                {
                    "Person 2": "That’s awesome! I’ve been meaning to get back into running too. How’s your training going?"
                },
                {
                    "Person 1": "It’s going alright. I’m a bit out of shape, but I’m getting there!"
                },
                {
                    "Person 2": "You’ll be fine! Just take it one step at a time. Want to go for a run together sometime?"
                },
                {
                    "Person 1": "That sounds great! Let’s plan for it this weekend."
                },
                {
                    "Person 2": "Perfect! I’ll bring some snacks for after. Gotta refuel!"
                },
                {
                    "Person 1": "Haha, yes! Can’t wait. It’ll be fun!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new cooking show on TV last night?"
                },
                {
                    "Person 2": "No, I missed it! Was it any good?"
                },
                {
                    "Person 1": "Yeah, it was awesome! They had this chef making a gourmet burger from scratch."
                },
                {
                    "Person 2": "That sounds delicious! I love when they show the whole process."
                },
                {
                    "Person 1": "Right? It’s amazing to see how much goes into it. I never realized how important the ingredients are."
                },
                {
                    "Person 2": "Totally! I mean, I just throw stuff together sometimes and hope for the best."
                },
                {
                    "Person 1": "Same here! But after watching that, I feel inspired to actually learn some techniques."
                },
                {
                    "Person 2": "You should! Maybe we could take a cooking class together."
                },
                {
                    "Person 1": "That’s a great idea! I’d love to learn how to make pasta from scratch."
                },
                {
                    "Person 2": "Oh, that would be fun! Plus, we can eat what we make."
                },
                {
                    "Person 1": "Exactly! It’s like a win-win situation."
                },
                {
                    "Person 2": "Let’s look up some classes this weekend!"
                },
                {
                    "Person 1": "Sounds good! I can’t wait to get started."
                },
                {
                    "Person 2": "Me too! It’ll be a blast."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new restaurant that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I saw it! I heard they have amazing tacos."
                },
                {
                    "Person 1": "I love tacos! We should definitely check it out this weekend."
                },
                {
                    "Person 2": "For sure! I’m always down for some good tacos. What else do they have?"
                },
                {
                    "Person 1": "I think they have a bunch of different types of burritos and some cool drinks too."
                },
                {
                    "Person 2": "Nice! I could go for a refreshing drink. Maybe a margarita?"
                },
                {
                    "Person 1": "Absolutely! A margarita sounds perfect. What time do you want to go?"
                },
                {
                    "Person 2": "How about Saturday around 6? We can beat the dinner rush."
                },
                {
                    "Person 1": "Sounds like a plan! Should we invite anyone else?"
                },
                {
                    "Person 2": "Yeah, let’s invite Sarah and Mike. They love tacos too!"
                },
                {
                    "Person 1": "Great idea! I’ll text them and see if they’re in."
                },
                {
                    "Person 2": "Awesome! Can’t wait to try it out!"
                },
                {
                    "Person 1": "Same here! It’s going to be a fun night."
                },
                {
                    "Person 2": "Definitely! See you Saturday!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new restaurant that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I saw it! I heard they have amazing tacos."
                },
                {
                    "Person 1": "I love tacos! We should definitely check it out this weekend."
                },
                {
                    "Person 2": "Absolutely! I’m always down for good food. What else do they have?"
                },
                {
                    "Person 1": "I think they have some cool fusion dishes too. Like taco sushi or something."
                },
                {
                    "Person 2": "Taco sushi? That sounds wild! I’m intrigued."
                },
                {
                    "Person 1": "Right? I’m curious to see how that works. Should we invite some friends?"
                },
                {
                    "Person 2": "Good idea! The more, the merrier. I’ll text a few people."
                },
                {
                    "Person 1": "Perfect! I’ll look up their menu and see what else we might want to try."
                },
                {
                    "Person 2": "Awesome! I can’t wait to dig in. Food adventures are the best."
                },
                {
                    "Person 1": "For sure! Plus, it’ll be fun to hang out together."
                },
                {
                    "Person 2": "Definitely! Let’s make it a plan then."
                },
                {
                    "Person 1": "Sounds good! I’ll see you this weekend."
                },
                {
                    "Person 2": "Can’t wait! See you!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
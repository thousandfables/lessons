<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "Two key factors here is to always go to sleep and wake up at the same time.",
                    "corrected": "Two key factors here are to always go to sleep and wake up at the same time.",
                    "explanation": "The verb 'is' should be 'are' because it refers to two factors, which is plural.",
                    "context": "I've been struggling with my sleep schedule. Two key factors here are to always go to sleep and wake up at the same time."
                },
                {
                    "original": "Golden autumn. With leaves, with fallen leaves crispy fallen leaves.",
                    "corrected": "Golden autumn. With crispy fallen leaves.",
                    "explanation": "The sentence is redundant and could be simplified by removing repetitive phrases.",
                    "context": "Autumn is beautiful right now. Golden autumn. With crispy fallen leaves."
                },
                {
                    "original": "Well, here in Astana it is around 6 degrees yesterday it went below zero.",
                    "corrected": "Well, here in Astana it was around 6 degrees; yesterday it went below zero.",
                    "explanation": "The tense is inconsistent; 'is' should be 'was' to match the past context. A semicolon is appropriate to join two independent clauses.",
                    "context": "The weather is changing drastically. Well, here in Astana it was around 6 degrees; yesterday it went below zero."
                },
                {
                    "original": "I think yesterday it was about 13 and it's around that, like 10 to 15 degrees every day, or now at least.",
                    "corrected": "I think yesterday it was about 13, and it's around 10 to 15 degrees every day, or at least now.",
                    "explanation": "A comma is needed before 'and' to separate independent clauses, and the phrase 'or now at least' could be simplified.",
                    "context": "I just checked the weather in Moscow. I think yesterday it was about 13, and it's around 10 to 15 degrees every day, or at least now."
                },
                {
                    "original": "So it's quite warm.",
                    "corrected": "So, it's quite warm.",
                    "explanation": "A comma is required after 'so' when it begins the sentence to prepare for the independent clause that follows.",
                    "context": "It feels different than in the past. So, it's quite warm."
                },
                {
                    "original": "It affects our well-being.",
                    "corrected": "It affects our overall well-being.",
                    "explanation": "The word 'overall' adds clarity and specificity to the statement.",
                    "context": "I've been looking into how sleep affects us. It affects our overall well-being."
                },
                {
                    "original": "I used to have a great system in spring, I think, but then it all kind of disappeared, as it always does, because it requires constant work, sadly.",
                    "corrected": "I used to have a great system in spring, I think; but then it all kind of disappeared, as it always does, because it requires constant work, sadly.",
                    "explanation": "A semicolon should replace the comma before 'but' to separate two independent clauses correctly.",
                    "context": "I've been trying to improve my habits. I used to have a great system in spring, I think; but then it all kind of disappeared."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "The thing is that accident, I never, I didn't stage that but this is the test that I got on my IELTS test.",
                    "corrected": "The thing is that, by accident, I never staged that, but this is the actual test that I got on my IELTS.",
                    "explanation": "The original sentence contains unclear phrasing and incorrect punctuation. 'By accident' is the correct phrase and should be separated by commas for clarity.",
                    "context": "I was looking for something interesting to share. The thing is that, by accident, I never staged that, but this is the actual test that I got on my IELTS. I think this part is quite challenging."
                },
                {
                    "original": "I prefer to start with True, False, or Given in this kind of tasks.",
                    "corrected": "I prefer to start with True, False, or Given tasks.",
                    "explanation": "'In this kind of tasks' is awkward; it should be simplified to 'tasks' for better clarity.",
                    "context": "When I'm preparing for the exam, I have a specific strategy. I prefer to start with True, False, or Given tasks. This helps me understand the text better."
                },
                {
                    "original": "But like, yeah, he says that, like, okay, that was a traditional view, now in recent years there's been a shift.",
                    "corrected": "He says that there was a traditional view, but in recent years there's been a shift.",
                    "explanation": "The phrases 'like' and 'okay' are unnecessary filler words that clutter the sentence.",
                    "context": "As I analyze the text more deeply, I recognize old perspectives. He says that there was a traditional view, but in recent years there's been a shift. This highlights the evolution of thought."
                },
                {
                    "original": "In order for a statement to be true, all parts of the statement should correspond with the parts of the text.",
                    "corrected": "For a statement to be true, all parts of it must correspond with the text.",
                    "explanation": "The phrase 'in order for' can be more succinctly expressed, and 'parts of the statement' can be replaced with 'parts of it' for conciseness.",
                    "context": "I try to ensure precision in my reasoning. For a statement to be true, all parts of it must correspond with the text. This helps in determining its validity."
                },
                {
                    "original": "Sometimes when I start doing that, there are tasks that you can sail through them, very easy to do them, but there are some tasks that are really, really challenging.",
                    "corrected": "Sometimes when I start doing that, there are tasks that you can sail through easily, but there are also some that are really challenging.",
                    "explanation": "The phrase 'sail through them, very easy to do them' is redundant and awkwardly structured.",
                    "context": "I often reflect on my task performance. Sometimes when I start doing that, there are tasks that you can sail through easily, but there are also some that are really challenging. It's all about finding the right approach."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "But the reading, you have plenty of time.",
                    "corrected": "But for the reading, you have plenty of time.",
                    "explanation": "The preposition 'for' is needed to indicate what you have time for.",
                    "context": "When preparing for the test, it's important to manage your time well. But for the reading, you have plenty of time. This will help you complete that section effectively."
                },
                {
                    "original": "In this, on the side, on different sections, do you use child GPT?",
                    "corrected": "In this context, do you use Child GPT for different sections?",
                    "explanation": "'On the side' is unclear; 'in this context' is more appropriate. Also, 'Child GPT' should be capitalized as it’s a proper noun.",
                    "context": "While discussing test strategies, I asked about helpful tools. In this context, do you use Child GPT for different sections? It could make the task easier."
                },
                {
                    "original": "Child GPT is very good.",
                    "corrected": "Child GPT is quite good.",
                    "explanation": "'Very good' is acceptable but 'quite good' is a more idiomatic expression that conveys a nuanced opinion.",
                    "context": "I've been exploring various AI tools for learning. Child GPT is quite good. It helps me understand concepts better."
                },
                {
                    "original": "It always nails them.",
                    "corrected": "It always gets them right.",
                    "explanation": "'Nails' is informal; 'gets them right' is clearer and more appropriate in an educational context.",
                    "context": "I find AI tools very useful for practice. It always gets them right. This accuracy boosts my confidence for tests."
                },
                {
                    "original": "And it is very good at describing why it is this the way it is.",
                    "corrected": "And it is very good at describing why it is the way it is.",
                    "explanation": "The phrase 'this the way it is' is awkward; it should simply be 'the way it is.'",
                    "context": "I've been relying on AI for explanations. And it is very good at describing why it is the way it is. This clarity really aids my understanding."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Insomnia",
                    "definition": "A condition characterized by persistent difficulty in falling or staying asleep.",
                    "context": {
                        "Context 1": "I have been struggling with insomnia lately, making it hard for me to concentrate during the day.",
                        "Context 2": "The cat appeared to have insomnia as it was awake and running around all night.",
                        "Context 3": "After drinking too much coffee at evening, he faced a night of insomnia."
                    }
                },
                {
                    "word": "Sleep Schedule",
                    "definition": "A planned routine that dictates what time you go to sleep and wake up.",
                    "context": {
                        "Context 1": "I am trying to fix my sleep schedule to improve my overall well-being.",
                        "Context 2": "The festival's sleep schedule involved staying up all night and sleeping in the morning.",
                        "Context 3": "My puppy has a strict sleep schedule where he naps every few hours."
                    }
                },
                {
                    "word": "Microphone",
                    "definition": "An instrument used to convert sound into an electrical signal.",
                    "context": {
                        "Context 1": "I was speaking through the microphone but my friend couldn't hear me very well.",
                        "Context 2": "At the concert, the singer forgot to turn on the microphone before starting the song.",
                        "Context 3": "The turtle's microphone was used to record its soft whispers in the aquarium."
                    }
                },
                {
                    "word": "Well-being",
                    "definition": "The state of being comfortable, healthy, or happy.",
                    "context": {
                        "Context 1": "Sleep is crucial for our overall well-being and mental health.",
                        "Context 2": "The plants in the garden contribute to the well-being of the entire neighborhood.",
                        "Context 3": "After eating a whole pizza, he felt a dip in his well-being!"
                    }
                },
                {
                    "word": "Temperature",
                    "definition": "The measure of how hot or cold something is.",
                    "context": {
                        "Context 1": "I didn't have a temperature this time, but I felt unwell.",
                        "Context 2": "The refrigerator's temperature was set too high, causing the ice cream to melt.",
                        "Context 3": "A penguin can withstand a temperature drop of more than 30 degrees without freezing!"
                    }
                },
                {
                    "word": "Crispy",
                    "definition": "Firm and crunchy, often referring to food.",
                    "context": {
                        "Context 1": "The leaves outside are crispy in the fall, making a nice sound when you step on them.",
                        "Context 2": "The chef expertly cooked the chicken until it was crispy but not burnt.",
                        "Context 3": "The dog loved the crispy sound of the newly opened snack bag."
                    }
                },
                {
                    "word": "Task",
                    "definition": "A piece of work to be done or undertaken.",
                    "context": {
                        "Context 1": "I completed the True-False task without any major problems.",
                        "Context 2": "His task of painting the fence turned into a weekend project.",
                        "Context 3": "The robot was programmed to perform a simple task of picking up objects."
                    }
                },
                {
                    "word": "Evaluate",
                    "definition": "To assess or appraise the value or quality of something.",
                    "context": {
                        "Context 1": "We need to evaluate our answers before submitting the test.",
                        "Context 2": "The teacher will evaluate the students’ projects based on creativity and presentation.",
                        "Context 3": "A chef must evaluate the freshness of ingredients before starting to cook."
                    }
                },
                {
                    "word": "Concentration",
                    "definition": "The ability to focus one's mind or attention.",
                    "context": {
                        "Context 1": "Lack of sleep affects my concentration during the lessons.",
                        "Context 2": "The monk demonstrated his concentration by sitting still for hours.",
                        "Context 3": "Trying to concentrate while kids are playing a loud game in the background is quite the challenge!"
                    }
                },
                {
                    "word": "Hoarse",
                    "definition": "Having a rough or harsh sound, often due to irritation of the vocal cords.",
                    "context": {
                        "Context 1": "I noticed my voice felt hoarse after being sick last week.",
                        "Context 2": "The hoarse old man sang the blues in a smoky bar.",
                        "Context 3": "When the parrot tried to mimic a car alarm, it ended up sounding hoarse!"
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Insomnia",
                    "fact": "Did you know that long-term sleep deprivation can lead to sleep disorders? Be careful not to stay awake too long!"
                },
                {
                    "word": "Temperature",
                    "fact": "Ever wonder how hot it gets inside a car on a sunny day? It can reach 130 degrees Fahrenheit or more!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What do you call a sleep-deprived student?",
                    "answer": "A ‘slumberjack’ because they’re always falling asleep!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Fluoridation",
                    "definition": "The addition of fluoride to public water supplies to reduce dental decay.",
                    "context": {
                        "Context 1": "Fluoridation of water has been shown to significantly lower cavities in children.",
                        "Context 2": "After the fluoridation project was approved, more residents began to appreciate the benefits for their teeth.",
                        "Context 3": "Many people enjoy fluoridation as a trendy word to use in discussions about health."
                    }
                },
                {
                    "word": "Specific",
                    "definition": "Clearly defined or identified; precise.",
                    "context": {
                        "Context 1": "There is a specific order in which I am going to do this.",
                        "Context 2": "She gave a specific example of how to use the new software during the training.",
                        "Context 3": "The dog had a specific bark that warned of intruders."
                    }
                },
                {
                    "word": "Efficient",
                    "definition": "Achieving maximum productivity with minimum wasted effort or expense.",
                    "context": {
                        "Context 1": "That is the most efficient order in which we would do different tasks.",
                        "Context 2": "The new engine design is much more efficient, reducing fuel consumption by 30%.",
                        "Context 3": "Finding an efficient way to clean the house can save you hours on the weekend."
                    }
                },
                {
                    "word": "Review",
                    "definition": "To examine or assess something with the intention of making changes or improvements.",
                    "context": {
                        "Context 1": "Before submitting, you can kind of review it.",
                        "Context 2": "The teacher will review each essay for grammar and content before grading.",
                        "Context 3": "It's always a good idea to review your plans before starting a big project."
                    }
                },
                {
                    "word": "Not given",
                    "definition": "A term used in assessments to indicate that the information requested is not present in the text.",
                    "context": {
                        "Context 1": "34 is not given, but I answered it.",
                        "Context 2": "The teacher explained that some questions may be 'not given' if they require assumptions that aren't made in the passage.",
                        "Context 3": "Jenny thought the movie's ending was a bit 'not given' and left a lot to interpretation."
                    }
                },
                {
                    "word": "Correspond",
                    "definition": "To be similar or equivalent in some way; to match.",
                    "context": {
                        "Context 1": "In order for a statement to be true, all parts of the statement should correspond with the parts of the text.",
                        "Context 2": "The data collected corresponded directly with the results of the previous study.",
                        "Context 3": "Dogs and their owners often correspond in their behavior, making them great companions."
                    }
                },
                {
                    "word": "Controversy",
                    "definition": "A prolonged public dispute or debate, often concerning a matter of opinion.",
                    "context": {
                        "Context 1": "There is a controversy between sociologists and scientists.",
                        "Context 2": "The controversy over climate change continues to divide experts and laypeople alike.",
                        "Context 3": "His controversial book sparked a nationwide debate about freedom of speech."
                    }
                },
                {
                    "word": "Statement",
                    "definition": "A definite or clear expression of something in speech or writing.",
                    "context": {
                        "Context 1": "A statement finding has not been given sufficient attention by anyone.",
                        "Context 2": "Her statement during the interview raised eyebrows among the board members.",
                        "Context 3": "The press release included a statement on the company’s commitment to sustainability."
                    }
                },
                {
                    "word": "Subtle",
                    "definition": "Not obvious; delicate or understated.",
                    "context": {
                        "Context 1": "There is a subtle hint in the text that points at one over the other.",
                        "Context 2": "He made a subtle reference to their previous discussion, which surprised everyone.",
                        "Context 3": "The artist used subtle colors to evoke feelings of calmness in the viewer."
                    }
                },
                {
                    "word": "Tricky",
                    "definition": "Difficult to deal with or to understand; deceptive.",
                    "context": {
                        "Context 1": "True-false-not-given can be very, very tricky sometimes.",
                        "Context 2": "The tricky crossword puzzle took hours to complete.",
                        "Context 3": "Negotiating salary can be a tricky situation for both the hiring manager and the candidate."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Fluoridation",
                    "fact": "Fluoridation was first introduced in the 1940s, and some people thought it was a government conspiracy to control teeth!"
                },
                {
                    "word": "Subtle",
                    "fact": "The word 'subtle' has a silent 'b'. So you can be as subtle as you like—just don't mention the silent letter!"
                }
            ],
            "jokes": [
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                },
                {
                    "question": "Why did the scarecrow become a successful IELTS teacher?",
                    "answer": "Because he was outstanding in his field!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Misheard",
                    "definition": "To hear something incorrectly.",
                    "context": {
                        "Context 1": "I misheard your instructions and ended up going in the wrong direction.",
                        "Context 2": "She misheard the lyrics and thought the song was about a butterfly.",
                        "Context 3": "During the lecture, several students misheard the professor's name."
                    }
                },
                {
                    "word": "Skill",
                    "definition": "The ability to do something well, usually gained through experience and practice.",
                    "context": {
                        "Context 1": "With enough skill, you can complete the reading in under 50 minutes.",
                        "Context 2": "He has a skill for baking that impresses everyone at the family gatherings.",
                        "Context 3": "Learning a skill like coding can open many doors in the job market."
                    }
                },
                {
                    "word": "True-false-not-given",
                    "definition": "A reading comprehension question type where the answer can be true, false, or not given in the text.",
                    "context": {
                        "Context 1": "In the exam, we had to answer true-false-not-given questions based on the provided passage.",
                        "Context 2": "It's difficult to predict the true-false-not-given style questions in a trivia game.",
                        "Context 3": "In cooking, you must determine whether an ingredient is necessary, optional, or not given at all in the recipe."
                    }
                },
                {
                    "word": "Model",
                    "definition": "A standard or example for imitation or comparison.",
                    "context": {
                        "Context 1": "The child GPT model has been trained to perform specific tasks effectively.",
                        "Context 2": "She decided to model her painting after the famous artist."
                    }
                },
                {
                    "word": "Describe",
                    "definition": "To give an account in words of someone or something.",
                    "context": {
                        "Context 1": "Child GPT is very good at describing why it makes specific choices.",
                        "Context 2": "The travel brochure described the island as a paradise for tourists.",
                        "Context 3": "Can you describe your perfect vacation to me?"
                    }
                },
                {
                    "word": "Nail",
                    "definition": "To do something perfectly or successfully.",
                    "context": {
                        "Context 1": "Child GPT always nails the task assignments without making mistakes.",
                        "Context 2": "She nailed her audition and got the lead role in the play.",
                        "Context 3": "They tried their best to nail the science experiment in class."
                    }
                },
                {
                    "word": "Task",
                    "definition": "A piece of work or duty assigned to someone.",
                    "context": {
                        "Context 1": "Child GPT was specially trained for this kind of task.",
                        "Context 2": "My weekend task was to clean the garage and organize the tools.",
                        "Context 3": "He was given a challenging task that involved solving complex math problems."
                    }
                },
                {
                    "word": "Get better",
                    "definition": "To improve in health or skills.",
                    "context": {
                        "Context 1": "I wish you a speedy recovery so you can get better soon.",
                        "Context 2": "He wants to get better at playing the guitar through consistent practice.",
                        "Context 3": "She is determined to get better at her public speaking skills."
                    }
                },
                {
                    "word": "Good",
                    "definition": "Of high quality, suitable, or favorable.",
                    "context": {
                        "Context 1": "Child GPT is very good, especially for educational tasks.",
                        "Context 2": "It's always good to have a backup plan in case things go wrong.",
                        "Context 3": "That movie was so good that I want to see it again!"
                    }
                },
                {
                    "word": "Bye bye",
                    "definition": "A casual way of saying goodbye.",
                    "context": {
                        "Context 1": "At the end of our conversation, I said, 'Bye bye' to Alice.",
                        "Context 2": "The kids waved and shouted 'bye bye' as the bus drove away.",
                        "Context 3": "He fondly remembers saying 'bye bye' to his childhood friends before moving."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Nail",
                    "fact": "Did you know that there’s a species of nail that can grow up to 3 times faster than the average human nail? Talk about rapid growth!"
                },
                {
                    "word": "Model",
                    "fact": "In Paris, there are even models made entirely of gingerbread during Christmas time. They may not walk the runway, but they sure do look tasty!"
                }
            ],
            "jokes": [
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going today?"
                },
                {
                    "Person 2": "Pretty good! Just trying to wake up a bit. I stayed up too late last night."
                },
                {
                    "Person 1": "I know that feeling! What were you up to?"
                },
                {
                    "Person 2": "Oh, just binge-watching a new series. You know how it is!"
                },
                {
                    "Person 1": "Totally! What show are you watching?"
                },
                {
                    "Person 2": "It's called 'The Outer Limits.' It's kinda sci-fi, and I can't stop watching!"
                },
                {
                    "Person 1": "Nice! I've heard good things about that one. I need a new show to start."
                },
                {
                    "Person 2": "For sure! What’s the last show you watched?"
                },
                {
                    "Person 1": "I just finished 'Stranger Things.' It was so good! Have you seen it?"
                },
                {
                    "Person 2": "Yeah! So good! Did you see the latest season?"
                },
                {
                    "Person 1": "Yes, I did! The finale was intense. I couldn't believe what happened!"
                },
                {
                    "Person 2": "Right? I was on the edge of my seat the whole time!"
                },
                {
                    "Person 1": "Do you have any plans for the weekend? Maybe we could watch something together."
                },
                {
                    "Person 2": "That sounds fun! I’m free Saturday. Maybe we can start 'The Outer Limits' then?"
                },
                {
                    "Person 1": "Perfect! I’ll bring the snacks!"
                },
                {
                    "Person 2": "Awesome! Looking forward to it!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you see that new coffee shop opened up downtown?"
                },
                {
                    "Person 2": "Yeah, I saw it while driving by the other day! Have you checked it out yet?"
                },
                {
                    "Person 1": "Not yet, but I heard they have some awesome specialty drinks."
                },
                {
                    "Person 2": "Ooh, nice! I love trying new coffee flavors. What’s on the menu?"
                },
                {
                    "Person 1": "I think they have a lavender latte and a maple cinnamon cold brew!"
                },
                {
                    "Person 2": "Wow, both sound delicious! We should go try them together sometime."
                },
                {
                    "Person 1": "Definitely! How about this weekend?"
                },
                {
                    "Person 2": "Sounds great! Saturday works for me. What time do you want to go?"
                },
                {
                    "Person 1": "How about around 10? We can beat the morning rush."
                },
                {
                    "Person 2": "Perfect! I’m excited to see what it’s like."
                },
                {
                    "Person 1": "Me too! Plus, I’ve heard they have a cozy seating area."
                },
                {
                    "Person 2": "Nice! We can grab a drink and relax for a bit."
                },
                {
                    "Person 1": "Exactly! It’ll be a fun start to the weekend."
                },
                {
                    "Person 2": "For sure! I’ll bring my book to read while we sip."
                },
                {
                    "Person 1": "Good idea! I’ll grab my notebook to jot down thoughts."
                },
                {
                    "Person 2": "Awesome! Looking forward to it!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you heard about that new coffee shop that just opened downtown?"
                },
                {
                    "Person 2": "Yeah! I walked by it the other day. It looks super cute. Have you checked it out?"
                },
                {
                    "Person 1": "Not yet, but I heard they have amazing pastries. We should go together!"
                },
                {
                    "Person 2": "I'd love that! I need a caffeine boost for this week. It's been rough."
                },
                {
                    "Person 1": "I feel you. Work has been busy for me too. I can’t wait for the weekend!"
                },
                {
                    "Person 2": "Same here! Do you have any plans for the weekend?"
                },
                {
                    "Person 1": "Thinking about going hiking if the weather's nice. What about you?"
                },
                {
                    "Person 2": "I might just chill at home and catch up on some shows. I’ve been behind lately."
                },
                {
                    "Person 1": "Sounds relaxing! Any show in particular you're excited to watch?"
                },
                {
                    "Person 2": "Oh, definitely! I want to finally start that series everyone’s talking about—what's it called? 'Wednesdays'?"
                },
                {
                    "Person 1": "I think you mean 'Wednesday'? It’s supposed to be really good!"
                },
                {
                    "Person 2": "Yes, that’s the one! I heard it's a fun mix of mystery and comedy."
                },
                {
                    "Person 1": "I’ve heard the same! We should binge-watch it together sometime."
                },
                {
                    "Person 2": "That would be awesome! Let’s make it happen soon."
                },
                {
                    "Person 1": "For sure! In the meantime, let’s grab that coffee this week."
                },
                {
                    "Person 2": "Absolutely! I’ll text you when I’m free."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
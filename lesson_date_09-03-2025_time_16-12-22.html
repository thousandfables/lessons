<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "the wrong people will disappear ok we will get to that later wrong people will disappear all high class people",
                    "corrected": "the wrong people will disappear, okay, we will get to that later. The wrong people will disappear, all high-class people.",
                    "explanation": "Punctuation is needed to separate ideas clearly. 'High-class' should be hyphenated as it is a compound adjective.",
                    "context": "I was discussing the implications of government control. The wrong people will disappear, okay, we will get to that later. The wrong people will disappear, all high-class people."
                },
                {
                    "original": "if we have like open access from people they will try to take they will try to control all aspects of the life people all their steps",
                    "corrected": "if we have open access for people, they will try to take control of all aspects of people's lives, all their steps.",
                    "explanation": "'Like' is unnecessary and informal here; 'for' is the correct preposition, and 'the life people' should be 'people's lives.'",
                    "context": "I was explaining how unrestricted access could lead to control. If we have open access for people, they will try to take control of all aspects of people's lives, all their steps."
                },
                {
                    "original": "this is your logical chain right this is your plan more and more control but at the end like example I decide is it enough just to say about 5G",
                    "corrected": "this is your logical chain, right? This is your plan: more and more control. But in the end, is it enough just to mention 5G?",
                    "explanation": "Punctuation is missing, and 'like example' is awkward; 'mention' is more appropriate than 'say about.'",
                    "context": "I was reviewing the student's argument structure. This is your logical chain, right? This is your plan: more and more control. But in the end, is it enough just to mention 5G?"
                },
                {
                    "original": "you are supporting this point with any facts you just give it as a fact 5G like antennas yeah 5G antennas are controlling people",
                    "corrected": "you are not supporting this point with any facts; you just present it as a fact. 5G antennas, yeah, 5G antennas are controlling people.",
                    "explanation": "The sentence is missing a negation ('not') and needs proper punctuation for clarity.",
                    "context": "I was critiquing the student's argument about 5G. You are not supporting this point with any facts; you just present it as a fact. 5G antennas, yeah, 5G antennas are controlling people."
                },
                {
                    "original": "if you write something like that you will have to prove your point yeah this is not something that is safe to write about",
                    "corrected": "if you write something like that, you will have to prove your point. Yeah, this is not something that is safe to write about.",
                    "explanation": "A comma is needed after 'that' to separate clauses, and 'yeah' should start a new sentence.",
                    "context": "I was advising the student on the risks of controversial topics. If you write something like that, you will have to prove your point. Yeah, this is not something that is safe to write about."
                },
                {
                    "original": "but talking about politics talking about these very controversial topics is very very unsafe examples about Elon Musk is very good",
                    "corrected": "but talking about politics and these very controversial topics is very, very unsafe. Examples about Elon Musk are very good.",
                    "explanation": "The sentence lacks conjunctions and punctuation; 'examples' should be plural.",
                    "context": "I was emphasizing the risks of discussing sensitive topics. But talking about politics and these very controversial topics is very, very unsafe. Examples about Elon Musk are very good."
                },
                {
                    "original": "this part does not really belong in the example section your opinion on that if that's your opinion you could use it in the explanation example is about real this",
                    "corrected": "this part does not really belong in the example section. Your opinion on that—if that's your opinion—you could use it in the explanation. The example is about reality.",
                    "explanation": "The sentence is run-on and needs proper punctuation; 'real' should be 'reality.'",
                    "context": "I was guiding the student on structuring their essay. This part does not really belong in the example section. Your opinion on that—if that's your opinion—you could use it in the explanation. The example is about reality."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "this whole part does not belong in the example section you just say how it is in real life that's it",
                    "corrected": "this whole part does not belong in the example section; you should just state how it is in real life, that's it.",
                    "explanation": "A semicolon is needed to separate two independent clauses; 'you just say how it is in real life' is a complete sentence.",
                    "context": "In discussing the structure of the writing, I pointed out that this whole part does not belong in the example section. You should just state how it is in real life, that's it."
                },
                {
                    "original": "is it very abstract is it a good way to prove anything by referencing a movie",
                    "corrected": "Is it very abstract? Is it a good way to prove anything by referencing a movie?",
                    "explanation": "Questions should start with a capital letter and end with a question mark to indicate they are interrogative.",
                    "context": "I questioned the logic of using movies as evidence. Is it very abstract? Is it a good way to prove anything by referencing a movie?"
                },
                {
                    "original": "it's like a fantasy you mean it's like a fantasy someone created it",
                    "corrected": "It's like a fantasy; you mean it's a fantasy someone created.",
                    "explanation": "The sentence needs a semicolon to separate two independent clauses and to clarify the meaning.",
                    "context": "I was emphasizing that movies are not based on reality. It's like a fantasy; you mean it's a fantasy someone created."
                },
                {
                    "original": "let's create an example about Elon Musk maybe I can write that I watched on YouTube for example podcasts where people talked about Elon Musk something like this",
                    "corrected": "Let's create an example about Elon Musk. Maybe I can write that I watched podcasts on YouTube where people talked about him, something like this.",
                    "explanation": "The original sentence is a run-on; it should be broken into shorter sentences for clarity.",
                    "context": "I suggested using a real-life example to illustrate my point. Let's create an example about Elon Musk. Maybe I can write that I watched podcasts on YouTube where people talked about him, something like this."
                },
                {
                    "original": "he created a chip and tried to make it inside of yourself and improve his health",
                    "corrected": "He created a chip and tried to implant it inside himself to improve his health.",
                    "explanation": "The phrase 'inside of yourself' is incorrect; 'inside himself' is the proper reflexive form, and 'implant' is a more precise verb.",
                    "context": "I was discussing the implications of technology on health. He created a chip and tried to implant it inside himself to improve his health."
                },
                {
                    "original": "but in the future it can influence on people in government possible",
                    "corrected": "But in the future, it could possibly influence people in government.",
                    "explanation": "The phrase 'influence on' is incorrect; it should be 'influence' without 'on,' and 'could' is more appropriate for hypothetical situations.",
                    "context": "I was warning about potential future implications of technology. But in the future, it could possibly influence people in government."
                },
                {
                    "original": "why is this bad that the government has full control of its citizens",
                    "corrected": "Why is it bad that the government has full control over its citizens?",
                    "explanation": "The phrase 'this bad' is incorrect; it should be 'it bad,' and 'over' is the correct preposition to use with 'control.'",
                    "context": "I was questioning the implications of government control. Why is it bad that the government has full control over its citizens?"
                },
                {
                    "original": "not just to make our health better but maybe worse",
                    "corrected": "Not just to improve our health, but potentially to make it worse.",
                    "explanation": "'Make our health better' is less idiomatic than 'improve our health,' and 'maybe' should be replaced with 'potentially' for clarity.",
                    "context": "I was discussing the dual nature of health technology. Not just to improve our health, but potentially to make it worse."
                },
                {
                    "original": "this control could go beyond online activity into the real life into the into the",
                    "corrected": "This control could go beyond online activity into real life.",
                    "explanation": "The phrase 'the real life into the into the' is redundant and should be simplified.",
                    "context": "I was explaining the potential dangers of technology. This control could go beyond online activity into real life."
                },
                {
                    "original": "because your explanation should be convincing imagine there is a person who is saying oh I will be happy if government controls everything like online offline it's like maybe we will feel like we are robot",
                    "corrected": "Because your explanation should be convincing, imagine a person saying, 'Oh, I would be happy if the government controls everything, both online and offline. It's like we might feel like robots.'",
                    "explanation": "The original sentence is overly long and lacks punctuation; it should be broken into clearer segments.",
                    "context": "I was emphasizing the need for a strong argument. Because your explanation should be convincing, imagine a person saying, 'Oh, I would be happy if the government controls everything, both online and offline. It's like we might feel like robots.'"
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "let's extend this idea further in your explanation chain you you you are writing the example now",
                    "corrected": "let's extend this idea further in your explanation chain; you are writing the example now.",
                    "explanation": "The sentence lacks proper punctuation; a semicolon is needed to separate independent clauses.",
                    "context": "I want to clarify our discussion. Let's extend this idea further in your explanation chain; you are writing the example now. This will help us understand the concept better."
                },
                {
                    "original": "you need to explain how from controlling online activity we go to our control of offline activity",
                    "corrected": "you need to explain how controlling online activity leads to our control of offline activity.",
                    "explanation": "The phrase 'we go to' is awkward; 'leads to' is more appropriate for showing a connection.",
                    "context": "In our discussion, you need to explain how controlling online activity leads to our control of offline activity. This connection is crucial for our argument."
                },
                {
                    "original": "this will be some middle steps here we will explain that",
                    "corrected": "there will be some middle steps here that we will explain.",
                    "explanation": "'This will be' is incorrect; 'there will be' is the proper way to indicate existence.",
                    "context": "As we develop our ideas, there will be some middle steps here that we will explain. These steps will clarify our reasoning."
                },
                {
                    "original": "but after that we have to explain why this is bad",
                    "corrected": "but after that, we have to explain why this is bad.",
                    "explanation": "A comma is needed after 'after that' to separate the introductory phrase from the main clause.",
                    "context": "We need to build our argument carefully. But after that, we have to explain why this is bad. This will strengthen our position."
                },
                {
                    "original": "let's just focus on like the result of it",
                    "corrected": "let's just focus on the result of it.",
                    "explanation": "'Like' is unnecessary here; it should be omitted for clarity.",
                    "context": "To keep our discussion clear, let's just focus on the result of it. This will help us stay on track."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": []
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Introduction",
                    "definition": "The beginning section of a piece of writing that outlines the main topic or purpose.",
                    "context": {
                        "Context 1": "In your introduction, you should clearly state what the essay will discuss.",
                        "Context 2": "The introduction of the book captivated readers with its intriguing premise.",
                        "Context 3": "During the introduction of the meeting, the speaker outlined the agenda."
                    }
                },
                {
                    "word": "Argument",
                    "definition": "A reason or set of reasons given to persuade others that an action or idea is right or wrong.",
                    "context": {
                        "Context 1": "Your argument needs to be supported by evidence to be convincing.",
                        "Context 2": "The argument between the two friends escalated over a simple misunderstanding.",
                        "Context 3": "In court, the lawyer presented a strong argument to defend her client."
                    }
                },
                {
                    "word": "Controversial",
                    "definition": "Causing or likely to cause public disagreement.",
                    "context": {
                        "Context 1": "Talking about 5G technology can be a controversial topic.",
                        "Context 2": "The controversial painting sparked debates among art critics.",
                        "Context 3": "His controversial opinion on the matter led to heated discussions at the dinner table."
                    }
                },
                {
                    "word": "Evidence",
                    "definition": "The available body of facts or information indicating whether a belief or proposition is true or valid.",
                    "context": {
                        "Context 1": "You need to provide evidence to support your claims in the essay.",
                        "Context 2": "The detective gathered evidence to solve the mystery.",
                        "Context 3": "In science class, we learned how to collect evidence for our experiments."
                    }
                },
                {
                    "word": "Opinion",
                    "definition": "A personal view, attitude, or appraisal about a particular topic.",
                    "context": {
                        "Context 1": "Your opinion on the issue should be clearly stated in the essay.",
                        "Context 2": "Everyone is entitled to their own opinion, even if it differs from yours.",
                        "Context 3": "The movie received mixed opinions from critics and audiences alike."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern that illustrates a concept or idea.",
                    "context": {
                        "Context 1": "You should include an example to clarify your argument.",
                        "Context 2": "She used a personal example to explain her feelings about the situation.",
                        "Context 3": "The teacher provided an example of a well-written essay for the students."
                    }
                },
                {
                    "word": "Belief",
                    "definition": "An acceptance that something exists or is true, especially without proof.",
                    "context": {
                        "Context 1": "A lot of people have a belief in conspiracy theories without any evidence.",
                        "Context 2": "His belief in hard work led him to success.",
                        "Context 3": "Cultural beliefs can greatly influence a community's traditions."
                    }
                },
                {
                    "word": "Control",
                    "definition": "The power to influence or direct people's behavior or the course of events.",
                    "context": {
                        "Context 1": "The government may try to control aspects of people's lives.",
                        "Context 2": "She had to control her laughter during the serious meeting.",
                        "Context 3": "The coach emphasized the need to control the game to secure a victory."
                    }
                },
                {
                    "word": "Safe",
                    "definition": "Protected from or not exposed to danger or risk.",
                    "context": {
                        "Context 1": "It's safer to avoid controversial topics in your essay.",
                        "Context 2": "The children felt safe in their home during the storm.",
                        "Context 3": "Wearing a helmet is a safe practice when riding a bike."
                    }
                },
                {
                    "word": "Manage",
                    "definition": "To be in charge of or to handle something effectively.",
                    "context": {
                        "Context 1": "You need to manage your time wisely to complete the essay.",
                        "Context 2": "She was hired to manage the new project at work.",
                        "Context 3": "He struggled to manage his emotions during the stressful situation."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Controversial",
                    "fact": "The word 'controversial' is often used in debates, but did you know it can also refer to pineapple on pizza?"
                },
                {
                    "word": "Opinion",
                    "fact": "The word 'opinion' comes from the Latin 'opinari,' which means 'to think.' So, when you share your opinion, you're just thinking out loud!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the essay go to therapy?",
                    "answer": "Because it had too many unresolved arguments!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to reach new heights in their essays!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Abstract",
                    "definition": "Existing in thought or as an idea but not having a physical or concrete existence.",
                    "context": {
                        "Context 1": "The concept of love is often considered abstract, as it cannot be seen or touched.",
                        "Context 2": "He painted an abstract piece that represented his feelings about the city.",
                        "Context 3": "The abstract nature of the theory made it difficult for students to grasp."
                    }
                },
                {
                    "word": "Logical",
                    "definition": "Of or according to the rules of logic or formal argument.",
                    "context": {
                        "Context 1": "Her argument was logical and well-structured, making it easy to understand.",
                        "Context 2": "It’s logical to wear a coat in winter to stay warm.",
                        "Context 3": "The detective used logical reasoning to solve the mystery."
                    }
                },
                {
                    "word": "Fantasy",
                    "definition": "The faculty or activity of imagining things, especially things that are impossible or improbable.",
                    "context": {
                        "Context 1": "The movie was a fantasy that took place in a magical world.",
                        "Context 2": "She often escapes into a fantasy world when reading her favorite novels.",
                        "Context 3": "His fantasy of becoming a superhero was inspired by comic books."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern used to illustrate a concept.",
                    "context": {
                        "Context 1": "The teacher provided an example to clarify the lesson.",
                        "Context 2": "As an example of kindness, she volunteered at the shelter.",
                        "Context 3": "He used his own life as an example to inspire others."
                    }
                },
                {
                    "word": "Control",
                    "definition": "The power to influence or direct people's behavior or the course of events.",
                    "context": {
                        "Context 1": "The government has control over many aspects of citizens' lives.",
                        "Context 2": "She learned to control her emotions during stressful situations.",
                        "Context 3": "The coach's control over the team was evident in their performance."
                    }
                },
                {
                    "word": "Influence",
                    "definition": "The capacity to have an effect on the character, development, or behavior of someone or something.",
                    "context": {
                        "Context 1": "His speech had a strong influence on the audience's opinions.",
                        "Context 2": "The weather can influence our mood significantly.",
                        "Context 3": "Peer pressure often influences teenagers' decisions."
                    }
                },
                {
                    "word": "Health",
                    "definition": "The state of being free from illness or injury; a person's mental or physical condition.",
                    "context": {
                        "Context 1": "Regular exercise is important for maintaining good health.",
                        "Context 2": "She is studying health sciences to become a doctor.",
                        "Context 3": "Mental health is just as important as physical health."
                    }
                },
                {
                    "word": "Capable",
                    "definition": "Having the ability, fitness, or quality necessary to do or achieve a specified thing.",
                    "context": {
                        "Context 1": "The new technology is capable of processing data much faster.",
                        "Context 2": "She is capable of running a marathon without training.",
                        "Context 3": "The team is capable of winning the championship this year."
                    }
                },
                {
                    "word": "Draft",
                    "definition": "A preliminary version of a piece of writing.",
                    "context": {
                        "Context 1": "He submitted a draft of his essay for feedback.",
                        "Context 2": "The architect presented a draft of the building plans.",
                        "Context 3": "She made several drafts before finalizing her novel."
                    }
                },
                {
                    "word": "Aspect",
                    "definition": "A particular part or feature of something.",
                    "context": {
                        "Context 1": "One aspect of the project is its environmental impact.",
                        "Context 2": "The financial aspect of running a business is crucial.",
                        "Context 3": "She considered every aspect of her decision before proceeding."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Abstract",
                    "fact": "The term 'abstract' comes from the Latin 'abstractus,' meaning 'drawn away'—which is fitting since it often draws our minds away from reality!"
                },
                {
                    "word": "Fantasy",
                    "fact": "Did you know that the word 'fantasy' comes from the Greek word 'phantasia,' which means 'to make visible' or 'to show'—like how your imagination can create vivid worlds?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Control",
                    "definition": "The power to influence or direct people's behavior or the course of events.",
                    "context": {
                        "Context 1": "The government has implemented measures to control online activity.",
                        "Context 2": "He lost control of the car on the icy road.",
                        "Context 3": "The teacher tried to control the classroom during the noisy assembly."
                    }
                },
                {
                    "word": "Activity",
                    "definition": "A condition in which things are happening or being done.",
                    "context": {
                        "Context 1": "The online activity of users can be tracked for safety.",
                        "Context 2": "The activity of the volcano has increased in recent weeks.",
                        "Context 3": "She planned a fun activity for the kids at the park."
                    }
                },
                {
                    "word": "Explain",
                    "definition": "To make something clear or easy to understand.",
                    "context": {
                        "Context 1": "Can you explain how this process works?",
                        "Context 2": "He tried to explain his feelings but struggled to find the right words.",
                        "Context 3": "The teacher will explain the math problem step by step."
                    }
                },
                {
                    "word": "Result",
                    "definition": "A consequence, effect, or outcome of something.",
                    "context": {
                        "Context 1": "The result of controlling online activity can affect privacy.",
                        "Context 2": "The result of the experiment was surprising to the researchers.",
                        "Context 3": "Her hard work resulted in a promotion at her job."
                    }
                },
                {
                    "word": "Focus",
                    "definition": "To concentrate attention or effort on something.",
                    "context": {
                        "Context 1": "We need to focus on the main issues at hand.",
                        "Context 2": "He found it hard to focus on his studies with all the noise around him.",
                        "Context 3": "The camera needs to focus properly to take a clear picture."
                    }
                },
                {
                    "word": "Explain further",
                    "definition": "To provide more details or clarification about a topic.",
                    "context": {
                        "Context 1": "I would like you to explain further how this affects our daily lives.",
                        "Context 2": "The chef had to explain further why the dish was taking so long.",
                        "Context 3": "Can you explain further why you chose that book for your report?"
                    }
                },
                {
                    "word": "Bad",
                    "definition": "Of poor quality or a low standard; not good.",
                    "context": {
                        "Context 1": "The consequences of this decision could be bad for everyone involved.",
                        "Context 2": "He had a bad day at work and just wanted to go home.",
                        "Context 3": "Eating too much junk food is bad for your health."
                    }
                },
                {
                    "word": "Middle steps",
                    "definition": "Intermediate actions or processes leading to a final outcome.",
                    "context": {
                        "Context 1": "We need to outline the middle steps before reaching a conclusion.",
                        "Context 2": "In cooking, the middle steps are just as important as the final presentation.",
                        "Context 3": "The middle steps in the project will determine its success."
                    }
                },
                {
                    "word": "Chain",
                    "definition": "A series of connected things or events.",
                    "context": {
                        "Context 1": "The explanation chain must be logical and clear.",
                        "Context 2": "He wore a chain around his neck as a fashion statement.",
                        "Context 3": "The chain of events led to a surprising conclusion."
                    }
                },
                {
                    "word": "Extend",
                    "definition": "To increase in length, duration, or scope.",
                    "context": {
                        "Context 1": "We should extend this idea further in our discussion.",
                        "Context 2": "They decided to extend their vacation by a few days.",
                        "Context 3": "The teacher will extend the deadline for the assignment."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Control",
                    "fact": "Did you know that cats have a natural control over their owners? They can make you do anything with just a look!"
                },
                {
                    "word": "Activity",
                    "fact": "In ancient Rome, people would engage in 'activity' by throwing parties that lasted for days. Talk about a busy schedule!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Collaboration",
                    "definition": "The action of working with someone to produce or create something.",
                    "context": {
                        "Context 1": "The collaboration between the two departments led to a successful project.",
                        "Context 2": "The artist's collaboration with the musician resulted in a beautiful song.",
                        "Context 3": "In a cooking class, collaboration is essential to prepare a meal together."
                    }
                },
                {
                    "word": "Diversity",
                    "definition": "The state of being diverse; variety.",
                    "context": {
                        "Context 1": "The school promotes diversity by celebrating different cultures.",
                        "Context 2": "A garden with a diversity of plants attracts more pollinators.",
                        "Context 3": "Diversity in a team can lead to more creative solutions."
                    }
                },
                {
                    "word": "Empathy",
                    "definition": "The ability to understand and share the feelings of another.",
                    "context": {
                        "Context 1": "Her empathy for others makes her a great friend.",
                        "Context 2": "A good doctor must have empathy to care for their patients.",
                        "Context 3": "Empathy is important in negotiations to understand the other party's perspective."
                    }
                },
                {
                    "word": "Innovation",
                    "definition": "A new method, idea, or product.",
                    "context": {
                        "Context 1": "The company's innovation in technology has changed the industry.",
                        "Context 2": "His innovation in cooking led to a popular new dish.",
                        "Context 3": "Innovation in sports equipment can enhance athlete performance."
                    }
                },
                {
                    "word": "Sustainability",
                    "definition": "The ability to be maintained at a certain rate or level.",
                    "context": {
                        "Context 1": "The organization focuses on sustainability to protect the environment.",
                        "Context 2": "Sustainability in farming practices helps preserve the land for future generations.",
                        "Context 3": "A sustainable diet includes a variety of foods that are healthy for both people and the planet."
                    }
                },
                {
                    "word": "Feedback",
                    "definition": "Information about reactions to a product, a person's performance, etc.",
                    "context": {
                        "Context 1": "The teacher provided feedback on the students' essays.",
                        "Context 2": "He asked for feedback on his new haircut from his friends.",
                        "Context 3": "Feedback from customers can help improve a business's services."
                    }
                },
                {
                    "word": "Networking",
                    "definition": "The action or process of interacting with others to exchange information and develop professional or social contacts.",
                    "context": {
                        "Context 1": "Networking at the conference helped her find a new job.",
                        "Context 2": "He enjoys networking with other artists to share ideas.",
                        "Context 3": "Networking is crucial in the tech industry to stay updated on trends."
                    }
                },
                {
                    "word": "Mentorship",
                    "definition": "The guidance provided by a mentor, especially an experienced person in a company or educational institution.",
                    "context": {
                        "Context 1": "Her mentorship helped him navigate his early career.",
                        "Context 2": "In sports, mentorship can improve a player's skills significantly.",
                        "Context 3": "Mentorship programs in schools encourage students to pursue their interests."
                    }
                },
                {
                    "word": "Engagement",
                    "definition": "The act of being involved or participating in something.",
                    "context": {
                        "Context 1": "Student engagement in class activities leads to better learning outcomes.",
                        "Context 2": "The engagement of the audience was evident during the performance.",
                        "Context 3": "Engagement in community service can foster a sense of belonging."
                    }
                },
                {
                    "word": "Vision",
                    "definition": "The ability to think about or plan the future with imagination or wisdom.",
                    "context": {
                        "Context 1": "The CEO's vision for the company inspired the employees.",
                        "Context 2": "Her vision of a better world motivates her to volunteer.",
                        "Context 3": "A clear vision is essential for successful project management."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Collaboration",
                    "fact": "Did you know that the word 'collaboration' comes from the Latin 'collaborare,' which means 'to work together'? So, technically, every time you team up for a group project, you're practicing ancient Roman teamwork!"
                },
                {
                    "word": "Diversity",
                    "fact": "The world's most diverse ecosystem is found in the Amazon rainforest, where it’s estimated that over 390 billion individual trees exist, representing about 16,000 different species!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! What’s up? You look a bit tired."
                },
                {
                    "Person 2": "Yeah, I’ve been working on this essay all day. I feel like my brain is fried!"
                },
                {
                    "Person 1": "I get that! Writing can be exhausting. What’s your essay about?"
                },
                {
                    "Person 2": "It’s about government surveillance and privacy. Pretty heavy stuff."
                },
                {
                    "Person 1": "Wow, that does sound intense. Are you finding it hard to stay focused?"
                },
                {
                    "Person 2": "Definitely. I keep getting distracted by my phone. I think I need a break."
                },
                {
                    "Person 1": "Maybe grab a snack or something? A little food can help clear your mind."
                },
                {
                    "Person 2": "Good idea! I could use some tea too. It always helps me think better."
                },
                {
                    "Person 1": "Tea sounds perfect! Do you have a favorite kind?"
                },
                {
                    "Person 2": "I love chamomile. It’s so calming. What about you?"
                },
                {
                    "Person 1": "I’m a big fan of green tea. It gives me a nice boost without being too jittery."
                },
                {
                    "Person 2": "Nice! I should try that sometime. So, how’s your week been?"
                },
                {
                    "Person 1": "Pretty good! Just busy with work and trying to stay on top of everything."
                },
                {
                    "Person 2": "I hear you. It’s like there’s never enough time in the day."
                },
                {
                    "Person 1": "Right? We should plan a day to just relax and hang out."
                },
                {
                    "Person 2": "Absolutely! A chill day sounds like just what we need."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new tech Elon Musk is working on?"
                },
                {
                    "Person 2": "Yeah, something about brain chips, right? Sounds wild!"
                },
                {
                    "Person 1": "Exactly! They say it could help with health issues, but I can't help but wonder about the risks."
                },
                {
                    "Person 2": "Right? I mean, what if the government starts using it to control people?"
                },
                {
                    "Person 1": "That’s what I’m worried about! It could start with health improvements but end up being a way to monitor us."
                },
                {
                    "Person 2": "Totally! Imagine if they could track our every move or even influence our decisions."
                },
                {
                    "Person 1": "Yeah, it’s like we’d lose our freedom. I mean, who wants to live like a robot?"
                },
                {
                    "Person 2": "Exactly! And what if the chips malfunctioned? That could be a nightmare."
                },
                {
                    "Person 1": "For sure! It’s a slippery slope. We need to be careful about how much control we give away."
                },
                {
                    "Person 2": "Agreed! Technology can be great, but we have to think about the consequences."
                },
                {
                    "Person 1": "Definitely! Maybe we should keep an eye on this and talk about it more."
                },
                {
                    "Person 2": "Yeah, let’s do that! It’s important to stay informed."
                },
                {
                    "Person 1": "Absolutely! Who knows what’s next in the tech world?"
                },
                {
                    "Person 2": "Right? It’s both exciting and a little scary at the same time."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch the game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a finish, right? I thought the other team had it in the bag."
                },
                {
                    "Person 1": "I know! That last-minute goal was insane. I was on the edge of my seat!"
                },
                {
                    "Person 2": "Same here! I was yelling at the TV like it could hear me. Did you see that one player? He was everywhere!"
                },
                {
                    "Person 1": "Absolutely! He’s been on fire this season. I wouldn’t be surprised if he gets MVP."
                },
                {
                    "Person 2": "For sure! I just hope they can keep this momentum going. The playoffs are going to be tough."
                },
                {
                    "Person 1": "Right? I can’t wait! We should definitely catch a game together sometime."
                },
                {
                    "Person 2": "Definitely! It’s way more fun watching it live. Plus, the atmosphere is electric!"
                },
                {
                    "Person 1": "Agreed! Let’s check the schedule and plan something."
                },
                {
                    "Person 2": "Sounds like a plan! I’ll bring the snacks!"
                },
                {
                    "Person 1": "Perfect! I’ll bring the drinks. It’s going to be a blast!"
                },
                {
                    "Person 2": "Can’t wait! Let’s make it happen!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch the game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a comeback, right?"
                },
                {
                    "Person 1": "Absolutely! I thought they were done for, but then they just turned it around."
                },
                {
                    "Person 2": "I know! That last-minute goal was insane. I jumped off the couch!"
                },
                {
                    "Person 1": "Same here! I was screaming. Did you see the highlights?"
                },
                {
                    "Person 2": "Yeah, I watched them this morning. That one player really stepped up."
                },
                {
                    "Person 1": "For sure! He’s been on fire lately. Do you think they can keep this momentum going?"
                },
                {
                    "Person 2": "I hope so! They have a tough schedule coming up, though."
                },
                {
                    "Person 1": "True, but if they keep playing like this, they might surprise everyone."
                },
                {
                    "Person 2": "Definitely! I’m excited to see how it all unfolds."
                },
                {
                    "Person 1": "Me too! We should catch the next game together."
                },
                {
                    "Person 2": "That sounds great! Let’s make it a game night."
                },
                {
                    "Person 1": "Perfect! I’ll bring the snacks."
                },
                {
                    "Person 2": "And I’ll bring the drinks! Can’t wait!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
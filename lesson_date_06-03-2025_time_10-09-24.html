<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 3,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "my mommy didn't sleep no, have not, have not sleep",
                    "corrected": "my mommy hasn't slept",
                    "explanation": "The phrase 'didn't sleep no' is incorrect; 'no' should not be used here. 'Have not sleep' should be 'hasn't slept' for proper tense.",
                    "context": "I think today is not my lucky day. My mommy hasn't slept all night. I decided to walk my dog and I returned before our lesson."
                },
                {
                    "original": "I have walked in my favorite",
                    "corrected": "I walked in my favorite",
                    "explanation": "'Have walked' is incorrect here; the simple past 'walked' is needed to describe a completed action.",
                    "context": "I decided to walk my dog. I walked in my favorite park. You didn't sleep last night."
                },
                {
                    "original": "I think about continuous of this",
                    "corrected": "I think about the continuity of this",
                    "explanation": "'Continuous' is an adjective; 'continuity' is the correct noun form needed here.",
                    "context": "I think about the continuity of this situation. I hope it's enough for me today. You know, maybe someone jinxed you."
                },
                {
                    "original": "I hate one, I don't know, Russian or world traditional",
                    "corrected": "I hate the Russian or world tradition",
                    "explanation": "The phrase 'one, I don't know' is unnecessary and 'traditional' should be 'tradition' for proper noun usage.",
                    "context": "I don't want to bring my money for a common present. I hate the Russian or world tradition of celebrating birthdays at work. It feels overwhelming."
                },
                {
                    "original": "I have no emotion about the year so, celebrate date",
                    "corrected": "I have no emotion about the date of my birthday",
                    "explanation": "'Emotion about the year so, celebrate date' is unclear; it should be 'emotion about the date of my birthday' for clarity.",
                    "context": "I expected that all of them would forget the date of my birthday. I have no emotion about the date of my birthday. I don't want to bring my money for a common present."
                },
                {
                    "original": "We don't have any common tasks We have no point of Point of interest",
                    "corrected": "We don't have any common tasks or points of interest",
                    "explanation": "Repetition of 'point of' is unnecessary; 'points of interest' should be used to convey the idea clearly.",
                    "context": "We don't have any common tasks. We have no points of interest in private or working life. You receive emails congratulating different workers in your company."
                },
                {
                    "original": "I celebrate 10 person maybe Which are you?",
                    "corrected": "I celebrate maybe 10 people, especially those I know.",
                    "explanation": "'10 person' should be '10 people' for correct pluralization; the structure is also awkward.",
                    "context": "I think I celebrate maybe 10 people, especially those I know. I can recognize them in a group of people. I remember their names when I see them face to face."
                },
                {
                    "original": "I know that he is Developer of sub system",
                    "corrected": "I know that he is the developer of a subsystem",
                    "explanation": "Missing articles 'the' and 'a' make the sentence grammatically incorrect; 'sub system' should be 'subsystem' as one word.",
                    "context": "I understand that he is the developer of a subsystem. I know that he is very smart. I have emails with him."
                },
                {
                    "original": "I couldn't understand why Why I should be involved in this process like collector Chipping money",
                    "corrected": "I couldn't understand why I should be involved in this process as a collector of money.",
                    "explanation": "'Like collector Chipping money' is awkward; 'as a collector of money' is clearer and grammatically correct.",
                    "context": "I couldn't understand why I should be involved in this process as a collector of money. It feels unnecessary. I prefer not to participate."
                },
                {
                    "original": "When we Worker Entrace to office",
                    "corrected": "When we workers enter the office",
                    "explanation": "'Worker Entrace' is incorrect; 'workers' and 'enter' are the correct forms needed here.",
                    "context": "When we workers enter the office, we see a big screen. It shows information about birthdays. Today is the day when a person in the list has a birthday."
                },
                {
                    "original": "And I decided Why I I have no idea why I should be go to the office",
                    "corrected": "And I decided I have no idea why I should go to the office",
                    "explanation": "The phrase 'be go' is incorrect; it should simply be 'go' for proper verb usage.",
                    "context": "And I decided I have no idea why I should go to the office. I see the list of birthdays. I feel like I barely know anyone."
                },
                {
                    "original": "I feel that I'm I feel that I'm I feel that I'm White crow in my department",
                    "corrected": "I feel like I'm a white crow in my department",
                    "explanation": "Repetition of 'I feel that I'm' is unnecessary; 'a white crow' needs the article 'a' for grammatical correctness.",
                    "context": "I feel like I'm a white crow in my department. I feel like I don't belong here. It's a strange feeling."
                },
                {
                    "original": "He didn't... Not didn't. Doesn't.",
                    "corrected": "He doesn't.",
                    "explanation": "The phrase 'Not didn't' is incorrect and confusing; 'doesn't' is the correct form.",
                    "context": "My cat doesn't get enough attention and care. He is wild. I saw him; he looks like a wild cat."
                },
                {
                    "original": "It's like you went to the forest to work with",
                    "corrected": "It's like you went to the forest to work.",
                    "explanation": "The sentence is incomplete; it should end with a period for proper structure.",
                    "context": "It's like you went to the forest to work. My cat is wild. He looks like a wild cat."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "He afraid of his treat.",
                    "corrected": "He is afraid of his treat.",
                    "explanation": "The verb 'to be' is missing; it should be 'is afraid' to indicate a state of being.",
                    "context": "I found a cat that looks like a wild cat. He is afraid of his treat. It's surprising because he seems so tough."
                },
                {
                    "original": "He want...",
                    "corrected": "He wants...",
                    "explanation": "'Want' needs to agree with the subject; 'he' requires the third person singular form 'wants.'",
                    "context": "I noticed something about my cat. He wants to play all the time. It's adorable to see his energy."
                },
                {
                    "original": "He has quite a biography.",
                    "corrected": "He has a quite interesting biography.",
                    "explanation": "'Quite' should modify 'interesting' rather than 'a biography' to convey the intended meaning.",
                    "context": "We were discussing my cat's past. He has a quite interesting biography. It's filled with unexpected events."
                },
                {
                    "original": "He flighted from the window to the street.",
                    "corrected": "He flew from the window to the street.",
                    "explanation": "'Flighted' is incorrect; the past tense of 'fly' is 'flew.'",
                    "context": "I was recounting a scary moment. He flew from the window to the street. It was a shocking experience."
                },
                {
                    "original": "It was a worrying story.",
                    "corrected": "It was a worrying tale.",
                    "explanation": "'Story' is not incorrect, but 'tale' fits better in this context for a narrative.",
                    "context": "I shared a past incident about my cat. It was a worrying tale. I was really concerned for his safety."
                },
                {
                    "original": "The happens of my different kitty.",
                    "corrected": "The happenings of my other kitty.",
                    "explanation": "'Happens' is not the correct form; 'happenings' is the noun form. 'Different' should be 'other' for clarity.",
                    "context": "I was mixing up stories about my pets. The happenings of my other kitty were quite different. They were also quite dramatic."
                },
                {
                    "original": "Refused of chicken.",
                    "corrected": "Refused chicken.",
                    "explanation": "'Refused of' is incorrect; 'refused' should be followed directly by the object without 'of.'",
                    "context": "I mentioned a peculiar cat behavior. He refused chicken. It was surprising because he usually loves it."
                },
                {
                    "original": "He knows about aggressive behavior from people to kitty.",
                    "corrected": "He knows about aggressive behavior from people towards cats.",
                    "explanation": "The preposition 'to' should be 'towards' to indicate direction or relationship.",
                    "context": "I was reflecting on my cat's past. He knows about aggressive behavior from people towards cats. It's sad but true."
                },
                {
                    "original": "I think he has difficult childhood.",
                    "corrected": "I think he has a difficult childhood.",
                    "explanation": "The article 'a' is needed before 'difficult childhood' to make it grammatically correct.",
                    "context": "I speculated about my cat's past. I think he has a difficult childhood. It explains some of his behaviors."
                },
                {
                    "original": "He repeated his... His escape? Experience.",
                    "corrected": "He repeated his escape experience.",
                    "explanation": "The repetition of 'his' is unnecessary; it should be streamlined to 'escape experience.'",
                    "context": "I was discussing my cat's habits. He repeated his escape experience. It was quite alarming for me."
                },
                {
                    "original": "Crazy, crazy story, crazy... The designer.",
                    "corrected": "Crazy, crazy story, crazy design.",
                    "explanation": "'The designer' is incorrect in this context; it should refer to 'design' instead.",
                    "context": "I was describing my apartment's layout. Crazy, crazy story, crazy design. It makes things difficult for my cat."
                },
                {
                    "original": "I absent at home again.",
                    "corrected": "I was absent at home again.",
                    "explanation": "The verb 'to be' is missing; it should be 'was absent' to indicate a past state.",
                    "context": "I recalled another incident. I was absent at home again. My mom had to deal with the situation."
                },
                {
                    "original": "Our kitty broken one teeth.",
                    "corrected": "Our kitty broke one tooth.",
                    "explanation": "'Broken' is the past participle; 'broke' is the correct past tense form. 'Teeth' should be singular here as only one is mentioned.",
                    "context": "I was worried about my cat's health. Our kitty broke one tooth. It was a stressful moment for us."
                },
                {
                    "original": "I put on my bad hoodie, which was...",
                    "corrected": "I put on my old hoodie, which was...",
                    "explanation": "'Bad' is incorrect in this context; 'old' is the appropriate adjective to describe the hoodie.",
                    "context": "I was talking about my comfort clothing. I put on my old hoodie, which was my favorite. It makes me feel at home."
                },
                {
                    "original": "I could watch it only 15 minutes, I think.",
                    "corrected": "I could only watch it for 15 minutes, I think.",
                    "explanation": "The adverb 'only' should come before 'watch' for correct placement, and 'for' is needed to indicate duration.",
                    "context": "I tried to watch a movie. I could only watch it for 15 minutes, I think. It was frustrating because I wanted to enjoy it."
                },
                {
                    "original": "I start noticing...",
                    "corrected": "I started noticing...",
                    "explanation": "The verb tense is incorrect; it should be in the past tense 'started' to match the context.",
                    "context": "I reflected on my progress. I started noticing improvements in my language skills. It's encouraging to see."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "You start feeling the language.",
                    "corrected": "You start to feel the language.",
                    "explanation": "The infinitive form 'to feel' is needed after 'start' to indicate the action that is beginning.",
                    "context": "As you progress in learning, you start to feel the language. This gradual understanding is essential for fluency."
                },
                {
                    "original": "You said strong surface.",
                    "corrected": "You said a strong surface.",
                    "explanation": "The article 'a' is necessary before 'strong surface' to indicate that it is a singular noun phrase.",
                    "context": "When discussing the terminology, you said a strong surface. This raised questions about the correct usage of 'strong' in this context."
                },
                {
                    "original": "You might not know this word yet, but you feel that it must be somewhere.",
                    "corrected": "You might not know this word yet, but you feel that it must exist somewhere.",
                    "explanation": "'Exist' is a more appropriate verb to convey the idea of something being present or available.",
                    "context": "In learning, you might not know this word yet, but you feel that it must exist somewhere. This intuition is part of the learning process."
                },
                {
                    "original": "I catch this moment when I... No, when I watching original films in English.",
                    "corrected": "I catch this moment when I watch original films in English.",
                    "explanation": "The present continuous 'watching' should be replaced with the simple present 'watch' to match the structure of the sentence.",
                    "context": "I catch this moment when I watch original films in English. This realization helps me understand the language better."
                },
                {
                    "original": "It's not only about knowing.",
                    "corrected": "It's not only about knowing words.",
                    "explanation": "Adding 'words' clarifies what is being referred to, making the sentence more specific.",
                    "context": "It's not only about knowing words; it's about feeling the language and understanding its patterns."
                },
                {
                    "original": "You are now aware of this doesn't part.",
                    "corrected": "You are now aware of this part that doesn't exist.",
                    "explanation": "The phrase 'this doesn't part' is unclear; it should specify what is not correct in terms of grammar.",
                    "context": "You are now aware of this part that doesn't exist in proper grammar. Recognizing these errors is crucial for improvement."
                },
                {
                    "original": "If you're jinxed, if you study English, that helps to lift off the jinx.",
                    "corrected": "If you're jinxed, studying English helps lift the jinx.",
                    "explanation": "The phrase 'that helps to lift off the jinx' is awkward; 'helps lift the jinx' is more concise and clear.",
                    "context": "If you're jinxed, studying English helps lift the jinx. This positive mindset can lead to better outcomes."
                },
                {
                    "original": "It will only pleasant things.",
                    "corrected": "It will only bring pleasant things.",
                    "explanation": "The verb 'bring' is needed to indicate the action of causing pleasant things to happen.",
                    "context": "From now on, it will only bring pleasant things. This optimistic outlook is important for motivation."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Running late",
                    "definition": "To be behind schedule or not on time.",
                    "context": {
                        "Context 1": "I’m running late because I missed the bus this morning.",
                        "Context 2": "She was running late to the meeting because she had to finish a report.",
                        "Context 3": "He was running late for his flight and had to rush through the airport."
                    }
                },
                {
                    "word": "Such a shame",
                    "definition": "An expression used to convey regret or disappointment about a situation.",
                    "context": {
                        "Context 1": "It’s such a shame that the concert was canceled due to rain.",
                        "Context 2": "She said it was such a shame that he didn’t win the competition.",
                        "Context 3": "He thought it was such a shame that the restaurant was closed on Sundays."
                    }
                },
                {
                    "word": "Point of interest",
                    "definition": "A specific topic or subject that is noteworthy or significant.",
                    "context": {
                        "Context 1": "The point of interest in our discussion was the new marketing strategy.",
                        "Context 2": "The guide pointed out several points of interest during the city tour.",
                        "Context 3": "The documentary focused on the point of interest regarding climate change."
                    }
                },
                {
                    "word": "Collect money",
                    "definition": "To gather funds from a group of people for a specific purpose.",
                    "context": {
                        "Context 1": "We need to collect money for the office birthday party.",
                        "Context 2": "The school decided to collect money for charity.",
                        "Context 3": "He was asked to collect money for the team’s new uniforms."
                    }
                },
                {
                    "word": "Honest emotions",
                    "definition": "Genuine feelings that are openly expressed.",
                    "context": {
                        "Context 1": "She appreciated the honest emotions shared during the team meeting.",
                        "Context 2": "The movie was praised for its portrayal of honest emotions.",
                        "Context 3": "He struggled to express his honest emotions after the breakup."
                    }
                },
                {
                    "word": "Belong",
                    "definition": "To be a part of or to fit in with a group or place.",
                    "context": {
                        "Context 1": "She felt like she didn’t belong in the new office environment.",
                        "Context 2": "He wanted to find a community where he truly belonged.",
                        "Context 3": "The club was welcoming, making everyone feel like they belonged."
                    }
                },
                {
                    "word": "Celebrate",
                    "definition": "To acknowledge a significant event or occasion with festivities.",
                    "context": {
                        "Context 1": "They plan to celebrate their anniversary with a big party.",
                        "Context 2": "The town will celebrate its founding with a parade.",
                        "Context 3": "She loves to celebrate her birthday with friends and family."
                    }
                },
                {
                    "word": "Emotion",
                    "definition": "A strong feeling such as joy, anger, or sadness.",
                    "context": {
                        "Context 1": "He expressed his emotion when he received the award.",
                        "Context 2": "The book was filled with deep emotion and resonated with readers.",
                        "Context 3": "She tried to hide her emotion during the sad movie."
                    }
                },
                {
                    "word": "Colleague",
                    "definition": "A person with whom one works, especially in a profession or business.",
                    "context": {
                        "Context 1": "My colleague helped me finish the project on time.",
                        "Context 2": "She has a great relationship with her colleagues at work.",
                        "Context 3": "He often goes out for lunch with his colleagues."
                    }
                },
                {
                    "word": "Wild",
                    "definition": "Living or growing in the natural environment; not domesticated.",
                    "context": {
                        "Context 1": "The wild animals in the forest are fascinating to observe.",
                        "Context 2": "She prefers wildflowers to cultivated ones in her garden.",
                        "Context 3": "He has a wild imagination and comes up with the most creative stories."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Collect money",
                    "fact": "Did you know that the first crowdfunding campaign was for a statue of a famous poet in 1885?"
                },
                {
                    "word": "Wild",
                    "fact": "In the wild, some animals can actually be more social than domesticated pets!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the dog sit in the shade?",
                    "answer": "Because he didn’t want to become a hot dog!"
                },
                {
                    "question": "Why did the scarecrow win an award?",
                    "answer": "Because he was outstanding in his field!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Afraid",
                    "definition": "Feeling fear or anxiety; frightened.",
                    "context": {
                        "Context 1": "He is afraid of loud noises, especially during thunderstorms.",
                        "Context 2": "The cat was afraid to explore the new house after moving.",
                        "Context 3": "She was afraid of failing her driving test."
                    }
                },
                {
                    "word": "Biography",
                    "definition": "A detailed description of a person's life.",
                    "context": {
                        "Context 1": "He has quite an interesting biography filled with adventures.",
                        "Context 2": "The biography of the famous author inspired many young writers.",
                        "Context 3": "She wrote a biography about her travels around the world."
                    }
                },
                {
                    "word": "Worrying",
                    "definition": "Causing anxiety or concern.",
                    "context": {
                        "Context 1": "The worrying news about the storm made everyone anxious.",
                        "Context 2": "He found the worrying behavior of his pet concerning.",
                        "Context 3": "The worrying trend in pollution levels is alarming."
                    }
                },
                {
                    "word": "Escape",
                    "definition": "To break free from confinement or control.",
                    "context": {
                        "Context 1": "The cat managed to escape through a small opening in the window.",
                        "Context 2": "He planned his escape from the boring party by pretending to get a phone call.",
                        "Context 3": "The prisoner made a daring escape from the facility."
                    }
                },
                {
                    "word": "Sill",
                    "definition": "The horizontal piece at the bottom of a window.",
                    "context": {
                        "Context 1": "The cat likes to sit on the window sill and watch the birds outside.",
                        "Context 2": "She decorated the window sill with flowers and candles.",
                        "Context 3": "He accidentally knocked over the vase on the window sill."
                    }
                },
                {
                    "word": "Charismatic",
                    "definition": "Having a magnetic charm or appeal.",
                    "context": {
                        "Context 1": "The cat is very charismatic, always attracting attention from visitors.",
                        "Context 2": "The charismatic leader inspired many people to follow his vision.",
                        "Context 3": "She has a charismatic personality that makes everyone feel welcome."
                    }
                },
                {
                    "word": "Difficult",
                    "definition": "Hard to do, deal with, or understand.",
                    "context": {
                        "Context 1": "He had a difficult time adjusting to the new environment.",
                        "Context 2": "The difficult math problem took her hours to solve.",
                        "Context 3": "It was a difficult decision to move away from her hometown."
                    }
                },
                {
                    "word": "Aggressive",
                    "definition": "Ready or likely to attack or confront; characterized by hostility.",
                    "context": {
                        "Context 1": "The aggressive behavior of the stray cat scared the children.",
                        "Context 2": "He took an aggressive approach to win the competition.",
                        "Context 3": "The aggressive marketing strategy helped boost sales significantly."
                    }
                },
                {
                    "word": "Concrete",
                    "definition": "A building material made from a mixture of cement, water, and aggregates.",
                    "context": {
                        "Context 1": "He fell onto the concrete surface and hurt himself.",
                        "Context 2": "The construction workers poured concrete to form the foundation.",
                        "Context 3": "They decided to build a concrete wall for better security."
                    }
                },
                {
                    "word": "Allergic",
                    "definition": "Having an allergy; having an adverse reaction to a substance.",
                    "context": {
                        "Context 1": "I am allergic to cats, which is why I can’t be around them.",
                        "Context 2": "She is allergic to peanuts and must avoid them at all costs.",
                        "Context 3": "He discovered he was allergic to pollen during springtime."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Afraid",
                    "fact": "Did you know that some people are so afraid of cats that they have a specific phobia called 'ailurophobia'?"
                },
                {
                    "word": "Biography",
                    "fact": "The longest biography ever written is about the life of a man named 'Sir John Franklin,' and it has over 1,000 pages!"
                },
                {
                    "word": "Concrete",
                    "fact": "Concrete is so strong that it can withstand the weight of a 100-ton elephant!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the cat sit on the computer?",
                    "answer": "Because it wanted to keep an eye on the mouse!"
                },
                {
                    "question": "What do you call a pile of cats?",
                    "answer": "A meow-tain!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Phrase",
                    "definition": "A small group of words standing together as a conceptual unit.",
                    "context": {
                        "Context 1": "In English, we often use phrases that don't translate directly from other languages.",
                        "Context 2": "The phrase 'kick the bucket' means to die, which is quite different from its literal meaning.",
                        "Context 3": "She learned a new phrase in Spanish that means 'to take a walk'."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances that form the setting for an event, statement, or idea.",
                    "context": {
                        "Context 1": "Understanding the context of a conversation can help clarify its meaning.",
                        "Context 2": "In history, the context of an event can change how we interpret it.",
                        "Context 3": "The context of the movie was set in the 1920s, which influenced the characters' behaviors."
                    }
                },
                {
                    "word": "Surface",
                    "definition": "The outside part or uppermost layer of something.",
                    "context": {
                        "Context 1": "The surface of the table was polished to a shine.",
                        "Context 2": "He decided to paint the surface of the wall a bright color.",
                        "Context 3": "The surface of the water was calm and reflective."
                    }
                },
                {
                    "word": "Abstract",
                    "definition": "Existing in thought or as an idea but not having a physical or concrete existence.",
                    "context": {
                        "Context 1": "The concept of love is often considered abstract.",
                        "Context 2": "He created an abstract painting that made people think deeply.",
                        "Context 3": "In mathematics, abstract concepts can be difficult to understand."
                    }
                },
                {
                    "word": "Input",
                    "definition": "What is put in, taken in, or operated on by any process or system.",
                    "context": {
                        "Context 1": "The more input you receive from various sources, the better your understanding becomes.",
                        "Context 2": "She provided valuable input during the meeting that helped shape the project.",
                        "Context 3": "The computer needs input from the user to function properly."
                    }
                },
                {
                    "word": "Flexible",
                    "definition": "Capable of bending easily without breaking; adaptable.",
                    "context": {
                        "Context 1": "Being flexible in your thinking can help you solve problems more effectively.",
                        "Context 2": "The gymnast was incredibly flexible, able to perform difficult routines.",
                        "Context 3": "A flexible schedule allows you to manage your time better."
                    }
                },
                {
                    "word": "Empower",
                    "definition": "To give someone the authority or power to do something.",
                    "context": {
                        "Context 1": "Learning a new language can empower you to communicate with more people.",
                        "Context 2": "The organization aims to empower women through education.",
                        "Context 3": "He felt empowered after receiving positive feedback from his boss."
                    }
                },
                {
                    "word": "Motivation",
                    "definition": "The reason or reasons one has for acting or behaving in a particular way.",
                    "context": {
                        "Context 1": "Finding motivation to learn a new language can be challenging but rewarding.",
                        "Context 2": "Her motivation to run a marathon came from wanting to improve her health.",
                        "Context 3": "Teachers often seek ways to boost student motivation in the classroom."
                    }
                },
                {
                    "word": "Awareness",
                    "definition": "Knowledge or perception of a situation or fact.",
                    "context": {
                        "Context 1": "Increased awareness of language patterns can improve your speaking skills.",
                        "Context 2": "Environmental awareness is crucial for protecting our planet.",
                        "Context 3": "He raised awareness about the importance of mental health in schools."
                    }
                },
                {
                    "word": "Translate",
                    "definition": "To express the meaning of (words or text) in another language.",
                    "context": {
                        "Context 1": "I need to translate this document from Russian to English.",
                        "Context 2": "She can translate poetry, which is much harder than prose.",
                        "Context 3": "The app can translate spoken language in real-time."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Phrase",
                    "fact": "Did you know that the phrase 'break a leg' is actually a way to wish someone good luck in theater?"
                },
                {
                    "word": "Abstract",
                    "fact": "The term 'abstract' comes from the Latin 'abstrahere', meaning 'to draw away'."
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the English book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, good morning! How's it going?"
                },
                {
                    "Person 2": "Not great, to be honest. My grandma decided to sing at 1 AM, and I didn't get any sleep."
                },
                {
                    "Person 1": "Oh no! That sounds rough. Did she ignore the alarm or something?"
                },
                {
                    "Person 2": "Yeah, exactly! She just kept singing like it was a concert."
                },
                {
                    "Person 1": "Yikes! So, you had to walk your dog this morning?"
                },
                {
                    "Person 2": "Yep, I was late for our lesson because of it. I was out for like 10 minutes."
                },
                {
                    "Person 1": "Sounds like a hectic morning! Did you at least enjoy the walk?"
                },
                {
                    "Person 2": "It was nice, but I was just thinking about how tired I am. I really need my coffee."
                },
                {
                    "Person 1": "Same here! I can’t function without it. By the way, do you have any plans for today?"
                },
                {
                    "Person 2": "Not really. Just work, I guess. But I’m dreading all the birthday emails from my colleagues."
                },
                {
                    "Person 1": "Oh, those can be annoying. Do you have to chip in for gifts?"
                },
                {
                    "Person 2": "Yeah, and it feels like every week there’s a new birthday to celebrate. It’s too much!"
                },
                {
                    "Person 1": "I get that. It’s awkward when you barely know the person."
                },
                {
                    "Person 2": "Exactly! I feel like a stranger in my own department sometimes."
                },
                {
                    "Person 1": "That’s tough. It’s important to feel connected at work."
                },
                {
                    "Person 2": "For sure! I just want to work with people who actually care."
                },
                {
                    "Person 1": "Totally understandable. So, what do you think you’ll do about it?"
                },
                {
                    "Person 2": "I might just start ignoring the birthday emails. I don’t want to be part of it anymore."
                },
                {
                    "Person 1": "That sounds like a plan! Focus on the people you actually like."
                },
                {
                    "Person 2": "Yeah, I think I’ll do that. Anyway, I need to feed my cat now. He’s been waiting."
                },
                {
                    "Person 1": "Oh, right! How's your cat doing?"
                },
                {
                    "Person 2": "He’s wild! Looks like he came straight from the forest."
                },
                {
                    "Person 1": "Sounds like a character! Hope he gets some attention today."
                },
                {
                    "Person 2": "Me too! Alright, I’ll catch you later!"
                },
                {
                    "Person 1": "Later! Good luck with everything!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I saw it on Instagram! Have you been there yet?"
                },
                {
                    "Person 1": "Not yet, but I’ve heard they have the best lattes in town."
                },
                {
                    "Person 2": "I love a good latte! What’s the name of the place?"
                },
                {
                    "Person 1": "It’s called ‘Brewed Awakening.’ Pretty clever, right?"
                },
                {
                    "Person 2": "Haha, I like it! I’ll have to check it out this weekend."
                },
                {
                    "Person 1": "Definitely! Maybe we can go together?"
                },
                {
                    "Person 2": "Sounds like a plan! I could use a caffeine fix."
                },
                {
                    "Person 1": "Same here! Plus, I heard they have some amazing pastries."
                },
                {
                    "Person 2": "Oh, I’m sold! Pastries and coffee? Count me in!"
                },
                {
                    "Person 1": "Great! Let’s aim for Saturday morning then."
                },
                {
                    "Person 2": "Perfect! I’ll bring my camera. We need to document this."
                },
                {
                    "Person 1": "For sure! Can’t wait to try their drinks and take some cute pics."
                },
                {
                    "Person 2": "It’s going to be fun! I’ll see you Saturday!"
                },
                {
                    "Person 1": "See you then! Don’t forget to set your alarm!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you ever tried learning a new language?"
                },
                {
                    "Person 2": "Yeah, I tried learning Spanish a while back. It was tough!"
                },
                {
                    "Person 1": "I can imagine! I’ve been thinking about picking up French."
                },
                {
                    "Person 2": "That sounds cool! I heard French can be tricky with all the different pronunciations."
                },
                {
                    "Person 1": "Right? I feel like I’d need to watch a ton of movies just to get the hang of it."
                },
                {
                    "Person 2": "Definitely! Watching movies helps a lot. You start to pick up phrases without even realizing it."
                },
                {
                    "Person 1": "Exactly! I noticed that when I watched some Spanish shows, I began to understand bits and pieces."
                },
                {
                    "Person 2": "That’s how it works! The more you hear it, the more familiar it becomes."
                },
                {
                    "Person 1": "Yeah, and I think it’s fun to hear how different cultures express things."
                },
                {
                    "Person 2": "For sure! Plus, it’s a great way to connect with people from different backgrounds."
                },
                {
                    "Person 1": "Totally! I should probably start with some basic phrases before diving into movies."
                },
                {
                    "Person 2": "Good idea! Maybe try some language apps too. They can be really helpful."
                },
                {
                    "Person 1": "I’ll check those out. Thanks for the tip!"
                },
                {
                    "Person 2": "No problem! Let me know how it goes. I’d love to hear about your progress."
                },
                {
                    "Person 1": "Will do! Alright, I gotta run now. Catch you later?"
                },
                {
                    "Person 2": "Absolutely! Have a great day!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
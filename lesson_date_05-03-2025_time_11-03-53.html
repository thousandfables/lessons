<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I can't say that it's very pretty, especially because it's black.",
                    "corrected": "I can't say that it's very pretty, especially since it's black.",
                    "explanation": "\"Because\" can be replaced with \"since\" for a more idiomatic expression in this context.",
                    "context": "I have a garland of lights that I decided to use, but it's too long and goes all around the room. I can't say that it's very pretty, especially since it's black. However, it gives a cozy and comfortable light in the evening."
                },
                {
                    "original": "It's better to wear something besides, I don't know, besides your own skin.",
                    "corrected": "It's better to wear something other than, I don't know, your own skin.",
                    "explanation": "\"Besides\" is incorrectly used here; \"other than\" is the correct phrase to indicate alternatives.",
                    "context": "We don't have central heating here like in Russia. To feel comfortable, it's better to wear something other than, I don't know, your own skin. Soon, it will be warm and even hot outside."
                },
                {
                    "original": "The word research, is it countable or uncountable?",
                    "corrected": "The word 'research'—is it countable or uncountable?",
                    "explanation": "The comma before 'is' is unnecessary; a dash or no punctuation is more appropriate for clarity.",
                    "context": "Without a spell checker, things become much more complicated. The word 'research'—is it countable or uncountable? I thought it was uncountable."
                },
                {
                    "original": "There are many researches.",
                    "corrected": "There is a lot of research.",
                    "explanation": "\"Research\" is uncountable, so it should be used in the singular form with \"a lot of.\"",
                    "context": "I see I already see one mistake. The word 'research'—is it countable or uncountable? There is a lot of research available on this topic."
                },
                {
                    "original": "Like the word search, we can't really count the word search.",
                    "corrected": "Like the word 'search', we can't really count 'search.'",
                    "explanation": "The repetition of 'the word search' is confusing; it should be clarified by using quotes.",
                    "context": "Research is just something related to searching. Like the word 'search', we can't really count 'search.' It’s a general term."
                },
                {
                    "original": "But you say here they could not be absolutely cure nowadays.",
                    "corrected": "But you say here they could not be absolutely cured nowadays.",
                    "explanation": "The verb 'cure' should be in the past participle form 'cured' to match the context.",
                    "context": "I kind of like your ideas, but they seem a little bit vague to me. But you say here they could not be absolutely cured nowadays, which raises questions about your argument."
                },
                {
                    "original": "Because there is no idea that disease should be.",
                    "corrected": "Because there is no idea that diseases should be.",
                    "explanation": "The word 'disease' should be pluralized to 'diseases' to refer to multiple types.",
                    "context": "Talking about treating diseases, I think we need to clarify our stance. Because there is no idea that diseases should be absolutely cured, we need to consider other approaches."
                },
                {
                    "original": "Just make it simple and straightforward.",
                    "corrected": "Just make it simple and straightforward.",
                    "explanation": "This sentence is correct but could be more effective with a slight rephrasing for clarity.",
                    "context": "In life, clarity is key. Just make it simple and straightforward so that your argument is easily understood."
                },
                {
                    "original": "If you're not sure whether it's right or wrong, just write something, something else.",
                    "corrected": "If you're not sure whether it's right or wrong, just write something else.",
                    "explanation": "The repetition of 'something' is unnecessary and makes the sentence awkward.",
                    "context": "When writing, if you're not sure whether it's right or wrong, just write something else. It’s better to express an idea than to leave it blank."
                },
                {
                    "original": "I won't write this word because I'm not sure whether it's written with a hyphen anti hyphen bodies or maybe with space between this word.",
                    "corrected": "I won't write this word because I'm not sure whether it's written with a hyphen, 'anti-hyphen bodies,' or maybe with a space between the words.",
                    "explanation": "The phrase 'anti hyphen bodies' needs proper punctuation for clarity and to indicate it as a compound term.",
                    "context": "For example, the word 'antibodies' is tricky. I won't write this word because I'm not sure whether it's written with a hyphen, 'anti-hyphen bodies,' or maybe with a space between the words."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "Couldn't not find vaccine because the virus were mutating.",
                    "corrected": "Could not find a vaccine because the virus was mutating.",
                    "explanation": "The phrase 'couldn't not find' is incorrect; it should be 'could not find.' Also, 'were' should be 'was' to agree with 'virus' (singular).",
                    "context": "During the pandemic, we faced many challenges. We could not find a vaccine because the virus was mutating. This made the situation even more complicated."
                },
                {
                    "original": "It's chronic or inherited from parents.",
                    "corrected": "It's chronic and inherited from parents.",
                    "explanation": "The use of 'or' suggests a choice, while 'and' correctly indicates that both conditions apply.",
                    "context": "When discussing certain illnesses, it's important to clarify their nature. It's chronic and inherited from parents. This means that these diseases cannot be easily cured."
                },
                {
                    "original": "Which is fine. Yeah, it's hard to write about this complicated topics about medicine and all that stuff.",
                    "corrected": "Which is fine. Yeah, it's hard to write about these complicated topics in medicine and all that stuff.",
                    "explanation": "'This' should be 'these' to match the plural 'topics.' Also, 'about medicine' should be 'in medicine' for better idiomatic usage.",
                    "context": "Writing about medical topics can be challenging. Which is fine. Yeah, it's hard to write about these complicated topics in medicine and all that stuff. But we need to try our best."
                },
                {
                    "original": "What is like a more formal or not a more formal, but a better linking device to start a sentence.",
                    "corrected": "What is a more formal, or better yet, a better linking device to start a sentence?",
                    "explanation": "The phrase 'What is like' is incorrect; it should be 'What is a.' The structure is awkward and needs clarification.",
                    "context": "When writing, it's essential to use appropriate linking devices. What is a more formal, or better yet, a better linking device to start a sentence? This can help improve the flow of ideas."
                },
                {
                    "original": "Because everyone's life is valuable.",
                    "corrected": "Because every person's life is valuable.",
                    "explanation": "'Everyone's' is informal; 'every person's' is more precise and formal for academic writing.",
                    "context": "In discussing ethical considerations, we must remember the value of life. Because every person's life is valuable. This is a fundamental principle in our argument."
                },
                {
                    "original": "We can't do this to people.",
                    "corrected": "We can't do this to individuals.",
                    "explanation": "'People' is too general; 'individuals' is more formal and appropriate for academic discourse.",
                    "context": "When making ethical arguments, clarity is key. We can't do this to individuals. Their rights and dignity must be respected."
                },
                {
                    "original": "Because again, the person is saying we can sacrifice their lives for like...",
                    "corrected": "Because again, the person is saying we can sacrifice their lives for something like...",
                    "explanation": "The word 'like' is too informal; 'something like' is more appropriate in this context.",
                    "context": "In debates, we often encounter opposing views. Because again, the person is saying we can sacrifice their lives for something like a greater good. This raises moral questions."
                },
                {
                    "original": "I think it's forbidden.",
                    "corrected": "I believe it's forbidden.",
                    "explanation": "'I think' is less formal; 'I believe' is more suitable for academic discussions.",
                    "context": "When discussing laws and ethics, it's crucial to be precise. I believe it's forbidden. This is based on legal principles."
                },
                {
                    "original": "It's easier to help people who are already sick.",
                    "corrected": "It's easier to help individuals who are already sick.",
                    "explanation": "'People' is informal; 'individuals' is more appropriate for formal writing.",
                    "context": "In healthcare discussions, we often weigh options. It's easier to help individuals who are already sick. This highlights the urgency of treatment."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "I don't like to use like this moral argument, this moral card as well.",
                    "corrected": "I don't like to use this moral argument, this moral card as well.",
                    "explanation": "The word 'like' is unnecessary and incorrect in this context; it should be removed.",
                    "context": "In discussions about ethics, I prefer to avoid using moral arguments. I don't like to use this moral argument, this moral card as well. It can complicate the conversation."
                },
                {
                    "original": "they only care because your explanation could be explaining this whole like train of thoughts.",
                    "corrected": "they only care because your explanation could be explaining this whole train of thought.",
                    "explanation": "'Train of thoughts' is incorrect; the correct phrase is 'train of thought' as it refers to a single line of reasoning.",
                    "context": "When discussing complex ideas, clarity is crucial. They only care because your explanation could be explaining this whole train of thought. This helps them understand the topic better."
                },
                {
                    "original": "we can sacrifice disease people for the good of future generations.",
                    "corrected": "we can sacrifice diseased people for the good of future generations.",
                    "explanation": "'Disease people' is incorrect; the proper term is 'diseased people' to describe individuals affected by a disease.",
                    "context": "In ethical debates, extreme views can arise. Some people think that we can sacrifice diseased people for the good of future generations. This raises serious moral questions."
                },
                {
                    "original": "we delete this idea, we remove it, and we only focus on one idea.",
                    "corrected": "we delete this idea, remove it, and only focus on one idea.",
                    "explanation": "The repetition of 'we' is unnecessary; it can be streamlined for clarity.",
                    "context": "When organizing thoughts, it's important to be concise. We delete this idea, remove it, and only focus on one idea. This makes the argument stronger."
                },
                {
                    "original": "they can be chronic and it carries it from parents.",
                    "corrected": "they can be chronic and are carried from parents.",
                    "explanation": "The verb 'carries' is incorrectly used; it should be 'are carried' to maintain subject-verb agreement.",
                    "context": "Understanding the origins of diseases is crucial. They can be chronic and are carried from parents. This genetic aspect complicates prevention."
                },
                {
                    "original": "the only best solution is just to spend this money on oil, on extracting oil.",
                    "corrected": "the best solution is to spend this money on oil extraction.",
                    "explanation": "The phrase 'the only best solution' is redundant; it should be simplified to 'the best solution.'",
                    "context": "In discussions about resource allocation, priorities matter. The best solution is to spend this money on oil extraction. This reflects current economic needs."
                },
                {
                    "original": "continue spending money and treat people with such illness.",
                    "corrected": "continue spending money and treat people with such illnesses.",
                    "explanation": "The word 'illness' should be pluralized to 'illnesses' to match the context of multiple diseases.",
                    "context": "When addressing healthcare funding, clarity is key. We should continue spending money and treat people with such illnesses. This ensures comprehensive care."
                },
                {
                    "original": "the point was... it's easier to say about schizophrenia than because we can talk about last century where A lot of...",
                    "corrected": "the point was... it's easier to talk about schizophrenia than to discuss the last century where a lot of...",
                    "explanation": "The phrase 'say about' is incorrect; it should be 'talk about' for proper usage.",
                    "context": "When making comparisons, clarity is essential. The point was... it's easier to talk about schizophrenia than to discuss the last century where a lot of advancements were made."
                },
                {
                    "original": "if they haven't created a solution, if they haven't solved that yet, what makes you think that in the future?",
                    "corrected": "if they haven't created a solution, if they haven't solved that yet, what makes you think they will in the future?",
                    "explanation": "The phrase 'that in the future' is awkward; it should be 'they will in the future' for clarity.",
                    "context": "In debates about medical advancements, skepticism is common. If they haven't created a solution, if they haven't solved that yet, what makes you think they will in the future? This highlights the challenges ahead."
                },
                {
                    "original": "the second one was easy.",
                    "corrected": "the second one was easier.",
                    "explanation": "The comparative form 'easier' should be used instead of 'easy' to compare the two paragraphs.",
                    "context": "Reflecting on writing processes can reveal insights. The second one was easier. This shows how familiarity with a topic can simplify writing."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "I will write to you in Telegram.",
                    "corrected": "I will write to you on Telegram.",
                    "explanation": "The preposition 'on' is used with platforms or applications like Telegram.",
                    "context": "I have to leave for another lesson now. I will write to you on Telegram later. I want to make sure we stay in touch."
                },
                {
                    "original": "Before going to the exam, I will address some things.",
                    "corrected": "Before going to the exam, I will take care of some things.",
                    "explanation": "'Address' is not the correct verb here; 'take care of' is more idiomatic for personal tasks.",
                    "context": "I have a few things to sort out before the exam. Before going to the exam, I will take care of some things. I want to be fully prepared."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Tweak",
                    "definition": "To make small adjustments or modifications.",
                    "context": {
                        "Context 1": "I need to tweak the settings on my computer to improve performance.",
                        "Context 2": "She decided to tweak her recipe by adding more spices.",
                        "Context 3": "The artist had to tweak the colors in her painting to achieve the desired effect."
                    }
                },
                {
                    "word": "Cozy",
                    "definition": "Comfortable and warm; inviting.",
                    "context": {
                        "Context 1": "The cozy atmosphere of the café made it a perfect place to relax.",
                        "Context 2": "He wrapped himself in a cozy blanket while watching a movie.",
                        "Context 3": "The cozy cabin in the woods was a great getaway from the city."
                    }
                },
                {
                    "word": "Adapt",
                    "definition": "To adjust to new conditions or environments.",
                    "context": {
                        "Context 1": "Animals often adapt to their surroundings to survive.",
                        "Context 2": "She had to adapt her teaching style to meet the needs of her students.",
                        "Context 3": "After moving to a new city, it took him a while to adapt to the local culture."
                    }
                },
                {
                    "word": "Insights",
                    "definition": "Deep understanding or awareness of a situation or problem.",
                    "context": {
                        "Context 1": "The report provided valuable insights into consumer behavior.",
                        "Context 2": "She gained insights about her health after visiting the doctor.",
                        "Context 3": "His insights into the art world helped him become a successful curator."
                    }
                },
                {
                    "word": "Punctuation",
                    "definition": "The use of symbols in writing to clarify meaning.",
                    "context": {
                        "Context 1": "Correct punctuation is essential for clear communication in writing.",
                        "Context 2": "She forgot to use punctuation in her text message, making it confusing.",
                        "Context 3": "In poetry, punctuation can change the rhythm and meaning of the lines."
                    }
                },
                {
                    "word": "Vague",
                    "definition": "Not clearly expressed or defined; ambiguous.",
                    "context": {
                        "Context 1": "His instructions were vague, leaving us unsure of what to do.",
                        "Context 2": "The movie's plot was so vague that I couldn't follow it.",
                        "Context 3": "She gave a vague answer when asked about her plans for the weekend."
                    }
                },
                {
                    "word": "Inevitably",
                    "definition": "Unavoidably; certain to happen.",
                    "context": {
                        "Context 1": "If you don’t study, you will inevitably fail the exam.",
                        "Context 2": "The sun will inevitably rise in the morning.",
                        "Context 3": "If you keep eating junk food, you will inevitably gain weight."
                    }
                },
                {
                    "word": "Research",
                    "definition": "The systematic investigation into a subject to discover or revise facts.",
                    "context": {
                        "Context 1": "She conducted research to find out more about climate change.",
                        "Context 2": "His research on ancient civilizations was published in a journal.",
                        "Context 3": "Many students struggle with research papers in college."
                    }
                },
                {
                    "word": "Criteria",
                    "definition": "Standards or principles by which something is judged or decided.",
                    "context": {
                        "Context 1": "The criteria for admission to the program are quite strict.",
                        "Context 2": "They established criteria for evaluating the success of the project.",
                        "Context 3": "Her criteria for choosing a book include an engaging plot and strong characters."
                    }
                },
                {
                    "word": "Clarify",
                    "definition": "To make a statement or situation less confused and more comprehensible.",
                    "context": {
                        "Context 1": "Can you clarify your point about the budget?",
                        "Context 2": "The teacher had to clarify the assignment for the students.",
                        "Context 3": "He called to clarify the details of the meeting."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Cozy",
                    "fact": "The word 'cozy' comes from the Scottish word 'cozey,' which means 'to make comfortable.'"
                },
                {
                    "word": "Inevitably",
                    "fact": "The word 'inevitably' is often used in dramatic situations, but in reality, it just means 'you can't escape it!'"
                },
                {
                    "word": "Vague",
                    "fact": "The word 'vague' is often used to describe unclear things, but did you know it can also describe a person who is just a bit too mysterious?"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the punctuation mark break up with the letter?",
                    "answer": "Because it found the letter too possessive!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Convincing",
                    "definition": "Capable of causing someone to believe that something is true or real.",
                    "context": {
                        "Context 1": "The speaker's argument was so convincing that everyone agreed with her.",
                        "Context 2": "The magician's tricks were convincing enough to fool the audience.",
                        "Context 3": "His convincing performance in the play earned him a standing ovation."
                    }
                },
                {
                    "word": "Relevant",
                    "definition": "Closely connected or appropriate to what is being done or considered.",
                    "context": {
                        "Context 1": "The example you provided is very relevant to the topic we are discussing.",
                        "Context 2": "The weather report was relevant to our plans for the picnic.",
                        "Context 3": "In a job interview, it’s important to share relevant experiences."
                    }
                },
                {
                    "word": "Cohesion",
                    "definition": "The action or fact of forming a united whole.",
                    "context": {
                        "Context 1": "Using linking devices improves the cohesion of your essay.",
                        "Context 2": "The cohesion of the team was evident in their synchronized performance.",
                        "Context 3": "Cohesion in a soup can be achieved by stirring it well."
                    }
                },
                {
                    "word": "Chronic",
                    "definition": "Persisting for a long time or constantly recurring.",
                    "context": {
                        "Context 1": "Chronic illnesses require ongoing management and care.",
                        "Context 2": "He had a chronic obsession with collecting stamps.",
                        "Context 3": "Chronic traffic jams are a common issue in big cities."
                    }
                },
                {
                    "word": "Inherited",
                    "definition": "Received from a parent or ancestor.",
                    "context": {
                        "Context 1": "Certain diseases can be inherited from parents.",
                        "Context 2": "She inherited her mother’s talent for painting.",
                        "Context 3": "The family business was inherited by the youngest son."
                    }
                },
                {
                    "word": "Preventative",
                    "definition": "Intended to stop something before it happens.",
                    "context": {
                        "Context 1": "Investing in preventative measures can save lives.",
                        "Context 2": "Preventative maintenance on cars can extend their lifespan.",
                        "Context 3": "She took preventative steps to avoid catching a cold."
                    }
                },
                {
                    "word": "Morality",
                    "definition": "Principles concerning the distinction between right and wrong or good and bad behavior.",
                    "context": {
                        "Context 1": "The discussion about morality often leads to heated debates.",
                        "Context 2": "In many cultures, morality is influenced by religious beliefs.",
                        "Context 3": "He questioned the morality of the decision made by the committee."
                    }
                },
                {
                    "word": "Effective",
                    "definition": "Successful in producing a desired or intended result.",
                    "context": {
                        "Context 1": "An effective example can strengthen your argument.",
                        "Context 2": "The new marketing strategy proved to be very effective.",
                        "Context 3": "She found an effective way to organize her time."
                    }
                },
                {
                    "word": "Argument",
                    "definition": "An exchange of diverging or opposite views, typically a heated or angry one.",
                    "context": {
                        "Context 1": "You need to present a strong argument to support your thesis.",
                        "Context 2": "The argument between the two friends ended in laughter.",
                        "Context 3": "In court, the lawyer presented a compelling argument."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern.",
                    "context": {
                        "Context 1": "Using a real-life example can make your point clearer.",
                        "Context 2": "He is a great example of a dedicated student.",
                        "Context 3": "She used an example from history to illustrate her argument."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Cohesion",
                    "fact": "Did you know that the word 'cohesion' comes from the Latin 'cohaerere,' which means 'to stick together'? Just like glue!"
                },
                {
                    "word": "Chronic",
                    "fact": "The term 'chronic' is often used in medicine, but it can also describe someone who is always late—like a chronic procrastinator!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the essay go to therapy?",
                    "answer": "Because it had too many run-on sentences!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Morality",
                    "definition": "Principles concerning the distinction between right and wrong or good and bad behavior.",
                    "context": {
                        "Context 1": "In the lesson, the speaker mentioned that they don't like to use the moral argument in discussions.",
                        "Context 2": "The morality of the situation was debated during the ethics class.",
                        "Context 3": "Many cultures have different views on morality, leading to diverse practices and beliefs."
                    }
                },
                {
                    "word": "Chronic",
                    "definition": "A condition that is long-lasting and persistent.",
                    "context": {
                        "Context 1": "The lesson discussed chronic diseases that cannot be prevented.",
                        "Context 2": "Chronic procrastination can lead to missed deadlines and stress.",
                        "Context 3": "He has a chronic love for pizza, eating it every Friday without fail."
                    }
                },
                {
                    "word": "Preventive",
                    "definition": "Intended to stop something before it happens.",
                    "context": {
                        "Context 1": "The lesson emphasized that preventive measures for chronic diseases are often ineffective.",
                        "Context 2": "Preventive maintenance on cars can save money in the long run.",
                        "Context 3": "She took preventive steps to avoid getting sick during flu season."
                    }
                },
                {
                    "word": "Treatment",
                    "definition": "The management and care of a patient for the purpose of combating a disease or condition.",
                    "context": {
                        "Context 1": "The discussion highlighted the need for continued treatment of chronic illnesses.",
                        "Context 2": "The treatment for his broken leg involved surgery and physical therapy.",
                        "Context 3": "She found a new treatment for her allergies that worked wonders."
                    }
                },
                {
                    "word": "Budget",
                    "definition": "An estimate of income and expenditure for a set period of time.",
                    "context": {
                        "Context 1": "The lesson mentioned the importance of focusing on one idea in the main budget paragraph.",
                        "Context 2": "They created a budget for their vacation to ensure they wouldn't overspend.",
                        "Context 3": "The school’s budget was tight this year, limiting extracurricular activities."
                    }
                },
                {
                    "word": "Iteration",
                    "definition": "The repetition of a process or utterance.",
                    "context": {
                        "Context 1": "The speaker mentioned that with each iteration, they lost the idea more.",
                        "Context 2": "The software went through several iterations before the final version was released.",
                        "Context 3": "In cooking, each iteration of the recipe helped her improve the dish."
                    }
                },
                {
                    "word": "Rational",
                    "definition": "Based on or in accordance with reason or logic.",
                    "context": {
                        "Context 1": "The lesson suggested that the only rational solution is to continue treating chronic diseases.",
                        "Context 2": "His rational approach to problem-solving made him a great team leader.",
                        "Context 3": "She made a rational decision to invest in her education rather than spend all her savings."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern.",
                    "context": {
                        "Context 1": "The lesson encouraged using real-life examples to support arguments.",
                        "Context 2": "She gave an example of how teamwork can lead to success.",
                        "Context 3": "The teacher asked for an example of a famous historical figure."
                    }
                },
                {
                    "word": "Proficient",
                    "definition": "Competent or skilled in doing or using something.",
                    "context": {
                        "Context 1": "The speaker mentioned that being more proficient in a subject could lead to deeper understanding.",
                        "Context 2": "He is proficient in three languages, making him a valuable asset to the company.",
                        "Context 3": "Her proficiency in mathematics helped her excel in engineering."
                    }
                },
                {
                    "word": "Connection",
                    "definition": "A relationship in which a person or thing is linked or associated with something else.",
                    "context": {
                        "Context 1": "The lesson discussed the need for better connections between ideas in writing.",
                        "Context 2": "There was a strong connection between the two characters in the novel.",
                        "Context 3": "She felt a deep connection to nature during her hike in the mountains."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Morality",
                    "fact": "The word 'morality' comes from the Latin 'moralitas,' which means 'manner, character, proper behavior.'"
                },
                {
                    "word": "Chronic",
                    "fact": "Chronic diseases are so common that they account for 70% of all deaths in the U.S. each year!"
                },
                {
                    "word": "Budget",
                    "fact": "The word 'budget' comes from the French word 'bougette,' meaning 'little bag,' where money was kept."
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Comfortable",
                    "definition": "Providing physical ease and relaxation; free from stress or worry.",
                    "context": {
                        "Context 1": "It's important to choose a topic you are comfortable with for your essay.",
                        "Context 2": "After a long day, I love to relax in my comfortable chair with a good book.",
                        "Context 3": "The hotel room was so comfortable that I didn't want to leave."
                    }
                },
                {
                    "word": "Effortless",
                    "definition": "Requiring no physical or mental exertion; easy.",
                    "context": {
                        "Context 1": "When you write about something you enjoy, it becomes effortless.",
                        "Context 2": "She made the dance look effortless, even though it was quite challenging.",
                        "Context 3": "His effortless charm made him popular at parties."
                    }
                },
                {
                    "word": "Moral",
                    "definition": "Concerned with principles of right and wrong behavior.",
                    "context": {
                        "Context 1": "The moral side of the argument is crucial to consider.",
                        "Context 2": "The story had a moral that taught children the importance of honesty.",
                        "Context 3": "In philosophy, moral dilemmas often challenge our ethical beliefs."
                    }
                },
                {
                    "word": "Address",
                    "definition": "To speak to someone or to deal with a particular issue.",
                    "context": {
                        "Context 1": "I will address some points before the exam.",
                        "Context 2": "The teacher will address the class about the upcoming field trip.",
                        "Context 3": "He decided to address his fear of public speaking by joining a club."
                    }
                },
                {
                    "word": "Telegram",
                    "definition": "A messaging app that allows users to send messages and media.",
                    "context": {
                        "Context 1": "I will write to you in Telegram after class.",
                        "Context 2": "She used Telegram to organize her book club meetings.",
                        "Context 3": "Telegram is known for its strong privacy features and security."
                    }
                },
                {
                    "word": "Main body",
                    "definition": "The central part of a written work, where the main ideas are developed.",
                    "context": {
                        "Context 1": "Writing a clear main body paragraph is essential for a good essay.",
                        "Context 2": "The main body of the report included detailed research findings.",
                        "Context 3": "In a novel, the main body reveals the character's journey."
                    }
                },
                {
                    "word": "Paragraph",
                    "definition": "A distinct section of writing that deals with a particular point.",
                    "context": {
                        "Context 1": "Each paragraph should focus on a single idea.",
                        "Context 2": "The teacher asked us to write a paragraph about our favorite season.",
                        "Context 3": "In poetry, a paragraph can be a stanza that conveys a specific emotion."
                    }
                },
                {
                    "word": "Choose",
                    "definition": "To select from a number of alternatives.",
                    "context": {
                        "Context 1": "You can choose the topics that you are most interested in.",
                        "Context 2": "I had to choose between going to the movies or staying home.",
                        "Context 3": "Choosing the right outfit for an interview can be stressful."
                    }
                },
                {
                    "word": "Pick",
                    "definition": "To select or take something from a group.",
                    "context": {
                        "Context 1": "You can pick the ones that you feel comfortable with.",
                        "Context 2": "She decided to pick apples from the orchard for the pie.",
                        "Context 3": "He always picks the best movies to watch on Friday nights."
                    }
                },
                {
                    "word": "Lesson",
                    "definition": "A period of instruction or learning.",
                    "context": {
                        "Context 1": "I have another lesson after this one.",
                        "Context 2": "The lesson on history was fascinating and engaging.",
                        "Context 3": "Every mistake is a lesson that helps us grow."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Comfortable",
                    "fact": "Did you know that the word 'comfortable' originally meant 'with a good degree of ease' in Latin?"
                },
                {
                    "word": "Effortless",
                    "fact": "The word 'effortless' is often used in sports to describe athletes who make difficult moves look easy!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the teacher go to the beach?",
                    "answer": "Because she wanted to test the waters!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going this morning?"
                },
                {
                    "Person 2": "Pretty good! Just trying to wake up a bit. How about you?"
                },
                {
                    "Person 1": "Same here! I had a late night binge-watching a new series."
                },
                {
                    "Person 2": "Oh nice! Which one? I've been looking for something new to watch."
                },
                {
                    "Person 1": "It's called 'The Midnight Club.' It's a bit spooky but really interesting."
                },
                {
                    "Person 2": "Sounds cool! I love a good mystery. I just finished 'Stranger Things' again."
                },
                {
                    "Person 1": "Classic! I can never get tired of that show. Did you hear they’re making another season?"
                },
                {
                    "Person 2": "Yeah! I can't wait. I hope they bring back all the original characters."
                },
                {
                    "Person 1": "For sure! So, any plans for the weekend?"
                },
                {
                    "Person 2": "Thinking about going hiking if the weather's nice. How about you?"
                },
                {
                    "Person 1": "I might join you! I could use some fresh air and exercise."
                },
                {
                    "Person 2": "Awesome! Let’s check the forecast and plan it out."
                },
                {
                    "Person 1": "Sounds good! I’ll bring snacks!"
                },
                {
                    "Person 2": "Perfect! I’ll bring the drinks. It’s going to be fun!"
                },
                {
                    "Person 1": "Definitely! Can't wait!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh, totally! It was intense! I can't believe they pulled off that last-minute win."
                },
                {
                    "Person 1": "Right? I was on the edge of my seat! I thought they were done for."
                },
                {
                    "Person 2": "Same here! And that last play was just brilliant. The quarterback really stepped up."
                },
                {
                    "Person 1": "I know! He’s been criticized a lot this season, but he really showed everyone what he’s made of."
                },
                {
                    "Person 2": "Exactly! I think he needed that boost of confidence. It could turn the season around for them."
                },
                {
                    "Person 1": "For sure! I just hope they can keep the momentum going into the next game."
                },
                {
                    "Person 2": "Agreed! And speaking of the next game, are you planning to watch it together?"
                },
                {
                    "Person 1": "Definitely! Let’s make it a game night. Snacks and all!"
                },
                {
                    "Person 2": "Sounds perfect! I’ll bring the chips and salsa."
                },
                {
                    "Person 1": "Awesome! I’ll handle the pizza. Can’t wait!"
                },
                {
                    "Person 2": "Me too! It’s going to be a blast. Let’s hope for another win!"
                },
                {
                    "Person 1": "Fingers crossed! See you then!"
                },
                {
                    "Person 2": "See you!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh, for sure! It was intense! I can't believe they came back in the last quarter."
                },
                {
                    "Person 1": "Right? I thought they were done for. That last-minute touchdown was wild!"
                },
                {
                    "Person 2": "Absolutely! I was jumping off my couch! Did you see the way the quarterback threw that pass?"
                },
                {
                    "Person 1": "Yeah, it was like a bullet! I don’t know how he managed to get it through that defense."
                },
                {
                    "Person 2": "He’s definitely one of the best in the league. I hope he keeps it up for the rest of the season."
                },
                {
                    "Person 1": "Same here! I’m just glad we’re finally seeing some good plays. Last season was rough."
                },
                {
                    "Person 2": "Tell me about it! I almost lost hope. But this season feels different."
                },
                {
                    "Person 1": "For sure! So, are you going to the next game?"
                },
                {
                    "Person 2": "I’m planning to! I got tickets with some friends. You should come with us!"
                },
                {
                    "Person 1": "Count me in! I wouldn’t miss it for the world."
                },
                {
                    "Person 2": "Awesome! It’s going to be a blast! Let’s hope for another win."
                },
                {
                    "Person 1": "Definitely! I’ll bring some snacks for the tailgate."
                },
                {
                    "Person 2": "Perfect! I’ll bring the drinks. It’s going to be a great day!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to get through the week. How about you?"
                },
                {
                    "Person 1": "Same here! I can't believe it's only Wednesday. It feels like it should be Friday already."
                },
                {
                    "Person 2": "I know, right? I’ve got so much to do before the weekend. Any plans for it?"
                },
                {
                    "Person 1": "Thinking about hitting the beach if the weather's nice. What about you?"
                },
                {
                    "Person 2": "That sounds fun! I might just relax at home and catch up on some shows."
                },
                {
                    "Person 1": "Nice! What shows are you into right now?"
                },
                {
                    "Person 2": "I just started that new series everyone’s talking about. It’s pretty good!"
                },
                {
                    "Person 1": "Oh, I’ve heard about that! Is it worth the hype?"
                },
                {
                    "Person 2": "Definitely! The storyline is really engaging, and the characters are great."
                },
                {
                    "Person 1": "Awesome! I’ll have to check it out. Any other recommendations?"
                },
                {
                    "Person 2": "If you like thrillers, you should watch that one with the detective. It’s super suspenseful!"
                },
                {
                    "Person 1": "Sounds perfect! I love a good thriller. I’ll add it to my list."
                },
                {
                    "Person 2": "Great! Let me know what you think once you start watching."
                },
                {
                    "Person 1": "Will do! Alright, I should get back to work. Catch you later?"
                },
                {
                    "Person 2": "For sure! Have a good one!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
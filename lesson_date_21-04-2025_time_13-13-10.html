<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 5,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I slept all this hour.",
                    "corrected": "I slept for the whole hour.",
                    "explanation": "The phrase 'all this hour' is awkward; 'for the whole hour' is more idiomatic.",
                    "context": "I was feeling tired, so I decided to take a nap. I slept for the whole hour. Now I feel more refreshed."
                },
                {
                    "original": "This sentence is not very good for an introduction because it chooses the time when I should move.",
                    "corrected": "This sentence is not very good for an introduction because it specifies the time when I should move.",
                    "explanation": "'Chooses' is incorrect; 'specifies' is the appropriate verb in this context.",
                    "context": "When writing an introduction, clarity is key. This sentence is not very good for an introduction because it specifies the time when I should move. Instead, we should focus on the main idea."
                },
                {
                    "original": "Choosing to leave without.",
                    "corrected": "Choosing to leave without parents.",
                    "explanation": "The sentence is incomplete; it needs to specify 'parents' to be clear.",
                    "context": "When discussing independence, it's important to be specific. Choosing to leave without parents is a good thing for young people because they learn valuable life skills."
                },
                {
                    "original": "We don't really start sentences with because or and, this is not a very good style.",
                    "corrected": "We don't really start sentences with 'because' or 'and'; this is not very good style.",
                    "explanation": "The sentence lacks proper punctuation; a semicolon or period is needed before 'this.'",
                    "context": "In academic writing, style matters. We don't really start sentences with 'because' or 'and'; this is not very good style. It's better to find alternative ways to connect ideas."
                },
                {
                    "original": "You will be able to start your own life spirit and you will be able to start your own life.",
                    "corrected": "You will be able to start your own life and become stronger in spirit.",
                    "explanation": "The phrase 'start your own life spirit' is awkward; it should be rephrased for clarity.",
                    "context": "When discussing personal growth, clarity is essential. You will be able to start your own life and become stronger in spirit. This independence is crucial for development."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "And when I will have exam, I will write it on the paper.",
                    "corrected": "And when I have an exam, I will write it on paper.",
                    "explanation": "The future tense 'will have' is incorrect here; 'have' should be used in the present tense. Also, 'the paper' is unnecessary; 'on paper' is the correct phrase.",
                    "context": "I often discuss exam preparations with my students. And when I have an exam, I will write it on paper. It's important to choose the right format for the exam."
                },
                {
                    "original": "Because it's my it's a more convenient.",
                    "corrected": "Because it's more convenient.",
                    "explanation": "The phrase 'it's a more convenient' is incorrect; 'more convenient' does not require 'a' as it is an adjective.",
                    "context": "I encourage my students to choose the format that suits them best. Because it's more convenient, I prefer the computer-based version for my exams."
                },
                {
                    "original": "You should what I recommend.",
                    "corrected": "What I recommend is that you should.",
                    "explanation": "The original sentence is awkward and unclear; it should be restructured for clarity.",
                    "context": "I often give advice to my students about studying. What I recommend is that you should get into the habit of typing everything on your computer."
                },
                {
                    "original": "I advise my students to use charge a pity a lot.",
                    "corrected": "I advise my students to use ChatGPT a lot.",
                    "explanation": "'Charge a pity' is a mispronunciation or misunderstanding; the correct term is 'ChatGPT.'",
                    "context": "I always encourage my students to utilize helpful tools. I advise my students to use ChatGPT a lot to check their essays."
                },
                {
                    "original": "I. And not see on it.",
                    "corrected": "I cannot see it on my tablet.",
                    "explanation": "The original sentence is incomplete and unclear; it should be a complete thought.",
                    "context": "I sometimes struggle with technology. I cannot see it on my tablet, but when I write on the computer, I feel more comfortable."
                },
                {
                    "original": "Computers are important, very, very important.",
                    "corrected": "Computers are very important.",
                    "explanation": "The repetition of 'important' is unnecessary; it can be simplified.",
                    "context": "I often emphasize the role of technology in education. Computers are very important for productivity and learning."
                },
                {
                    "original": "The sooner you start living on your own, the sooner you will get used to living with your parents.",
                    "corrected": "The sooner you start living on your own, the sooner you will get used to living without your parents.",
                    "explanation": "The original sentence incorrectly states 'living with your parents' instead of 'living without your parents.'",
                    "context": "I discuss the benefits of independence with my students. The sooner you start living on your own, the sooner you will get used to living without your parents."
                },
                {
                    "original": "Also, we'll be able to solve your problems on your own.",
                    "corrected": "Also, you will be able to solve your problems on your own.",
                    "explanation": "The original sentence incorrectly uses 'we' instead of 'you,' which changes the subject.",
                    "context": "I encourage students to be self-reliant. Also, you will be able to solve your problems on your own and become stronger in spirit."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "More over. It is a good idea for young people to live without parents because they earn money on they start.",
                    "corrected": "Moreover, it is a good idea for young people to live without parents because they start to earn money on their own.",
                    "explanation": "'More over' should be 'Moreover' as one word. The phrase 'they earn money on they start' is incorrect; it should be 'they start to earn money on their own.'",
                    "context": "I believe it's beneficial for young people to live independently. Moreover, it is a good idea for young people to live without parents because they start to earn money on their own. This independence helps them grow."
                },
                {
                    "original": "When people start living apart from their parents, the sooner they will find work and begin to provide themselves.",
                    "corrected": "When people start living apart from their parents, they quickly find work and begin to provide for themselves.",
                    "explanation": "The phrase 'the sooner they will find work' is awkward; it should be simplified to 'they quickly find work.' Also, 'provide themselves' should be 'provide for themselves.'",
                    "context": "Living independently can lead to quicker job opportunities. When people start living apart from their parents, they quickly find work and begin to provide for themselves. This transition is crucial for their growth."
                },
                {
                    "original": "I use it in all essays for in school.",
                    "corrected": "I use it in all my essays at school.",
                    "explanation": "The phrase 'for in school' is incorrect; it should be 'at school.' Additionally, 'my essays' clarifies ownership.",
                    "context": "I often incorporate certain words in my writing. I use it in all my essays at school. This helps me express my thoughts clearly."
                },
                {
                    "original": "They quickly find work and they start again.",
                    "corrected": "They quickly find work and start again.",
                    "explanation": "The repetition of 'they' is unnecessary; it can be omitted for a smoother sentence.",
                    "context": "Finding a job is a significant step. They quickly find work and start again. This helps them gain independence."
                },
                {
                    "original": "You don't like putting spaces after commas and spaces and even sometimes after other words.",
                    "corrected": "You don't like putting spaces after commas and sometimes even after other words.",
                    "explanation": "The phrase 'and spaces' is redundant; it should be simplified for clarity.",
                    "context": "Typing can sometimes lead to mistakes. You don't like putting spaces after commas and sometimes even after other words. This can affect the readability of your writing."
                },
                {
                    "original": "In your childhood parents.",
                    "corrected": "In your childhood, your parents.",
                    "explanation": "The sentence is missing a comma and lacks clarity; it should specify 'your parents.'",
                    "context": "Reflecting on past experiences is important. In your childhood, your parents took care of your needs. This support shapes who you become."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "A Russian person would probably not understand that.",
                    "corrected": "A Russian person probably wouldn't understand that.",
                    "explanation": "The contraction 'wouldn't' is more natural in spoken English than 'would not.'",
                    "context": "When discussing idiomatic expressions, I mentioned that a Russian person probably wouldn't understand that. It's important to use natural contractions in conversation."
                },
                {
                    "original": "It is idiomatic in Russian language.",
                    "corrected": "It is idiomatic in the Russian language.",
                    "explanation": "The definite article 'the' is needed before 'Russian language' to specify which language is being referred to.",
                    "context": "I was explaining how expressions can differ between languages. It is idiomatic in the Russian language, but not in English."
                },
                {
                    "original": "A lot of people are living.",
                    "corrected": "A lot of people live.",
                    "explanation": "The simple present tense 'live' is more appropriate here for general statements, rather than the present continuous 'are living.'",
                    "context": "In discussing living situations, I stated that a lot of people live with their parents. This captures the general idea more effectively."
                },
                {
                    "original": "Living what? At the cost.",
                    "corrected": "Living at the cost.",
                    "explanation": "The phrase 'Living what?' is unclear and unnecessary; it should simply state 'Living at the cost.'",
                    "context": "While trying to clarify a point about living situations, I mistakenly added an unclear phrase. Living at the cost of their parents is a better way to express the idea."
                },
                {
                    "original": "It sounds like your parents died for you.",
                    "corrected": "It sounds like your parents sacrificed for you.",
                    "explanation": "'Died for you' is a strong and potentially misleading phrase; 'sacrificed for you' conveys a similar meaning without the harshness.",
                    "context": "In discussing the implications of the phrase 'at the cost of their parents,' I realized it sounds like your parents sacrificed for you, which is a more appropriate expression."
                },
                {
                    "original": "We need to think of a more convincing example.",
                    "corrected": "We need to come up with a more convincing example.",
                    "explanation": "'Come up with' is a more idiomatic expression in this context than 'think of.'",
                    "context": "While brainstorming for our essay, I emphasized that we need to come up with a more convincing example to support our argument."
                },
                {
                    "original": "When the person reads... 90% of people are living separately from their parents.",
                    "corrected": "When the person reads... 90% of people live separately from their parents.",
                    "explanation": "The simple present 'live' is more appropriate for general truths rather than the present continuous 'are living.'",
                    "context": "In discussing statistics, I pointed out that when the person reads... 90% of people live separately from their parents, it doesn't make sense without context."
                },
                {
                    "original": "You did not say based on what you come up with this number.",
                    "corrected": "You didn't say what you based this number on.",
                    "explanation": "The phrasing is awkward; 'what you based this number on' is clearer and more idiomatic.",
                    "context": "I was critiquing the use of statistics in the essay. You didn't say what you based this number on, which is crucial for credibility."
                },
                {
                    "original": "They can't... ask for parents' help because now they are adults, they are not kids.",
                    "corrected": "They can't ask for their parents' help because they are now adults, not kids.",
                    "explanation": "The placement of 'now' and the structure makes the sentence awkward; reordering improves clarity.",
                    "context": "In discussing independence, I noted that they can't ask for their parents' help because they are now adults, not kids."
                },
                {
                    "original": "It's clear that if you don't live with your parents, you live alone and you don't ask for money from them, you need to earn it somehow, it's clear.",
                    "corrected": "It's clear that if you don't live with your parents, you live alone and don't ask for money from them; you need to earn it somehow.",
                    "explanation": "The repetition of 'it's clear' is unnecessary; the sentence can be streamlined for clarity.",
                    "context": "While explaining living situations, I emphasized that if you don't live with your parents, you live alone and don't ask for money from them; you need to earn it somehow."
                },
                {
                    "original": "But some families can't provide their children.",
                    "corrected": "But some families can't provide for their children.",
                    "explanation": "The phrase 'provide their children' is incorrect; 'provide for their children' is the correct expression.",
                    "context": "In discussing family support, I mentioned that but some families can't provide for their children, which highlights the challenges some face."
                }
            ]
        },
        "mistakes_5": {
            "mistakes_list": [
                {
                    "original": "It is normal to use words that are given to you in the title, yes, but not in the form when you just take it and then completely copy the sentence.",
                    "corrected": "It is normal to use words that are given to you in the title, yes, but not in the form of just taking it and completely copying the sentence.",
                    "explanation": "The phrase 'in the form when you just take it' is awkward; 'in the form of just taking it' is more idiomatic.",
                    "context": "When writing an essay, it is normal to use words from the title. However, you shouldn't just take them and completely copy the sentence."
                },
                {
                    "original": "It just sounds like some kind of crazy nonsense in English.",
                    "corrected": "It just sounds like some kind of crazy nonsense.",
                    "explanation": "The phrase 'in English' is redundant here; the context is already clear that the discussion is about English.",
                    "context": "We cannot use certain phrases because they won't be understood. It just sounds like some kind of crazy nonsense."
                },
                {
                    "original": "Ailts do not want to know everything about what you think about this topic.",
                    "corrected": "IELTS does not want to know everything about what you think about this topic.",
                    "explanation": "The term 'Ailts' is a misspelling; it should be 'IELTS,' which is the correct acronym for the English proficiency test.",
                    "context": "When writing for the IELTS, you should focus on clarity. IELTS does not want to know everything about what you think about this topic."
                },
                {
                    "original": "Like, oh, I think that this is good, because they earn, their health improves, their psychological, but they can also start their families there, and it does not depend on anyone.",
                    "corrected": "For example, I think this is good because they earn money, their health improves, and they can also start families there, which does not depend on anyone.",
                    "explanation": "The phrase 'their psychological' is incomplete; it should specify 'their psychological health' or be omitted for clarity.",
                    "context": "When discussing the benefits, I think this is good because they earn money, their health improves, and they can also start families there."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Introduction",
                    "definition": "The opening section of a piece of writing that outlines the main topic and purpose.",
                    "context": {
                        "Context 1": "The introduction of the essay clearly stated the main argument.",
                        "Context 2": "In a movie, the introduction sets the stage for the characters and plot.",
                        "Context 3": "The introduction of the new product was met with excitement at the launch event."
                    }
                },
                {
                    "word": "Paraphrase",
                    "definition": "To express the meaning of something written or spoken using different words.",
                    "context": {
                        "Context 1": "It's important to paraphrase the original text to avoid plagiarism.",
                        "Context 2": "She had to paraphrase the song lyrics to make them fit the new melody.",
                        "Context 3": "During the meeting, he had to paraphrase the CEO's message for clarity."
                    }
                },
                {
                    "word": "Cohesive",
                    "definition": "Characterized by the use of connections that create a unified whole.",
                    "context": {
                        "Context 1": "The essay was cohesive, with each paragraph flowing smoothly into the next.",
                        "Context 2": "The cohesive team worked together seamlessly to complete the project.",
                        "Context 3": "A cohesive wardrobe allows for easy mixing and matching of outfits."
                    }
                },
                {
                    "word": "Connector",
                    "definition": "A word or phrase that links ideas or sentences together.",
                    "context": {
                        "Context 1": "Using connectors like 'however' and 'therefore' improves the flow of writing.",
                        "Context 2": "In programming, a connector is used to link different components of a system.",
                        "Context 3": "The connector between the two pieces of furniture was made of sturdy metal."
                    }
                },
                {
                    "word": "Examine",
                    "definition": "To inspect or scrutinize carefully.",
                    "context": {
                        "Context 1": "The examiner will examine your essay for clarity and structure.",
                        "Context 2": "Doctors examine patients to diagnose illnesses.",
                        "Context 3": "The detective had to examine the crime scene for clues."
                    }
                },
                {
                    "word": "Position",
                    "definition": "A person's point of view or stance on an issue.",
                    "context": {
                        "Context 1": "In the essay, it's crucial to state your position clearly.",
                        "Context 2": "The politician took a strong position on environmental issues.",
                        "Context 3": "Her position on the team was that of a leader and strategist."
                    }
                },
                {
                    "word": "Strategy",
                    "definition": "A plan of action designed to achieve a specific goal.",
                    "context": {
                        "Context 1": "Developing a solid strategy for writing essays can improve your grades.",
                        "Context 2": "The chess player devised a winning strategy to outsmart her opponent.",
                        "Context 3": "The marketing team implemented a new strategy to increase sales."
                    }
                },
                {
                    "word": "Develop",
                    "definition": "To grow or cause to grow and become more mature, advanced, or elaborate.",
                    "context": {
                        "Context 1": "Students should develop their ideas fully in the main body paragraphs.",
                        "Context 2": "The artist took years to develop her unique style.",
                        "Context 3": "Scientists are working to develop a vaccine for the disease."
                    }
                },
                {
                    "word": "Consistent",
                    "definition": "Acting or done in the same way over time, especially to be fair or accurate.",
                    "context": {
                        "Context 1": "A consistent writing style helps readers follow your argument easily.",
                        "Context 2": "The athlete's consistent performance earned her a spot on the national team.",
                        "Context 3": "To be consistent in your diet, you should plan your meals ahead of time."
                    }
                },
                {
                    "word": "Unnecessary",
                    "definition": "Not needed or more than is required.",
                    "context": {
                        "Context 1": "The teacher pointed out that the extra details were unnecessary in the introduction.",
                        "Context 2": "Buying a new phone every year is often seen as unnecessary.",
                        "Context 3": "He realized that his unnecessary worries were affecting his health."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Cohesive",
                    "fact": "Did you know that glue is often called a 'cohesive' substance because it sticks things together?"
                },
                {
                    "word": "Connector",
                    "fact": "In the tech world, connectors are so important that people joke they should come with a 'relationship' manual!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the essay go to therapy?",
                    "answer": "Because it had too many run-on sentences!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to reach new heights in their writing!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Connector",
                    "definition": "A word or phrase that links ideas or sentences together.",
                    "context": {
                        "Context 1": "In English, connectors like 'however' and 'moreover' help to create smooth transitions between ideas.",
                        "Context 2": "The electrician used a connector to join two wires together safely.",
                        "Context 3": "In a debate, connectors are essential for presenting arguments logically."
                    }
                },
                {
                    "word": "Comfortable",
                    "definition": "Feeling relaxed and at ease; free from stress or discomfort.",
                    "context": {
                        "Context 1": "If you are comfortable with computers, you should choose the computer-based exam.",
                        "Context 2": "She wore her comfortable shoes for the long hike.",
                        "Context 3": "The cat looked comfortable as it napped in the sun."
                    }
                },
                {
                    "word": "Obsolete",
                    "definition": "No longer produced or used; out of date.",
                    "context": {
                        "Context 1": "The teacher mentioned that paper will become obsolete in the future.",
                        "Context 2": "With the rise of digital music, CDs have become obsolete.",
                        "Context 3": "Many believe that traditional taxis will become obsolete due to ride-sharing apps."
                    }
                },
                {
                    "word": "Prototype",
                    "definition": "An original model or preliminary version of a device or concept.",
                    "context": {
                        "Context 1": "The teacher discussed the prototype of an idea in writing.",
                        "Context 2": "The engineers built a prototype of the new car before mass production.",
                        "Context 3": "In art class, students created a prototype of their sculpture before the final piece."
                    }
                },
                {
                    "word": "Indirect Question",
                    "definition": "A question that is reported rather than asked directly.",
                    "context": {
                        "Context 1": "The lesson explained how to form indirect questions in English.",
                        "Context 2": "He asked an indirect question about the meeting time, saying he wondered when it would start.",
                        "Context 3": "In a survey, the researcher used indirect questions to gather opinions without bias."
                    }
                },
                {
                    "word": "Habit",
                    "definition": "A regular practice or routine that is often automatic.",
                    "context": {
                        "Context 1": "The teacher recommended getting into the habit of typing everything on the computer.",
                        "Context 2": "Brushing your teeth twice a day is a good habit for dental health.",
                        "Context 3": "He developed a habit of jogging every morning to stay fit."
                    }
                },
                {
                    "word": "Productive",
                    "definition": "Achieving a significant amount or result; efficient.",
                    "context": {
                        "Context 1": "The teacher noted that computers can make us more productive.",
                        "Context 2": "After a productive meeting, the team felt ready to tackle the project.",
                        "Context 3": "She found that listening to music while working made her more productive."
                    }
                },
                {
                    "word": "Version",
                    "definition": "A particular form or variant of something.",
                    "context": {
                        "Context 1": "Students can choose between a paper-based version or a computer-based version of the exam.",
                        "Context 2": "The new version of the app includes several user-friendly features.",
                        "Context 3": "He read the latest version of the book to see the author's updates."
                    }
                },
                {
                    "word": "Separate",
                    "definition": "To set or keep apart; to divide.",
                    "context": {
                        "Context 1": "The lesson emphasized not separating parts of the main body paragraph.",
                        "Context 2": "They decided to separate the recycling from the regular trash.",
                        "Context 3": "The twins were so similar that it was hard to separate their personalities."
                    }
                },
                {
                    "word": "Explain",
                    "definition": "To make something clear or easy to understand.",
                    "context": {
                        "Context 1": "The teacher tried to explain how to improve the writing.",
                        "Context 2": "She needed to explain her reasoning for the decision to her boss.",
                        "Context 3": "The scientist was invited to explain her research at the conference."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Obsolete",
                    "fact": "Did you know that the floppy disk, once a staple for data storage, is now considered obsolete? It’s even used as a save icon in many software applications!"
                },
                {
                    "word": "Prototype",
                    "fact": "The first prototype of a rubber duck was made from hard rubber, and it didn’t float! Imagine a rubber duck that sinks!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes!"
                },
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Moreover",
                    "definition": "In addition to what has been said; furthermore.",
                    "context": {
                        "Context 1": "Moreover, it is a good idea for young people to live without parents because they start to earn money on their own.",
                        "Context 2": "The weather was beautiful; moreover, we had a picnic planned.",
                        "Context 3": "She is an excellent student; moreover, she is also very friendly."
                    }
                },
                {
                    "word": "Provide",
                    "definition": "To supply or make available something that is needed.",
                    "context": {
                        "Context 1": "They quickly find work and start to provide for themselves.",
                        "Context 2": "The charity aims to provide food and shelter for the homeless.",
                        "Context 3": "He decided to provide his friends with advice on how to study better."
                    }
                },
                {
                    "word": "Obvious",
                    "definition": "Easily perceived or understood; clear, self-evident.",
                    "context": {
                        "Context 1": "Every time you finish the sentence, read it again to look for obvious mistakes that you made.",
                        "Context 2": "It was obvious that she was excited about the surprise party.",
                        "Context 3": "The answer to the riddle was so obvious that everyone laughed."
                    }
                },
                {
                    "word": "Humorous",
                    "definition": "Funny, or making you laugh.",
                    "context": {
                        "Context 1": "The word 'unknown' can be used in a humorous way in essays.",
                        "Context 2": "His humorous stories always entertain the audience.",
                        "Context 3": "She has a humorous way of describing her daily life."
                    }
                },
                {
                    "word": "Idiom",
                    "definition": "A group of words whose meaning is different from the meanings of the individual words.",
                    "context": {
                        "Context 1": "The phrase 'break a leg' is an idiom that means 'good luck'.",
                        "Context 2": "Learning idioms can be challenging for non-native speakers.",
                        "Context 3": "In literature, idioms often add depth to the characters' dialogues."
                    }
                },
                {
                    "word": "Claim",
                    "definition": "To assert or affirm something as a fact.",
                    "context": {
                        "Context 1": "You claim that when you move away from your parents, you quickly find a job.",
                        "Context 2": "She claims that she can run a mile in under six minutes.",
                        "Context 3": "The scientist claims that her research will change the way we understand genetics."
                    }
                },
                {
                    "word": "Complex",
                    "definition": "Consisting of many different and connected parts; complicated.",
                    "context": {
                        "Context 1": "Your ideas should not become complex; they need to be understandable.",
                        "Context 2": "The complex structure of the building amazed the architects.",
                        "Context 3": "Understanding quantum physics can be quite complex for many students."
                    }
                },
                {
                    "word": "Adjust",
                    "definition": "To change something slightly to achieve the desired fit, appearance, or result.",
                    "context": {
                        "Context 1": "Let's adjust the sentence to make it cleaner.",
                        "Context 2": "He had to adjust the settings on his camera for better photos.",
                        "Context 3": "After moving to a new city, she needed time to adjust to her new surroundings."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern; a model.",
                    "context": {
                        "Context 1": "We can say, for example, to introduce an illustration.",
                        "Context 2": "He provided an example of how to solve the math problem.",
                        "Context 3": "The teacher asked for an example of a famous historical figure."
                    }
                },
                {
                    "word": "Temperature",
                    "definition": "A measure of how hot or cold something is, often used to indicate health.",
                    "context": {
                        "Context 1": "Do you have a temperature? No, just a hoarse voice.",
                        "Context 2": "The temperature outside dropped significantly overnight.",
                        "Context 3": "She checked her temperature to see if she was getting sick."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Idiom",
                    "fact": "The idiom 'kick the bucket' means to die, but it sounds like a fun way to leave this world!"
                },
                {
                    "word": "Humorous",
                    "fact": "The word 'humorous' comes from the Latin word 'humor,' which means 'fluid,' as in the fluids that were once thought to determine a person's temperament!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Break a leg",
                    "definition": "A phrase used to wish someone good luck, especially before a performance.",
                    "context": {
                        "Context 1": "Before her big audition, her friends told her to break a leg.",
                        "Context 2": "When I told my dog to break a leg, he just looked at me confused.",
                        "Context 3": "The coach said break a leg to the team before the championship game."
                    }
                },
                {
                    "word": "Jog my memory",
                    "definition": "To help someone remember something.",
                    "context": {
                        "Context 1": "Can you jog my memory about where we left the car?",
                        "Context 2": "I need to jog my memory on how to ride a bicycle again.",
                        "Context 3": "The teacher tried to jog my memory about the history lesson."
                    }
                },
                {
                    "word": "Idiomatic",
                    "definition": "Relating to expressions that have a meaning not deducible from those of the individual words.",
                    "context": {
                        "Context 1": "The phrase 'kick the bucket' is idiomatic and means to die.",
                        "Context 2": "His explanation was so idiomatic that I couldn't understand it.",
                        "Context 3": "In math, idiomatic expressions are not commonly used."
                    }
                },
                {
                    "word": "At the cost of",
                    "definition": "In exchange for; involving a sacrifice or loss.",
                    "context": {
                        "Context 1": "He achieved success at the cost of his health.",
                        "Context 2": "She bought the dress at the cost of her savings.",
                        "Context 3": "They built the new park at the cost of the old library."
                    }
                },
                {
                    "word": "Rephrase",
                    "definition": "To express something in a different way.",
                    "context": {
                        "Context 1": "Can you rephrase that sentence to make it clearer?",
                        "Context 2": "He had to rephrase his question when she didn't understand.",
                        "Context 3": "I always rephrase my favorite song lyrics to make them my own."
                    }
                },
                {
                    "word": "Convincing",
                    "definition": "Capable of causing someone to believe that something is true or real.",
                    "context": {
                        "Context 1": "Her argument was so convincing that everyone agreed with her.",
                        "Context 2": "The magician's tricks were convincing enough to fool the audience.",
                        "Context 3": "The movie had a convincing plot twist that surprised everyone."
                    }
                },
                {
                    "word": "Statistics",
                    "definition": "Numerical data collected for analysis.",
                    "context": {
                        "Context 1": "The statistics showed a rise in unemployment last year.",
                        "Context 2": "He used statistics to prove that cats are more popular than dogs.",
                        "Context 3": "Statistics can be misleading if not interpreted correctly."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern used to illustrate a concept.",
                    "context": {
                        "Context 1": "Can you give me an example of how to use this word?",
                        "Context 2": "The teacher provided an example of a good essay.",
                        "Context 3": "He used his dog as an example of loyalty."
                    }
                },
                {
                    "word": "Category",
                    "definition": "A class or division of people or things regarded as having particular shared characteristics.",
                    "context": {
                        "Context 1": "She falls into the category of students who excel in math.",
                        "Context 2": "In the pet store, there is a category for reptiles.",
                        "Context 3": "He was placed in the category of 'best dressed' at the event."
                    }
                },
                {
                    "word": "Housing area",
                    "definition": "A region or zone where people live, typically referring to residential buildings.",
                    "context": {
                        "Context 1": "The housing area was filled with families and children playing outside.",
                        "Context 2": "He decided to move to a housing area closer to work.",
                        "Context 3": "The housing area was known for its beautiful parks and schools."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Break a leg",
                    "fact": "The phrase 'break a leg' is believed to have originated in the theater, where wishing someone good luck directly was considered bad luck!"
                },
                {
                    "word": "Statistics",
                    "fact": "The word 'statistics' comes from the Latin word 'status,' which means 'state.' So, it’s all about the state of things!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_5": {
            "vocabulary_list": [
                {
                    "word": "Rephrase",
                    "definition": "To express something in different words.",
                    "context": {
                        "Context 1": "You need to rephrase your question to make it clearer.",
                        "Context 2": "He had to rephrase his essay after receiving feedback.",
                        "Context 3": "The teacher asked the students to rephrase the poem in their own words."
                    }
                },
                {
                    "word": "Insert",
                    "definition": "To put something into something else.",
                    "context": {
                        "Context 1": "Please insert your name at the top of the document.",
                        "Context 2": "He forgot to insert the key into the lock before trying to open the door.",
                        "Context 3": "The chef decided to insert a secret ingredient into the recipe for extra flavor."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement of and relations between the parts or elements of something.",
                    "context": {
                        "Context 1": "You need to structure your essay with a clear introduction and conclusion.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "She admired the structure of the intricate spider web in her garden."
                    }
                },
                {
                    "word": "Chaotic",
                    "definition": "In a state of complete disorder and confusion.",
                    "context": {
                        "Context 1": "The essay was chaotic and lacked a clear argument.",
                        "Context 2": "The chaotic traffic made it difficult to reach the airport on time.",
                        "Context 3": "His chaotic room was filled with clothes and books scattered everywhere."
                    }
                },
                {
                    "word": "Develop",
                    "definition": "To grow or cause to grow and become more mature, advanced, or elaborate.",
                    "context": {
                        "Context 1": "You need to develop your ideas more fully in your essay.",
                        "Context 2": "The scientist worked hard to develop a new vaccine.",
                        "Context 3": "She plans to develop her skills in painting over the summer."
                    }
                },
                {
                    "word": "Reveal",
                    "definition": "To make something known or visible.",
                    "context": {
                        "Context 1": "You should reveal your main argument clearly in the introduction.",
                        "Context 2": "The magician will reveal his secrets at the end of the show.",
                        "Context 3": "The documentary aims to reveal the truth behind the mystery."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern; a specific case used to illustrate a concept.",
                    "context": {
                        "Context 1": "You should provide an example to support your argument.",
                        "Context 2": "The teacher used a real-life example to explain the math problem.",
                        "Context 3": "He is a great example of someone who overcame adversity."
                    }
                },
                {
                    "word": "Paragraph",
                    "definition": "A distinct section of a piece of writing, usually dealing with a single theme.",
                    "context": {
                        "Context 1": "Each paragraph in your essay should focus on a single idea.",
                        "Context 2": "The author wrote a paragraph about his childhood experiences.",
                        "Context 3": "In a recipe, each paragraph describes a different step in the cooking process."
                    }
                },
                {
                    "word": "Conclusion",
                    "definition": "The end or finish of an event, process, or text.",
                    "context": {
                        "Context 1": "Your conclusion should summarize the main points of your essay.",
                        "Context 2": "The conclusion of the movie left everyone in tears.",
                        "Context 3": "He reached a conclusion after analyzing all the evidence."
                    }
                },
                {
                    "word": "Demographics",
                    "definition": "Statistical data relating to the population and particular groups within it.",
                    "context": {
                        "Context 1": "Understanding demographics can help in writing about societal issues.",
                        "Context 2": "The company studied the demographics of the area before launching their new product.",
                        "Context 3": "Demographics show that more people are moving to urban areas."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Chaotic",
                    "fact": "Did you know that the word 'chaotic' comes from the Greek word 'chaos,' which means 'void' or 'emptiness'? Sounds like my room on laundry day!"
                },
                {
                    "word": "Demographics",
                    "fact": "The term 'demographics' was first used in the 19th century, but it sounds like something a robot would say when trying to understand humans!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the essay go to therapy?",
                    "answer": "Because it had too many unresolved issues!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you get a good night's sleep last night?"
                },
                {
                    "Person 2": "Yeah, I actually did! I think I finally figured out my bedtime routine."
                },
                {
                    "Person 1": "Nice! What’s your secret? I could use some tips."
                },
                {
                    "Person 2": "Well, I started turning off my phone an hour before bed. It really helps me unwind."
                },
                {
                    "Person 1": "That sounds smart. I usually scroll through my phone until I fall asleep."
                },
                {
                    "Person 2": "Yeah, that’s what I used to do. But now I read a book instead. It’s way more relaxing."
                },
                {
                    "Person 1": "I love reading! What are you currently into?"
                },
                {
                    "Person 2": "I’m reading a mystery novel. It’s pretty gripping! Keeps me turning the pages."
                },
                {
                    "Person 1": "Sounds interesting! I might have to borrow it when you’re done."
                },
                {
                    "Person 2": "For sure! I’ll finish it soon. What about you? Reading anything good?"
                },
                {
                    "Person 1": "I just started a fantasy series. It’s a bit long, but I’m hooked already."
                },
                {
                    "Person 2": "Nice! I love a good fantasy. Which series?"
                },
                {
                    "Person 1": "It’s called 'The Name of the Wind.' Have you heard of it?"
                },
                {
                    "Person 2": "Yeah! I’ve heard great things about it. You’ll have to let me know how you like it."
                },
                {
                    "Person 1": "Definitely! I’ll keep you posted. Maybe we can have a book club?"
                },
                {
                    "Person 2": "That would be awesome! Just the two of us, discussing our favorite characters."
                },
                {
                    "Person 1": "Exactly! I’m in. Let’s make it happen!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new coffee shop that just opened downtown?"
                },
                {
                    "Person 2": "Yeah, I saw it on Instagram! Have you been there yet?"
                },
                {
                    "Person 1": "Not yet, but I’m planning to check it out this weekend. I heard they have amazing pastries."
                },
                {
                    "Person 2": "Ooh, that sounds delicious! I love a good pastry with my coffee."
                },
                {
                    "Person 1": "Same here! I’m a sucker for chocolate croissants."
                },
                {
                    "Person 2": "Oh, those are the best! Do you think we should go together?"
                },
                {
                    "Person 1": "Absolutely! It’ll be fun. Plus, we can catch up."
                },
                {
                    "Person 2": "For sure! What time do you want to go?"
                },
                {
                    "Person 1": "How about Saturday morning? Around 10?"
                },
                {
                    "Person 2": "Sounds perfect! I’ll bring my laptop too, maybe we can get some work done after."
                },
                {
                    "Person 1": "Great idea! A little work and a lot of coffee."
                },
                {
                    "Person 2": "Exactly! I can’t wait. I’ll see you then!"
                },
                {
                    "Person 1": "See you Saturday!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, Lisa! Do you find it easier to remember things when you read them out loud?"
                },
                {
                    "Person 2": "Actually, yeah! I think I remember better that way. Most people say it’s better to read silently, though."
                },
                {
                    "Person 1": "Right? I feel like when I say it out loud, it sticks in my brain more."
                },
                {
                    "Person 2": "Totally! I guess everyone has their own way of learning."
                },
                {
                    "Person 1": "Speaking of learning, do you think it's a good idea for young people to live on their own?"
                },
                {
                    "Person 2": "Definitely! I think it helps them become independent and start earning money sooner."
                },
                {
                    "Person 1": "Yeah, I agree. It’s like, the sooner they move out, the sooner they can find jobs and take care of themselves."
                },
                {
                    "Person 2": "Exactly! But it can be tough too. I mean, living alone comes with its own challenges."
                },
                {
                    "Person 1": "For sure! Like managing bills and cooking. I still struggle with cooking sometimes."
                },
                {
                    "Person 2": "Same here! I always end up ordering takeout. It’s just so easy."
                },
                {
                    "Person 1": "Right? But then I feel guilty about not cooking."
                },
                {
                    "Person 2": "Yeah, I get that. Maybe we should set a goal to cook more often."
                },
                {
                    "Person 1": "That sounds like a plan! We could even try cooking together sometime."
                },
                {
                    "Person 2": "I’d love that! It’ll be fun and we can learn new recipes."
                },
                {
                    "Person 1": "Awesome! Let’s pick a day and make it happen."
                },
                {
                    "Person 2": "For sure! I’ll bring the ingredients!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I saw it on Instagram! They have some crazy flavors, right?"
                },
                {
                    "Person 1": "Exactly! I think one of them is a lavender latte. Sounds a bit weird, but I’m curious!"
                },
                {
                    "Person 2": "Lavender in coffee? That’s definitely unique! I’d try it just for the experience."
                },
                {
                    "Person 1": "Same here! I love trying new things. What’s the most unusual coffee you’ve ever had?"
                },
                {
                    "Person 2": "Hmm, I once had a spicy mocha with chili powder. It was surprisingly good!"
                },
                {
                    "Person 1": "Spicy mocha? Now that’s something I need to try! Where did you get it?"
                },
                {
                    "Person 2": "There’s this little café in the arts district. They always have fun seasonal drinks."
                },
                {
                    "Person 1": "Sounds like a place I need to check out! We should go together sometime."
                },
                {
                    "Person 2": "Definitely! Let’s make it a coffee date. I’m always down for caffeine adventures."
                },
                {
                    "Person 1": "Perfect! I’ll look up their menu and we can plan it out."
                },
                {
                    "Person 2": "Awesome! Can’t wait to see what crazy flavors they have."
                },
                {
                    "Person 1": "Me too! It’ll be fun to try something new together."
                },
                {
                    "Person 2": "For sure! I’ll bring my taste buds, and you bring your adventurous spirit!"
                }
            ]
        },
        "dialogue_5": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you finish that essay for class yet?"
                },
                {
                    "Person 2": "Not yet! I’m still trying to figure out how to organize my thoughts."
                },
                {
                    "Person 1": "I get that. It can be tough to keep everything clear and focused."
                },
                {
                    "Person 2": "Exactly! I keep thinking of all these random ideas, but I don’t know how to connect them."
                },
                {
                    "Person 1": "Maybe start with a main point and build around that? It helps to have a clear direction."
                },
                {
                    "Person 2": "That’s a good idea! I usually just throw everything down and hope it makes sense later."
                },
                {
                    "Person 1": "Yeah, that can lead to a mess. It’s better to take one idea and really develop it."
                },
                {
                    "Person 2": "Right! I think I’ll pick one strong point and then find examples to support it."
                },
                {
                    "Person 1": "Sounds like a plan! Do you have a topic in mind?"
                },
                {
                    "Person 2": "I’m thinking about how technology affects our communication. What do you think?"
                },
                {
                    "Person 1": "That’s a great topic! You can talk about both the positives and negatives."
                },
                {
                    "Person 2": "Exactly! I can mention how it connects people but also how it can lead to misunderstandings."
                },
                {
                    "Person 1": "Perfect! Just remember to keep it structured. It’ll make your argument stronger."
                },
                {
                    "Person 2": "Thanks! I’ll definitely keep that in mind. I’ll start writing tonight."
                },
                {
                    "Person 1": "Awesome! Let me know if you want to bounce ideas around."
                },
                {
                    "Person 2": "Will do! I appreciate it. Good luck with your essay too!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
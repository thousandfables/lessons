<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 5,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "But actually it's a tiny library.",
                    "corrected": "But actually, it's a tiny library.",
                    "explanation": "A comma is needed after 'actually' to separate the introductory phrase from the main clause.",
                    "context": "I thought that there are more books when I carried them in my luggage. But actually, it's a tiny library. Most of the books are about design and related topics."
                },
                {
                    "original": "I thought... It's for souvenirs or something.",
                    "corrected": "I thought it was for souvenirs or something.",
                    "explanation": "The past tense 'was' should be used here to maintain consistency in tense.",
                    "context": "I see new books on the shelf in the background. I thought it was for souvenirs or something. We bought this bookshelf not long ago."
                },
                {
                    "original": "Now I need to show everyone what treasure do I have.",
                    "corrected": "Now I need to show everyone what treasure I have.",
                    "explanation": "The correct word order for indirect questions is 'what treasure I have' instead of 'what treasure do I have.'",
                    "context": "The books were stored in drawers and you couldn't see them. Now I need to show everyone what treasure I have. I want to share my collection."
                },
                {
                    "original": "I also keep kept kept kept my books in the tablet previously in Armenia.",
                    "corrected": "I also kept my books on the tablet previously in Armenia.",
                    "explanation": "The repetition of 'kept' is incorrect; only one instance is needed, and 'on' is the correct preposition for 'tablet.'",
                    "context": "I always have a laptop tablet and I can always read books from the tablet. I also kept my books on the tablet previously in Armenia. It was convenient for reading."
                },
                {
                    "original": "There is a problem when you starting to live in your country.",
                    "corrected": "There is a problem when you start to live in your country.",
                    "explanation": "The verb form should be 'start' instead of 'starting' to match the present tense structure.",
                    "context": "I have already left part of my life in Russia. There is a problem when you start to live in your country. You are unsure about how long you will stay."
                },
                {
                    "original": "And you want or don't want to buy many things.",
                    "corrected": "And you don't want to buy many things.",
                    "explanation": "The phrase 'you want or don't want' is redundant; it should be simplified to 'you don't want.'",
                    "context": "You don't want to buy many things. It's kind of mental pressure for me to be always focused on the idea. Do I really need this thing?"
                },
                {
                    "original": "And it's kind of mental pressure for me to be always focused on the idea.",
                    "corrected": "And it's kind of mental pressure for me to always be focused on the idea.",
                    "explanation": "The adverb 'always' should come before the verb 'be' for correct word order.",
                    "context": "You don't want to buy many things. And it's kind of mental pressure for me to always be focused on the idea. Do I really need this thing?"
                },
                {
                    "original": "I would like to take some pieces that reminds me home.",
                    "corrected": "I would like to take some pieces that remind me of home.",
                    "explanation": "The verb 'reminds' should be 'remind' to agree with the plural noun 'pieces,' and 'of' is needed to indicate what they remind you of.",
                    "context": "I have money for that. I would like to take some pieces that remind me of home. They help me feel more comfortable."
                },
                {
                    "original": "Because everyone I think every family have some sort of library at home.",
                    "corrected": "Because I think every family has some sort of library at home.",
                    "explanation": "The subject 'every family' is singular, so it should be 'has' instead of 'have.'",
                    "context": "I would like to take some pieces that remind me of home. Because I think every family has some sort of library at home. It creates a sense of comfort."
                },
                {
                    "original": "It's like some kind of some kind of uncomfortable when you don't have any books at the house.",
                    "corrected": "It's kind of uncomfortable when you don't have any books at home.",
                    "explanation": "The phrase 'some kind of some kind of' is redundant; it should be simplified to 'kind of.' Also, 'at home' is more idiomatic than 'at the house.'",
                    "context": "It's like some kind of some kind of uncomfortable when you don't have any books at the house. I feel it's important to have books around. They contribute to the feeling of home."
                },
                {
                    "original": "It's about comfortable and not about comfortable for me.",
                    "corrected": "It's about comfort and not about discomfort for me.",
                    "explanation": "'Comfortable' is an adjective; 'comfort' is the noun needed here. The phrase should also use 'discomfort' for clarity.",
                    "context": "It's like some kind of uncomfortable when you don't have any books at home. It's about comfort and not about discomfort for me. Books help create a sense of belonging."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I'm sure that you was you were.",
                    "corrected": "I'm sure that you were.",
                    "explanation": "'You was' is incorrect; the correct form is 'you were' for the second person singular and plural.",
                    "context": "I was reflecting on our past discussions. I'm sure that you were managing your finances carefully."
                },
                {
                    "original": "If you would live in Russia at the same time, you would have you would collect much more things.",
                    "corrected": "If you lived in Russia at the same time, you would have collected many more things.",
                    "explanation": "The conditional form requires 'if you lived' instead of 'if you would live' and 'many' is used for countable nouns.",
                    "context": "We were discussing the differences in our experiences. If you lived in Russia at the same time, you would have collected many more things."
                },
                {
                    "original": "It's really seen now.",
                    "corrected": "It's really noticeable now.",
                    "explanation": "'Seen' is incorrect in this context; 'noticeable' is the appropriate adjective to describe something that can be perceived.",
                    "context": "We were talking about audio quality. It's really noticeable now how much the sound has improved."
                },
                {
                    "original": "I thought drivers.",
                    "corrected": "I thought about drivers.",
                    "explanation": "The phrase is incomplete; 'thought' needs a preposition to clarify the subject of thought.",
                    "context": "We were discussing the importance of drivers for devices. I thought about drivers and how they affect performance."
                },
                {
                    "original": "This helps like the system to drive to this like new device.",
                    "corrected": "This helps the system connect to the new device.",
                    "explanation": "The phrase is awkward and unclear; simplifying it improves clarity and removes unnecessary filler words.",
                    "context": "We were explaining the function of drivers. This helps the system connect to the new device seamlessly."
                },
                {
                    "original": "When finishing school.",
                    "corrected": "When I finished school.",
                    "explanation": "The original phrase is incomplete; it needs a subject and verb to form a complete thought.",
                    "context": "I was reminiscing about my educational journey. When I finished school, I found these topics on some website."
                },
                {
                    "original": "This is a very like common.",
                    "corrected": "This is a very common topic.",
                    "explanation": "The phrase is awkward; 'like' is unnecessary and disrupts the flow of the sentence.",
                    "context": "We were discussing essay topics. This is a very common topic that many students can relate to."
                },
                {
                    "original": "This is like you here.",
                    "corrected": "This is like what you hear here.",
                    "explanation": "The phrase is unclear; it needs clarification to convey the intended meaning.",
                    "context": "We were discussing the clarity of audio. This is like what you hear here, making it easier to understand."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "California University sounds okay.",
                    "corrected": "California University does not sound quite right.",
                    "explanation": "The phrase 'California University' is vague; it should be more specific, like 'California State University' or 'University of California.'",
                    "context": "When discussing universities, it's important to be specific. California University does not sound quite right. Instead, I should refer to California State University or the University of California."
                },
                {
                    "original": "Discipline is a countable word.",
                    "corrected": "Discipline is an uncountable word.",
                    "explanation": "'Discipline' is generally considered an uncountable noun when referring to a field of study or training.",
                    "context": "In our discussion, I mentioned that discipline is a countable word. However, I realized that discipline is actually an uncountable word when referring to a field of study."
                },
                {
                    "original": "In short interest.",
                    "corrected": "In short, it sounds off.",
                    "explanation": "The phrase is missing a comma; it should read 'In short, it sounds off.'",
                    "context": "I was trying to summarize my thoughts. In short, it sounds off. I need to clarify my point better."
                },
                {
                    "original": "To ensue something.",
                    "corrected": "To arouse interest.",
                    "explanation": "'To ensue' is not the correct verb here; 'to arouse' or 'to stimulate' is more appropriate in this context.",
                    "context": "When discussing how to engage readers, I mistakenly said 'to ensue something.' Instead, I should have said 'to arouse interest' or 'to stimulate interest.'"
                },
                {
                    "original": "Foolish is appropriate for formal writing.",
                    "corrected": "Foolish is not appropriate for formal writing.",
                    "explanation": "'Foolish' is too informal for academic writing; a more suitable word should be used.",
                    "context": "I was reflecting on my word choices in the essay. I mentioned that foolish is appropriate for formal writing, but I realized it’s actually too informal for that context."
                },
                {
                    "original": "I used not relaxing.",
                    "corrected": "I used 'not relaxing.'",
                    "explanation": "The phrase should be enclosed in quotation marks to indicate it is a direct quote from the speaker's writing.",
                    "context": "While reviewing my essay, I noted that I used not relaxing. I should have put it in quotes to clarify that it was my wording."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "This essay you did not check with child.",
                    "corrected": "This essay you did not check with a child.",
                    "explanation": "The article 'a' is needed before 'child' to indicate a singular noun.",
                    "context": "I noticed that there were some issues with your essay. This essay you did not check with a child. It's important to ensure clarity and correctness."
                },
                {
                    "original": "You're talking about like companies who are not competing.",
                    "corrected": "You're talking about companies that are not competing.",
                    "explanation": "'Like' is informal and unnecessary here; 'that' is more appropriate for defining clauses.",
                    "context": "I was trying to understand your argument. You're talking about companies that are not competing. This distinction is crucial for your analysis."
                },
                {
                    "original": "But if I have a large factory in some area that means that the production is actually increasing.",
                    "corrected": "But if I have a large factory in some area, that means that production is actually increasing.",
                    "explanation": "The phrase 'the production' is too specific; 'production' is more general and fits better here.",
                    "context": "I was considering the implications of large factories. But if I have a large factory in some area, that means that production is actually increasing. This could affect local businesses."
                },
                {
                    "original": "This kind of my logical but you explained your point.",
                    "corrected": "This is kind of my logic, but you explained your point.",
                    "explanation": "The phrase 'kind of my logical' is incorrect; it should be 'kind of my logic' to refer to reasoning.",
                    "context": "I was reflecting on your argument. This is kind of my logic, but you explained your point well. It helped clarify my understanding."
                },
                {
                    "original": "Maybe I would like maybe maybe we would have some issues here.",
                    "corrected": "Maybe we would have some issues here.",
                    "explanation": "The repetition of 'maybe' is unnecessary and makes the sentence awkward.",
                    "context": "I was evaluating your ideas critically. Maybe we would have some issues here. It's important to address potential weaknesses."
                },
                {
                    "original": "I didn't want to use a race again.",
                    "corrected": "I didn't want to use 'a race' again.",
                    "explanation": "Quotation marks are needed to indicate that 'a race' is a specific term being referenced.",
                    "context": "I was considering my word choices carefully. I didn't want to use 'a race' again. It felt repetitive in the context of our discussion."
                },
                {
                    "original": "Local businesses. Bankruptcy. To face bankruptcy.",
                    "corrected": "Local businesses face bankruptcy.",
                    "explanation": "The fragmented phrases lack proper structure; it should be a complete sentence.",
                    "context": "I was discussing the challenges faced by local businesses. Local businesses face bankruptcy. This is a significant concern for the community."
                },
                {
                    "original": "You forgot to write... You need to show that you know...",
                    "corrected": "You need to show that you know...",
                    "explanation": "The phrase 'You forgot to write...' is unnecessary and makes the sentence unclear.",
                    "context": "I was providing feedback on your writing. You need to show that you know your material well. This will strengthen your argument."
                },
                {
                    "original": "We don't have to start our example with for example.",
                    "corrected": "We don't have to start our example with 'for example.'",
                    "explanation": "Quotation marks are needed to indicate that 'for example' is a specific phrase being referenced.",
                    "context": "I was discussing how to structure examples in writing. We don't have to start our example with 'for example.' There are other ways to introduce it."
                },
                {
                    "original": "But the word example here, like explicitly... shows.",
                    "corrected": "But the word 'example' here explicitly shows.",
                    "explanation": "Quotation marks are needed around 'example' to clarify that it is a term being discussed.",
                    "context": "I was analyzing the use of language in your essay. But the word 'example' here explicitly shows your intent. Clarity is key in academic writing."
                },
                {
                    "original": "Almost certainly we need A.",
                    "corrected": "Almost certainly, we need 'a.'",
                    "explanation": "Quotation marks are needed to indicate that 'A' is a term being referenced.",
                    "context": "I was reviewing your article usage. Almost certainly, we need 'a.' It’s essential for grammatical correctness."
                }
            ]
        },
        "mistakes_5": {
            "mistakes_list": [
                {
                    "original": "you just need to work on grammar and to improve your grammar here.",
                    "corrected": "you just need to work on grammar and improve your grammar here.",
                    "explanation": "The phrase 'to improve' is redundant; parallel structure is achieved by omitting 'to' before the second verb.",
                    "context": "Everything is good with your structure and perspective. You just need to work on grammar and improve your grammar here."
                },
                {
                    "original": "I started writing your essay about ... It's good.",
                    "corrected": "I started reading your essay about ... It's good.",
                    "explanation": "'Writing' is incorrect here; 'reading' is the intended action since feedback is being given on the essay.",
                    "context": "I have been reviewing your work. I started reading your essay about ... It's good."
                },
                {
                    "original": "But in concluding sentences, like, avoid giving new ideas.",
                    "corrected": "But in concluding sentences, avoid introducing new ideas.",
                    "explanation": "'Like' is informal and unnecessary; 'introducing' is a more precise verb than 'giving' in this context.",
                    "context": "Your ideas are strong, but in concluding sentences, avoid introducing new ideas. This will strengthen your argument."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Luggage",
                    "definition": "Bags, suitcases, and other items that travelers carry with them.",
                    "context": {
                        "Context 1": "I thought that there were more books when I carried them in my luggage.",
                        "Context 2": "She packed her luggage carefully to avoid any damage during the flight.",
                        "Context 3": "At the airport, he realized he left his luggage on the train."
                    }
                },
                {
                    "word": "Treasure",
                    "definition": "A quantity of precious metals, gems, or other valuable items.",
                    "context": {
                        "Context 1": "Now I need to show everyone what treasure I have.",
                        "Context 2": "The pirate buried his treasure on a deserted island.",
                        "Context 3": "She considered her collection of stamps to be a treasure of memories."
                    }
                },
                {
                    "word": "Comfortable",
                    "definition": "Providing physical ease and relaxation; free from stress or worry.",
                    "context": {
                        "Context 1": "It's kind of uncomfortable when you don't have any books at the house.",
                        "Context 2": "He prefers to wear comfortable clothes when he goes hiking.",
                        "Context 3": "The sofa was so comfortable that I fell asleep within minutes."
                    }
                },
                {
                    "word": "Mental Pressure",
                    "definition": "The stress or anxiety that arises from thoughts or expectations.",
                    "context": {
                        "Context 1": "It's kind of mental pressure for me to be always focused on the idea.",
                        "Context 2": "She felt mental pressure to perform well in her exams.",
                        "Context 3": "The mental pressure of the job led him to take a long vacation."
                    }
                },
                {
                    "word": "Emotional Connector",
                    "definition": "Something that creates a bond or connection based on feelings.",
                    "context": {
                        "Context 1": "Books act like an emotional connector.",
                        "Context 2": "Music can serve as an emotional connector between people.",
                        "Context 3": "Family traditions often act as emotional connectors across generations."
                    }
                },
                {
                    "word": "Novel",
                    "definition": "A long fictional narrative that describes intimate human experiences.",
                    "context": {
                        "Context 1": "Actually here I've got a little bit of novels.",
                        "Context 2": "She spent the weekend reading a thrilling novel.",
                        "Context 3": "His favorite novel was adapted into a successful movie."
                    }
                },
                {
                    "word": "Souvenir",
                    "definition": "A thing that is kept as a reminder of a person, place, or event.",
                    "context": {
                        "Context 1": "I thought it was for souvenirs or something.",
                        "Context 2": "She bought a small souvenir from her trip to Paris.",
                        "Context 3": "The museum had many souvenirs from ancient civilizations."
                    }
                },
                {
                    "word": "Library",
                    "definition": "A collection of books and other printed materials for reading or study.",
                    "context": {
                        "Context 1": "It's like some kind of uncomfortable when you don't have any books at the house.",
                        "Context 2": "The city library offers free access to thousands of books.",
                        "Context 3": "He donated his personal library to the local school."
                    }
                },
                {
                    "word": "Opportunity",
                    "definition": "A set of circumstances that makes it possible to do something.",
                    "context": {
                        "Context 1": "I have an opportunity to take some pieces that remind me of home.",
                        "Context 2": "She seized the opportunity to study abroad.",
                        "Context 3": "The job fair provided many opportunities for networking."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "Practical contact with and observation of facts or events.",
                    "context": {
                        "Context 1": "It's about comfort and experiencing the home.",
                        "Context 2": "Traveling provides a unique experience that broadens your perspective.",
                        "Context 3": "He gained valuable experience during his internship."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Luggage",
                    "fact": "Did you know that the average traveler loses about 1 in 1,500 pieces of luggage every year?"
                },
                {
                    "word": "Treasure",
                    "fact": "The largest treasure ever found was worth over $5 billion and was discovered in a shipwreck off the coast of Florida!"
                },
                {
                    "word": "Novel",
                    "fact": "The longest novel ever written is 'In Search of Lost Time' by Marcel Proust, which has over 1.2 million words!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the book join the gym?",
                    "answer": "Because it wanted to get its spine in shape!"
                },
                {
                    "question": "Why did the suitcase go to therapy?",
                    "answer": "Because it had too much baggage!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Significant",
                    "definition": "Having meaning; important or noteworthy.",
                    "context": {
                        "Context 1": "The quality of the audio is really significant for your work.",
                        "Context 2": "Winning the championship was a significant achievement for the team.",
                        "Context 3": "She made a significant impact on the community through her volunteer work."
                    }
                },
                {
                    "word": "Drivers",
                    "definition": "Software that allows the operating system to communicate with hardware devices.",
                    "context": {
                        "Context 1": "The drivers for the new microphone were missing when it arrived.",
                        "Context 2": "The car's drivers were responsible for safely navigating the winding roads.",
                        "Context 3": "In a tech conference, experts discussed the importance of drivers in modern computing."
                    }
                },
                {
                    "word": "Crisp",
                    "definition": "Clear and sharp; well-defined.",
                    "context": {
                        "Context 1": "After reinstalling the drivers, the sound is crisp and very clear.",
                        "Context 2": "The crisp autumn air made the hike more enjoyable.",
                        "Context 3": "She enjoyed the crisp texture of the fresh apple."
                    }
                },
                {
                    "word": "Resource",
                    "definition": "A source of supply or support.",
                    "context": {
                        "Context 1": "I found these topics on a good resource website.",
                        "Context 2": "The library is a valuable resource for students conducting research.",
                        "Context 3": "Water is a crucial resource for all living organisms."
                    }
                },
                {
                    "word": "Prompt",
                    "definition": "To encourage or cause someone to take action.",
                    "context": {
                        "Context 1": "I prompted my other students to write an essay about universal basic income.",
                        "Context 2": "The teacher prompted the students to think critically about the topic.",
                        "Context 3": "Seeing the rain prompted her to grab an umbrella before leaving."
                    }
                },
                {
                    "word": "Norm",
                    "definition": "A standard or pattern, especially of social behavior.",
                    "context": {
                        "Context 1": "Universal basic income may become a norm in the future.",
                        "Context 2": "In many cultures, greeting with a handshake is the norm.",
                        "Context 3": "The norm in this office is to dress casually on Fridays."
                    }
                },
                {
                    "word": "Filler",
                    "definition": "Something that is used to fill a space or time.",
                    "context": {
                        "Context 1": "That microphone was just a filler mic I borrowed from my friend.",
                        "Context 2": "He used filler words like 'um' and 'like' during his speech.",
                        "Context 3": "The movie had a lot of filler scenes that didn't contribute to the plot."
                    }
                },
                {
                    "word": "Collect",
                    "definition": "To gather together; to accumulate.",
                    "context": {
                        "Context 1": "If you lived in Russia, you would have collected much more things.",
                        "Context 2": "She loves to collect stamps from around the world.",
                        "Context 3": "The museum aims to collect artifacts from various cultures."
                    }
                },
                {
                    "word": "Common",
                    "definition": "Occurring often; usual.",
                    "context": {
                        "Context 1": "This topic is a very common interest among students.",
                        "Context 2": "It's common to see people jogging in the park every morning.",
                        "Context 3": "In many countries, rice is a common staple food."
                    }
                },
                {
                    "word": "Notable",
                    "definition": "Worthy of attention or notice; remarkable.",
                    "context": {
                        "Context 1": "The notable difference in sound quality was immediately apparent.",
                        "Context 2": "She received a notable award for her contributions to science.",
                        "Context 3": "His notable achievements in sports earned him a scholarship."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Crisp",
                    "fact": "Crisp is often used to describe both sound and food—like crispy chips that sound great when you crunch them!"
                },
                {
                    "word": "Norm",
                    "fact": "Did you know that in some cultures, it's the norm to eat with your hands instead of utensils? Talk about a messy meal!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many unresolved issues!"
                },
                {
                    "question": "Why did the microphone break up with the speaker?",
                    "answer": "Because it found someone who could really amplify its voice!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Capitalized",
                    "definition": "To write or print a word with an initial capital letter.",
                    "context": {
                        "Context 1": "You should capitalize the name of the university.",
                        "Context 2": "The first word of a sentence is always capitalized.",
                        "Context 3": "In titles, important words are typically capitalized."
                    }
                },
                {
                    "word": "Specific",
                    "definition": "Clearly defined or identified.",
                    "context": {
                        "Context 1": "It's a name of a specific university.",
                        "Context 2": "She gave a specific time for the meeting.",
                        "Context 3": "The instructions were not specific enough."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A thing characteristic of its kind or illustrating a general rule.",
                    "context": {
                        "Context 1": "Your explanation is fine, but in your example, you should be more specific.",
                        "Context 2": "The teacher gave an example to clarify the concept.",
                        "Context 3": "This painting is an example of his early work."
                    }
                },
                {
                    "word": "Stimulate",
                    "definition": "To encourage interest or activity in something.",
                    "context": {
                        "Context 1": "To stimulate interest or to encourage.",
                        "Context 2": "The book was designed to stimulate young readers.",
                        "Context 3": "Caffeine can stimulate the nervous system."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "From the idea generation perspective, very good.",
                        "Context 2": "Her perspective on the issue was quite different from mine.",
                        "Context 3": "The artist's perspective gave the painting depth."
                    }
                },
                {
                    "word": "Formal",
                    "definition": "Done in accordance with rules of convention or etiquette; suitable for or constituting an official or important situation or occasion.",
                    "context": {
                        "Context 1": "Foolish is appropriate for formal writing.",
                        "Context 2": "The event was a formal affair, requiring evening dress.",
                        "Context 3": "He received a formal education in law."
                    }
                },
                {
                    "word": "Detrimental",
                    "definition": "Tending to cause harm.",
                    "context": {
                        "Context 1": "These mistakes are not detrimental.",
                        "Context 2": "Smoking is detrimental to your health.",
                        "Context 3": "The policy changes could have a detrimental effect on the economy."
                    }
                },
                {
                    "word": "Arouse",
                    "definition": "To evoke or awaken a feeling, emotion, or response.",
                    "context": {
                        "Context 1": "To arouse interest or to stimulate.",
                        "Context 2": "The speech aroused strong emotions in the audience.",
                        "Context 3": "The book aroused my curiosity."
                    }
                },
                {
                    "word": "Appropriate",
                    "definition": "Suitable or proper in the circumstances.",
                    "context": {
                        "Context 1": "Foolish is appropriate for formal writing.",
                        "Context 2": "It is not appropriate to wear jeans to a wedding.",
                        "Context 3": "The movie is appropriate for all ages."
                    }
                },
                {
                    "word": "Relaxing",
                    "definition": "Reducing tension or anxiety.",
                    "context": {
                        "Context 1": "I used not relaxing but chill.",
                        "Context 2": "A warm bath is very relaxing after a long day.",
                        "Context 3": "Listening to music can be relaxing."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Capitalized",
                    "fact": "Did you know that in German, all nouns are capitalized? It makes reading a bit like a roller coaster!"
                },
                {
                    "word": "Perspective",
                    "fact": "Artists in the Renaissance period revolutionized art by introducing linear perspective, making paintings look more realistic!"
                },
                {
                    "word": "Formal",
                    "fact": "In ancient Rome, formal togas were worn with a specific fold called the 'sinus'—talk about a fashion statement!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to the university?",
                    "answer": "Because they heard the classes were on a higher level!"
                },
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Bankruptcy",
                    "definition": "The state of being unable to pay debts, leading to legal proceedings.",
                    "context": {
                        "Context 1": "Local businesses facing bankruptcy is a significant issue in the economy.",
                        "Context 2": "After years of poor sales, the once-popular restaurant declared bankruptcy.",
                        "Context 3": "The company went bankrupt after failing to adapt to market changes."
                    }
                },
                {
                    "word": "Disadvantage",
                    "definition": "A condition or situation that makes it more difficult to succeed.",
                    "context": {
                        "Context 1": "The main disadvantage of large companies is that they can overshadow local businesses.",
                        "Context 2": "One disadvantage of living in a big city is the high cost of living.",
                        "Context 3": "The disadvantage of not studying for the exam was evident in her low score."
                    }
                },
                {
                    "word": "Effective",
                    "definition": "Successful in producing a desired or intended result.",
                    "context": {
                        "Context 1": "Using clear examples can be an effective way to strengthen your argument.",
                        "Context 2": "The new marketing strategy proved to be effective in increasing sales.",
                        "Context 3": "Yoga is an effective method for reducing stress and improving flexibility."
                    }
                },
                {
                    "word": "Reference",
                    "definition": "The act of mentioning or alluding to something.",
                    "context": {
                        "Context 1": "You need to reference your sources correctly in your essay.",
                        "Context 2": "The teacher made a reference to a famous novel during the lecture.",
                        "Context 3": "In her speech, she made a reference to historical events to emphasize her point."
                    }
                },
                {
                    "word": "Connector",
                    "definition": "A word or phrase that links ideas or sentences together.",
                    "context": {
                        "Context 1": "Using connectors can help improve the flow of your writing.",
                        "Context 2": "In programming, a connector is used to link different software components.",
                        "Context 3": "The connector between the two devices was faulty, causing a loss of signal."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement or organization of parts in a whole.",
                    "context": {
                        "Context 1": "The structure of your essay is clear and logical.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "A well-structured diet is essential for maintaining good health."
                    }
                },
                {
                    "word": "Intentional",
                    "definition": "Done on purpose; deliberate.",
                    "context": {
                        "Context 1": "You need to show that your choice was intentional, not accidental.",
                        "Context 2": "His intentional act of kindness made a big difference in her day.",
                        "Context 3": "The artist's intentional use of color creates a vibrant atmosphere."
                    }
                },
                {
                    "word": "Factual",
                    "definition": "Based on or concerned with facts; objective.",
                    "context": {
                        "Context 1": "Staying true to the factual information is crucial in academic writing.",
                        "Context 2": "The documentary provided a factual account of the events.",
                        "Context 3": "In a debate, it's important to support your arguments with factual evidence."
                    }
                },
                {
                    "word": "Example",
                    "definition": "A representative form or pattern used to illustrate a concept.",
                    "context": {
                        "Context 1": "You can use this as an example of how to structure your essay.",
                        "Context 2": "He gave an example of a time when he overcame adversity.",
                        "Context 3": "The teacher provided several examples to clarify the lesson."
                    }
                },
                {
                    "word": "Impact",
                    "definition": "The strong effect or influence that something has on a situation.",
                    "context": {
                        "Context 1": "The impact of large companies on local businesses can be detrimental.",
                        "Context 2": "The impact of climate change is felt worldwide.",
                        "Context 3": "Her speech had a significant impact on the audience."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Bankruptcy",
                    "fact": "In the U.S., the term 'bankruptcy' comes from the Italian phrase 'banca rotta,' which means 'broken bench,' referring to the practice of breaking a moneylender's bench when they went bankrupt!"
                },
                {
                    "word": "Effective",
                    "fact": "The word 'effective' is often confused with 'efficient.' While effective means achieving a desired result, efficient means achieving that result with minimal waste of resources. So, you can be effective but not efficient—like a cat that catches a mouse but takes an hour to do it!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the essay go to therapy?",
                    "answer": "Because it had too many unresolved issues!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_5": {
            "vocabulary_list": [
                {
                    "word": "Structure",
                    "definition": "The arrangement or organization of parts to form a whole.",
                    "context": {
                        "Context 1": "The structure of your essay is clear and logical, making it easy to follow.",
                        "Context 2": "The structure of the building was designed to withstand strong winds.",
                        "Context 3": "In music, the structure of a song often includes verses and a chorus."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "Your perspective on the topic adds depth to your essay.",
                        "Context 2": "From her perspective, the movie was a masterpiece.",
                        "Context 3": "The artist's perspective is evident in the vibrant colors of her paintings."
                    }
                },
                {
                    "word": "Grammar",
                    "definition": "The system and structure of a language, including rules for combining words.",
                    "context": {
                        "Context 1": "Improving your grammar will enhance the clarity of your writing.",
                        "Context 2": "He studied grammar to better understand the nuances of French.",
                        "Context 3": "The grammar of ancient languages can be quite complex."
                    }
                },
                {
                    "word": "Concluding Sentence",
                    "definition": "A sentence that summarizes the main idea of a paragraph or essay.",
                    "context": {
                        "Context 1": "Make sure your concluding sentence reinforces the main point without introducing new ideas.",
                        "Context 2": "The concluding sentence of the report highlighted the importance of the findings.",
                        "Context 3": "In her speech, she ended with a powerful concluding sentence that inspired the audience."
                    }
                },
                {
                    "word": "Ideas",
                    "definition": "Thoughts or suggestions about a possible course of action.",
                    "context": {
                        "Context 1": "Your ideas for the project are innovative and engaging.",
                        "Context 2": "He shared his ideas for improving the community park during the meeting.",
                        "Context 3": "The brainstorming session generated a lot of creative ideas."
                    }
                },
                {
                    "word": "Avoid",
                    "definition": "To keep away from or prevent from happening.",
                    "context": {
                        "Context 1": "Try to avoid using slang in your formal writing.",
                        "Context 2": "She decided to avoid the crowded mall during the holiday season.",
                        "Context 3": "To stay healthy, it's important to avoid excessive sugar intake."
                    }
                },
                {
                    "word": "Improve",
                    "definition": "To make or become better.",
                    "context": {
                        "Context 1": "You should focus on ways to improve your writing skills.",
                        "Context 2": "He took a course to improve his public speaking abilities.",
                        "Context 3": "The city plans to improve public transportation to reduce traffic congestion."
                    }
                },
                {
                    "word": "Essay",
                    "definition": "A short piece of writing on a particular subject.",
                    "context": {
                        "Context 1": "Your essay presents a compelling argument and is well-structured.",
                        "Context 2": "She wrote an essay about her summer vacation for school.",
                        "Context 3": "The professor assigned a lengthy essay on the history of philosophy."
                    }
                },
                {
                    "word": "Work on",
                    "definition": "To put effort into improving or developing something.",
                    "context": {
                        "Context 1": "You need to work on your thesis statement for clarity.",
                        "Context 2": "He decided to work on his fitness by joining a gym.",
                        "Context 3": "The team will work on the project over the next few months."
                    }
                },
                {
                    "word": "Good",
                    "definition": "Of high quality or standard; satisfactory.",
                    "context": {
                        "Context 1": "Your writing shows good understanding of the topic.",
                        "Context 2": "She received a good grade on her math test.",
                        "Context 3": "The restaurant is known for its good service and delicious food."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Grammar",
                    "fact": "Did you know that the word 'grammar' comes from the Greek word 'grammatike,' which means 'art of letters'?"
                },
                {
                    "word": "Essay",
                    "fact": "The longest essay ever written was over 1,000 pages long and was about the history of the world!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What do you call a teacher who never farts in public?",
                    "answer": "A private tutor!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Good morning! How's it going?"
                },
                {
                    "Person 2": "Good morning! I'm doing well, just trying to wake up. How about you?"
                },
                {
                    "Person 1": "Same here! I had a late night binge-watching my favorite show."
                },
                {
                    "Person 2": "Oh nice! Which show? I need something new to watch."
                },
                {
                    "Person 1": "It's called 'The Last of Us.' It's based on a video game, but it's really good!"
                },
                {
                    "Person 2": "I've heard great things about that! I should check it out. Do you watch it alone?"
                },
                {
                    "Person 1": "Usually, but sometimes I watch with friends. It’s more fun that way."
                },
                {
                    "Person 2": "Totally! Watching with friends makes it so much better. We should have a movie night soon!"
                },
                {
                    "Person 1": "Yes! I’d love that. We can make popcorn and have some snacks."
                },
                {
                    "Person 2": "Perfect! I’ll bring some candy. What about the movie? Any suggestions?"
                },
                {
                    "Person 1": "How about we start with 'The Last of Us' and then pick something else?"
                },
                {
                    "Person 2": "Sounds like a plan! I’ll make sure to catch up before then."
                },
                {
                    "Person 1": "Awesome! Let’s set a date for this weekend."
                },
                {
                    "Person 2": "Great! Can’t wait! It’ll be fun to hang out."
                },
                {
                    "Person 1": "For sure! I’ll text you later to finalize the details."
                },
                {
                    "Person 2": "Looking forward to it! Talk to you later!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going? I just moved into a new place."
                },
                {
                    "Person 2": "Nice! How's the new apartment? Got everything set up?"
                },
                {
                    "Person 1": "Yeah, mostly. But I realized I have way too much stuff now. I started with just one suitcase!"
                },
                {
                    "Person 2": "Wow, that's a big change! How did you end up with so much?"
                },
                {
                    "Person 1": "I guess I just kept buying things. You know how it is—one little thing here, another there."
                },
                {
                    "Person 2": "Totally! I think we all do that. I try to keep it minimal, but then I see something cute and it's over."
                },
                {
                    "Person 1": "Exactly! I thought I was being careful, but now I have like 28 bags of stuff."
                },
                {
                    "Person 2": "That's impressive! But maybe you should consider donating some of it?"
                },
                {
                    "Person 1": "Yeah, I’ve thought about that. It’s just hard to let go sometimes."
                },
                {
                    "Person 2": "I get it! But it feels good to declutter. Plus, someone else could really use those things."
                },
                {
                    "Person 1": "True! Speaking of new things, I just got a new microphone for my writing."
                },
                {
                    "Person 2": "Oh nice! How's the sound quality?"
                },
                {
                    "Person 1": "It's great! I had a cheap one before, but this one is really clear."
                },
                {
                    "Person 2": "Awesome! Good audio makes a huge difference. What are you writing about?"
                },
                {
                    "Person 1": "I'm working on essays about the pros and cons of different topics. Just trying to find something interesting."
                },
                {
                    "Person 2": "Sounds like a good plan! Have you found any cool topics yet?"
                },
                {
                    "Person 1": "Yeah, I found one about universal basic income. It’s a hot topic right now."
                },
                {
                    "Person 2": "Oh, that’s interesting! A lot of people have strong opinions on that."
                },
                {
                    "Person 1": "Exactly! I think it’ll spark some good discussions."
                },
                {
                    "Person 2": "For sure! Let me know if you need any help with it."
                },
                {
                    "Person 1": "Thanks! I might take you up on that. Always good to have another perspective."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch the game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a comeback, right? I thought they were done for."
                },
                {
                    "Person 1": "I know! I was ready to turn it off, but then they just turned it around in the last quarter."
                },
                {
                    "Person 2": "Exactly! That last-minute touchdown was insane. I jumped off the couch!"
                },
                {
                    "Person 1": "Same here! I couldn't believe it. I think my neighbors heard me cheering."
                },
                {
                    "Person 2": "Haha! I was yelling too. It’s moments like that that make sports so exciting."
                },
                {
                    "Person 1": "For sure! So, are you planning to watch the next game?"
                },
                {
                    "Person 2": "Absolutely! I wouldn’t miss it. We should get some friends together for a watch party."
                },
                {
                    "Person 1": "That sounds like a blast! I can bring snacks."
                },
                {
                    "Person 2": "Perfect! I’ll handle the drinks. Let’s make it a fun night!"
                },
                {
                    "Person 1": "Definitely! Can't wait to see what happens next."
                },
                {
                    "Person 2": "Me too! It’s going to be epic."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you finish that essay for class yet?"
                },
                {
                    "Person 2": "Not yet! I was working on it, but I got stuck on a few points."
                },
                {
                    "Person 1": "I get that. What part are you struggling with?"
                },
                {
                    "Person 2": "Well, I was trying to explain why big companies might cut back on local production, but it’s tricky."
                },
                {
                    "Person 1": "Yeah, that can be confusing. I thought the same thing at first. It seems like more production would mean more jobs, right?"
                },
                {
                    "Person 2": "Exactly! But then I realized it’s about competition and how local businesses can get hurt."
                },
                {
                    "Person 1": "Right! If a big company moves in, it can really hurt the smaller shops."
                },
                {
                    "Person 2": "Totally. I was thinking of mentioning that in my essay, but I wasn't sure how to phrase it."
                },
                {
                    "Person 1": "Maybe you could say something like 'local businesses face challenges' or 'risk of bankruptcy'?"
                },
                {
                    "Person 2": "That sounds good! I like the idea of using 'bankruptcy.' It really highlights the issue."
                },
                {
                    "Person 1": "For sure! And don’t forget to back it up with examples. That always helps."
                },
                {
                    "Person 2": "Yeah, I need to make sure I reference my points well. I want it to be clear."
                },
                {
                    "Person 1": "Definitely! And remember, you can use 'for instance' instead of just saying 'for example' all the time."
                },
                {
                    "Person 2": "Good tip! I’ll keep that in mind. Thanks for the help!"
                },
                {
                    "Person 1": "No problem! We can go over it together if you want."
                },
                {
                    "Person 2": "That would be great! Let’s meet up later."
                }
            ]
        },
        "dialogue_5": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just trying to get through some work. How about you?"
                },
                {
                    "Person 1": "Same here. I’ve been working on this essay, and it’s taking forever."
                },
                {
                    "Person 2": "Oh man, I feel you. What’s the topic?"
                },
                {
                    "Person 1": "It’s about the impact of technology on education. I have some good ideas, but I’m struggling with the conclusion."
                },
                {
                    "Person 2": "Conclusions can be tricky. Are you trying to introduce new ideas there?"
                },
                {
                    "Person 1": "Yeah, I think I might be. I just want to make it strong, you know?"
                },
                {
                    "Person 2": "Totally get that! But sometimes, it’s better to just summarize your main points instead of adding new stuff."
                },
                {
                    "Person 1": "That makes sense. I’ll try to focus on what I’ve already said."
                },
                {
                    "Person 2": "Exactly! And if you need someone to read it over, I’m here."
                },
                {
                    "Person 1": "Thanks! I might take you up on that. I just need to finish the draft first."
                },
                {
                    "Person 2": "No rush! Just take your time. We can always brainstorm together later."
                },
                {
                    "Person 1": "Sounds like a plan! Let’s catch up again once I’m done."
                },
                {
                    "Person 2": "For sure! Good luck with the writing!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
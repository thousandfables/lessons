<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 7,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I'm doing good, actually.",
                    "corrected": "I'm doing well, actually.",
                    "explanation": "\"Good\" is an adjective and should not be used to describe the verb \"doing\"; \"well\" is the correct adverb.",
                    "context": "I feel pretty positive about my progress in learning English. I'm doing well, actually. It's my sixth lesson and I'm happy to do over, Sonia."
                },
                {
                    "original": "I thought it can be cheaper.",
                    "corrected": "I thought it could be cheaper.",
                    "explanation": "The verb 'can' should be in the past tense 'could' to match the past tense of 'thought'.",
                    "context": "I want to buy a new phone. In Astana? Yes. I thought it could be cheaper."
                },
                {
                    "original": "Because capitalism. More supply.",
                    "corrected": "Because of capitalism. There is more supply.",
                    "explanation": "The phrase 'Because capitalism' is incomplete; it should be 'Because of capitalism' and 'More supply' needs a subject.",
                    "context": "I want to know why prices are higher. Because of capitalism. There is more supply."
                },
                {
                    "original": "I thought a new iPhone is the most expensive here.",
                    "corrected": "I thought a new iPhone was the most expensive here.",
                    "explanation": "The verb 'is' should be in the past tense 'was' to match the past tense of 'thought'.",
                    "context": "I want to buy a new phone. I thought a new iPhone was the most expensive here. Except for Gervushka."
                },
                {
                    "original": "Not income, like probably numbers will be different, but the level of life is pretty much the same.",
                    "corrected": "Not income; the numbers will probably be different, but the standard of living is pretty much the same.",
                    "explanation": "The phrase 'like probably numbers will be different' is awkward; it should be restructured for clarity. 'Level of life' is not idiomatic; 'standard of living' is preferred.",
                    "context": "In Kazakhstan and Astana, people have pretty much the same income. Not income; the numbers will probably be different, but the standard of living is pretty much the same."
                },
                {
                    "original": "I mean these countries probably, yeah.",
                    "corrected": "I mean these countries, probably, yeah.",
                    "explanation": "The placement of 'probably' is awkward; it should be set off by commas for clarity.",
                    "context": "I think about countries in Asia. I mean these countries, probably, yeah. Because people are much poorer than in Russia in general."
                },
                {
                    "original": "I think Russia have a very small salary.",
                    "corrected": "I think Russia has a very small salary.",
                    "explanation": "'Have' should be 'has' to agree with the singular noun 'Russia'.",
                    "context": "I find the salary situation puzzling. I think Russia has a very small salary. The average salaries are bigger than Kazakhstan."
                },
                {
                    "original": "30,000? Where did you see the salaries?",
                    "corrected": "30,000? Where did you see those salaries?",
                    "explanation": "'The salaries' should be specified as 'those salaries' for clarity.",
                    "context": "We are discussing salary figures. 30,000? Where did you see those salaries? The lowest point?"
                },
                {
                    "original": "If we have 15% inflation, that means that every year something that cost 100 rubles will now cost 115 rubles.",
                    "corrected": "If we have 15% inflation, that means that every year something that costs 100 rubles will now cost 115 rubles.",
                    "explanation": "The verb 'cost' should be in the present tense 'costs' to match the subject.",
                    "context": "We are discussing inflation rates. If we have 15% inflation, that means that every year something that costs 100 rubles will now cost 115 rubles."
                },
                {
                    "original": "Kazakh people don't work on building sites.",
                    "corrected": "Kazakh people don't usually work on building sites.",
                    "explanation": "Adding 'usually' clarifies that this is a general observation rather than an absolute statement.",
                    "context": "We are talking about labor demographics. Kazakh people don't usually work on building sites. The ones you see are probably from Tajikistan."
                },
                {
                    "original": "I could not tell them apart.",
                    "corrected": "I couldn't tell them apart.",
                    "explanation": "The contraction 'couldn't' is more idiomatic in spoken English.",
                    "context": "Before I moved to Kazakhstan, I was unfamiliar with the differences. I couldn't tell them apart. But again, it's the same as..."
                },
                {
                    "original": "The level of... Requirements? Requirements are higher for men in other countries.",
                    "corrected": "The level of expectation? Expectations are higher for men in other countries.",
                    "explanation": "The term 'requirements' is not appropriate here; 'expectations' fits better in this context.",
                    "context": "We are discussing societal standards. The level of expectation? Expectations are higher for men in other countries. The level of expectation is higher."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "I take damage.",
                    "corrected": "I take damages.",
                    "explanation": "\"Damage\" is usually uncountable when referring to harm, but in legal or formal contexts, it can be countable as \"damages\".",
                    "context": "During our discussion about the impact of working from home, I mentioned that I take damage. However, in a legal context, it would be more appropriate to say I take damages."
                },
                {
                    "original": "I don't know if they are damage or damages.",
                    "corrected": "I don't know if it is damage or damages.",
                    "explanation": "The subject should be singular ('it') when referring to 'damage' as an uncountable noun.",
                    "context": "While discussing the terminology, I expressed uncertainty about whether to use 'damage' or 'damages.' I don't know if it is damage or damages."
                },
                {
                    "original": "But we can say this. It's not the same.",
                    "corrected": "But we can say this; it's not the same.",
                    "explanation": "A semicolon is needed here to connect two independent clauses more effectively.",
                    "context": "In our conversation about sentence structure, I pointed out the difference in meaning. But we can say this; it's not the same."
                },
                {
                    "original": "Imagine that here I will say something like...",
                    "corrected": "Imagine that here I would say something like...",
                    "explanation": "The conditional 'would' is more appropriate for hypothetical situations.",
                    "context": "As I was trying to illustrate a point, I said, 'Imagine that here I would say something like...' to clarify my thought."
                },
                {
                    "original": "It goes in... we add as.",
                    "corrected": "It goes in... we add 's.'",
                    "explanation": "The letter 's' should be specified to clarify the grammatical rule.",
                    "context": "While explaining verb conjugation, I mentioned, 'It goes in... we add 's' to the verb for third-person singular.'"
                },
                {
                    "original": "Can it be so?",
                    "corrected": "Can it be like that?",
                    "explanation": "The phrase 'Can it be so?' is less idiomatic; 'Can it be like that?' is more natural in English.",
                    "context": "During our discussion about sentence structure, I asked, 'Can it be like that?' to clarify my understanding."
                },
                {
                    "original": "In English, we need to have a subject and a verb in every sentence.",
                    "corrected": "In English, we need to have a subject and a verb in every sentence.",
                    "explanation": "This sentence is correct but could be more concise.",
                    "context": "While explaining sentence structure, I emphasized the importance of having a subject and a verb in every sentence."
                },
                {
                    "original": "But in English, you can't construct a sentence like that.",
                    "corrected": "But in English, you cannot construct a sentence like that.",
                    "explanation": "Using 'cannot' is more formal and appropriate in this context.",
                    "context": "In our discussion about sentence construction, I pointed out, 'But in English, you cannot construct a sentence like that.'"
                },
                {
                    "original": "This noun can be replaced with it.",
                    "corrected": "This noun can be replaced by it.",
                    "explanation": "'Replaced by' is the correct preposition to use in this context.",
                    "context": "While discussing noun usage, I stated, 'This noun can be replaced by it.' to clarify the concept."
                },
                {
                    "original": "And here working is not a verb.",
                    "corrected": "And here, working is not a verb.",
                    "explanation": "A comma is needed before 'working' for clarity.",
                    "context": "In explaining the function of 'working' in a sentence, I said, 'And here, working is not a verb.' to clarify my point."
                },
                {
                    "original": "This is infinitive form of the verb.",
                    "corrected": "This is the infinitive form of the verb.",
                    "explanation": "The article 'the' is necessary before 'infinitive form.'",
                    "context": "While discussing verb forms, I clarified, 'This is the infinitive form of the verb.' to ensure understanding."
                },
                {
                    "original": "If it's a simple positive sentence, the world agrees.",
                    "corrected": "If it's a simple positive sentence, the world agrees.",
                    "explanation": "This sentence is correct but could be more concise.",
                    "context": "In our lesson on verb agreement, I stated, 'If it's a simple positive sentence, the world agrees.' to illustrate the rule."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "The world is not agreeing.",
                    "corrected": "The world is not in agreement.",
                    "explanation": "The phrase 'is not agreeing' is not standard; 'is not in agreement' is the correct expression to indicate a lack of consensus.",
                    "context": "When discussing how the world reacts to certain issues, I mentioned that the world is not in agreement. This reflects the ongoing debates and differing opinions on various topics."
                },
                {
                    "original": "We say that often, but the full form is always he does like.",
                    "corrected": "We say that often, but the full form is always 'he does like.'",
                    "explanation": "Quotation marks are needed around 'he does like' to indicate that it is a specific phrase being referenced.",
                    "context": "While explaining the use of different forms in English, I pointed out that we say certain phrases often. I clarified that the full form is always 'he does like.'"
                },
                {
                    "original": "In what situation we should say he does like?",
                    "corrected": "In what situation should we say 'he does like'?",
                    "explanation": "The sentence structure is incorrect; the auxiliary verb 'should' should come before the subject 'we' in questions.",
                    "context": "During the lesson, I was asked about the appropriate situations for using certain phrases. I explained that in what situation should we say 'he does like'?"
                },
                {
                    "original": "But we rarely hear does.",
                    "corrected": "But we rarely hear 'does.'",
                    "explanation": "Quotation marks are needed around 'does' to indicate that it is a specific word being referenced.",
                    "context": "I was discussing the frequency of certain verb forms in conversation. I noted that we rarely hear 'does.'"
                },
                {
                    "original": "But it's not precaution, it doesn't have any exact translation of Russian.",
                    "corrected": "But it's not precaution; it doesn't have an exact translation in Russian.",
                    "explanation": "A semicolon is needed to separate two independent clauses, and 'any exact translation of Russian' should be 'an exact translation in Russian.'",
                    "context": "While discussing the nuances of the word 'awareness,' I clarified that it's not precaution; it doesn't have an exact translation in Russian."
                },
                {
                    "original": "Yes, like, to increase the awareness of society, that is, to let society understand that such a problem exists.",
                    "corrected": "Yes, like, to increase awareness in society, that is, to let society understand that such a problem exists.",
                    "explanation": "The phrase 'the awareness of society' should be 'awareness in society' for clarity and idiomatic usage.",
                    "context": "In a discussion about raising awareness on social issues, I mentioned that we aim to increase awareness in society, to let society understand that such a problem exists."
                },
                {
                    "original": "It does not mean happy.",
                    "corrected": "It does not necessarily mean happy.",
                    "explanation": "The word 'necessarily' adds clarity to the statement, indicating that 'excited' can have different meanings.",
                    "context": "While explaining the meaning of 'excited,' I clarified that it does not necessarily mean happy, as it can also refer to other emotions."
                },
                {
                    "original": "You cannot remember these rules, like, I will explain them to you and you will remember them.",
                    "corrected": "You cannot just remember these rules; I will explain them to you, and you will understand them.",
                    "explanation": "The phrase 'cannot remember' should be 'cannot just remember' to convey the idea that understanding is more important than rote memorization.",
                    "context": "I emphasized the importance of understanding grammar rules rather than just memorizing them. You cannot just remember these rules; I will explain them to you, and you will understand them."
                },
                {
                    "original": "This construction is replaced for the second form of like.",
                    "corrected": "This construction is replaced by the second form of 'like.'",
                    "explanation": "The preposition 'for' should be 'by' to indicate what is replacing what.",
                    "context": "In discussing verb forms, I explained that this construction is replaced by the second form of 'like.'"
                },
                {
                    "original": "With the word like, it is very simple.",
                    "corrected": "With the word 'like,' it is very simple.",
                    "explanation": "Quotation marks are needed around 'like' to indicate that it is a specific word being referenced.",
                    "context": "While explaining verb conjugations, I mentioned that with the word 'like,' it is very simple."
                },
                {
                    "original": "We never write something like that.",
                    "corrected": "We never write something like that.",
                    "explanation": "The sentence is correct, but it lacks emphasis; adding 'in English' would clarify the context.",
                    "context": "While discussing common mistakes, I noted that we never write something like that in English."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "we don't say he doesn't likes",
                    "corrected": "we don't say he doesn't like",
                    "explanation": "The verb 'like' should be in the base form after 'doesn't'; 'likes' is incorrect here.",
                    "context": "When discussing verb conjugation, I mentioned that we don't say he doesn't likes. Instead, we say he doesn't like. This is important for understanding present simple structure."
                },
                {
                    "original": "it's called infinitive.",
                    "corrected": "it's called the infinitive.",
                    "explanation": "The article 'the' is needed before 'infinitive' to specify the term being defined.",
                    "context": "In explaining verb forms, I said it's called infinitive. However, I should have said it's called the infinitive to clarify the specific term."
                },
                {
                    "original": "gerund is ingoen.",
                    "corrected": "gerund is ing.",
                    "explanation": "The word 'ingoen' is incorrect; the correct term is 'ing' to refer to the gerund form.",
                    "context": "While teaching verb forms, I stated that gerund is ingoen. The correct term is gerund is ing, which refers to the form used for ongoing actions."
                },
                {
                    "original": "we just change the first verb, the main verb, to the time we need.",
                    "corrected": "we just change the main verb to the tense we need.",
                    "explanation": "The phrase 'the time we need' is less idiomatic; 'the tense we need' is more precise in this context.",
                    "context": "In discussing how to form different tenses, I explained that we just change the first verb, the main verb, to the time we need. A better way to say this is to change the main verb to the tense we need."
                },
                {
                    "original": "we will change it.",
                    "corrected": "we will change it.",
                    "explanation": "The phrase is correct but was repeated unnecessarily, leading to confusion.",
                    "context": "While explaining how to form future tenses, I mentioned that we will change it. This was a repetition that could have been clearer."
                },
                {
                    "original": "the second verb never changes.",
                    "corrected": "the second verb doesn't change.",
                    "explanation": "Using 'doesn't change' is more idiomatic than 'never changes' in this context.",
                    "context": "In discussing verb forms, I stated that the second verb never changes. A more natural way to express this is to say the second verb doesn't change."
                }
            ]
        },
        "mistakes_5": {
            "mistakes_list": [
                {
                    "original": "There must be an ingo after it.",
                    "corrected": "There must be an -ing form after it.",
                    "explanation": "The term 'ingo' is incorrect; the correct term is '-ing form' which refers to gerunds or present participles.",
                    "context": "When discussing verb forms, I mentioned that there must be an -ing form after it. This is important for constructing certain conditional sentences."
                },
                {
                    "original": "If he... Aha. I forgot. He had.",
                    "corrected": "If he... Aha. I forgot. If he had.",
                    "explanation": "The phrase is incomplete; it should include 'If' to maintain the conditional structure.",
                    "context": "While explaining a conditional sentence, I started with 'If he...' but then lost my train of thought. I needed to clarify that it should be 'If he had.'"
                },
                {
                    "original": "He would not have died.",
                    "corrected": "He wouldn't have died.",
                    "explanation": "The contraction 'wouldn't' is more natural in spoken English than the full form 'would not.'",
                    "context": "In discussing the consequences of a past action, I stated that he would not have died. It's more common to say he wouldn't have died."
                },
                {
                    "original": "He did not fail his exam yet.",
                    "corrected": "He has not failed his exam yet.",
                    "explanation": "The present perfect tense 'has not failed' is more appropriate here to indicate an action that has relevance to the present.",
                    "context": "While explaining the second conditional, I mentioned that he did not fail his exam yet. I should have used the present perfect to convey the ongoing relevance."
                },
                {
                    "original": "This is not about the past.",
                    "corrected": "This is not about the past.",
                    "explanation": "This sentence is correct but could be more specific to clarify the context of the discussion.",
                    "context": "I was explaining the difference between conditionals and mentioned that this is not about the past. I should clarify what 'this' refers to."
                },
                {
                    "original": "If he likes my mother... I will not divorce him.",
                    "corrected": "If he likes my mother, I will not divorce him.",
                    "explanation": "A comma is needed before the second clause to separate the conditional from the result.",
                    "context": "I provided an example of a conditional sentence: if he likes my mother, I will not divorce him. The comma helps clarify the structure."
                },
                {
                    "original": "When I came to London.",
                    "corrected": "When I come to London.",
                    "explanation": "The verb tense should be present simple 'come' instead of past simple 'came' to match the first conditional structure.",
                    "context": "I was giving an example of a first conditional sentence and mistakenly said when I came to London. It should be when I come to London."
                },
                {
                    "original": "If he passed simple, he would base a form like this.",
                    "corrected": "If he passed, he would use a base form like this.",
                    "explanation": "The phrase 'passed simple' is incorrect; it should be 'passed' and 'use' instead of 'base' for clarity.",
                    "context": "In explaining the second conditional, I mistakenly said if he passed simple. I meant to say if he passed, he would use a base form."
                },
                {
                    "original": "This is unreal condition in the present.",
                    "corrected": "This is an unreal condition in the present.",
                    "explanation": "The article 'an' is needed before 'unreal condition' for grammatical correctness.",
                    "context": "While discussing the nature of certain conditionals, I stated this is unreal condition in the present. I should have said this is an unreal condition."
                },
                {
                    "original": "This is how I will respond if it happens.",
                    "corrected": "This is how I would respond if it happened.",
                    "explanation": "The conditional structure requires 'would' and 'happened' to indicate an unreal condition.",
                    "context": "I was explaining how I would react to a hypothetical situation and mistakenly said this is how I will respond if it happens."
                },
                {
                    "original": "Third conditional always about past.",
                    "corrected": "The third conditional is always about the past.",
                    "explanation": "The sentence is missing the article 'the' and the verb 'is' for grammatical correctness.",
                    "context": "In my explanation of conditionals, I stated third conditional always about past. I should clarify that the third conditional is always about the past."
                }
            ]
        },
        "mistakes_6": {
            "mistakes_list": [
                {
                    "original": "This will they will solidate in your head.",
                    "corrected": "This will solidify in your head.",
                    "explanation": "The phrase 'will they will solidate' is incorrect; 'solidate' should be 'solidify' to convey the intended meaning.",
                    "context": "You shouldn't expect to remember everything in one sitting today. This will solidify in your head. With practice, you'll become more familiar with these concepts."
                },
                {
                    "original": "He plus basic form.",
                    "corrected": "He plus the base form.",
                    "explanation": "'Basic form' is not the standard term; 'base form' is the correct terminology in grammar.",
                    "context": "We discussed the present perfect tense. The formula is he plus the base form. This structure is essential for forming correct sentences."
                },
                {
                    "original": "He hasn't done that before.",
                    "corrected": "He has not done that before.",
                    "explanation": "Using 'hasn't' is informal; 'has not' is more appropriate in a teaching context.",
                    "context": "When explaining the present perfect, I mentioned examples. He has not done that before. This highlights the use of the negative form."
                },
                {
                    "original": "The idea is the same, but only half because not present, but past in this sense is called past perfect.",
                    "corrected": "The idea is the same, but only half because it is not present; it is past, and in this sense, it is called past perfect.",
                    "explanation": "The sentence structure is awkward; it needs clearer punctuation and phrasing to convey the meaning effectively.",
                    "context": "We were discussing the differences between tenses. The idea is the same, but only half because it is not present; it is past, and in this sense, it is called past perfect."
                },
                {
                    "original": "Do you see me well or I'm blurred?",
                    "corrected": "Do you see me well, or am I blurred?",
                    "explanation": "The verb 'am' should be used instead of 'I'm' to maintain proper question structure.",
                    "context": "During the lesson, I wanted to ensure clarity in communication. Do you see me well, or am I blurred? It's important to check if my image is clear."
                },
                {
                    "original": "You are saying that now like you have the experience of finished or finished coffee.",
                    "corrected": "You are saying that now, like you have the experience of having finished coffee.",
                    "explanation": "The phrase 'finished or finished coffee' is redundant; 'having finished' is the correct form to express the completed action.",
                    "context": "I was explaining how the present perfect tense works. You are saying that now, like you have the experience of having finished coffee. This shows the connection to past actions."
                },
                {
                    "original": "There is no special difference.",
                    "corrected": "There is no significant difference.",
                    "explanation": "'Special' is not the appropriate word here; 'significant' better conveys the idea of importance.",
                    "context": "While discussing the nuances of tenses, I mentioned their similarities. There is no significant difference. This helps clarify the subtle distinctions."
                },
                {
                    "original": "When we are referring to the moment in the past and it's obvious like what moment we are talking about.",
                    "corrected": "When we refer to a moment in the past and it's obvious which moment we are talking about.",
                    "explanation": "The sentence structure is awkward; 'are referring' should be simplified to 'refer' for clarity.",
                    "context": "I was explaining how to use past tense correctly. When we refer to a moment in the past and it's obvious which moment we are talking about, we use past simple."
                },
                {
                    "original": "Because it's past.",
                    "corrected": "Because it is past.",
                    "explanation": "In formal contexts, contractions like 'it's' should be avoided; 'it is' is more appropriate.",
                    "context": "While clarifying tense usage, I emphasized the importance of context. Because it is past, we choose past simple for clarity."
                },
                {
                    "original": "You clearly hear the time reference, summer, last summer.",
                    "corrected": "You can clearly hear the time reference: summer, last summer.",
                    "explanation": "The phrase 'clearly hear' needs a subject; 'you can' adds clarity and structure.",
                    "context": "I was illustrating how to identify time references in sentences. You can clearly hear the time reference: summer, last summer. This helps in understanding tense usage."
                }
            ]
        },
        "mistakes_7": {
            "mistakes_list": [
                {
                    "original": "Your task is to do these tests again grammatically.",
                    "corrected": "Your task is to redo these tests grammatically.",
                    "explanation": "'Do these tests again' is less idiomatic; 'redo' is a more concise and appropriate term.",
                    "context": "I want you to focus on your grammar. Your task is to redo these tests grammatically. This will help you improve your skills."
                },
                {
                    "original": "I'll take your essay that you wrote and make a screenshot.",
                    "corrected": "I'll take a screenshot of your essay.",
                    "explanation": "The phrase 'that you wrote' is unnecessary and makes the sentence awkward; simplifying it improves clarity.",
                    "context": "I want to review your work. I'll take a screenshot of your essay. This will help us identify the errors."
                },
                {
                    "original": "Correct the minimum errors that you have in it.",
                    "corrected": "Correct the fewest errors you have in it.",
                    "explanation": "'Minimum errors' is not idiomatic; 'fewest errors' is clearer and more natural in this context.",
                    "context": "Your writing needs some adjustments. Correct the fewest errors you have in it. This will make your essay stronger."
                },
                {
                    "original": "It's so good that it doesn't touch.",
                    "corrected": "It's so good that it doesn't need any changes.",
                    "explanation": "'Doesn't touch' is unclear; 'doesn't need any changes' conveys the intended meaning more effectively.",
                    "context": "I appreciate your effort. It's so good that it doesn't need any changes. Keep up the good work!"
                },
                {
                    "original": "Correct the minimum, maximum errors.",
                    "corrected": "Correct the maximum number of errors.",
                    "explanation": "The phrase 'minimum, maximum errors' is confusing; it should specify correcting the maximum number of errors.",
                    "context": "I want you to focus on improving your writing. Correct the maximum number of errors. This will enhance your overall quality."
                },
                {
                    "original": "Use less words of unfamiliar and strange constructions.",
                    "corrected": "Use fewer unfamiliar and strange constructions.",
                    "explanation": "'Less words' is incorrect; 'fewer' should be used with countable nouns like 'words.'",
                    "context": "When writing, clarity is key. Use fewer unfamiliar and strange constructions. This will help your readers understand better."
                },
                {
                    "original": "We shift the focus from the idea level to the grammatical level.",
                    "corrected": "We shift our focus from the idea level to the grammatical level.",
                    "explanation": "The phrase lacks a subject; adding 'our' clarifies who is shifting the focus.",
                    "context": "In this lesson, we are making adjustments. We shift our focus from the idea level to the grammatical level. This is essential for improvement."
                },
                {
                    "original": "You need to combine them to get a great result.",
                    "corrected": "You need to combine them to achieve a great result.",
                    "explanation": "'Get' is informal; 'achieve' is more appropriate in this context.",
                    "context": "To succeed, it's important to integrate your ideas. You need to combine them to achieve a great result. This will enhance your writing."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Wi-Fi",
                    "definition": "A technology that allows electronic devices to connect to a wireless local area network.",
                    "context": {
                        "Context 1": "I need to check my Wi-Fi connection to ensure I can hear you clearly.",
                        "Context 2": "The caf√© offers free Wi-Fi for all its customers.",
                        "Context 3": "My Wi-Fi signal is weak, so I can't stream movies without buffering."
                    }
                },
                {
                    "word": "Capitalism",
                    "definition": "An economic system where private individuals own and control property and businesses.",
                    "context": {
                        "Context 1": "In capitalism, prices are determined by supply and demand.",
                        "Context 2": "The bakery thrived under capitalism, attracting many customers with its unique pastries.",
                        "Context 3": "Capitalism encourages innovation and competition among businesses."
                    }
                },
                {
                    "word": "Second-hand",
                    "definition": "Previously owned or used items, often sold at a lower price.",
                    "context": {
                        "Context 1": "I prefer to buy second-hand devices to save money.",
                        "Context 2": "She found a beautiful second-hand dress at the thrift store.",
                        "Context 3": "Buying second-hand books is a great way to save money and be eco-friendly."
                    }
                },
                {
                    "word": "Inflation",
                    "definition": "The rate at which the general level of prices for goods and services rises, eroding purchasing power.",
                    "context": {
                        "Context 1": "The inflation rate is affecting how much I can buy with my salary.",
                        "Context 2": "Inflation can lead to higher costs for everyday items like groceries.",
                        "Context 3": "During periods of high inflation, people often seek ways to invest their money wisely."
                    }
                },
                {
                    "word": "Accommodation",
                    "definition": "A place where someone lives or stays, especially temporarily.",
                    "context": {
                        "Context 1": "The hotel prices shocked me; I expected accommodation to be cheaper.",
                        "Context 2": "Finding affordable accommodation can be challenging in big cities.",
                        "Context 3": "During my travels, I prefer to stay in hostels for budget accommodation."
                    }
                },
                {
                    "word": "Expect",
                    "definition": "To regard something as likely to happen; to anticipate.",
                    "context": {
                        "Context 1": "I expect prices in Kazakhstan to be lower than in Moscow.",
                        "Context 2": "She expects to receive her package by the end of the week.",
                        "Context 3": "They expect a lot of visitors at the festival this year."
                    }
                },
                {
                    "word": "Market",
                    "definition": "A place or system where goods and services are exchanged.",
                    "context": {
                        "Context 1": "The second-hand market in Moscow has many affordable options.",
                        "Context 2": "Farmers' markets are popular for buying fresh produce directly from growers.",
                        "Context 3": "The stock market can be volatile, with prices changing rapidly."
                    }
                },
                {
                    "word": "Develop",
                    "definition": "To grow or cause to grow and become more mature, advanced, or elaborate.",
                    "context": {
                        "Context 1": "They developed a new app to help people manage their finances.",
                        "Context 2": "The city plans to develop a new park in the downtown area.",
                        "Context 3": "He wants to develop his skills in photography through practice."
                    }
                },
                {
                    "word": "Income",
                    "definition": "Money received, especially on a regular basis, for work or through investments.",
                    "context": {
                        "Context 1": "The level of income in Kazakhstan is comparable to that in Russia.",
                        "Context 2": "She saved a portion of her income each month for her vacation.",
                        "Context 3": "Many people rely on rental income to supplement their salaries."
                    }
                },
                {
                    "word": "Labor",
                    "definition": "Work, especially hard physical work or the workforce in a particular industry.",
                    "context": {
                        "Context 1": "People from Kazakhstan often go to Russia for cheap labor opportunities.",
                        "Context 2": "Labor laws protect workers' rights in many countries.",
                        "Context 3": "The construction site required a lot of labor to complete the project on time."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Inflation",
                    "fact": "Did you know that in Zimbabwe, inflation reached 89.7 sextillion percent in 2008? That's a lot of zeros!"
                },
                {
                    "word": "Accommodation",
                    "fact": "In Finland, there are hotels made entirely of ice! Talk about a chilly accommodation!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of data to process!"
                },
                {
                    "question": "Why did the smartphone need glasses?",
                    "answer": "Because it lost its contacts!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Exchange Rate",
                    "definition": "The value of one currency for the purpose of conversion to another.",
                    "context": {
                        "Context 1": "The exchange rate of the tenge to the dollar has fluctuated significantly this year.",
                        "Context 2": "During the vacation, I checked the exchange rate to see how much my euros were worth.",
                        "Context 3": "The exchange rate can affect how much you pay for your online shopping."
                    }
                },
                {
                    "word": "Converted",
                    "definition": "To change something into a different form or properties.",
                    "context": {
                        "Context 1": "If I convert dollars to tenge, I need to check the current exchange rate.",
                        "Context 2": "She converted her old car into a stylish electric vehicle.",
                        "Context 3": "The chef converted the recipe to serve a larger group of people."
                    }
                },
                {
                    "word": "Influenced",
                    "definition": "To have an effect on the character, development, or behavior of someone or something.",
                    "context": {
                        "Context 1": "The exchange rate of the tenge is influenced by the ruble's value.",
                        "Context 2": "Her decision was influenced by her friends' opinions.",
                        "Context 3": "The weather can greatly influence our mood."
                    }
                },
                {
                    "word": "Interconnected",
                    "definition": "Having all parts linked or related to each other.",
                    "context": {
                        "Context 1": "The economies of post-Soviet countries are interconnected.",
                        "Context 2": "The interconnected web of life shows how species depend on each other.",
                        "Context 3": "In a globalized world, cultures are increasingly interconnected."
                    }
                },
                {
                    "word": "Productivity",
                    "definition": "The effectiveness of productive effort, especially in industry.",
                    "context": {
                        "Context 1": "Working from home can sometimes damage productivity in the office.",
                        "Context 2": "The factory improved its productivity by implementing new technology.",
                        "Context 3": "High productivity is essential for economic growth."
                    }
                },
                {
                    "word": "Damaged",
                    "definition": "To cause physical harm to something, impairing its value or usefulness.",
                    "context": {
                        "Context 1": "The storm damaged productivity in the office due to power outages.",
                        "Context 2": "The car was damaged in the accident but can be repaired.",
                        "Context 3": "His reputation was damaged after the scandal."
                    }
                },
                {
                    "word": "Subject",
                    "definition": "The person or thing that is being discussed or described.",
                    "context": {
                        "Context 1": "The subject of our discussion today is the economy.",
                        "Context 2": "In the sentence 'The cat sleeps,' 'the cat' is the subject.",
                        "Context 3": "History was my favorite subject in school."
                    }
                },
                {
                    "word": "Agreement",
                    "definition": "A negotiated and typically legally binding arrangement between parties.",
                    "context": {
                        "Context 1": "We need to reach an agreement on the project's timeline.",
                        "Context 2": "The two countries signed an agreement to promote trade.",
                        "Context 3": "The agreement between the friends was to meet every Friday."
                    }
                },
                {
                    "word": "Tense",
                    "definition": "A grammatical category determining the time of a verb's action.",
                    "context": {
                        "Context 1": "In English, we need to use the correct tense for the verb.",
                        "Context 2": "The past tense of 'run' is 'ran.'",
                        "Context 3": "In French, there are multiple tenses to express different times."
                    }
                },
                {
                    "word": "Infinitive",
                    "definition": "The basic form of a verb, typically preceded by 'to.'",
                    "context": {
                        "Context 1": "The infinitive form of 'to agree' is used in negative sentences.",
                        "Context 2": "To swim is my favorite summer activity.",
                        "Context 3": "In Spanish, the infinitive form of a verb ends in -ar, -er, or -ir."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Currency",
                    "fact": "Did you know that the world's oldest currency still in use today is the British pound, which dates back to 775 AD?"
                },
                {
                    "word": "Productivity",
                    "fact": "Studies show that taking short breaks can actually boost productivity‚Äîso go ahead, take that snack break!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the dollar break up with the tenge?",
                    "answer": "Because it found someone more valuable!"
                },
                {
                    "question": "Why did the economist bring a ladder to work?",
                    "answer": "Because they wanted to reach new heights in productivity!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Agree",
                    "definition": "To have the same opinion or to accept a proposal.",
                    "context": {
                        "Context 1": "The world is agreeing on the need for climate action.",
                        "Context 2": "I agree that pizza is the best food, especially with extra cheese.",
                        "Context 3": "They couldn't agree on where to go for vacation, leading to a heated debate."
                    }
                },
                {
                    "word": "Emphasize",
                    "definition": "To give special importance or prominence to something in speaking or writing.",
                    "context": {
                        "Context 1": "She wanted to emphasize the importance of studying grammar.",
                        "Context 2": "The teacher emphasized the need for students to complete their homework.",
                        "Context 3": "During the presentation, he emphasized the benefits of eating vegetables."
                    }
                },
                {
                    "word": "Aware",
                    "definition": "Having knowledge or perception of a situation or fact.",
                    "context": {
                        "Context 1": "You will be aware of the grammar rules once you practice them.",
                        "Context 2": "She was not aware that the meeting had been rescheduled.",
                        "Context 3": "He became aware of the noise outside when he opened the window."
                    }
                },
                {
                    "word": "Excited",
                    "definition": "Feeling or showing happiness and enthusiasm.",
                    "context": {
                        "Context 1": "The students were excited to learn about new grammar rules.",
                        "Context 2": "She was excited to go to the concert next week.",
                        "Context 3": "He felt excited when he received a surprise gift on his birthday."
                    }
                },
                {
                    "word": "Caution",
                    "definition": "Care taken to avoid danger or mistakes.",
                    "context": {
                        "Context 1": "Be cautious when using new grammar structures.",
                        "Context 2": "The sign warned drivers to exercise caution on the icy road.",
                        "Context 3": "She approached the stray dog with caution, unsure of its temperament."
                    }
                },
                {
                    "word": "Pattern",
                    "definition": "A repeated decorative design or a model or design used as a guide.",
                    "context": {
                        "Context 1": "Understanding the pattern of verb tenses is crucial for mastering English.",
                        "Context 2": "The artist created a beautiful pattern with colorful tiles.",
                        "Context 3": "He noticed a pattern in the way his friends reacted to jokes."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances that form the setting for an event, statement, or idea.",
                    "context": {
                        "Context 1": "The context of the lesson helps students understand grammar better.",
                        "Context 2": "Without context, the joke didn't make sense to anyone.",
                        "Context 3": "The historical context of the painting adds depth to its meaning."
                    }
                },
                {
                    "word": "Redundancy",
                    "definition": "The state of being not or no longer needed or useful; superfluous.",
                    "context": {
                        "Context 1": "Using 'did' and 'liked' together creates redundancy in the sentence.",
                        "Context 2": "The redundancy in his speech made it difficult to follow his main point.",
                        "Context 3": "She removed the redundancy from her essay to make it more concise."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement of and relations between the parts or elements of something complex.",
                    "context": {
                        "Context 1": "The basic structure of the present simple tense is subject + verb.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "He admired the structure of the novel, with its intricate plot twists."
                    }
                },
                {
                    "word": "Analyze",
                    "definition": "To examine in detail for purposes of explanation and interpretation.",
                    "context": {
                        "Context 1": "Students should analyze sentences to understand their grammatical structure.",
                        "Context 2": "The scientist will analyze the data collected from the experiment.",
                        "Context 3": "She took time to analyze her options before making a decision."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Excited",
                    "fact": "Did you know that the word 'excited' comes from the Latin 'excitare,' which means 'to rouse' or 'to awaken'?"
                },
                {
                    "word": "Caution",
                    "fact": "In ancient Rome, a common warning was 'Cave Canem,' which means 'Beware of the Dog!'"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the grammar teacher break up with the punctuation teacher?",
                    "answer": "Because she felt he was too possessive!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Auxiliary Verb",
                    "definition": "A verb used in forming the tenses, moods, and voices of other verbs.",
                    "context": {
                        "Context 1": "In the sentence 'He does not like coffee,' 'does' is the auxiliary verb.",
                        "Context 2": "The auxiliary verb 'will' is used to indicate future actions.",
                        "Context 3": "In the phrase 'She is running,' 'is' serves as an auxiliary verb."
                    }
                },
                {
                    "word": "Gerund",
                    "definition": "A form of a verb that ends in -ing and functions as a noun.",
                    "context": {
                        "Context 1": "In the phrase 'I enjoy swimming,' 'swimming' is a gerund.",
                        "Context 2": "Gerunds can be used as subjects, like in 'Running is fun.'",
                        "Context 3": "He avoided talking about his problems, showing the use of gerunds."
                    }
                },
                {
                    "word": "Present Continuous",
                    "definition": "A tense used to describe actions that are currently happening.",
                    "context": {
                        "Context 1": "She is studying for her exams right now, using the present continuous tense.",
                        "Context 2": "The present continuous is often used to describe future plans, like 'I am meeting my friend tomorrow.'",
                        "Context 3": "He is baking a cake while listening to music, illustrating the present continuous."
                    }
                },
                {
                    "word": "Infinitive",
                    "definition": "The base form of a verb, often preceded by 'to.'",
                    "context": {
                        "Context 1": "To learn English is my goal, where 'to learn' is the infinitive.",
                        "Context 2": "She wants to travel the world, using the infinitive 'to travel.'",
                        "Context 3": "He decided to start a new hobby, highlighting the use of the infinitive."
                    }
                },
                {
                    "word": "Irregular Verb",
                    "definition": "A verb that does not follow the regular pattern of conjugation.",
                    "context": {
                        "Context 1": "The verb 'go' is an irregular verb because its past tense is 'went.'",
                        "Context 2": "In English, 'be' is an irregular verb with forms like 'am,' 'is,' and 'are.'",
                        "Context 3": "He learned that 'swim' becomes 'swam' in the past, an example of an irregular verb."
                    }
                },
                {
                    "word": "Past Simple",
                    "definition": "A tense used to describe actions that were completed in the past.",
                    "context": {
                        "Context 1": "I walked to the store yesterday, using the past simple tense.",
                        "Context 2": "She finished her homework before dinner, illustrating the past simple.",
                        "Context 3": "He played soccer last weekend, which is an example of past simple."
                    }
                },
                {
                    "word": "Present Simple",
                    "definition": "A tense used to describe habitual actions or general truths.",
                    "context": {
                        "Context 1": "He plays soccer every Saturday, using the present simple tense.",
                        "Context 2": "Water boils at 100 degrees Celsius, which is a general truth in present simple.",
                        "Context 3": "She reads a book every night, illustrating the use of present simple."
                    }
                },
                {
                    "word": "Negative Form",
                    "definition": "A grammatical construction that negates a verb.",
                    "context": {
                        "Context 1": "In the negative form, we say 'He does not like coffee.'",
                        "Context 2": "The negative form of 'She is happy' is 'She is not happy.'",
                        "Context 3": "He didn't go to the party, demonstrating the negative form."
                    }
                },
                {
                    "word": "Formula",
                    "definition": "A mathematical or logical rule expressed in symbols or words.",
                    "context": {
                        "Context 1": "The formula for present continuous is subject + auxiliary verb + gerund.",
                        "Context 2": "In math, the formula for area is length times width.",
                        "Context 3": "He used a formula to calculate the speed of the car."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or idea.",
                    "context": {
                        "Context 1": "Understanding the context of a sentence helps in grasping its meaning.",
                        "Context 2": "In history, context is crucial for interpreting events accurately.",
                        "Context 3": "The context of the joke made it much funnier."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Gerund",
                    "fact": "Did you know that the longest English word that ends with 'ing' is 'smile'‚Äîif you add 'ing' to it, it becomes 'smiling'?"
                },
                {
                    "word": "Auxiliary Verb",
                    "fact": "The word 'do' is one of the most commonly used auxiliary verbs, but it also means 'to perform'‚Äîso it‚Äôs like a verb that helps other verbs do their job!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the grammar teacher go to jail?",
                    "answer": "Because she had too many run-on sentences!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_5": {
            "vocabulary_list": [
                {
                    "word": "Conditional",
                    "definition": "A grammatical structure that expresses a condition and its result.",
                    "context": {
                        "Context 1": "In English, conditionals are used to discuss hypothetical situations, such as 'If I were rich, I would travel the world.'",
                        "Context 2": "The weather forecast is conditional; it might rain tomorrow if the clouds gather.",
                        "Context 3": "In programming, a conditional statement can determine the flow of a program based on certain criteria."
                    }
                },
                {
                    "word": "Hypothetical",
                    "definition": "Based on or serving as a hypothesis; supposed but not necessarily real or true.",
                    "context": {
                        "Context 1": "The teacher explained a hypothetical situation to illustrate the second conditional.",
                        "Context 2": "In a hypothetical world where cats could talk, they would probably demand more treats.",
                        "Context 3": "The scientist proposed a hypothetical experiment to test the theory."
                    }
                },
                {
                    "word": "Unreal",
                    "definition": "Not real; imaginary or fictitious.",
                    "context": {
                        "Context 1": "The lesson focused on unreal conditions, such as 'If I had wings, I would fly.'",
                        "Context 2": "In his dream, he lived in an unreal world where everything was perfect.",
                        "Context 3": "The movie depicted an unreal scenario where dinosaurs roamed the Earth alongside humans."
                    }
                },
                {
                    "word": "Complex",
                    "definition": "Consisting of many different and connected parts; not simple.",
                    "context": {
                        "Context 1": "The teacher mentioned that the third conditional is a complex structure in English grammar.",
                        "Context 2": "Her emotions were complex, filled with joy and sadness at the same time.",
                        "Context 3": "The recipe was complex, requiring multiple steps and ingredients."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement of and relations between the parts or elements of something complex.",
                    "context": {
                        "Context 1": "The lesson covered the structure of conditionals in English grammar.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "The structure of a good essay includes an introduction, body, and conclusion."
                    }
                },
                {
                    "word": "Imaginary",
                    "definition": "Existing only in the imagination; not real.",
                    "context": {
                        "Context 1": "The teacher used imaginary scenarios to explain the concept of conditionals.",
                        "Context 2": "As a child, she had an imaginary friend named Mr. Snuggles.",
                        "Context 3": "The book was filled with imaginary creatures and magical lands."
                    }
                },
                {
                    "word": "Response",
                    "definition": "A reaction to something; an answer.",
                    "context": {
                        "Context 1": "The teacher discussed how to formulate an appropriate response to hypothetical questions.",
                        "Context 2": "His response to the surprise party was one of sheer joy.",
                        "Context 3": "The company's response to customer complaints was prompt and effective."
                    }
                },
                {
                    "word": "Realistic",
                    "definition": "Having or showing a sensible and practical idea of what can be achieved or expected.",
                    "context": {
                        "Context 1": "The lesson emphasized the difference between realistic and unrealistic conditions in English.",
                        "Context 2": "Her goals were realistic, focusing on achievable milestones.",
                        "Context 3": "The movie's realistic portrayal of life in the city resonated with many viewers."
                    }
                },
                {
                    "word": "Past Perfect",
                    "definition": "A verb tense used to indicate actions that were completed before a certain point in the past.",
                    "context": {
                        "Context 1": "The teacher explained that the past perfect is often used in the third conditional.",
                        "Context 2": "By the time he arrived, she had already left, using the past perfect tense.",
                        "Context 3": "In the story, the character realized he had forgotten his keys."
                    }
                },
                {
                    "word": "Polite",
                    "definition": "Having or showing behavior that is respectful and considerate of other people.",
                    "context": {
                        "Context 1": "The teacher noted that polite requests often use conditional forms, like 'Could you help me?'",
                        "Context 2": "She was always polite, saying 'please' and 'thank you' to everyone.",
                        "Context 3": "Being polite can open doors and create positive relationships."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Hypothetical",
                    "fact": "Did you know that the word 'hypothetical' comes from the Greek word 'hypothetikos,' meaning 'to put under'?"
                },
                {
                    "word": "Complex",
                    "fact": "The word 'complex' can refer to both complicated structures and a group of related things, like a 'complex of buildings' or 'a psychological complex.'"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the grammar teacher go to jail?",
                    "answer": "Because she had too many run-on sentences!"
                },
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_6": {
            "vocabulary_list": [
                {
                    "word": "Modal Verb",
                    "definition": "A type of auxiliary verb that expresses necessity or possibility.",
                    "context": {
                        "Context 1": "In the lesson, we discussed how 'would' is a modal verb used to express a hypothetical situation.",
                        "Context 2": "She used a modal verb to ask for permission to leave early.",
                        "Context 3": "The teacher explained that modal verbs can change the meaning of a sentence."
                    }
                },
                {
                    "word": "Negate",
                    "definition": "To make something negative or to deny it.",
                    "context": {
                        "Context 1": "In the lesson, we learned how to negate a verb by adding 'not' to it.",
                        "Context 2": "He tried to negate the rumors about his departure from the company.",
                        "Context 3": "The scientist wanted to negate the previous findings with new evidence."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "Practical contact with and observation of facts or events.",
                    "context": {
                        "Context 1": "The teacher explained that using present perfect refers to the experience of completing an action.",
                        "Context 2": "She has a lot of experience in teaching English as a second language.",
                        "Context 3": "Traveling abroad can be a life-changing experience."
                    }
                },
                {
                    "word": "Present Perfect",
                    "definition": "A verb tense used to indicate a completed action that has relevance to the present.",
                    "context": {
                        "Context 1": "The lesson focused on how to form the present perfect tense correctly.",
                        "Context 2": "He has finished his homework before dinner.",
                        "Context 3": "They have traveled to five different countries this year."
                    }
                },
                {
                    "word": "Past Perfect",
                    "definition": "A verb tense used to express an action that was completed before another action in the past.",
                    "context": {
                        "Context 1": "The teacher explained that 'he had been to Paris' uses the past perfect tense.",
                        "Context 2": "By the time she arrived, he had already left.",
                        "Context 3": "They had never seen such a beautiful sunset before that day."
                    }
                },
                {
                    "word": "Subtle",
                    "definition": "So delicate or precise as to be difficult to analyze or describe.",
                    "context": {
                        "Context 1": "The teacher mentioned that the difference between past simple and present perfect can be subtle.",
                        "Context 2": "The artist's use of color created a subtle effect that captivated the audience.",
                        "Context 3": "There was a subtle change in her tone that indicated she was upset."
                    }
                },
                {
                    "word": "Cultural",
                    "definition": "Relating to the ideas, customs, and social behavior of a society.",
                    "context": {
                        "Context 1": "The lesson touched on cultural differences in using tenses.",
                        "Context 2": "The festival celebrated the cultural heritage of the community.",
                        "Context 3": "Cultural exchange programs help students learn about different lifestyles."
                    }
                },
                {
                    "word": "Reference",
                    "definition": "The action of mentioning or alluding to something.",
                    "context": {
                        "Context 1": "In the lesson, the teacher made a reference to how Americans use past simple more often.",
                        "Context 2": "The book contains numerous references to historical events.",
                        "Context 3": "She made a reference to a famous movie during her speech."
                    }
                },
                {
                    "word": "Clarify",
                    "definition": "To make a statement or situation less confused and more comprehensible.",
                    "context": {
                        "Context 1": "The teacher asked if anyone needed to clarify the difference between tenses.",
                        "Context 2": "He needed to clarify his position on the issue during the meeting.",
                        "Context 3": "The instructions were unclear, so she had to clarify them for the team."
                    }
                },
                {
                    "word": "Focus",
                    "definition": "The center of interest or activity.",
                    "context": {
                        "Context 1": "The lesson emphasized the focus on the result of an action in present perfect.",
                        "Context 2": "She needed to focus on her studies to pass the exam.",
                        "Context 3": "The focus of the discussion shifted to environmental issues."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Modal Verb",
                    "fact": "The term 'modal' comes from the Latin 'modus,' meaning 'manner' or 'mode,' which is fitting since modal verbs express different modes of action!"
                },
                {
                    "word": "Subtle",
                    "fact": "The word 'subtle' is so subtle that many people mispronounce it as 'sub-stal' instead of 'sub-tl.'"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the grammar teacher break up with the punctuation teacher?",
                    "answer": "Because they just couldn't find the right pause!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_7": {
            "vocabulary_list": [
                {
                    "word": "Present Simple",
                    "definition": "A verb tense used to describe habitual actions or general truths.",
                    "context": {
                        "Context 1": "In English, we use the present simple to talk about daily routines, like 'I eat breakfast at 7 AM.'",
                        "Context 2": "The present simple is often used in recipes, such as 'Add salt to the mixture.'",
                        "Context 3": "When discussing historical facts, the present simple is commonly used, like 'The Earth revolves around the Sun.'"
                    }
                },
                {
                    "word": "Present Continuous",
                    "definition": "A verb tense used to describe actions that are currently happening.",
                    "context": {
                        "Context 1": "She is studying for her exams right now using the present continuous.",
                        "Context 2": "The present continuous can describe future plans, like 'I am meeting my friend tomorrow.'",
                        "Context 3": "In a movie, you might hear characters say, 'They are running from the monster!'"
                    }
                },
                {
                    "word": "Present Perfect",
                    "definition": "A verb tense used to indicate actions that occurred at an unspecified time or that have relevance to the present.",
                    "context": {
                        "Context 1": "I have finished my homework, which is an example of the present perfect.",
                        "Context 2": "In a job interview, you might say, 'I have worked in sales for five years.'",
                        "Context 3": "When talking about experiences, you could say, 'I have traveled to three countries this year.'"
                    }
                },
                {
                    "word": "Past Simple",
                    "definition": "A verb tense used to describe actions that were completed in the past.",
                    "context": {
                        "Context 1": "Last week, I visited my grandmother, which is an example of the past simple.",
                        "Context 2": "In storytelling, you often hear, 'He walked to the store yesterday.'",
                        "Context 3": "When discussing historical events, you might say, 'The Titanic sank in 1912.'"
                    }
                },
                {
                    "word": "Errors",
                    "definition": "Mistakes made in writing or speaking, often related to grammar or usage.",
                    "context": {
                        "Context 1": "The teacher pointed out several errors in my essay that needed correction.",
                        "Context 2": "In math class, I realized I made errors in my calculations.",
                        "Context 3": "When learning a new language, making errors is a normal part of the process."
                    }
                },
                {
                    "word": "Grammatically",
                    "definition": "In a way that relates to grammar; according to the rules of grammar.",
                    "context": {
                        "Context 1": "You need to write your sentences grammatically to avoid confusion.",
                        "Context 2": "The book was written grammatically correct, making it easy to read.",
                        "Context 3": "In a grammar competition, participants must speak grammatically to win."
                    }
                },
                {
                    "word": "Screenshot",
                    "definition": "An image taken of the display on a computer or mobile device screen.",
                    "context": {
                        "Context 1": "I took a screenshot of the instructions to refer back to later.",
                        "Context 2": "During the meeting, I shared a screenshot of the presentation slides.",
                        "Context 3": "He sent me a screenshot of the funny meme he found online."
                    }
                },
                {
                    "word": "Combine",
                    "definition": "To join or merge two or more things together.",
                    "context": {
                        "Context 1": "You need to combine your ideas and grammar to create a strong essay.",
                        "Context 2": "In cooking, it's important to combine ingredients in the right order.",
                        "Context 3": "The artist decided to combine different styles in her latest painting."
                    }
                },
                {
                    "word": "Focus",
                    "definition": "The center of interest or activity; to concentrate attention.",
                    "context": {
                        "Context 1": "We need to shift our focus from ideas to grammar in this lesson.",
                        "Context 2": "To improve your skills, you should focus on one area at a time.",
                        "Context 3": "In photography, focus is crucial for capturing sharp images."
                    }
                },
                {
                    "word": "Level",
                    "definition": "A position on a scale of amount, quantity, or quality.",
                    "context": {
                        "Context 1": "We are shifting the focus from the idea level to the grammatical level.",
                        "Context 2": "In video games, players advance to the next level after completing challenges.",
                        "Context 3": "The water level in the lake has risen due to recent rainfall."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Grammar",
                    "fact": "Did you know that the longest word in the English language has 189,819 letters? It's the chemical name for titin, a protein!"
                },
                {
                    "word": "Combine",
                    "fact": "In cooking, combining ingredients can lead to unexpected flavors, like chocolate and chili!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the grammar teacher break up with the punctuation teacher?",
                    "answer": "Because they just couldn't find common ground!"
                },
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going today?"
                },
                {
                    "Person 2": "Pretty good! Just finished a long day at work. How about you?"
                },
                {
                    "Person 1": "Not too bad! Just trying to figure out what to do this weekend."
                },
                {
                    "Person 2": "Same here! Any ideas in mind?"
                },
                {
                    "Person 1": "I was thinking about checking out that new pizza place downtown. Heard they have amazing toppings!"
                },
                {
                    "Person 2": "Oh, I‚Äôve heard about that! I love pizza. What toppings are you thinking?"
                },
                {
                    "Person 1": "Maybe some classic pepperoni, but I‚Äôm also curious about their spicy jalape√±os."
                },
                {
                    "Person 2": "Spicy jalape√±os sound awesome! I‚Äôm in. Should we invite some friends?"
                },
                {
                    "Person 1": "Definitely! The more, the merrier. I can text a few people."
                },
                {
                    "Person 2": "Great! I‚Äôll look up their menu and see if they have any cool drinks."
                },
                {
                    "Person 1": "Perfect! I‚Äôm excited to try it out. It‚Äôs been a while since we had a pizza night."
                },
                {
                    "Person 2": "Yeah, it‚Äôll be fun! We should also plan a movie night afterward."
                },
                {
                    "Person 1": "Sounds like a plan! I‚Äôll bring some snacks."
                },
                {
                    "Person 2": "Awesome! I can‚Äôt wait. Let‚Äôs make it a fun night!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you see the latest episode of that show we like?"
                },
                {
                    "Person 2": "Oh, totally! I watched it last night. Can you believe that twist at the end?"
                },
                {
                    "Person 1": "I know, right? I did not see that coming at all!"
                },
                {
                    "Person 2": "Same here! I was like, 'No way!' It totally changed everything."
                },
                {
                    "Person 1": "Exactly! I can't wait for the next episode. Do you think they‚Äôll resolve that cliffhanger?"
                },
                {
                    "Person 2": "I hope so! But knowing the writers, they might drag it out for a while."
                },
                {
                    "Person 1": "Yeah, they love keeping us on the edge of our seats. What do you think will happen next?"
                },
                {
                    "Person 2": "Hmm, I think one of the main characters might betray the others. It‚Äôs always the unexpected ones!"
                },
                {
                    "Person 1": "That would be wild! I can totally see that happening. What if it‚Äôs the one we least expect?"
                },
                {
                    "Person 2": "Oh man, that would be a game changer! I‚Äôd be so shocked."
                },
                {
                    "Person 1": "Me too! By the way, are you free this weekend? We should binge-watch some episodes."
                },
                {
                    "Person 2": "That sounds like a plan! Let‚Äôs make some popcorn and have a marathon."
                },
                {
                    "Person 1": "Perfect! I‚Äôll bring the snacks, and you can pick the next show."
                },
                {
                    "Person 2": "Deal! Can‚Äôt wait!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh man, I missed it! How did it go?"
                },
                {
                    "Person 1": "It was intense! We were down by 10 points at halftime, but we made a comeback in the second half."
                },
                {
                    "Person 2": "No way! That's awesome! Who scored the winning point?"
                },
                {
                    "Person 1": "It was our new player, Jake. He nailed a three-pointer right at the buzzer!"
                },
                {
                    "Person 2": "Wow, sounds like he really stepped up! I need to watch the highlights."
                },
                {
                    "Person 1": "Definitely! You won‚Äôt regret it. The crowd went wild!"
                },
                {
                    "Person 2": "I can imagine! So, are you going to the next game?"
                },
                {
                    "Person 1": "For sure! I already got my tickets. You should come with me!"
                },
                {
                    "Person 2": "Count me in! I‚Äôll bring some snacks."
                },
                {
                    "Person 1": "Perfect! We‚Äôll make a whole evening out of it."
                },
                {
                    "Person 2": "Sounds like a plan! I can‚Äôt wait!"
                },
                {
                    "Person 1": "Me neither! It‚Äôs going to be a blast!"
                },
                {
                    "Person 2": "Absolutely! Let‚Äôs hope for another win!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that game last night?"
                },
                {
                    "Person 2": "Oh, totally! It was so intense! I couldn't believe that last-minute goal."
                },
                {
                    "Person 1": "Right? I was on the edge of my seat! I thought they were going to lose."
                },
                {
                    "Person 2": "Same here! I kept thinking, 'Just hold on for a few more minutes!'"
                },
                {
                    "Person 1": "And then they scored! I jumped up and spilled my popcorn everywhere."
                },
                {
                    "Person 2": "Haha! That's classic! I was just shouting at the TV like it could hear me."
                },
                {
                    "Person 1": "What do you think about the team's chances for the playoffs?"
                },
                {
                    "Person 2": "I think they have a good shot! If they keep playing like that, they could go far."
                },
                {
                    "Person 1": "Agreed! I just hope they can stay consistent."
                },
                {
                    "Person 2": "Yeah, consistency is key. But I‚Äôm feeling optimistic!"
                },
                {
                    "Person 1": "Me too! Let's catch the next game together."
                },
                {
                    "Person 2": "Absolutely! I‚Äôll bring the snacks this time!"
                },
                {
                    "Person 1": "Deal! Can‚Äôt wait!"
                }
            ]
        },
        "dialogue_5": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch the game last night?"
                },
                {
                    "Person 2": "Yeah, I did! What a comeback, right? I thought they were done for."
                },
                {
                    "Person 1": "I know! I was on the edge of my seat. That last-minute goal was insane!"
                },
                {
                    "Person 2": "Totally! I couldn‚Äôt believe it. I was jumping around my living room."
                },
                {
                    "Person 1": "Same here! I think my neighbors must think I‚Äôm crazy."
                },
                {
                    "Person 2": "Haha! At least we‚Äôre passionate fans. Did you see that one player? He was on fire!"
                },
                {
                    "Person 1": "Oh, for sure! He‚Äôs been playing like a superstar lately. Do you think they‚Äôll make it to the finals?"
                },
                {
                    "Person 2": "I really hope so! They‚Äôve got a good shot if they keep this up."
                },
                {
                    "Person 1": "Yeah, but they need to tighten up their defense. That‚Äôs what worries me."
                },
                {
                    "Person 2": "Agreed. If they can fix that, they‚Äôll be unstoppable."
                },
                {
                    "Person 1": "Let‚Äôs hope they do! Want to catch the next game together?"
                },
                {
                    "Person 2": "Absolutely! Let‚Äôs make it a game night. Snacks included!"
                },
                {
                    "Person 1": "Perfect! I‚Äôll bring the chips and dip."
                },
                {
                    "Person 2": "And I‚Äôll handle the drinks. It‚Äôs going to be fun!"
                },
                {
                    "Person 1": "Can‚Äôt wait! See you then!"
                },
                {
                    "Person 2": "See you!"
                }
            ]
        },
        "dialogue_6": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I went there last weekend! The vibe is really cool."
                },
                {
                    "Person 1": "Nice! What did you think of their coffee?"
                },
                {
                    "Person 2": "Honestly, it was pretty good. I had a latte, and it was super creamy."
                },
                {
                    "Person 1": "Sounds delicious! I love a good latte. Did you try any pastries?"
                },
                {
                    "Person 2": "I did! I had a blueberry muffin. It was fresh out of the oven."
                },
                {
                    "Person 1": "Yum! I need to check it out. How was the atmosphere?"
                },
                {
                    "Person 2": "It was cozy, with lots of plants and comfy seating. Perfect for hanging out or studying."
                },
                {
                    "Person 1": "That sounds perfect! I could use a new spot to work on my projects."
                },
                {
                    "Person 2": "For sure! Plus, they have free Wi-Fi, so it's great for that."
                },
                {
                    "Person 1": "Awesome! I‚Äôll definitely go there this weekend. Want to join?"
                },
                {
                    "Person 2": "Absolutely! Let‚Äôs make it a coffee date."
                },
                {
                    "Person 1": "Perfect! I‚Äôll text you the time."
                },
                {
                    "Person 2": "Looking forward to it! Can‚Äôt wait for more of those muffins."
                }
            ]
        },
        "dialogue_7": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you finish that essay for class yet?"
                },
                {
                    "Person 2": "Not yet! I‚Äôm still trying to figure out the difference between present simple and present continuous."
                },
                {
                    "Person 1": "Oh man, that can be tricky. I remember struggling with that too."
                },
                {
                    "Person 2": "Yeah, and then there‚Äôs the present perfect and past simple. It‚Äôs a lot to keep track of!"
                },
                {
                    "Person 1": "For sure! But I think if you just focus on the basics, you‚Äôll be fine."
                },
                {
                    "Person 2": "Right? I just need to correct some of the errors in my draft. It‚Äôs full of mistakes."
                },
                {
                    "Person 1": "I get that. I always end up making silly errors when I rush through."
                },
                {
                    "Person 2": "Same here! I think I need to take my time and not overthink it."
                },
                {
                    "Person 1": "Exactly! Just remember to keep it simple and clear."
                },
                {
                    "Person 2": "Good advice! I‚Äôll try to focus more on that instead of getting lost in the details."
                },
                {
                    "Person 1": "And if you need help, just let me know! I can read it over for you."
                },
                {
                    "Person 2": "Thanks! I might take you up on that. I could use a fresh pair of eyes."
                },
                {
                    "Person 1": "Anytime! Let‚Äôs tackle this together."
                },
                {
                    "Person 2": "Sounds like a plan! I‚Äôll get back to it now."
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
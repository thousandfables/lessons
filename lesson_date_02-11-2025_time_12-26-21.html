<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I don't know where I will leave how I will.",
                    "corrected": "I don't know where I will stay or how I will get there.",
                    "explanation": "The word 'leave' is incorrect in this context; it should be 'stay.' Additionally, 'how I will' is incomplete and needs clarification.",
                    "context": "I'm fine. Tomorrow I'm going to Kokstau to protect my project, but I don't know where I will stay or how I will get there. I need more information about the trip."
                },
                {
                    "original": "if this happens I would just refuse if I at this evening or maybe two hours I wouldn't see information about this trip.",
                    "corrected": "If this happens, I will just refuse if I don't see information about this trip by this evening or in the next two hours.",
                    "explanation": "The sentence structure is confusing; it requires proper conditional formatting. Additionally, 'at this evening' should be 'by this evening.'",
                    "context": "I don't think so. If this happens, I will just refuse if I don't see information about this trip by this evening or in the next two hours. I don't want to miss out on my plans."
                },
                {
                    "original": "it's weird now you might have an excuse to actually skip this whole thing to bail on it without this project.",
                    "corrected": "It's weird now; you might have an excuse to actually skip this whole thing and bail on it without this project.",
                    "explanation": "The sentence lacks punctuation; a semicolon should be used here for better flow.",
                    "context": "It's weird now; you might have an excuse to actually skip this whole thing and bail on it without this project. I don't want to miss out on important events."
                },
                {
                    "original": "autumn battle I hate it even because all things that my class should do I do, only me because nobody wants to do this.",
                    "corrected": "I hate the autumn ball because I end up doing everything my class should do, since nobody else wants to help.",
                    "explanation": "The phrase 'autumn battle' should be 'autumn ball,' and the wording is awkward; it should be simplified for clarity.",
                    "context": "I hate the autumn ball because I end up doing everything my class should do since nobody else wants to help. It feels unfair and exhausting."
                },
                {
                    "original": "the most hard part of this autumn ball is the costumes for boys and girls boys from my class and girls from Kazakh class.",
                    "corrected": "The hardest part of this autumn ball is the costumes for the boys and girls, boys from my class and girls from the Kazakh class.",
                    "explanation": "'The most hard' is incorrect; it should be 'the hardest.' A comma is needed for clarity between phrases.",
                    "context": "The hardest part of this autumn ball is the costumes for the boys and girls, boys from my class and girls from the Kazakh class. It's difficult to coordinate."
                },
                {
                    "original": "doing costumes from for example from paper handmade crazy.",
                    "corrected": "The costumes need to be made from materials like paper in a handmade, crazy style.",
                    "explanation": "The phrase 'doing costumes from for example from paper' is awkward; it should be restructured for clarity.",
                    "context": "The costumes need to be made from materials like paper in a handmade, crazy style. It's a fun challenge but also quite demanding."
                },
                {
                    "original": "this is actually one special case where we actually need to use the word instead of the word topic.",
                    "corrected": "This is actually one special case where we need to use 'theme' instead of 'topic.'",
                    "explanation": "The phrasing is redundant; the word 'actually' is repeated and should be removed for conciseness.",
                    "context": "This is actually one special case where we need to use 'theme' instead of 'topic.' It's important to distinguish between them."
                },
                {
                    "original": "it's not government principal in school is called a principal.",
                    "corrected": "It's not the government; the person in charge of the school is called the principal.",
                    "explanation": "The structure is confusing, and the conjunction 'and' should be used to clarify the two thoughts.",
                    "context": "It's not the government; the person in charge of the school is called the principal. I need to make sure I get the terminology correct."
                },
                {
                    "original": "yeah low and and is worried that means that everything is normal that everything has his place everyone has their place order order order.",
                    "corrected": "Yeah, Low is worried, but that means everything is normal; everything has its place, and everyone has their order.",
                    "explanation": "The sentence lacks proper punctuation and structure; it needs commas for clarity. ‘His place’ should be ‘their place’ to remain inclusive.",
                    "context": "Yeah, Low is worried, but that means everything is normal; everything has its place, and everyone has their order. I find reassurance in this organization."
                },
                {
                    "original": "I made I made costumes in my brain and I told to my class and class costumes.",
                    "corrected": "I imagined costumes in my head and told my class about them.",
                    "explanation": "The phrase 'made costumes in my brain' is non-idiomatic; 'imagined' is more appropriate. Additionally, 'and class costumes' is unclear.",
                    "context": "I imagined costumes in my head and told my class about them. It's important to communicate my ideas clearly."
                },
                {
                    "original": "and just input numbers on their shirt that would be that's what I would do.",
                    "corrected": "and just put numbers on their shirts; that would be what I would do.",
                    "explanation": "'Input' is not the right verb in this context; 'put' works better. Additionally, the structure needs more clarity.",
                    "context": "And just put numbers on their shirts; that would be what I would do. It would definitely create a strong visual impact."
                },
                {
                    "original": "no we should only for boy and only for girl.",
                    "corrected": "No, we should only have one type of costume for boys and one for girls.",
                    "explanation": "The phrasing is awkward; it should clarify that only one costume type is needed for each gender.",
                    "context": "No, we should only have one type of costume for boys and one for girls. This helps simplify our process."
                },
                {
                    "original": "other people from my classes don't have costumes like two types of costumes you mean for one boy one type of costume for boys and one for girls from my class one boy and from Kazakh class one girl who will show their costumes show their performance.",
                    "corrected": "Other people from my classes won't have costumes; we mean one type of costume for boys and one for girls from my class, with one boy and one girl from the Kazakh class showing their performance.",
                    "explanation": "The sentence is excessively lengthy and convoluted; it needs to be broken into smaller parts for clarity.",
                    "context": "Other people from my classes won't have costumes; we mean one type of costume for boys and one for girls from my class, with one boy and one girl from the Kazakh class showing their performance. This is a team effort."
                },
                {
                    "original": "Kazakh class said that they want to they want to see boy from special boy from my class.",
                    "corrected": "The Kazakh class said that they want to see a specific boy from my class.",
                    "explanation": "The repetition of 'they want to' is unnecessary, and 'special' should be replaced with 'specific' for clarity.",
                    "context": "The Kazakh class said that they want to see a specific boy from my class. It’s interesting how specific opinions can shape our choices."
                },
                {
                    "original": "but he didn't want to to do this of course why not why again why.",
                    "corrected": "But he didn't want to do this, of course. Why not? Why again?",
                    "explanation": "The inclusion of 'to' twice is incorrect; it should be eliminated. The sentence needs proper punctuation for clarity.",
                    "context": "But he didn't want to do this, of course. Why not? Why again? It’s frustrating when someone refuses to participate."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "it's a bias decision",
                    "corrected": "it's a biased decision",
                    "explanation": "The adjective 'bias' is incorrect here; 'biased' should be used to describe a decision that is unfair or prejudiced.",
                    "context": "The decision made about the voting seems unfair to me. It’s a biased decision that overlooks everyone's opinions."
                },
                {
                    "original": "we just not everyone only girls",
                    "corrected": "it's not everyone, only girls",
                    "explanation": "The phrase lacks a subject and verb. The correct form should include a subject to be grammatically correct.",
                    "context": "In regards to who participates in the voting, it’s not everyone, only girls can partake in that decision."
                },
                {
                    "original": "sorry my dog wants to have something from my table",
                    "corrected": "sorry, my dog wants something from my table",
                    "explanation": "The phrase 'to have' is unnecessary; 'wants something' is concise and correct.",
                    "context": "I interrupted because my dog was being distracting. Sorry, my dog wants something from my table right now."
                },
                {
                    "original": "I told with he says that he doesn't want to work with it",
                    "corrected": "I told him that he says he doesn't want to work with it",
                    "explanation": "The preposition 'with' is incorrectly used and needs to be replaced with 'him' for grammatical accuracy.",
                    "context": "I was discussing this issue with my classmate. I told him that he says he doesn't want to work with it."
                },
                {
                    "original": "I'm a leader from my class",
                    "corrected": "I'm a leader of my class",
                    "explanation": "The preposition 'from' is incorrect; 'of' indicates belonging and is the appropriate preposition in this context.",
                    "context": "As the leader of my class, I try to help everyone collaborate. I'm proud to be a leader of my class."
                },
                {
                    "original": "there is some guy named ideal in your class",
                    "corrected": "there is some guy named Ideal in your class",
                    "explanation": "Proper nouns (like names) should be capitalized.",
                    "context": "In regards to the event, there is some guy named Ideal in your class. He’s interested in creating a costume."
                },
                {
                    "original": "it's all ten classes in my school five five Russian classes five Kazakh classes",
                    "corrected": "there are ten classes in my school: five Russian classes and five Kazakh classes",
                    "explanation": "The sentence structure is incorrect; a clearer structure with proper punctuation and verb is needed.",
                    "context": "Regarding class composition, there are ten classes in my school: five Russian classes and five Kazakh classes."
                },
                {
                    "original": "every just every football all volleyball matches",
                    "corrected": "every football and volleyball match",
                    "explanation": "The sentence is cluttered with unnecessary repetition; it can be simplified.",
                    "context": "During the school year, we engage in various activities together. We work together every football and volleyball match."
                },
                {
                    "original": "to show their friendly atmosphere in our",
                    "corrected": "to show their friendly atmosphere in our school",
                    "explanation": "The sentence is incomplete; it lacks a specific noun at the end.",
                    "context": "Each class presents their performance during the event. It is meant to showcase their friendly atmosphere in our school."
                },
                {
                    "original": "it's just I forgot this word but it's just a match",
                    "corrected": "I forgot this word, but it's just a match",
                    "explanation": "The sentence is awkward due to improper structuring; it's better to clarify the thought with correct punctuation.",
                    "context": "I find it difficult to express everything perfectly. I forgot this word, but ultimately, it's just a match."
                },
                {
                    "original": "it's constant just what you want",
                    "corrected": "it's completely up to you what you want",
                    "explanation": "The word 'constant' is misused; 'completely up to you' conveys the intended meaning more clearly.",
                    "context": "The performance can be very creative. It's completely up to you what you want to include in your presentation."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "this year only at this year second round it's performance from grades",
                    "corrected": "this year only at the second round of performances for grades",
                    "explanation": "The phrase 'this year second round' is missing the article 'the' and needs rephrasing for clarity.",
                    "context": "We're really excited about the performances this year. This year only at the second round of performances for grades, we're going to showcase our costumes."
                },
                {
                    "original": "some people can help can have rolls rolls rolls rolls",
                    "corrected": "some people can help and have roles.",
                    "explanation": "The repetition of 'rolls' is incorrect; it should be 'roles,' and a conjunction is needed for clarity.",
                    "context": "In our performance, some people can help and have roles. We want to ensure everyone is included in the act."
                },
                {
                    "original": "father clock candle and father candle",
                    "corrected": "the father clock and the candle.",
                    "explanation": "The phrase is unclear and uses repeated terms; 'father clock' should include 'the' for specificity.",
                    "context": "We had various characters in the performance. For example, the father clock and the candle were part of the story."
                },
                {
                    "original": "we burned him it was even funnier",
                    "corrected": "we burned him, which was even funnier.",
                    "explanation": "There should be a conjunction for a smoother connection between ideas.",
                    "context": "During the rehearsal, we faced some hilarious moments. We burned him, which was even funnier."
                },
                {
                    "original": "neither in your class nor in the case of class right classic class",
                    "corrected": "neither in your class nor in the casa class, right?",
                    "explanation": "The term 'case' is incorrect; it should be 'casa' for consistency with the earlier mention.",
                    "context": "The participants were not enthusiastic this year. Neither in your class nor in the casa class, right?"
                },
                {
                    "original": "she was voted on this girl like who is the girl from the casa class",
                    "corrected": "she was voted for, and who is the girl from the casa class?",
                    "explanation": "'Voted on' should be 'voted for,' and the sentence lacks proper punctuation.",
                    "context": "They participated in the selection for the role. She was voted for, and who is the girl from the casa class?"
                },
                {
                    "original": "that you started talking at first who is fond of Adil",
                    "corrected": "that you started talking about at first, who is fond of Adil?",
                    "explanation": "The phrase 'talking at first' is awkward; it should be 'talking about,' and needs proper punctuation.",
                    "context": "There's a lot of confusion with the characters involved. Remember that you started talking about someone first, who is fond of Adil?"
                },
                {
                    "original": "I don't understand what he wants okay what is the what is the name of the first girl",
                    "corrected": "I don't understand what he wants. Okay, what is the name of the first girl?",
                    "explanation": "The sentence lacks proper punctuation between ideas.",
                    "context": "In the midst of all the discussions, I got lost. I don't understand what he wants. Okay, what is the name of the first girl?"
                },
                {
                    "original": "can you talk with him because he is beautiful and tall he will be beautiful",
                    "corrected": "can you talk to him because he is beautiful and tall? He will be beautiful.",
                    "explanation": "'Talk with' should be 'talk to,' and there should be a question mark to indicate a question.",
                    "context": "There's a lot at stake for this competition. Can you talk to him because he is beautiful and tall? He will be beautiful."
                },
                {
                    "original": "just some random girl from this class and the girl who wants to like what does it have to do with this girl",
                    "corrected": "just some random girl from this class, and the girl who wants to... what does this have to do with her?",
                    "explanation": "The structure is unclear; segmentation of thoughts and pronouns is needed for clarity.",
                    "context": "In discussing the participants, names got mixed up. Just some random girl from this class, and the girl who wants to... what does this have to do with her?"
                },
                {
                    "original": "I just made little paper papers with one plus and five minuses",
                    "corrected": "I just made little papers with one plus and five minuses.",
                    "explanation": "Repetition of the word 'paper' is unnecessary; 'papers' is sufficient.",
                    "context": "I tried to create a fair selection process. I just made little papers with one plus and five minuses."
                },
                {
                    "original": "it doesn't work this way or that's a hard actually good question are the odds decreasing or not",
                    "corrected": "it doesn't work this way. Actually, that's a hard question: are the odds decreasing or not?",
                    "explanation": "Lack of punctuation causes confusion; each part should be separated for better understanding.",
                    "context": "There was a lot of discussion on how the selection would go. It doesn't work this way. Actually, that's a hard question: are the odds decreasing or not?"
                },
                {
                    "original": "we decided that it will be Greece costumes and girl will have the scales of just size scales of justice",
                    "corrected": "we decided that it will be Greek costumes, and the girl will have scales of justice.",
                    "explanation": "'Greece costumes' should be 'Greek costumes,' and the sentence needs better structuring.",
                    "context": "We finalized our theme for the performance. We decided that it will be Greek costumes, and the girl will have scales of justice."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "the thing that just words in Russian it means that the things that show you a weight of thing.",
                    "corrected": "the thing that just means in Russian is that it shows you the weight of something.",
                    "explanation": "The original sentence has awkward phrasing and multiple unclear references; it should be restructured for clarity.",
                    "context": "We were discussing some vocabulary. The word 'scales' means that it shows you the weight of something. It’s essential to communicate ideas clearly."
                },
                {
                    "original": "we just a blindfold.",
                    "corrected": "we just have a blindfold.",
                    "explanation": "The original sentence omits the verb 'have,' which is necessary for grammatical correctness.",
                    "context": "In the story I'm describing, there is a character involved in the scene. We just have a blindfold to illustrate it. It adds drama to the moment."
                },
                {
                    "original": "he will be what he will be very tested.",
                    "corrected": "he will be tested a lot.",
                    "explanation": "The phrase 'what he will be very tested' is incorrect; it needs to be simplified for better clarity.",
                    "context": "I'm imagining how this character will look. He will be tested a lot. This adds to his character development."
                },
                {
                    "original": "you know the thing that girl birds use for birds used to fly.",
                    "corrected": "you know the thing that birds use to fly.",
                    "explanation": "The original sentence contains redundancy and confusion about 'girl birds' which is unnecessary.",
                    "context": "I was explaining my vision for a character. You know the thing that birds use to fly—wings. It’s important to the character I’m envisioning."
                },
                {
                    "original": "he will be a bear a bear chested angel.",
                    "corrected": "he will be a bare-chested angel.",
                    "explanation": "'Bear' is a homophone mistake for 'bare,' which is the correct term to describe someone without a shirt.",
                    "context": "I was characterizing an angel in my story. He will be a bare-chested angel. It emphasizes his strength and divine presence."
                },
                {
                    "original": "no with white clothes just with white clothes.",
                    "corrected": "not just wearing white clothes.",
                    "explanation": "The original phrase is repetitive; it can be simplified for better clarity.",
                    "context": "As I describe the character, I want to clarify his appearance. He’s not just wearing white clothes; it's more symbolic."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Productive",
                    "definition": "Producing or able to produce large amounts of goods, crops, or other commodities.",
                    "context": {
                        "Context 1": "She claims that waking up at 2 a.m. makes her more productive throughout the day.",
                        "Context 2": "The productive meeting led to a successful project launch.",
                        "Context 3": "His productive weekend included gardening, cooking, and reading."
                    }
                },
                {
                    "word": "Presentation",
                    "definition": "The act of presenting information to an audience.",
                    "context": {
                        "Context 1": "I need to finalize my presentation by tomorrow for the school project.",
                        "Context 2": "The presentation on climate change was very informative and engaging.",
                        "Context 3": "After a long delay, she finally delivered her presentation at the conference."
                    }
                },
                {
                    "word": "Theme",
                    "definition": "The subject of a talk, a piece of writing, a person's thoughts, or an exhibition.",
                    "context": {
                        "Context 1": "The theme of our autumn ball this year is based on famous movies.",
                        "Context 2": "The theme of the book is centered around friendship and loyalty.",
                        "Context 3": "For the art showcase, the theme chosen was 'Nature and Its Wonders.'"
                    }
                },
                {
                    "word": "Concept",
                    "definition": "An abstract idea or a general notion.",
                    "context": {
                        "Context 1": "She presented a unique concept for her costume idea for the autumn ball.",
                        "Context 2": "His concept of justice revolves around fairness and equality.",
                        "Context 3": "The marketing team developed a new concept for the ad campaign."
                    }
                },
                {
                    "word": "Bail",
                    "definition": "To abandon or withdraw from a situation or commitment.",
                    "context": {
                        "Context 1": "Without the necessary information, I might have to bail on my trip to Kokstau.",
                        "Context 2": "She decided to bail on the movie plans because she wasn't feeling well.",
                        "Context 3": "He always bails on meetings if they start to run long."
                    }
                },
                {
                    "word": "Principal",
                    "definition": "The head of a school or organization.",
                    "context": {
                        "Context 1": "The principal announced the new guidelines for the autumn ball.",
                        "Context 2": "The principal of the university gave a motivational speech at the graduation ceremony.",
                        "Context 3": "The school's principal organized a charity event for local families."
                    }
                },
                {
                    "word": "Costume",
                    "definition": "A set of clothes in which someone is dressed for a particular event or occasion.",
                    "context": {
                        "Context 1": "Making costumes for the autumn ball can be a lot of work.",
                        "Context 2": "He wore a superhero costume to the Halloween party.",
                        "Context 3": "The theatrical production had elaborate costumes designed by professionals."
                    }
                },
                {
                    "word": "Conspire",
                    "definition": "To plan secretly, especially to commit an unlawful or harmful act.",
                    "context": {
                        "Context 1": "We were just conspiring about how to skip the autumn ball.",
                        "Context 2": "The detectives discovered the gang was conspiring to rob the bank.",
                        "Context 3": "Do you really think they conspired to cheat on the test?"
                    }
                },
                {
                    "word": "Information",
                    "definition": "Facts or details about a subject.",
                    "context": {
                        "Context 1": "I’m waiting for information about my trip to Kokstau.",
                        "Context 2": "The book provided valuable information about ancient civilizations.",
                        "Context 3": "She found information online to help her with her research project."
                    }
                },
                {
                    "word": "Excuse",
                    "definition": "A reason given to justify a fault or offense.",
                    "context": {
                        "Context 1": "I might have an excuse to skip my presentation if I don’t receive the information.",
                        "Context 2": "He used the excuse of traffic to explain why he was late.",
                        "Context 3": "Her excuse for missing class was a valid one; she had a family emergency."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Costume",
                    "fact": "Did you know the world's largest costume party was in 2011, with over 18,000 participants? That's a lot of witches and superheroes!"
                },
                {
                    "word": "Principal",
                    "fact": "In some parts of the world, the principal is sometimes called the ‘headteacher’ – which always sounds like a Pokémon move to us!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the ghost go to the party?",
                    "answer": "Because he heard it was going to be boo-tiful!"
                },
                {
                    "question": "Why don’t skeletons fight each other?",
                    "answer": "They don’t have the guts!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Competition",
                    "definition": "A contest or event in which people compete against each other.",
                    "context": {
                        "Context 1": "The autumn ball is a big competition of performances from different classes.",
                        "Context 2": "Every summer, the local park holds a competition for the best garden.",
                        "Context 3": "In the animal world, competition for food can be fierce."
                    }
                },
                {
                    "word": "Costume",
                    "definition": "Clothing worn by an individual or group that reflects a particular style or character.",
                    "context": {
                        "Context 1": "Each class must design a unique costume for the autumn ball.",
                        "Context 2": "For Halloween, she wore a witch costume that everyone loved.",
                        "Context 3": "The film crew spent weeks designing the historical costumes for the movie."
                    }
                },
                {
                    "word": "Performance",
                    "definition": "An act of presenting something to an audience, including acting, singing, or dancing.",
                    "context": {
                        "Context 1": "Students will showcase a performance during the autumn ball.",
                        "Context 2": "The dog’s performance in the talent show impressed everyone.",
                        "Context 3": "He practiced his performance for weeks before the school play."
                    }
                },
                {
                    "word": "Couple",
                    "definition": "Two people who are romantically or socially linked together.",
                    "context": {
                        "Context 1": "During the ball, each grade selects one couple to represent them.",
                        "Context 2": "The couple danced beautifully at their wedding.",
                        "Context 3": "They made a great couple in the school's drama production."
                    }
                },
                {
                    "word": "Influencer",
                    "definition": "A person with the power to affect the buying decisions of others because of their authority or popularity.",
                    "context": {
                        "Context 1": "In her class, one girl is considered an influencer with many followers.",
                        "Context 2": "The influencer shared her favorite recipes on social media.",
                        "Context 3": "He wants to become an influencer in the fitness industry."
                    }
                },
                {
                    "word": "Administration",
                    "definition": "The group of people responsible for managing the organization or school.",
                    "context": {
                        "Context 1": "The school administration decides which performances will win awards.",
                        "Context 2": "The administration worked late to prepare for the annual meeting.",
                        "Context 3": "She studied business administration to prepare for a managerial role."
                    }
                },
                {
                    "word": "Theme",
                    "definition": "The main subject or idea of something, often guiding the content or discussion.",
                    "context": {
                        "Context 1": "Each class has a different theme for their costumes at the ball.",
                        "Context 2": "The movie's theme revolves around love and friendship.",
                        "Context 3": "Every year, the festival has a different theme to celebrate."
                    }
                },
                {
                    "word": "Atmosphere",
                    "definition": "The pervading tone or mood of a place or situation.",
                    "context": {
                        "Context 1": "The performances aim to create a friendly atmosphere at the school event.",
                        "Context 2": "The restaurant's romantic atmosphere made it the perfect date night location.",
                        "Context 3": "The weather was gloomy, which added to the spooky atmosphere of the haunted house."
                    }
                },
                {
                    "word": "Decide",
                    "definition": "To make a choice or come to a resolution about something.",
                    "context": {
                        "Context 1": "The class will decide who will perform at the autumn ball.",
                        "Context 2": "After much thought, she decided to take the job offer.",
                        "Context 3": "He couldn't decide between chocolate and vanilla ice cream."
                    }
                },
                {
                    "word": "Teamwork",
                    "definition": "The combined effort of a group of people to achieve a common goal.",
                    "context": {
                        "Context 1": "Teamwork is essential for creating the best performance for the school event.",
                        "Context 2": "Successful projects often require effective teamwork among employees.",
                        "Context 3": "The athletes learned the importance of teamwork during training."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Costume",
                    "fact": "The word 'costume' comes from the Italian 'costume', meaning 'custom' or 'fashion'!"
                },
                {
                    "word": "Competition",
                    "fact": "The longest egg toss competition in history went on for more than 18 hours!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the scarecrow win an award?",
                    "answer": "Because he was outstanding in his field!"
                },
                {
                    "question": "What do you call fake spaghetti?",
                    "answer": "An impasta!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Costume",
                    "definition": "A set of clothes worn to create the appearance of a particular character or style.",
                    "context": {
                        "Context 1": "This year, we are all excited to see the costumes for the performance.",
                        "Context 2": "The kids wore their superhero costumes for Halloween last year.",
                        "Context 3": "He wore a historical costume to the themed party."
                    }
                },
                {
                    "word": "Performance",
                    "definition": "An act of presenting a play, concert, or other form of entertainment.",
                    "context": {
                        "Context 1": "The school's performance of 'Beauty and the Beast' was truly enchanting.",
                        "Context 2": "The circus performance featured incredible acrobatics.",
                        "Context 3": "She gave a stunning performance during the dance recital last week."
                    }
                },
                {
                    "word": "Participant",
                    "definition": "A person who takes part in something.",
                    "context": {
                        "Context 1": "Every participant in the class contributed to the group project.",
                        "Context 2": "He was a participant in the local marathon, completing it in record time.",
                        "Context 3": "As a participant in the art competition, she displayed her creativity."
                    }
                },
                {
                    "word": "Vote",
                    "definition": "A formal indication of a choice between options, typically in a decision-making process.",
                    "context": {
                        "Context 1": "Each class had to vote for their favorite character in the story.",
                        "Context 2": "In the election, people worked hard to ensure their vote counted.",
                        "Context 3": "They held a vote to decide which movie to watch on movie night."
                    }
                },
                {
                    "word": "Draw lots",
                    "definition": "To select someone or something randomly, often using pieces of paper.",
                    "context": {
                        "Context 1": "We decided to draw lots to select the team captains.",
                        "Context 2": "They had to draw lots to see who would go first in the game.",
                        "Context 3": "To choose a leader for the project, we decided to draw lots."
                    }
                },
                {
                    "word": "Karma",
                    "definition": "The belief that actions, good or bad, will eventually return to the person who performed them.",
                    "context": {
                        "Context 1": "He thought it was karma that he lost the game after being rude.",
                        "Context 2": "They believe that helping others creates good karma.",
                        "Context 3": "She joked that her bad luck was just karma catching up to her."
                    }
                },
                {
                    "word": "Heritage",
                    "definition": "Property that is or may be inherited; a person's background or culture.",
                    "context": {
                        "Context 1": "Understanding one's heritage can lead to a deeper appreciation of culture.",
                        "Context 2": "The festival celebrates the rich heritage of the local community.",
                        "Context 3": "He researched his family heritage to connect with his roots."
                    }
                },
                {
                    "word": "Enthusiastic",
                    "definition": "Having or showing intense and eager enjoyment or interest.",
                    "context": {
                        "Context 1": "The students were enthusiastic about participating in the play.",
                        "Context 2": "She has always been enthusiastic about learning new languages.",
                        "Context 3": "His enthusiastic reaction made everyone in the room smile."
                    }
                },
                {
                    "word": "Scales of Justice",
                    "definition": "A symbol of fairness and equality in the legal system, often represented by a balance scale.",
                    "context": {
                        "Context 1": "The statue in front of the courthouse holds the scales of justice.",
                        "Context 2": "During the trial, the judge emphasized the importance of the scales of justice.",
                        "Context 3": "In art class, we studied the historical meaning of the scales of justice."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "She expressed her perspective on the story during the discussion.",
                        "Context 2": "From his perspective, the trip was a great success.",
                        "Context 3": "The artist designed a painting to challenge viewers' perspectives."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Costume",
                    "fact": "In ancient Rome, costumes were vital for actors, often made with materials as extravagant as silk and gold!"
                },
                {
                    "word": "Performance",
                    "fact": "The longest stage performance in history was a 2-year-long play in Germany, where actors lived on stage!"
                },
                {
                    "word": "Karma",
                    "fact": "In some cultures, karma is considered not just about actions but also about the intentions behind them."
                }
            ],
            "jokes": [
                {
                    "question": "Why did the actor break up with their partner?",
                    "answer": "Because they were tired of all the drama!"
                },
                {
                    "question": "What did the costume say to the actor?",
                    "answer": "You really suit me!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Scales",
                    "definition": "A device used for weighing items, often showing weight in units like ounces or grams.",
                    "context": {
                        "Context 1": "The scales in the kitchen showed that the flour weighed exactly 2 pounds.",
                        "Context 2": "The scales of justice symbolize fairness and balance in the legal system.",
                        "Context 3": "After climbing the mountain, she jokingly claimed the scales had to be broken because she felt lighter."
                    }
                },
                {
                    "word": "Blindfold",
                    "definition": "A piece of cloth used to cover the eyes, preventing the wearer from seeing.",
                    "context": {
                        "Context 1": "The magician astonished the audience by performing tricks while wearing a blindfold.",
                        "Context 2": "She put on a blindfold during the game of charades to make it more challenging.",
                        "Context 3": "The chef used a blindfold to test the participants’ taste buds during the cooking competition."
                    }
                },
                {
                    "word": "Costume",
                    "definition": "A set of clothes worn to represent a particular character or theme.",
                    "context": {
                        "Context 1": "The performer dazzled everyone in her beautiful angel costume.",
                        "Context 2": "At the party, he dressed in a pirate costume complete with a hat and sword.",
                        "Context 3": "For Halloween, they wore a scary ghost costume that made everyone scream."
                    }
                },
                {
                    "word": "Journey",
                    "definition": "An act of traveling from one place to another, often over a long distance.",
                    "context": {
                        "Context 1": "The journey to find the treasure took them through thick forests and mountains.",
                        "Context 2": "Her journey around the world was documented in a fascinating blog.",
                        "Context 3": "Every journey to the grocery store ends with a snack splurge at the checkout."
                    }
                },
                {
                    "word": "Contest",
                    "definition": "A competition where individuals or groups compete to win a prize.",
                    "context": {
                        "Context 1": "She entered the painting contest and was thrilled to win first place.",
                        "Context 2": "The annual pie-eating contest drew a large crowd of enthusiastic participants.",
                        "Context 3": "Winning the logic puzzle contest was the highlight of his week."
                    }
                },
                {
                    "word": "Wings",
                    "definition": "The limbs of birds and insects used for flying.",
                    "context": {
                        "Context 1": "The angel was depicted with large, white wings that glowed in the light.",
                        "Context 2": "In the fantasy story, the dragon had shimmering wings and breathed fire.",
                        "Context 3": "The little girl made a paper airplane, pretending it had wings to soar through the sky."
                    }
                },
                {
                    "word": "Bared",
                    "definition": "To uncover or expose something, often used in the context of skin or body parts.",
                    "context": {
                        "Context 1": "He bared his chest while playing at the beach in summer.",
                        "Context 2": "The bared wires posed a danger in the old building after the storm.",
                        "Context 3": "She bared her thoughts in the diary, hoping to find clarity."
                    }
                },
                {
                    "word": "Heard",
                    "definition": "To perceive sound through the ear.",
                    "context": {
                        "Context 1": "She heard the beautiful music from the concert happening nearby.",
                        "Context 2": "I heard a strange noise coming from the attic last night.",
                        "Context 3": "He heard of the new restaurant opening and decided to check it out."
                    }
                },
                {
                    "word": "Glistening",
                    "definition": "To shine by reflecting light, often in a sparkling manner.",
                    "context": {
                        "Context 1": "The glistening snow covered the landscape, making everything look magical.",
                        "Context 2": "Her glistening eyes showed her excitement as she opened her birthday gifts.",
                        "Context 3": "The glistening fish caught by the fisherman sparkled under the sunlight."
                    }
                },
                {
                    "word": "Façade",
                    "definition": "The front or outward appearance of a building or a person, often used to hide the true nature.",
                    "context": {
                        "Context 1": "The building’s grand façade hid a simple interior design.",
                        "Context 2": "He maintained a façade of confidence despite feeling nervous inside.",
                        "Context 3": "Underneath the façade of happiness, she struggled with her emotions."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Blindfold",
                    "fact": "The idea of blindfolds dates back to ancient civilizations, where they were used not just for games but as a symbol of justice!"
                },
                {
                    "word": "Wings",
                    "fact": "Did you know that some birds can soar as high as 30,000 feet? That's higher than most commercial flights!"
                },
                {
                    "word": "Contest",
                    "fact": "There are competitions for just about everything – even extreme ironing! Yes, people iron clothes on mountains and while skydiving."
                }
            ],
            "jokes": [
                {
                    "question": "What did the angel say to the flying contestant?",
                    "answer": "You really know how to take flight!"
                },
                {
                    "question": "Why was the scale not invited to parties?",
                    "answer": "Because it always weighed everyone down with its problems!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Did you hear about that woman who wakes up at 2 AM to be productive?"
                },
                {
                    "Person 2": "Yeah, I saw that reel on Instagram! I can't imagine waking up that early. What about sleep?"
                },
                {
                    "Person 1": "Exactly! I mean, sure, she said her day is super scheduled, but at what cost?"
                },
                {
                    "Person 2": "Right? I feel like I need my beauty sleep to function properly during the day."
                },
                {
                    "Person 1": "So, what’s on your plate for tomorrow? Doing anything exciting?"
                },
                {
                    "Person 2": "I’m supposed to go to this big project presentation, but I'm still waiting on the details."
                },
                {
                    "Person 1": "That sounds nerve-wracking! Do you have everything ready?"
                },
                {
                    "Person 2": "Not really. I have no clue what my presentation even needs. It’s a mess!"
                },
                {
                    "Person 1": "Oh no! Have you talked to your teacher about it?"
                },
                {
                    "Person 2": "I asked, but she keeps saying she’ll send the info later. I really need that info!"
                },
                {
                    "Person 1": "That’s frustrating! If I were you, I’d just ask a friend for some help."
                },
                {
                    "Person 2": "I wish I could! But my friends are just as lost as I am. We’re all stuck."
                },
                {
                    "Person 1": "Yikes! It's like everyone expects you to figure it out alone."
                },
                {
                    "Person 2": "Exactly! All I want is to get this done so I can skip this boring autumn ball at school."
                },
                {
                    "Person 1": "The autumn ball? Sounds like there’s a lot of pressure for costumes, right?"
                },
                {
                    "Person 2": "Ugh, yes! And it's so complicated, making outfits out of recycled stuff."
                },
                {
                    "Person 1": "That sounds stressful. Why do they make it so difficult?"
                },
                {
                    "Person 2": "I know! If it weren’t for this project, I’d totally skip all of it."
                },
                {
                    "Person 1": "Sounds like you could use a break. Maybe just chill for a bit before the presentation?"
                },
                {
                    "Person 2": "Good idea! A little relaxation would help, and I hope the info comes through soon."
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about the autumn ball coming up at school?"
                },
                {
                    "Person 2": "Yeah! I heard it’s a big deal this year. What's the theme?"
                },
                {
                    "Person 1": "I think each class has to pick a couple to show off a performance or something."
                },
                {
                    "Person 2": "Cool! So is it just one guy and one girl from each class?"
                },
                {
                    "Person 1": "Exactly! And they have to dress up and do a little act together."
                },
                {
                    "Person 2": "Sounds fun! Do you know who your class is picking?"
                },
                {
                    "Person 1": "Not sure yet, but I think they might go with Jenna and Ryan. They make a great pair!"
                },
                {
                    "Person 2": "Nice! What do you think they’ll perform?"
                },
                {
                    "Person 1": "I heard something about a dance with a storyline. It could be pretty cool!"
                },
                {
                    "Person 2": "That sounds awesome! I hope they practice enough. Last year’s was a bit messy."
                },
                {
                    "Person 1": "True! But it was still fun to watch. Plus, all the lights and decorations make it lively."
                },
                {
                    "Person 2": "Oh for sure! And after, there's supposed to be a party too, right?"
                },
                {
                    "Person 1": "Yep! All grades celebrate together. It’s such a good time!"
                },
                {
                    "Person 2": "Can’t wait! Are you going to help plan anything for your class?"
                },
                {
                    "Person 1": "I might help with costumes if they need it. I love getting creative!"
                },
                {
                    "Person 2": "That’s awesome! You’re really good at that. I’d definitely need your help if I were in charge."
                },
                {
                    "Person 1": "Thanks! Just let me know if you need ideas for your class too."
                },
                {
                    "Person 2": "Will do! Let’s make this a memorable autumn ball!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, did you hear about the costume competition at school this year?"
                },
                {
                    "Person 2": "Yeah! I heard they’re doing some wild themes. What’s your team doing?"
                },
                {
                    "Person 1": "We decided to go with a Greek theme. I think it’ll be really fun!"
                },
                {
                    "Person 2": "Oh, that's cool! Are you dressing up as anything specific?"
                },
                {
                    "Person 1": "I’m going to be the Goddess of Justice. I’ll have scales and everything!"
                },
                {
                    "Person 2": "Nice! Sounds fancy! Who else is on your team?"
                },
                {
                    "Person 1": "We have a couple of other friends, and the leader is really creative. She’s been coming up with ideas."
                },
                {
                    "Person 2": "That’s awesome! Last year, I was part of a Beauty and the Beast skit. It was hilarious!"
                },
                {
                    "Person 1": "I would’ve loved to see that! Did you have fun?"
                },
                {
                    "Person 2": "Definitely! I played the candle, and we even made some funny props. You know, just for laughs."
                },
                {
                    "Person 1": "That sounds epic! I wish I could have joined in. Were there any funny moments?"
                },
                {
                    "Person 2": "Oh, for sure. At one point, I accidentally dropped my prop and everyone started laughing!"
                },
                {
                    "Person 1": "I can totally picture that! I feel like our school events really bring out the fun side in everyone."
                },
                {
                    "Person 2": "Absolutely! It’s always great to see everyone get creative and let loose."
                },
                {
                    "Person 1": "So, are you planning to participate in the competition this year?"
                },
                {
                    "Person 2": "I might! Depends on whether I can find a good costume idea. Greek sounds tempting, though!"
                },
                {
                    "Person 1": "You should totally go for it! Let me know if you need help with ideas or anything."
                },
                {
                    "Person 2": "Thanks! I might take you up on that. It could be a lot of fun!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, did you see that meme about the scales of justice? It's hilarious!"
                },
                {
                    "Person 2": "No, I haven't! What does it say?"
                },
                {
                    "Person 1": "It shows the scales with a blindfolded lady holding a pizza on one side and a salad on the other. It’s so fitting!"
                },
                {
                    "Person 2": "That’s funny! I’d definitely choose the pizza for sure."
                },
                {
                    "Person 1": "Right? It's like, who wants to eat salad when you can have pizza?"
                },
                {
                    "Person 2": "Exactly! And speaking of food, are we still on for that taco night this weekend?"
                },
                {
                    "Person 1": "Definitely! I can’t wait. I was thinking we could try making our own tortillas."
                },
                {
                    "Person 2": "Oh, that sounds super fun! I’ve never made them before."
                },
                {
                    "Person 1": "Me neither, but how hard can it be? Just mix some flour and water, right?"
                },
                {
                    "Person 2": "Yeah! And even if they turn out terrible, at least we’ll have a good laugh."
                },
                {
                    "Person 1": "True! Plus, if we mess up, we can always order in."
                },
                {
                    "Person 2": "Exactly! Just a backup plan just in case. What time should we start?"
                },
                {
                    "Person 1": "How about 6? That way we can have enough time to cook and catch up."
                },
                {
                    "Person 2": "Sounds perfect! I’m looking forward to it."
                },
                {
                    "Person 1": "Me too! Alright, see you then!"
                },
                {
                    "Person 2": "See you this weekend!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
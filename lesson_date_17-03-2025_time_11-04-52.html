<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I wasn't able to find any programs that were interesting enough for me.",
                    "corrected": "I wasn't able to find any programs that were interesting to me.",
                    "explanation": "\"Interesting enough for me\" is awkward; \"interesting to me\" is the correct form.",
                    "context": "After finishing high school, I looked for programs to study. I wasn't able to find any programs that were interesting to me. This made me reconsider my options."
                },
                {
                    "original": "I thought I would be able to do this myself, but I was not.",
                    "corrected": "I thought I would be able to do this myself, but I wasn't.",
                    "explanation": "The contraction \"wasn't\" should be used instead of \"was not\" for better fluency in spoken English.",
                    "context": "I tried to prepare for the IELTS on my own. I thought I would be able to do this myself, but I wasn't. I realized I needed more structure."
                },
                {
                    "original": "It's hard, you know? I know. To get there.",
                    "corrected": "It's hard, you know? I know it's hard to get there.",
                    "explanation": "The sentence is fragmented; it needs to be combined for clarity.",
                    "context": "I have a dream of studying in the UK. It's hard, you know? I know it's hard to get there. The process seems daunting."
                },
                {
                    "original": "Because I've had many students with, by the way, with a situation very similar to yours.",
                    "corrected": "Because I've had many students who have had a situation very similar to yours.",
                    "explanation": "The phrase \"with a situation\" is awkward; it should be rephrased for clarity.",
                    "context": "I understand the challenges you're facing. Because I've had many students who have had a situation very similar to yours. Their experiences can help guide you."
                },
                {
                    "original": "If you haven't thought about that, that...",
                    "corrected": "If you haven't thought about that, then...",
                    "explanation": "The word 'then' is needed to connect the clauses properly.",
                    "context": "We discussed various study options. If you haven't thought about that, then it might be worth considering. There are many possibilities."
                },
                {
                    "original": "I kind of struggled with the part where how do I explain it, where you have to assign paragraphs to what was well, written in them.",
                    "corrected": "I kind of struggled with the part where you have to assign paragraphs to what was written in them.",
                    "explanation": "The phrase \"how do I explain it\" is unnecessary and makes the sentence convoluted.",
                    "context": "While preparing for the reading section, I faced some challenges. I kind of struggled with the part where you have to assign paragraphs to what was written in them. It was confusing."
                },
                {
                    "original": "So, what we'll try to do, I will try to explain you, like, the overall idea of what is expected from you on the writing section.",
                    "corrected": "So, what we'll try to do is I will explain to you the overall idea of what is expected from you on the writing section.",
                    "explanation": "The phrase \"I will try to explain you\" is incorrect; it should be \"I will explain to you.\"",
                    "context": "As we prepare for the IELTS writing section, I want to help you understand the requirements. So, what we'll try to do is I will explain to you the overall idea of what is expected from you on the writing section."
                },
                {
                    "original": "Like, is our goal to express, not express, to impress the person we are our reader, the person who will be reading our essay.",
                    "corrected": "Like, is our goal to express, not to impress the person who will be reading our essay.",
                    "explanation": "The phrase \"we are our reader\" is incorrect and confusing; it should be simplified.",
                    "context": "In writing, clarity is key. Like, is our goal to express, not to impress the person who will be reading our essay? We need to focus on clear communication."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "Because usually it leads to using words that you're not very comfortable with.",
                    "corrected": "Because it usually leads to using words that you're not very comfortable with.",
                    "explanation": "The placement of 'usually' is incorrect; it should come after 'it' for proper sentence structure.",
                    "context": "When trying to impress someone, it can lead to using unfamiliar words. Because it usually leads to using words that you're not very comfortable with, it's important to stick to what you know."
                },
                {
                    "original": "They won't, because like 99 percent probability that this word will be used wrongly.",
                    "corrected": "They won't, because there is a 99 percent probability that this word will be used wrongly.",
                    "explanation": "The phrase 'like 99 percent probability' is informal; 'there is a 99 percent probability' is more appropriate in this context.",
                    "context": "Many students think that using fancy words will impress the examiner. They won't, because there is a 99 percent probability that this word will be used wrongly, leading to confusion."
                },
                {
                    "original": "It won't sound natural, it will sound very, very weirdly in the context.",
                    "corrected": "It won't sound natural; it will sound very, very weird in the context.",
                    "explanation": "'Weirdly' is an adverb that doesn't fit here; 'weird' should be used as an adjective to describe how it sounds.",
                    "context": "Using unfamiliar words can lead to awkward phrasing. It won't sound natural; it will sound very, very weird in the context, which can confuse the reader."
                },
                {
                    "original": "That help you achieve this goal of writing a understandable and clear essay.",
                    "corrected": "That help you achieve this goal of writing an understandable and clear essay.",
                    "explanation": "'A' should be replaced with 'an' because 'understandable' starts with a vowel sound.",
                    "context": "When writing essays, it's crucial to use familiar words. That help you achieve this goal of writing an understandable and clear essay, which is essential for effective communication."
                },
                {
                    "original": "We are talking about universities and universities.",
                    "corrected": "We are talking about universities and online education.",
                    "explanation": "The repetition of 'universities' is redundant; the second mention should specify another topic.",
                    "context": "In our discussion, we need to clarify our focus. We are talking about universities and online education, which are both relevant to the topic of education."
                },
                {
                    "original": "We are asked about universities.",
                    "corrected": "We are being asked about universities.",
                    "explanation": "The passive voice is needed here; 'we are being asked' indicates that the action is being done to us.",
                    "context": "When analyzing the essay prompt, clarity is key. We are being asked about universities, so we must focus our discussion accordingly."
                },
                {
                    "original": "But sometimes they don't. But this word is kind of implicitly implicitly implied.",
                    "corrected": "But sometimes they don't. But this word is kind of implicitly implied.",
                    "explanation": "The word 'implicitly' is repeated unnecessarily; it should only appear once.",
                    "context": "When interpreting essay prompts, we need to be aware of subtle cues. But sometimes they don't. But this word is kind of implicitly implied, guiding our response."
                },
                {
                    "original": "Because I feel like real life interactions with people, between students and real teachers are very important to the whole studying process.",
                    "corrected": "Because I feel that real-life interactions with people, between students and real teachers, are very important to the whole studying process.",
                    "explanation": "The phrase 'real life' should be hyphenated as 'real-life,' and commas are needed for clarity.",
                    "context": "In discussing the importance of education, I believe personal interactions matter. Because I feel that real-life interactions with people, between students and real teachers, are very important to the whole studying process, they enhance learning."
                },
                {
                    "original": "Not really. Well, it doesn't really say anything about universities specifically.",
                    "corrected": "Not really. Well, it doesn't say anything about universities specifically.",
                    "explanation": "The word 'really' is redundant in this context; it can be removed for clarity.",
                    "context": "When evaluating our ideas, we need to ensure they are relevant. Not really. Well, it doesn't say anything about universities specifically, which is a key part of the topic."
                },
                {
                    "original": "Because the word children and the word universities contradict each other.",
                    "corrected": "Because the word 'children' and the word 'universities' contradict each other.",
                    "explanation": "Quotation marks are needed around 'children' to indicate that it is a specific term being discussed.",
                    "context": "When refining our ideas, we must ensure relevance. Because the word 'children' and the word 'universities' contradict each other, we need to stay focused on the topic."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "You are sitting with that a person does not agree with you.",
                    "corrected": "You are sitting with a person who does not agree with you.",
                    "explanation": "The phrase 'with that a person' is incorrect; it should be 'with a person who' to properly introduce the clause.",
                    "context": "In a discussion, you might find yourself in a situation where you are sitting with a friend. You are sitting with a person who does not agree with you, which can lead to a challenging conversation."
                },
                {
                    "original": "You need to expand your idea.",
                    "corrected": "You need to elaborate on your idea.",
                    "explanation": "'Expand' is less precise; 'elaborate' better conveys the need for more detail.",
                    "context": "When discussing a topic, you need to elaborate on your idea. This helps clarify your points and makes your argument stronger."
                },
                {
                    "original": "But is it not something that you believe in?",
                    "corrected": "But isn't it something that you believe in?",
                    "explanation": "The contraction 'isn't' is more idiomatic and appropriate in this context than 'is it not.'",
                    "context": "During the discussion, someone questioned the validity of the argument. But isn't it something that you believe in? This challenges the speaker to reflect on their stance."
                },
                {
                    "original": "How it is not the same?",
                    "corrected": "How is it not the same?",
                    "explanation": "The correct word order for questions in English is 'How is it' rather than 'How it is.'",
                    "context": "When debating the differences between online and in-person education, someone asked, 'How is it not the same?' This prompts a deeper examination of the topic."
                },
                {
                    "original": "I feel like with the study like with how many possibilities there are that come with only the computers can be easy to get distracted.",
                    "corrected": "I feel like with studying, there are so many possibilities that come with computers, making it easy to get distracted.",
                    "explanation": "The original sentence is awkwardly structured; it needs clearer phrasing and proper conjunctions for better flow.",
                    "context": "In discussing distractions during online learning, I feel like with studying, there are so many possibilities that come with computers, making it easy to get distracted."
                },
                {
                    "original": "Because ideally you would not be using a computer, I guess.",
                    "corrected": "Because ideally, you wouldn't be using a computer, I guess.",
                    "explanation": "The contraction 'wouldn't' is more natural in spoken English than 'would not.'",
                    "context": "When considering the ideal learning environment, I think, 'Because ideally, you wouldn't be using a computer, I guess.' This reflects a preference for traditional methods."
                },
                {
                    "original": "You can edit your document. You guys, you guys, yes.",
                    "corrected": "You can edit your document. Yes, you can.",
                    "explanation": "The repetition of 'you guys' is unnecessary and informal; it can be replaced with a simple affirmation.",
                    "context": "In a group setting, I pointed out, 'You can edit your document.' Yes, you can. This emphasizes the collaborative aspect of the task."
                },
                {
                    "original": "This is not a healthy thing.",
                    "corrected": "This is not a healthy practice.",
                    "explanation": "'Thing' is vague; 'practice' is more specific and appropriate in this context.",
                    "context": "When discussing smartphone usage among children, I stated, 'This is not a healthy practice.' This highlights the concern over children's well-being."
                },
                {
                    "original": "But again now the point is to shorten it.",
                    "corrected": "But again, the point now is to shorten it.",
                    "explanation": "The placement of 'now' is awkward; it should come after 'the point' for clarity.",
                    "context": "As we refine our explanations, I noted, 'But again, the point now is to shorten it.' This emphasizes the need for conciseness."
                },
                {
                    "original": "What kind of atmosphere?",
                    "corrected": "What kind of atmosphere is it?",
                    "explanation": "The original sentence is a fragment; it needs a verb to form a complete question.",
                    "context": "In discussing the learning environment, I asked, 'What kind of atmosphere is it?' This seeks clarification on the nature of the setting."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "it's not serious study atmosphere.",
                    "corrected": "It's not a serious study atmosphere.",
                    "explanation": "The article 'a' is missing before 'serious study atmosphere.'",
                    "context": "I find the online learning environment to be quite casual. It's not a serious study atmosphere. This makes it hard to focus sometimes."
                },
                {
                    "original": "Online starting is a public thing.",
                    "corrected": "Online learning is a public thing.",
                    "explanation": "'Starting' is incorrect here; 'learning' should be used to refer to the process of education.",
                    "context": "I believe that online education is very accessible. Online learning is a public thing. Anyone can join and participate."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Apologize",
                    "definition": "To express regret for something that one has done wrong.",
                    "context": {
                        "Context 1": "I wanted to apologize for not being able to show my camera during the lesson.",
                        "Context 2": "He had to apologize to his friend for forgetting their meeting.",
                        "Context 3": "The company issued a public apology after the product recall."
                    }
                },
                {
                    "word": "Overwhelming",
                    "definition": "Something that is very intense or difficult to handle.",
                    "context": {
                        "Context 1": "I found the amount of information about studying abroad to be overwhelming.",
                        "Context 2": "The overwhelming smell of fresh cookies filled the kitchen.",
                        "Context 3": "She felt overwhelming joy when she received the good news."
                    }
                },
                {
                    "word": "Discipline",
                    "definition": "The ability to control oneself and make oneself work hard or behave in a particular way.",
                    "context": {
                        "Context 1": "I realized I wasn't disciplined enough to prepare for the IELTS by myself.",
                        "Context 2": "The athlete's discipline was evident in her rigorous training schedule.",
                        "Context 3": "He lacked the discipline to stick to his diet plan."
                    }
                },
                {
                    "word": "Research",
                    "definition": "The systematic investigation into and study of materials and sources to establish facts and reach new conclusions.",
                    "context": {
                        "Context 1": "I began my journey of researching studying abroad.",
                        "Context 2": "The scientist conducted research to find a cure for the disease.",
                        "Context 3": "She spent hours researching her family history online."
                    }
                },
                {
                    "word": "Confused",
                    "definition": "Unable to think clearly; bewildered.",
                    "context": {
                        "Context 1": "I was a little bit confused by the technical language in the reading section.",
                        "Context 2": "He looked confused when he saw the math problem on the board.",
                        "Context 3": "The sudden change in plans left everyone feeling confused."
                    }
                },
                {
                    "word": "Challenging",
                    "definition": "Testing one's abilities; demanding.",
                    "context": {
                        "Context 1": "The most challenging part of the IELTS is writing.",
                        "Context 2": "Climbing the mountain was a challenging experience for the hikers.",
                        "Context 3": "She found the new job to be challenging but rewarding."
                    }
                },
                {
                    "word": "Myth",
                    "definition": "A widely held but false belief or idea.",
                    "context": {
                        "Context 1": "There are a lot of myths surrounding the IELTS exam.",
                        "Context 2": "The myth of the Loch Ness Monster has intrigued many for decades.",
                        "Context 3": "He debunked the myth that eating carrots improves your eyesight."
                    }
                },
                {
                    "word": "Draft",
                    "definition": "A preliminary version of a piece of writing.",
                    "context": {
                        "Context 1": "We will create a draft for our essay during the lesson.",
                        "Context 2": "She submitted a draft of her novel to her editor.",
                        "Context 3": "The architect presented a draft of the new building design."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances that form the setting for an event, statement, or idea.",
                    "context": {
                        "Context 1": "Please give me some background context about your situation.",
                        "Context 2": "Understanding the historical context of the painting enhances its meaning.",
                        "Context 3": "In a different context, her words might have been interpreted differently."
                    }
                },
                {
                    "word": "Input",
                    "definition": "What is put in, taken in, or operated on by any process or system.",
                    "context": {
                        "Context 1": "You have no problems when it comes to input in listening and reading.",
                        "Context 2": "The computer requires input from the user to function properly.",
                        "Context 3": "She provided valuable input during the team meeting."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Apologize",
                    "fact": "In Japan, there are 'apology gifts' that people give to express regret, ranging from sweets to fancy items!"
                },
                {
                    "word": "Myth",
                    "fact": "Did you know that the myth about goldfish only having a three-second memory is completely false? They can remember things for months!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Obsolete",
                    "definition": "No longer produced or used; out of date.",
                    "context": {
                        "Context 1": "Many traditional teaching methods are becoming obsolete due to the rise of online education.",
                        "Context 2": "The typewriter is now considered obsolete in the age of computers.",
                        "Context 3": "Some believe that printed newspapers will soon be obsolete as more people read news online."
                    }
                },
                {
                    "word": "Implicitly",
                    "definition": "In a way that is not directly expressed; implied.",
                    "context": {
                        "Context 1": "The instructions implicitly stated that we should include examples in our essays.",
                        "Context 2": "He implicitly agreed with her opinion without saying a word.",
                        "Context 3": "The movie implicitly critiques modern society through its characters."
                    }
                },
                {
                    "word": "Convey",
                    "definition": "To communicate or express something.",
                    "context": {
                        "Context 1": "It’s important to convey your ideas clearly in an essay.",
                        "Context 2": "The artist used colors to convey emotions in her painting.",
                        "Context 3": "He struggled to convey his feelings to her during their conversation."
                    }
                },
                {
                    "word": "Structure",
                    "definition": "The arrangement of and relations between the parts or elements of something.",
                    "context": {
                        "Context 1": "A clear structure helps readers understand your essay better.",
                        "Context 2": "The structure of the building was designed to withstand earthquakes.",
                        "Context 3": "He admired the structure of the poem and how it flowed."
                    }
                },
                {
                    "word": "Subtopic",
                    "definition": "A topic that is part of a larger topic.",
                    "context": {
                        "Context 1": "In our essay, we will discuss the subtopics of online education and traditional universities.",
                        "Context 2": "The subtopic of climate change is often discussed in environmental studies.",
                        "Context 3": "Her presentation included several subtopics related to health and wellness."
                    }
                },
                {
                    "word": "Explicitly",
                    "definition": "In a clear and detailed manner, leaving no room for confusion or doubt.",
                    "context": {
                        "Context 1": "The teacher explicitly stated the requirements for the assignment.",
                        "Context 2": "He explicitly told her that he did not want to go to the party.",
                        "Context 3": "The contract explicitly outlines the terms of the agreement."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or idea.",
                    "context": {
                        "Context 1": "Using words in the right context is crucial for effective communication.",
                        "Context 2": "Understanding the historical context of a novel can enhance your reading experience.",
                        "Context 3": "In a scientific experiment, context can affect the results significantly."
                    }
                },
                {
                    "word": "Analyze",
                    "definition": "To examine in detail for purposes of explanation and interpretation.",
                    "context": {
                        "Context 1": "We need to analyze the main points of the essay before writing.",
                        "Context 2": "The scientist will analyze the data collected during the experiment.",
                        "Context 3": "She loves to analyze the themes in classic literature."
                    }
                },
                {
                    "word": "Clarify",
                    "definition": "To make a statement or situation less confused and more comprehensible.",
                    "context": {
                        "Context 1": "Can you clarify your main argument in the essay?",
                        "Context 2": "The teacher asked him to clarify his answer to the question.",
                        "Context 3": "To clarify the recipe, she added more detailed instructions."
                    }
                },
                {
                    "word": "Generate",
                    "definition": "To produce or create something.",
                    "context": {
                        "Context 1": "We need to generate ideas for our essay topic.",
                        "Context 2": "The solar panels generate electricity from sunlight.",
                        "Context 3": "She hopes to generate interest in her new book through social media."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Obsolete",
                    "fact": "Did you know that the first computer was so large it took up an entire room? Now, we carry more powerful devices in our pockets!"
                },
                {
                    "word": "Convey",
                    "fact": "The word 'convey' comes from Latin, meaning 'to carry together.' So, next time you convey a message, think of yourself as a message carrier!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the teacher wear sunglasses in class?",
                    "answer": "Because her students were so bright!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Interactions",
                    "definition": "The reciprocal action or influence between people or things.",
                    "context": {
                        "Context 1": "Interactions between students and teachers can enhance the learning experience.",
                        "Context 2": "The interactions between the planets and the sun create gravitational forces.",
                        "Context 3": "In the animal kingdom, interactions between species can lead to symbiotic relationships."
                    }
                },
                {
                    "word": "Convince",
                    "definition": "To persuade someone to do or believe something.",
                    "context": {
                        "Context 1": "She tried to convince her friend that studying together was beneficial.",
                        "Context 2": "The lawyer worked hard to convince the jury of her client's innocence.",
                        "Context 3": "He needed to convince his dog to stop barking at the mailman."
                    }
                },
                {
                    "word": "Expand",
                    "definition": "To increase in size, volume, quantity, or scope.",
                    "context": {
                        "Context 1": "The teacher asked the student to expand on their idea about online education.",
                        "Context 2": "The balloon began to expand as it was filled with air.",
                        "Context 3": "The company plans to expand its operations to new countries next year."
                    }
                },
                {
                    "word": "Distraction",
                    "definition": "Something that prevents someone from giving full attention to something else.",
                    "context": {
                        "Context 1": "In online classes, distractions can make it hard to focus on the lesson.",
                        "Context 2": "The loud music was a distraction while he was trying to study.",
                        "Context 3": "Her phone was a constant distraction during the movie."
                    }
                },
                {
                    "word": "Clarify",
                    "definition": "To make a statement or situation less confused and more comprehensible.",
                    "context": {
                        "Context 1": "The teacher asked the student to clarify their point about classroom interactions.",
                        "Context 2": "The instructions were unclear, so she needed to clarify them for her team.",
                        "Context 3": "He tried to clarify his feelings about the situation with his friend."
                    }
                },
                {
                    "word": "Atmosphere",
                    "definition": "The pervading tone or mood of a place, situation, or creative work.",
                    "context": {
                        "Context 1": "The atmosphere in the classroom can influence students' learning.",
                        "Context 2": "The restaurant had a romantic atmosphere with dim lighting and soft music.",
                        "Context 3": "The atmosphere on the sports field was electric during the championship game."
                    }
                },
                {
                    "word": "Pressure",
                    "definition": "The use of persuasion or influence to make someone do something.",
                    "context": {
                        "Context 1": "Students often feel pressure to perform well in exams.",
                        "Context 2": "The pressure of the water can cause the pipes to burst.",
                        "Context 3": "She felt pressure to finish the project before the deadline."
                    }
                },
                {
                    "word": "Physiological",
                    "definition": "Relating to the way in which a living organism or bodily part functions.",
                    "context": {
                        "Context 1": "The physiological effects of stress can impact a student's ability to learn.",
                        "Context 2": "Physiological changes occur in the body during exercise.",
                        "Context 3": "The physiological response to cold weather includes shivering."
                    }
                },
                {
                    "word": "Key phrases",
                    "definition": "Important words or expressions that convey the main idea.",
                    "context": {
                        "Context 1": "Using key phrases can help summarize complex ideas effectively.",
                        "Context 2": "In advertising, key phrases are used to catch the audience's attention.",
                        "Context 3": "He highlighted key phrases in his notes for easier studying."
                    }
                },
                {
                    "word": "Logical thinking",
                    "definition": "The process of using reasoning consistently to come to a conclusion.",
                    "context": {
                        "Context 1": "Logical thinking is essential for solving mathematical problems.",
                        "Context 2": "She used logical thinking to plan her route for the road trip.",
                        "Context 3": "His logical thinking helped him win the chess match."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Distraction",
                    "fact": "Did you know that goldfish have a memory span of about three seconds? They might be the ultimate distraction!"
                },
                {
                    "word": "Atmosphere",
                    "fact": "The atmosphere on Mars is so thin that if you were there, you’d need a spacesuit just to breathe!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of anxiety!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Atmosphere",
                    "definition": "The pervading tone or mood of a place, situation, or creative work.",
                    "context": {
                        "Context 1": "The atmosphere in the classroom was relaxed and welcoming.",
                        "Context 2": "The atmosphere of the restaurant was romantic, with dim lighting and soft music.",
                        "Context 3": "During the concert, the atmosphere was electric with excitement."
                    }
                },
                {
                    "word": "Public",
                    "definition": "Relating to or affecting all or most of the people in a community.",
                    "context": {
                        "Context 1": "Online learning is a public resource that anyone can access.",
                        "Context 2": "The public park was filled with families enjoying a sunny day.",
                        "Context 3": "Public transportation is essential for city dwellers to commute."
                    }
                },
                {
                    "word": "Serious",
                    "definition": "Significantly important or dangerous; not joking.",
                    "context": {
                        "Context 1": "It's important to maintain a serious attitude during exams.",
                        "Context 2": "The serious tone of the documentary made the topic more impactful.",
                        "Context 3": "He made a serious commitment to improve his grades this semester."
                    }
                },
                {
                    "word": "Starting",
                    "definition": "The act of beginning or commencing something.",
                    "context": {
                        "Context 1": "Starting a new project can be both exciting and daunting.",
                        "Context 2": "She is starting her own business next month.",
                        "Context 3": "Starting a workout routine requires dedication and discipline."
                    }
                },
                {
                    "word": "Conversation",
                    "definition": "A talk, especially an informal one, between two or more people.",
                    "context": {
                        "Context 1": "The conversation in class helped students share their ideas.",
                        "Context 2": "Their conversation about travel plans lasted for hours.",
                        "Context 3": "He enjoyed having a deep conversation about philosophy with his friend."
                    }
                },
                {
                    "word": "Reinforce",
                    "definition": "To strengthen or support an idea or behavior.",
                    "context": {
                        "Context 1": "Teachers often reinforce positive behavior in the classroom.",
                        "Context 2": "The new evidence will reinforce the theory proposed by scientists.",
                        "Context 3": "To reinforce her argument, she provided several examples."
                    }
                },
                {
                    "word": "Corrected",
                    "definition": "To make right or accurate; to rectify.",
                    "context": {
                        "Context 1": "The teacher corrected the mistakes on the students' assignments.",
                        "Context 2": "He corrected his posture while sitting at the desk.",
                        "Context 3": "The editor corrected the errors in the manuscript before publication."
                    }
                },
                {
                    "word": "Version",
                    "definition": "A particular form of something differing in certain respects from an earlier form.",
                    "context": {
                        "Context 1": "The corrected version of the document was sent to everyone.",
                        "Context 2": "She prefers the original version of the song over the remix.",
                        "Context 3": "The software update included a new version with additional features."
                    }
                },
                {
                    "word": "Resource",
                    "definition": "A source of supply or support.",
                    "context": {
                        "Context 1": "The library is a valuable resource for students.",
                        "Context 2": "Water is a vital resource for all living beings.",
                        "Context 3": "The internet is an endless resource for information."
                    }
                },
                {
                    "word": "Engage",
                    "definition": "To participate or become involved in.",
                    "context": {
                        "Context 1": "Students should engage actively in class discussions.",
                        "Context 2": "The community event aims to engage local residents in environmental issues.",
                        "Context 3": "He decided to engage in volunteer work during the summer."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Atmosphere",
                    "fact": "Did you know that the Earth's atmosphere is made up of 78% nitrogen and only 21% oxygen? The rest is just a sprinkle of other gases!"
                },
                {
                    "word": "Public",
                    "fact": "In some countries, public speaking is so important that they have classes dedicated to it, even for kids!"
                },
                {
                    "word": "Reinforce",
                    "fact": "The word 'reinforce' comes from the Latin 'reinforcare,' which means 'to strengthen again.' So, you could say it’s like giving your ideas a gym membership!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the computer go to school?",
                    "answer": "To improve its 'byte' size!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going this morning?"
                },
                {
                    "Person 2": "Good morning! I'm doing well, just trying to wake up fully. How about you?"
                },
                {
                    "Person 1": "Same here! I had a late night binge-watching a new series. Totally worth it, though."
                },
                {
                    "Person 2": "Nice! What show are you watching?"
                },
                {
                    "Person 1": "It's called 'The Midnight Club.' It's a bit spooky but really engaging. Have you seen it?"
                },
                {
                    "Person 2": "Not yet, but I've heard good things! I might have to check it out. I need something new to watch."
                },
                {
                    "Person 1": "For sure! I can send you the link later. So, any plans for the weekend?"
                },
                {
                    "Person 2": "Thinking of going hiking if the weather's nice. I could use some fresh air."
                },
                {
                    "Person 1": "That sounds awesome! I love hiking. Which trail are you thinking about?"
                },
                {
                    "Person 2": "Probably the one at Pine Hill. It’s got some great views at the top."
                },
                {
                    "Person 1": "Pine Hill is beautiful! I went there last month. The sunset from up there is incredible."
                },
                {
                    "Person 2": "Exactly! I’m hoping to catch it this time. Want to join?"
                },
                {
                    "Person 1": "I’d love to! Just let me know what time."
                },
                {
                    "Person 2": "How about we meet at 4? That way we can enjoy the sunset."
                },
                {
                    "Person 1": "Perfect! I’ll bring some snacks."
                },
                {
                    "Person 2": "Awesome! I’ll bring the drinks. This is going to be fun!"
                },
                {
                    "Person 1": "Definitely! Can’t wait!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new coffee shop that opened downtown?"
                },
                {
                    "Person 2": "Yeah, I went there last weekend! It’s pretty cool. They have a ton of different brews."
                },
                {
                    "Person 1": "Nice! I heard they have some unique flavors. Did you try anything special?"
                },
                {
                    "Person 2": "I did! I had a lavender latte. It sounds weird, but it was surprisingly good!"
                },
                {
                    "Person 1": "Lavender latte? That’s interesting! I usually stick to my regular black coffee."
                },
                {
                    "Person 2": "I get that! Sometimes it’s hard to step out of your comfort zone. But this place makes it easy to experiment."
                },
                {
                    "Person 1": "For sure! I might have to be brave and try something new next time."
                },
                {
                    "Person 2": "Definitely! Plus, the atmosphere is really chill. Perfect for hanging out or getting some work done."
                },
                {
                    "Person 1": "Sounds like my kind of place. I could use a new spot to study."
                },
                {
                    "Person 2": "You should totally check it out! We could go together sometime."
                },
                {
                    "Person 1": "That would be awesome! Let’s plan for this weekend."
                },
                {
                    "Person 2": "Perfect! I’ll make sure to try something new too."
                },
                {
                    "Person 1": "Deal! Can’t wait to see what they have."
                },
                {
                    "Person 2": "Same here! It’ll be a fun little adventure."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you ever thought about how much easier it is to focus in a classroom compared to online learning?"
                },
                {
                    "Person 2": "Totally! I feel like being in the same room with others really helps keep me on track."
                },
                {
                    "Person 1": "Exactly! When you're in a classroom, there's this pressure to pay attention. You can't just zone out."
                },
                {
                    "Person 2": "Right? And when you're online, it's so easy to get distracted by everything on your computer."
                },
                {
                    "Person 1": "For sure! I mean, you could be in a lecture and suddenly find yourself scrolling through social media."
                },
                {
                    "Person 2": "Yeah, and when you're in a classroom, you can't just turn off your camera and disappear."
                },
                {
                    "Person 1": "Exactly! Everyone can see you, so you feel more accountable to stay engaged."
                },
                {
                    "Person 2": "And there's a certain atmosphere in a classroom that just makes studying feel more serious."
                },
                {
                    "Person 1": "Definitely! It’s like you’re all there for the same purpose, so it motivates you to focus."
                },
                {
                    "Person 2": "I think some people just struggle with online learning because of all the distractions."
                },
                {
                    "Person 1": "Yeah, I get that. It’s hard to concentrate when your bed is just a few feet away!"
                },
                {
                    "Person 2": "Exactly! And sometimes, I just want to take a break and watch a show instead of studying."
                },
                {
                    "Person 1": "So true! Maybe a mix of both worlds would be best—some in-person classes and some online."
                },
                {
                    "Person 2": "That sounds like a good plan! A little balance could help everyone stay focused."
                },
                {
                    "Person 1": "For sure! Let’s hope schools start to figure that out."
                },
                {
                    "Person 2": "Yeah, fingers crossed! Until then, we just have to do our best."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going?"
                },
                {
                    "Person 2": "Not too bad! Just enjoying the weekend. How about you?"
                },
                {
                    "Person 1": "Same here! I finally got around to binge-watching that show you recommended."
                },
                {
                    "Person 2": "Oh nice! What do you think of it?"
                },
                {
                    "Person 1": "I love it! The characters are so relatable, and the plot twists are crazy."
                },
                {
                    "Person 2": "Right? I couldn't believe some of the stuff that happened in the last season."
                },
                {
                    "Person 1": "I know! I was on the edge of my seat. I can't wait for the next season."
                },
                {
                    "Person 2": "Same! I heard it’s coming out next year. We should do a watch party!"
                },
                {
                    "Person 1": "Absolutely! Snacks and drinks all around!"
                },
                {
                    "Person 2": "For sure! I’ll bring the popcorn."
                },
                {
                    "Person 1": "And I’ll grab some soda. It’s going to be epic!"
                },
                {
                    "Person 2": "Can’t wait! So, any plans for the rest of the day?"
                },
                {
                    "Person 1": "Just hanging out, maybe go for a walk later. How about you?"
                },
                {
                    "Person 2": "Thinking of hitting the gym. Gotta balance out all that binge-watching!"
                },
                {
                    "Person 1": "Good call! I should probably do the same. Let’s catch up later?"
                },
                {
                    "Person 2": "Definitely! Enjoy your walk!"
                },
                {
                    "Person 1": "Thanks! You too at the gym!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
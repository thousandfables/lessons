<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "I have a PE class but it cancelled.",
                    "corrected": "I have a PE class but it was cancelled.",
                    "explanation": "The verb 'cancelled' needs an auxiliary verb 'was' to indicate the past passive voice.",
                    "context": "I have a PE class scheduled for today. Unfortunately, it was cancelled, so I have some free time."
                },
                {
                    "original": "I started math for higher maths like higher concepts of math.",
                    "corrected": "I started studying higher-level math concepts.",
                    "explanation": "The phrase 'for higher maths' is awkward; 'studying higher-level math concepts' is clearer and more idiomatic.",
                    "context": "I have always been interested in math. I started studying higher-level math concepts to deepen my understanding."
                },
                {
                    "original": "I can be after graduation an engineer or programing the software developer.",
                    "corrected": "I can be an engineer or a software developer after graduation.",
                    "explanation": "The phrase 'programing the software developer' is incorrect; it should be 'a software developer'.",
                    "context": "After graduation, I have the option to become an engineer or a software developer. Both paths interest me."
                },
                {
                    "original": "I will just ask to generate and I will ask it make them not battle.",
                    "corrected": "I will just ask it to generate topics and make them not too complicated.",
                    "explanation": "The phrase 'ask to generate and I will ask it make them not battle' is unclear; it should specify 'ask it to generate topics and make them not too complicated.'",
                    "context": "I want to keep the lesson engaging. I will just ask it to generate topics and make them not too complicated."
                },
                {
                    "original": "Because AI can do a lot of job instead of people.",
                    "corrected": "Because AI can do a lot of jobs instead of people.",
                    "explanation": "'Job' should be pluralized to 'jobs' to refer to multiple positions.",
                    "context": "I believe AI has the potential to change the workforce. Because AI can do a lot of jobs instead of people, it raises concerns about employment."
                },
                {
                    "original": "I can't go out from our computer.",
                    "corrected": "I can't go out of our computer.",
                    "explanation": "'Out from' is incorrect; the correct phrase is 'out of.'",
                    "context": "AI is currently limited in its capabilities. I can't go out of our computer, but I believe it will evolve in the future."
                },
                {
                    "original": "AI will replace everybody on their workplace.",
                    "corrected": "AI will replace everybody in their workplace.",
                    "explanation": "The preposition 'on' should be 'in' when referring to someone's workplace.",
                    "context": "There's a lot of debate about AI's impact. AI will replace everybody in their workplace, but not all jobs will be affected equally."
                },
                {
                    "original": "Why will it happen? Because it will be better and faster than human.",
                    "corrected": "Because it will be better and faster than humans.",
                    "explanation": "The noun 'human' should be pluralized to 'humans' for grammatical accuracy.",
                    "context": "The future of AI is uncertain. Why will it happen? Because it will be better and faster than humans, making it more efficient."
                },
                {
                    "original": "AI will replace most people in the future.",
                    "corrected": "AI will likely replace most jobs in the future.",
                    "explanation": "The phrase 'replace most people' is vague; it should specify 'replace most jobs' for clarity.",
                    "context": "The implications of AI are significant. AI will likely replace most jobs in the future, which raises many questions about employment."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "Why it hasn't changed yet?",
                    "corrected": "Why hasn't it changed yet?",
                    "explanation": "The correct structure for a question requires the auxiliary verb 'has' before the subject 'it.'",
                    "context": "I want to hear logical arguments about AI's potential. Why hasn't it changed yet? I believe there are still many limitations."
                },
                {
                    "original": "AI doesn't have avatars? They are sitting like that.",
                    "corrected": "AI doesn't have avatars? They just sit there.",
                    "explanation": "'Like that' is vague; 'just sit there' is clearer and more idiomatic.",
                    "context": "I find it curious that AI doesn't have avatars. They just sit there, generated without any real presence."
                },
                {
                    "original": "What does it explain?",
                    "corrected": "What does it explain to you?",
                    "explanation": "The sentence is incomplete; adding 'to you' clarifies the question.",
                    "context": "AI's communication style is different from humans. What does it explain to you? I feel it lacks depth."
                },
                {
                    "original": "It's unlikely that it talks like a robot.",
                    "corrected": "It's unlikely that it will talk like a robot.",
                    "explanation": "The future tense 'will talk' is needed to indicate a prediction.",
                    "context": "AI is advanced, but I think it's unlikely that it will talk like a robot in the future."
                },
                {
                    "original": "The chatbot won't drink.",
                    "corrected": "The chatbot won't break.",
                    "explanation": "'Drink' is incorrect in this context; 'break' is more appropriate when discussing functionality.",
                    "context": "I mentioned that the chatbot won't drink. In reality, it won't break down easily if the internet is stable."
                },
                {
                    "original": "What affects more?",
                    "corrected": "What affects it more?",
                    "explanation": "The sentence lacks a direct object; 'it' clarifies what is being affected.",
                    "context": "When discussing the boy's programming skills, I wondered what affects it more: technology or ability."
                },
                {
                    "original": "Because they get drunk, they throw garbage on the streets.",
                    "corrected": "Because they get drunk, they often throw garbage on the streets.",
                    "explanation": "Adding 'often' provides clarity about the frequency of the action.",
                    "context": "Tourists in Barcelona can be disruptive. Because they get drunk, they often throw garbage on the streets."
                },
                {
                    "original": "So, for example, we can say that maybe some people after visiting Barcelona think that they wanted to live there, because they have a good economic level.",
                    "corrected": "For example, some people might think about living in Barcelona after visiting because of its good economic opportunities.",
                    "explanation": "The original sentence is overly complex; simplifying it improves clarity.",
                    "context": "Tourism impacts local culture. For example, some people might think about living in Barcelona after visiting because of its good economic opportunities."
                },
                {
                    "original": "And instead of... And they start... And most of them, yeah, we can say that, a lot of them, they don't want to integrate in the local culture.",
                    "corrected": "Instead, many of them don't want to integrate into the local culture.",
                    "explanation": "The sentence is fragmented; combining ideas improves coherence.",
                    "context": "Tourists can change the local landscape. Instead, many of them don't want to integrate into the local culture."
                },
                {
                    "original": "Yeah, right, you are.",
                    "corrected": "Yeah, right, you are correct.",
                    "explanation": "The phrase is incomplete; adding 'correct' clarifies the agreement.",
                    "context": "During the discussion, I agreed with a point made. Yeah, right, you are correct about the challenges of integration."
                },
                {
                    "original": "If it's private business, for example, a person sell, I don't know, fresh fruits, for example, and...",
                    "corrected": "If it's a private business, for example, a person sells fresh fruits, and...",
                    "explanation": "Subject-verb agreement is needed; 'sell' should be 'sells' to match the singular subject.",
                    "context": "When discussing economic benefits, I mentioned a private business. If it's a private business, for example, a person sells fresh fruits, and..."
                },
                {
                    "original": "How to make this example a little bit more specific?",
                    "corrected": "How can we make this example a little bit more specific?",
                    "explanation": "The original sentence lacks a modal verb; 'can' is needed for grammatical correctness.",
                    "context": "I wanted to clarify our discussion. How can we make this example a little bit more specific?"
                },
                {
                    "original": "This topic is probably difficult not to talk about, because artificial intelligence, there is a lot of things you can't say about them.",
                    "corrected": "This topic is probably difficult to avoid discussing because there are a lot of things you can't say about artificial intelligence.",
                    "explanation": "The original sentence is awkward; rephrasing improves flow and clarity.",
                    "context": "In discussing AI, I noted its complexity. This topic is probably difficult to avoid discussing because there are a lot of things you can't say about artificial intelligence."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "But if there are a lot of people, there will be many thefts or crush.",
                    "corrected": "But if there are a lot of people, there will be many thefts or crushes.",
                    "explanation": "The word 'crush' should be pluralized to 'crushes' to match the plural context.",
                    "context": "In discussing the potential downsides of a crowded area, I mentioned that if there are a lot of people, there will be many thefts or crushes. These issues can arise when too many individuals gather in one place."
                },
                {
                    "original": "Because it already explains.",
                    "corrected": "Because it already explains itself.",
                    "explanation": "'It already explains' is incomplete; adding 'itself' clarifies that the subject explains its own meaning.",
                    "context": "When discussing the clarity of our arguments, I pointed out that it already explains itself. This emphasizes the importance of making our points clear in discussions."
                },
                {
                    "original": "But now you need to say that some of them is more important for some reason.",
                    "corrected": "But now you need to say that some of them are more important for some reason.",
                    "explanation": "'Some of them' is plural, so the verb should be 'are' instead of 'is.'",
                    "context": "In our discussion about weighing pros and cons, I emphasized that now you need to say that some of them are more important for some reason. This helps clarify our position in the argument."
                },
                {
                    "original": "Because in Western culture, studying style, Western culture teaches people to always have some position.",
                    "corrected": "Because in Western culture, the studying style teaches people to always have some position.",
                    "explanation": "The phrase 'studying style' is awkward; it should be 'the studying style' for clarity.",
                    "context": "I was explaining how Western culture influences education. I said that in Western culture, the studying style teaches people to always have some position. This is crucial for effective communication."
                },
                {
                    "original": "He will leave the country. He will leave this place probably.",
                    "corrected": "He will probably leave the country. He will leave this place.",
                    "explanation": "The adverb 'probably' should precede the verb 'will' for correct placement.",
                    "context": "In discussing the potential consequences for the ice cream seller, I mentioned that he will probably leave the country. This reflects the impact of cultural isolation on his decision."
                },
                {
                    "original": "Because why? Because the person will feel uncomfortable around these people, it will destroy his mental health.",
                    "corrected": "Because, why? Because the person will feel uncomfortable around these people; it will destroy his mental health.",
                    "explanation": "A semicolon should be used instead of a comma to separate two independent clauses.",
                    "context": "When discussing the importance of cultural comfort, I stated that the person will feel uncomfortable around these people; it will destroy his mental health. This highlights the psychological impact of cultural disconnection."
                },
                {
                    "original": "You need, whenever you start writing about anything, you need already to have all these ideas in your head planned.",
                    "corrected": "You need to have all these ideas in your head planned whenever you start writing about anything.",
                    "explanation": "The sentence structure is awkward; reordering improves clarity and flow.",
                    "context": "In advising on IELTS writing, I emphasized that you need to have all these ideas in your head planned whenever you start writing about anything. This preparation is key to effective writing."
                },
                {
                    "original": "In the Russian series, there is like a typical situation when a girl from poor village came to big city, we found...",
                    "corrected": "In the Russian series, there is a typical situation when a girl from a poor village comes to a big city.",
                    "explanation": "The article 'a' is missing before 'poor village' and 'big city,' and the verb 'came' should be 'comes' for present tense consistency.",
                    "context": "While discussing common themes in Russian cinema, I noted that in the Russian series, there is a typical situation when a girl from a poor village comes to a big city. This reflects recurring narratives in local films."
                },
                {
                    "original": "Why this lack of, why this... Why all films, all Russian produced movies feel the same?",
                    "corrected": "Why is there this lack of... Why do all films, all Russian-produced movies feel the same?",
                    "explanation": "The question structure is incorrect; 'Why is there' and 'Why do' are needed for grammatical correctness.",
                    "context": "In analyzing the quality of Russian films, I questioned why there is this lack of originality. I wondered why do all films, all Russian-produced movies feel the same? This highlights concerns about creativity in local cinema."
                },
                {
                    "original": "Because I think it's much easier to explain.",
                    "corrected": "Because I think it's much easier to explain this.",
                    "explanation": "The sentence is vague; adding 'this' clarifies what is being explained.",
                    "context": "When choosing a topic to discuss, I said that I would just go with a better idea, because I think it's much easier to explain this. Clarity is essential in our arguments."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "this moment needs to be developed.",
                    "corrected": "this moment needs to be elaborated.",
                    "explanation": "\"Developed\" is not the correct term here; \"elaborated\" is more appropriate when discussing the need to expand on an idea.",
                    "context": "In discussions, it's important to expand on key points. This moment needs to be elaborated. It will help clarify the topic further."
                },
                {
                    "original": "Why do many 40-year-old girls watch them?",
                    "corrected": "Why do many 40-year-old women watch them?",
                    "explanation": "\"Girls\" is informal and typically refers to younger females; \"women\" is more appropriate for adults.",
                    "context": "I find it interesting to observe viewing habits. Why do many 40-year-old women watch them? It's a question worth exploring."
                },
                {
                    "original": "they like what is their own, what is bad, but what is their own.",
                    "corrected": "they like what is familiar, even if it's not good.",
                    "explanation": "The phrase \"what is their own\" is awkward; \"what is familiar\" is clearer and more idiomatic.",
                    "context": "Cultural preferences can be complex. They like what is familiar, even if it's not good. This attachment shapes their viewing choices."
                },
                {
                    "original": "Because a 50-year-old housewife will not watch movies in a translated form.",
                    "corrected": "Because a 50-year-old housewife may not watch movies in translation.",
                    "explanation": "\"Will not\" implies certainty; \"may not\" allows for possibility, which is more accurate in this context.",
                    "context": "Cultural understanding is crucial for enjoyment. Because a 50-year-old housewife may not watch movies in translation, she misses out on many stories."
                },
                {
                    "original": "There are no village.",
                    "corrected": "There are no villages.",
                    "explanation": "The noun \"village\" should be pluralized to match the context of discussing multiple locations.",
                    "context": "Cultural references can be lost in translation. There are no villages in these films, which makes them feel foreign."
                },
                {
                    "original": "When everything else is good in the world, but this is the problem.",
                    "corrected": "When everything else is good in the world, this becomes the problem.",
                    "explanation": "The phrase is awkward; removing \"but\" makes the sentence clearer and more direct.",
                    "context": "In discussions, clarity is key. When everything else is good in the world, this becomes the problem. We need to focus on solutions."
                },
                {
                    "original": "At first it was not possible to come up with an idea.",
                    "corrected": "At first, it was difficult to come up with an idea.",
                    "explanation": "\"Not possible\" is too strong; \"difficult\" better conveys the challenge of generating ideas.",
                    "context": "Creative processes can be challenging. At first, it was difficult to come up with an idea. But once I had one, everything flowed."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Checkup",
                    "definition": "A medical examination to assess a person's health.",
                    "context": {
                        "Context 1": "I went to the doctor for a routine checkup to make sure everything was fine.",
                        "Context 2": "The checkup revealed that the car needed new brakes.",
                        "Context 3": "During the checkup, the teacher assessed the students' understanding of the material."
                    }
                },
                {
                    "word": "Procedure",
                    "definition": "A series of actions conducted in a certain order or manner.",
                    "context": {
                        "Context 1": "The nurse explained the procedure for the blood test before starting.",
                        "Context 2": "The procedure for making a cake involves mixing ingredients in a specific order.",
                        "Context 3": "In a science experiment, the procedure must be followed precisely to get accurate results."
                    }
                },
                {
                    "word": "Mathematician",
                    "definition": "A person skilled in mathematics, often engaged in mathematical research or work.",
                    "context": {
                        "Context 1": "She aspires to be a mathematician and solve complex equations.",
                        "Context 2": "The mathematician was invited to speak at the conference about his latest findings.",
                        "Context 3": "In the movie, the mathematician used his skills to crack a secret code."
                    }
                },
                {
                    "word": "Aerodynamics",
                    "definition": "The study of the behavior of air as it interacts with solid objects, like an aircraft.",
                    "context": {
                        "Context 1": "Understanding aerodynamics is crucial for designing efficient airplanes.",
                        "Context 2": "The aerodynamics of the new sports car were tested in a wind tunnel.",
                        "Context 3": "In the video game, players must master aerodynamics to fly their planes successfully."
                    }
                },
                {
                    "word": "Generate",
                    "definition": "To produce or create something.",
                    "context": {
                        "Context 1": "The teacher asked the students to generate ideas for their group project.",
                        "Context 2": "The power plant generates electricity for the entire city.",
                        "Context 3": "The artist wanted to generate a new style of painting that combined different techniques."
                    }
                },
                {
                    "word": "Unemployment",
                    "definition": "The state of being without a job despite actively seeking work.",
                    "context": {
                        "Context 1": "The rise in unemployment during the pandemic affected many families.",
                        "Context 2": "Unemployment rates can be influenced by economic policies and market conditions.",
                        "Context 3": "In the story, the character faced unemployment after the factory closed down."
                    }
                },
                {
                    "word": "Influence",
                    "definition": "The capacity to have an effect on the character, development, or behavior of someone or something.",
                    "context": {
                        "Context 1": "Her positive attitude had a great influence on the team's morale.",
                        "Context 2": "The influence of social media on teenagers is a topic of much debate.",
                        "Context 3": "The magician's influence over the audience was evident as they gasped in amazement."
                    }
                },
                {
                    "word": "Complicated",
                    "definition": "Consisting of many interconnecting parts; not easy to analyze or understand.",
                    "context": {
                        "Context 1": "The instructions for assembling the furniture were too complicated to follow.",
                        "Context 2": "Her feelings about the situation were complicated and hard to explain.",
                        "Context 3": "The plot of the movie was so complicated that I had to watch it twice."
                    }
                },
                {
                    "word": "Routine",
                    "definition": "A sequence of actions regularly followed; a fixed program.",
                    "context": {
                        "Context 1": "He has a morning routine that includes exercise and breakfast.",
                        "Context 2": "The routine for the dance performance was practiced every day.",
                        "Context 3": "In the lab, the routine for cleaning equipment is very strict."
                    }
                },
                {
                    "word": "Assessment",
                    "definition": "The evaluation or estimation of the nature, quality, or ability of someone or something.",
                    "context": {
                        "Context 1": "The teacher conducted an assessment to gauge the students' understanding of the material.",
                        "Context 2": "An assessment of the building's safety was required after the earthquake.",
                        "Context 3": "The assessment of the movie's success was based on box office sales and reviews."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Mathematician",
                    "fact": "Did you know that the word 'mathematician' was first used in the 15th century? Before that, they were just called 'people who do math!'"
                },
                {
                    "word": "Aerodynamics",
                    "fact": "Aerodynamics is so important that even penguins have adapted their bodies to be more aerodynamic for swimming!"
                }
            ],
            "jokes": [
                {
                    "question": "Why was the math book sad?",
                    "answer": "Because it had too many problems!"
                },
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Prove",
                    "definition": "To demonstrate the truth or existence of something by evidence or argument.",
                    "context": {
                        "Context 1": "If a person wants to prove to me that AI can replace teachers, I want to hear logical arguments.",
                        "Context 2": "The magician tried to prove that he could make the rabbit disappear.",
                        "Context 3": "She needed to prove her identity to enter the club."
                    }
                },
                {
                    "word": "Potential",
                    "definition": "Having or showing the capacity to develop into something in the future.",
                    "context": {
                        "Context 1": "His potential as a leader is visible in the way he inspires others.",
                        "Context 2": "The potential for growth in the tech industry is enormous.",
                        "Context 3": "The artist's potential was recognized early in her career."
                    }
                },
                {
                    "word": "Emotions",
                    "definition": "Complex psychological states that involve a subjective experience, a physiological response, and a behavioral or expressive response.",
                    "context": {
                        "Context 1": "AI doesn't have emotions like humans do, which limits its ability to connect.",
                        "Context 2": "She expressed her emotions through her artwork.",
                        "Context 3": "The movie was so touching that it brought out strong emotions in the audience."
                    }
                },
                {
                    "word": "Interfere",
                    "definition": "To prevent something from being done or to disrupt an activity.",
                    "context": {
                        "Context 1": "If chatbots talk like robots, it may interfere with their ability to engage users.",
                        "Context 2": "The loud music interfered with my concentration while studying.",
                        "Context 3": "He didn't want to interfere in their argument, so he walked away."
                    }
                },
                {
                    "word": "Develop",
                    "definition": "To grow or cause to grow and become more mature, advanced, or elaborate.",
                    "context": {
                        "Context 1": "The technology is developing rapidly, making chatbots more advanced.",
                        "Context 2": "She plans to develop her skills in painting over the summer.",
                        "Context 3": "The city is working to develop new parks for its residents."
                    }
                },
                {
                    "word": "Integrate",
                    "definition": "To combine one thing with another to form a whole.",
                    "context": {
                        "Context 1": "Tourists often do not want to integrate into the local culture.",
                        "Context 2": "The new software will integrate seamlessly with existing systems.",
                        "Context 3": "He struggled to integrate into the new school environment."
                    }
                },
                {
                    "word": "Economic",
                    "definition": "Related to economics or the economy; concerning the production, distribution, and consumption of goods and services.",
                    "context": {
                        "Context 1": "Tourism can have a positive economic impact on local communities.",
                        "Context 2": "The economic crisis led to many businesses closing down.",
                        "Context 3": "She studied economic theories in her university courses."
                    }
                },
                {
                    "word": "Culture",
                    "definition": "The social behavior and norms found in human societies; the arts and other manifestations of human intellectual achievement regarded collectively.",
                    "context": {
                        "Context 1": "Tourism can damage local culture if visitors do not respect traditions.",
                        "Context 2": "He loves learning about different cultures through travel.",
                        "Context 3": "The festival celebrates the culture of the indigenous people."
                    }
                },
                {
                    "word": "Tourist",
                    "definition": "A person who is traveling or visiting a place for pleasure.",
                    "context": {
                        "Context 1": "Many tourists visit Barcelona every summer, impacting the local economy.",
                        "Context 2": "The tourist took a lot of photos during her trip.",
                        "Context 3": "He works as a tour guide for tourists in the city."
                    }
                },
                {
                    "word": "Community",
                    "definition": "A group of people living in the same place or having a particular characteristic in common.",
                    "context": {
                        "Context 1": "Many tourists stay within their own community instead of interacting with locals.",
                        "Context 2": "The community came together to support the local charity.",
                        "Context 3": "She felt a strong sense of community in her neighborhood."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Emotions",
                    "fact": "Did you know that cows have best friends and get stressed when they are separated? Talk about emotional bonds!"
                },
                {
                    "word": "Integrate",
                    "fact": "In the world of tech, integrating systems can sometimes feel like trying to fit a square peg in a round hole!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the computer go to therapy?",
                    "answer": "Because it had too many bytes of emotional baggage!"
                },
                {
                    "question": "Why did the tourist bring a ladder to the bar?",
                    "answer": "Because they heard the drinks were on the house!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Thriving",
                    "definition": "Prospering; flourishing; doing well.",
                    "context": {
                        "Context 1": "His ice cream business is thriving, attracting many customers.",
                        "Context 2": "The garden is thriving this spring with all the rain.",
                        "Context 3": "After the merger, the company became a thriving enterprise."
                    }
                },
                {
                    "word": "Integrate",
                    "definition": "To combine or bring together different parts into a whole.",
                    "context": {
                        "Context 1": "The new immigrants struggled to integrate into the local culture.",
                        "Context 2": "The software can integrate various data sources into one platform.",
                        "Context 3": "The chef decided to integrate flavors from different cuisines in his new dish."
                    }
                },
                {
                    "word": "Cultural Environment",
                    "definition": "The social and cultural context in which people live and interact.",
                    "context": {
                        "Context 1": "A comfortable cultural environment is essential for community well-being.",
                        "Context 2": "The cultural environment of the city is vibrant and diverse.",
                        "Context 3": "In a cultural environment rich in traditions, festivals are celebrated with enthusiasm."
                    }
                },
                {
                    "word": "Mental Health",
                    "definition": "A person's emotional, psychological, and social well-being.",
                    "context": {
                        "Context 1": "Taking breaks can significantly improve your mental health.",
                        "Context 2": "He practices yoga to maintain his mental health.",
                        "Context 3": "The mental health of the team improved after the team-building retreat."
                    }
                },
                {
                    "word": "Wealth",
                    "definition": "An abundance of valuable resources or material possessions.",
                    "context": {
                        "Context 1": "Wealth can provide comfort, but it doesn't guarantee happiness.",
                        "Context 2": "The museum displayed the wealth of ancient civilizations through artifacts.",
                        "Context 3": "He inherited a wealth of knowledge from his grandfather."
                    }
                },
                {
                    "word": "Balance",
                    "definition": "A state of equilibrium or equal distribution.",
                    "context": {
                        "Context 1": "Finding a balance between work and life is crucial for happiness.",
                        "Context 2": "The gymnast maintained her balance on the beam with great skill.",
                        "Context 3": "The balance of power shifted after the election."
                    }
                },
                {
                    "word": "Radical",
                    "definition": "Relating to or affecting the fundamental nature of something; extreme.",
                    "context": {
                        "Context 1": "The proposal included radical changes to the education system.",
                        "Context 2": "He took a radical approach to solving the environmental crisis.",
                        "Context 3": "The radical design of the building attracted a lot of attention."
                    }
                },
                {
                    "word": "Argument",
                    "definition": "A reason or set of reasons given to persuade others that an idea is right or wrong.",
                    "context": {
                        "Context 1": "She presented a strong argument for why education should be free.",
                        "Context 2": "Their argument about the best pizza toppings turned into a friendly debate.",
                        "Context 3": "The lawyer's argument was compelling and swayed the jury."
                    }
                },
                {
                    "word": "Comfortable",
                    "definition": "Providing physical ease and relaxation; free from stress or worry.",
                    "context": {
                        "Context 1": "He prefers a comfortable chair for reading.",
                        "Context 2": "The hotel provided a comfortable stay with excellent service.",
                        "Context 3": "She felt comfortable speaking in front of large audiences."
                    }
                },
                {
                    "word": "Consumer",
                    "definition": "A person who purchases goods and services for personal use.",
                    "context": {
                        "Context 1": "The consumer is always looking for the best value for their money.",
                        "Context 2": "As a consumer, it's important to be aware of your rights.",
                        "Context 3": "The new advertising campaign targeted young consumers."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Thriving",
                    "fact": "Did you know that some plants can thrive in extreme conditions, like the Arctic tundra?"
                },
                {
                    "word": "Integrate",
                    "fact": "In technology, integrating systems can be as complex as trying to teach a cat to fetch!"
                },
                {
                    "word": "Wealth",
                    "fact": "The wealthiest person in the world once said that money can't buy happiness, but it can buy ice cream, which is pretty close!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the ice cream vendor go broke?",
                    "answer": "Because he couldn't find the right balance between cones and cash!"
                },
                {
                    "question": "What do you call a wealthy ice cream seller?",
                    "answer": "A rich cream entrepreneur!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Cultural Differences",
                    "definition": "Variations in the practices, values, and beliefs of different societies.",
                    "context": {
                        "Context 1": "Cultural differences can lead to misunderstandings in international communication.",
                        "Context 2": "The cultural differences between the two countries were evident in their food and traditions.",
                        "Context 3": "He was fascinated by the cultural differences he observed while traveling through Europe."
                    }
                },
                {
                    "word": "Drama",
                    "definition": "A genre of literature or film that focuses on serious, emotional themes.",
                    "context": {
                        "Context 1": "Many housewives prefer drama because it reflects their own life experiences.",
                        "Context 2": "The drama of the play kept the audience on the edge of their seats.",
                        "Context 3": "After watching a drama series, she felt emotionally drained but satisfied."
                    }
                },
                {
                    "word": "Context",
                    "definition": "The circumstances or setting surrounding an event or idea.",
                    "context": {
                        "Context 1": "Without understanding the context, its hard to grasp the meaning of the story.",
                        "Context 2": "The context of the historical event was crucial for understanding its impact.",
                        "Context 3": "In a scientific experiment, context can influence the results significantly."
                    }
                },
                {
                    "word": "Housewife",
                    "definition": "A married woman whose main occupation is managing the household.",
                    "context": {
                        "Context 1": "Many housewives enjoy watching dramas that reflect their daily lives.",
                        "Context 2": "The housewife decided to start a blog about her cooking adventures.",
                        "Context 3": "As a housewife, she found joy in gardening and caring for her family."
                    }
                },
                {
                    "word": "Blockbuster",
                    "definition": "A very successful and popular movie or production.",
                    "context": {
                        "Context 1": "Hollywood blockbusters often attract large audiences and generate significant revenue.",
                        "Context 2": "The new superhero blockbuster broke all box office records.",
                        "Context 3": "She dreamed of starring in a blockbuster film one day."
                    }
                },
                {
                    "word": "Suggest",
                    "definition": "To propose an idea or plan for consideration.",
                    "context": {
                        "Context 1": "He suggested that they watch a documentary instead of a drama.",
                        "Context 2": "The teacher suggested a new method for studying vocabulary.",
                        "Context 3": "She suggested going to the beach for the weekend."
                    }
                },
                {
                    "word": "Implement",
                    "definition": "To put a plan or decision into effect.",
                    "context": {
                        "Context 1": "Once the idea was approved, they quickly moved to implement it.",
                        "Context 2": "The school plans to implement new technology in the classroom next year.",
                        "Context 3": "He struggled to implement the changes in his daily routine."
                    }
                },
                {
                    "word": "Open to",
                    "definition": "Willing to consider new ideas or suggestions.",
                    "context": {
                        "Context 1": "Some people are not open to cultural differences and prefer what they know.",
                        "Context 2": "She was open to trying new foods during her travels.",
                        "Context 3": "Being open to feedback can help improve your work."
                    }
                },
                {
                    "word": "Develop",
                    "definition": "To grow or cause to grow and become more mature or advanced.",
                    "context": {
                        "Context 1": "The lesson aimed to develop students' understanding of cultural differences.",
                        "Context 2": "He wanted to develop his skills in photography.",
                        "Context 3": "The city plans to develop a new park in the downtown area."
                    }
                },
                {
                    "word": "Factor",
                    "definition": "An element that contributes to a particular result or situation.",
                    "context": {
                        "Context 1": "Cultural differences are a significant factor in how people perceive movies.",
                        "Context 2": "Weather is often a critical factor in planning outdoor events.",
                        "Context 3": "Cost is a major factor when deciding which car to buy."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Drama",
                    "fact": "Did you know that the longest-running drama series in history is 'The Simpsons'? It's been on air since 1989!"
                },
                {
                    "word": "Housewife",
                    "fact": "In some cultures, housewives are celebrated with special days, like 'National Housewife Day' in the U.S.!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the drama teacher go to jail?",
                    "answer": "Because she got caught in a plot twist!"
                },
                {
                    "question": "Why did the housewife bring a ladder to the bar?",
                    "answer": "Because she heard the drinks were on the house!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How have you been?"
                },
                {
                    "Person 2": "Oh, you know, just the usual. I had to go to the doctor for a checkup."
                },
                {
                    "Person 1": "Oh no, everything okay?"
                },
                {
                    "Person 2": "Yeah, just a routine blood test. Nothing serious."
                },
                {
                    "Person 1": "Thats good to hear! So, are you back to your regular schedule now?"
                },
                {
                    "Person 2": "Sort of. I had a PE class today, but it got canceled."
                },
                {
                    "Person 1": "Lucky you! A free period is always nice."
                },
                {
                    "Person 2": "Definitely! Gives me time to catch up on some studying."
                },
                {
                    "Person 1": "What are you studying these days?"
                },
                {
                    "Person 2": "Im diving into applied math and informatics."
                },
                {
                    "Person 1": "Wow, that sounds intense! Do you enjoy it?"
                },
                {
                    "Person 2": "Yeah, I actually do! Its challenging but interesting."
                },
                {
                    "Person 1": "Thats great! What do you want to do with that degree?"
                },
                {
                    "Person 2": "Im aiming to become an engineer, maybe in software development."
                },
                {
                    "Person 1": "Nice! So, youre in your second year now?"
                },
                {
                    "Person 2": "Yep, just trying to keep up with everything."
                },
                {
                    "Person 1": "I hear you. It can get overwhelming sometimes."
                },
                {
                    "Person 2": "For sure! But I try to stay organized."
                },
                {
                    "Person 1": "Good plan! Hey, do you want to do some reading practice together?"
                },
                {
                    "Person 2": "Sure! I could use the help."
                },
                {
                    "Person 1": "Awesome! Lets figure out what you need to work on."
                },
                {
                    "Person 2": "Sounds good! Ill set a timer for us."
                },
                {
                    "Person 1": "Perfect! Lets get started!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new documentary about AI and how its changing everything?"
                },
                {
                    "Person 2": "Oh, I havent seen it yet! Whats it about?"
                },
                {
                    "Person 1": "It dives into how AI is becoming more advanced and how it might replace some jobs in the future."
                },
                {
                    "Person 2": "That sounds interesting! But do you really think it can replace humans completely?"
                },
                {
                    "Person 1": "I dont know. I mean, AI can do a lot, but it lacks emotions and creativity, right?"
                },
                {
                    "Person 2": "Exactly! Its like, sure, it can analyze data super fast, but can it really understand human feelings?"
                },
                {
                    "Person 1": "Right? I feel like theres something special about human interaction that AI just cant replicate."
                },
                {
                    "Person 2": "Totally! Plus, I think people will always find ways to adapt and improve, just like with technology."
                },
                {
                    "Person 1": "Yeah! Like, remember when the internet first came out? It was so basic compared to what we have now."
                },
                {
                    "Person 2": "For sure! And look at how many people can code now compared to back then. Its all about access and learning."
                },
                {
                    "Person 1": "Exactly! So, I guess we just have to see how it all evolves. But Im not too worried about AI taking over."
                },
                {
                    "Person 2": "Same here! I think there will always be a need for human touch in many fields."
                },
                {
                    "Person 1": "Definitely! Anyway, we should watch that documentary together sometime."
                },
                {
                    "Person 2": "Yes! Lets plan for it this weekend. Ill bring the popcorn!"
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that new ice cream shop that just opened downtown?"
                },
                {
                    "Person 2": "Yeah, I saw it! Everyone's been raving about it. Have you tried it yet?"
                },
                {
                    "Person 1": "Not yet, but I plan to this weekend. I heard they have some wild flavors."
                },
                {
                    "Person 2": "Oh, for sure! I think they have a lavender honey flavor. Sounds interesting, right?"
                },
                {
                    "Person 1": "That does sound unique! I usually stick to chocolate, but I might be adventurous this time."
                },
                {
                    "Person 2": "You should! Its good to mix things up. Plus, I heard the owner is super friendly."
                },
                {
                    "Person 1": "Really? Thats always a plus. I love when business owners are passionate about what they do."
                },
                {
                    "Person 2": "Exactly! It makes the experience so much better. I hope they do well."
                },
                {
                    "Person 1": "Me too! But I wonder how theyll handle the crowds. I heard it gets pretty busy."
                },
                {
                    "Person 2": "Yeah, that could be a challenge. But if they have good service, people will keep coming back."
                },
                {
                    "Person 1": "True! And if they keep their place clean, thatll help too."
                },
                {
                    "Person 2": "Definitely! No one likes sitting in a messy place. Its all about the vibe."
                },
                {
                    "Person 1": "For sure! I cant wait to check it out. Maybe we can go together?"
                },
                {
                    "Person 2": "That sounds like a plan! Lets make it a little ice cream date."
                },
                {
                    "Person 1": "Awesome! Ill text you when Im free this weekend."
                },
                {
                    "Person 2": "Perfect! Looking forward to it!"
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you catch that new movie everyones talking about?"
                },
                {
                    "Person 2": "Not yet! Ive been so busy. Whats it about?"
                },
                {
                    "Person 1": "Its a drama about family and culture. I think it really hits home for a lot of people."
                },
                {
                    "Person 2": "Sounds interesting! I love a good drama. What do you think makes it so relatable?"
                },
                {
                    "Person 1": "I guess its the way it portrays everyday struggles. You know, the kind of stuff we all go through."
                },
                {
                    "Person 2": "Totally! I feel like some movies just dont connect with our experiences. Like, I cant relate to those big Hollywood blockbusters."
                },
                {
                    "Person 1": "Right? Sometimes they feel so unrealistic. Like, who really lives like that?"
                },
                {
                    "Person 2": "Exactly! I think thats why I prefer local films. They feel more genuine."
                },
                {
                    "Person 1": "Yeah, and they often show the little things in life that matter. Its refreshing."
                },
                {
                    "Person 2": "For sure! Plus, I think older generations might struggle with understanding some of the cultural references in international films."
                },
                {
                    "Person 1": "Definitely! Its like they need to relate to the characters and their backgrounds."
                },
                {
                    "Person 2": "Exactly! And if they cant connect, it just doesnt resonate with them."
                },
                {
                    "Person 1": "So, are you planning to watch that movie soon?"
                },
                {
                    "Person 2": "Yeah, Ill try to catch it this weekend. Want to join?"
                },
                {
                    "Person 1": "Id love to! Lets make it a movie night!"
                },
                {
                    "Person 2": "Sounds like a plan! Ill bring the popcorn!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Parts</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        h2 {
            font-size: 26px;
            font-weight: bold;
            text-align: center;
            color: #444;
            background: linear-gradient(145deg, #eaeaea, #ffffff);
            padding: 12px 20px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.8),
                inset 2px 2px 4px rgba(0, 0, 0, 0.05),
                inset -2px -2px 4px rgba(255, 255, 255, 0.4);
            text-transform: capitalize;
            letter-spacing: 0.5px;
        }

        h3 {
            font-size: 50px;
            font-weight: bold;
        }



        #left {
            width: 100%;
            padding: 20px;
            border-right: 2px solid #ccc;
        }

        #right {
            display: none background-color: #f4f4f4;
        }

        .part-buttons,
        .content-buttons {
            margin-bottom: 10px;
        }

        .part-buttons button,
        .content-buttons button {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s;
        }

        .part-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        .content-buttons button.loading {
            animation: flash 0.5s infinite alternate;
        }

        .content-buttons button.active {
            background-color: #007bff;
            color: white;
        }

        @keyframes flash {
            0% {
                background-color: #ffd700;
            }

            100% {
                background-color: #ffa500;
            }
        }

        .hidden {
            display: none;
        }

        .section-content {
            margin-top: 1px;
            padding: 30px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }

        /* Vocabulary Entry */
        .entry-box {
            font-weight: bold;
            font-size: 1.4em;
            display: inline-block;
            border-bottom: 2px solid #2980b9;
            padding-bottom: 2px;
            margin-top: 25px;
            margin-bottom: 5px;
        }

        /* Definition Box */
        .definition-box {
            background-color: #f4f4f4;
            padding: 8px 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            margin: 5px 0;
            max-width: 400px;
            text-align: left;
        }

        /* Word Styling */
        .word {
            font-weight: bold;
            color: #000000;
            font-size: 1.2em;
        }

        .example {
            margin-left: 20px;
            font-style: italic;
        }

        /* Fact Box */
        .fact-box {
            background-color: rgba(142, 68, 173, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(142, 68, 173, 0.15);
            max-width: 500px;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: bold;
            padding: 8px 12px;
            display: inline-block;
            border-left: 6px solid rgba(0, 0, 0, 0.2);
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 10px;
            color: white;
        }

        /* Section Colors */
        .purple-section {
            background-color: #8e44ad;
            border-left-color: #6a1b9a;
            box-shadow: 3px 3px 8px rgba(142, 68, 173, 0.3);
        }

        .joke-box {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 2px 2px 5px rgba(52, 152, 219, 0.15);
            max-width: 500px;
        }


        /* Text Formatting */
        .fact {
            color: black;
        }

        /* Joke Text */
        .joke {
            color: #6d1b9a;
            /* Deeper purple for better readability */
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Joke Question Styling */
        .joke-question {
            font-weight: bold;
            font-size: 1.2em;
            font-style: italic;
            color: #2c3e50;
            /* Dark gray-blue for a classy contrast */
            margin-bottom: 5px;
        }

        /* Enhanced Typography */
        .bold {
            font-weight: 600;
            color: #000000;
            /* Darker shade for better contrast */
        }

        .italic {
            font-style: italic;
            color: #000000;
            /* Slightly darker gray for better readability */
        }

        .bold-italic {
            font-weight: 600;
            font-style: italic;
            color: #222;
            /* More emphasis on bold-italic text */
        }

        /* Joke Box - Adds a soft neumorphic effect */
        .joke-box {
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1),
                -5px -5px 10px rgba(255, 255, 255, 0.5);
            max-width: 550px;
            transition: all 0.3s ease-in-out;
        }

        /* Joke Box Hover Effect */
        .joke-box:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.6);
        }

        /* Dialogue Container - Left Centered */
        /* Dialogue Container - Auto Width Based on Content */
        .dialogue-container {
            display: inline-block;
            /* Shrinks width to fit content */
            max-width: 800px;
            /* Prevents it from becoming too wide */
            margin: 20px 0;
            /* Aligns it to the left with some spacing */
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }



        /* Individual Dialogue Lines */
        .line {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.4;
        }

        /* Styling for Different Speakers */
        .person-1 {
            background: linear-gradient(145deg, #dde5ed, #c9d6e2);
            text-align: left;
            color: #2c3e50;
        }

        .person-2 {
            background: linear-gradient(145deg, #d1e8ff, #b9dfff);
            text-align: left;
            color: #1d3557;
        }

        /* Speaker Name Styling */
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;

            font-size: 1.1em;
            color: #000;
        }
    </style>
</head>

<body>

    <div id="left">
        <h2>Lesson Parts</h2>
        <div id="partsSection" class="part-buttons"></div>
        <div id="contentSection" class="content-buttons hidden"></div>
        <div id="displaySection"></div>
    </div>

    <div id="right">
        <!-- Reserved for later use -->
    </div>

    <script>
        // Declare json_content but do not fill it
        let json_content = {
    "parts_number": 4,
    "mistakes": {
        "mistakes_1": {
            "mistakes_list": [
                {
                    "original": "Have your multiple various different animals had their breakfasts?",
                    "corrected": "Have your various animals had their breakfasts?",
                    "explanation": "The phrase 'multiple various different' is redundant; 'various' alone suffices.",
                    "context": "I asked Ty if he had breakfast. Have your various animals had their breakfasts? My little kitty wants to go to my room because my dog is here."
                },
                {
                    "original": "On morning it's too early for me to go for a walk with my dog, so it's... my father does.",
                    "corrected": "In the morning it's too early for me to go for a walk with my dog, so my father does.",
                    "explanation": "'On morning' should be 'In the morning' to indicate a time period.",
                    "context": "I prefer not to walk my dog early. In the morning it's too early for me to go for a walk with my dog, so my father does. Today is not very sunny."
                },
                {
                    "original": "I want to feel more warm weather.",
                    "corrected": "I want to feel warmer weather.",
                    "explanation": "'More warm' is incorrect; 'warmer' is the comparative form.",
                    "context": "I dislike the current weather. I want to feel warmer weather. I just said that today we don't have sun."
                },
                {
                    "original": "It's like a holiday because the second war is over.",
                    "corrected": "It's like a holiday because the Second World War is over.",
                    "explanation": "The term 'second war' should be specified as 'Second World War' for clarity.",
                    "context": "I mentioned the holidays in May. It's like a holiday because the Second World War is over. I don't know."
                },
                {
                    "original": "It's very loud.",
                    "corrected": "It's very noisy.",
                    "explanation": "'Loud' describes volume, while 'noisy' describes unwanted sounds.",
                    "context": "I was distracted by the sounds outside. It's very noisy. You know, usually you hear either birds or cars."
                },
                {
                    "original": "I didn't have my presentation on this week.",
                    "corrected": "I didn't have my presentation this week.",
                    "explanation": "'On this week' is incorrect; 'this week' is the proper phrase.",
                    "context": "I was worried about my presentation. I didn't have my presentation this week. So, I guess I believe that next week I will have a presentation."
                },
                {
                    "original": "And a lot of teachers will be on this presentation.",
                    "corrected": "And a lot of teachers will be at this presentation.",
                    "explanation": "'On this presentation' should be 'at this presentation' to indicate attendance.",
                    "context": "I expressed my anxiety about the upcoming presentation. And a lot of teachers will be at this presentation. I just think that if my presentation was at last week, I think it will be good."
                },
                {
                    "original": "I just think that if my presentation... if my presentation was at last week, I think it will be good.",
                    "corrected": "I just think that if my presentation had been last week, it would have been good.",
                    "explanation": "The conditional form should use 'had been' for past perfect and 'would have been' for the conditional.",
                    "context": "I reflected on my missed opportunity. I just think that if my presentation had been last week, it would have been good. Now I have more worry."
                },
                {
                    "original": "And a lot of homeworks and it was just a very hard week.",
                    "corrected": "And a lot of homework and it was just a very hard week.",
                    "explanation": "'Homeworks' is incorrect; 'homework' is an uncountable noun.",
                    "context": "I shared my struggles with school. And a lot of homework and it was just a very hard week. So, I believe that next week will be much less hard."
                },
                {
                    "original": "Not this fake presentation.",
                    "corrected": "Not this pretend presentation.",
                    "explanation": "'Fake' can be informal; 'pretend' is more appropriate in this context.",
                    "context": "I was discussing the nature of my upcoming presentation. Not this pretend presentation. It will be on May, I guess."
                },
                {
                    "original": "You glued it all together. You put it all together.",
                    "corrected": "You put it all together.",
                    "explanation": "Using both phrases is redundant; one suffices.",
                    "context": "I was showing my brochure. You put it all together. All my teachers say that it's a very good brochure."
                },
                {
                    "original": "Your classmates are very friendly. Yeah. It sounds like very weird.",
                    "corrected": "Your classmates are very friendly. Yeah. It sounds very weird.",
                    "explanation": "The phrase should be 'sounds very weird' instead of 'sounds like very weird.'",
                    "context": "I was commenting on Ty's school environment. Your classmates are very friendly. Yeah. It sounds very weird."
                }
            ]
        },
        "mistakes_2": {
            "mistakes_list": [
                {
                    "original": "And it's a more good education in my school where I study now.",
                    "corrected": "And it's a better education in my school where I study now.",
                    "explanation": "'More good' is incorrect; 'better' is the comparative form of 'good.'",
                    "context": "I hated my last school because of the teachers and classmates. And it's a better education in my school where I study now. I feel like I'm learning a lot more here."
                },
                {
                    "original": "So, it's just why I very love this school.",
                    "corrected": "So, it's just why I love this school very much.",
                    "explanation": "The adverb 'very' should modify 'much' instead of 'love' in this context.",
                    "context": "I have a lot of troubles with my study, but I just love this school. So, it's just why I love this school very much. The people here make it special for me."
                },
                {
                    "original": "I just feel that when I leave this school in the future, I just feel very bad because I just love this school.",
                    "corrected": "I just feel that when I leave this school in the future, I will feel very bad because I just love this school.",
                    "explanation": "The future tense 'will feel' should be used instead of 'feel' to indicate a future action.",
                    "context": "I have so many memories tied to this place. I just feel that when I leave this school in the future, I will feel very bad because I just love this school. It's been a significant part of my life."
                },
                {
                    "original": "Because I don't really use it.",
                    "corrected": "Because I don't really use the term.",
                    "explanation": "The word 'term' clarifies what 'it' refers to, enhancing clarity.",
                    "context": "I was trying to explain the education system differences. Because I don't really use the term. I often forget specific words related to education."
                },
                {
                    "original": "And we just was talking about all about my country, about his country.",
                    "corrected": "And we were just talking about my country and his country.",
                    "explanation": "'Was' should be 'were' to agree with the plural subject 'we.' Also, 'all about' is redundant.",
                    "context": "I had a conversation with a French person on the bus. And we were just talking about my country and his country. It was a fun exchange of cultures."
                },
                {
                    "original": "And it was very interesting because I just think and he was very funny.",
                    "corrected": "And it was very interesting because I just thought he was very funny.",
                    "explanation": "The verb 'think' should be in the past tense 'thought' to match the context.",
                    "context": "I enjoyed our conversation on the bus. And it was very interesting because I just thought he was very funny. We shared many laughs."
                },
                {
                    "original": "I just, how I did it.",
                    "corrected": "I just wondered how I did it.",
                    "explanation": "The phrase 'how I did it' needs a verb to clarify the speaker's intent.",
                    "context": "I was surprised by my own confidence. I just wondered how I did it. Speaking to a stranger was not something I usually do."
                },
                {
                    "original": "If only, they're not French.",
                    "corrected": "If only they weren't French.",
                    "explanation": "The subjunctive mood 'weren't' should be used instead of 'they're' to express a hypothetical situation.",
                    "context": "I have a rule about talking to strangers. If only they weren't French. It was funny to break my own rule in that moment."
                },
                {
                    "original": "And it's interesting that people have a trip in Kazakhstan.",
                    "corrected": "And it's interesting that people take trips to Kazakhstan.",
                    "explanation": "'Have a trip' is incorrect; the correct phrase is 'take trips to.'",
                    "context": "I noticed many international visitors in Almaty. And it's interesting that people take trips to Kazakhstan. It shows how diverse our country is."
                }
            ]
        },
        "mistakes_3": {
            "mistakes_list": [
                {
                    "original": "So it was my first trip on Almaty.",
                    "corrected": "So it was my first trip to Almaty.",
                    "explanation": "The preposition 'on' is incorrect here; 'to' should be used to indicate direction or destination.",
                    "context": "I had a great time in Almaty. So it was my first trip to Almaty. I was excited to explore the city."
                },
                {
                    "original": "I was very good with talking with strangers.",
                    "corrected": "I was very good at talking to strangers.",
                    "explanation": "'Good with' is not the correct phrase; 'good at' is used to describe skill in an activity, and 'talking to' is the correct preposition.",
                    "context": "After my experiences, I felt more confident. I was very good at talking to strangers. It made my interactions much easier."
                },
                {
                    "original": "I have a lot of people from my family who live in Russia for all life.",
                    "corrected": "I have a lot of family members who have lived in Russia all their lives.",
                    "explanation": "The phrase 'for all life' is awkward; 'all their lives' is the correct expression. 'People from my family' is less idiomatic than 'family members.'",
                    "context": "I have strong ties to Russia. I have a lot of family members who have lived in Russia all their lives. This connection makes it feel familiar to me."
                },
                {
                    "original": "I'm boring now because I'm not foreigner enough for you.",
                    "corrected": "I'm boring now because I'm not foreign enough for you.",
                    "explanation": "'Boring' is an adjective describing something dull; 'foreign' is the correct adjective here to describe one's identity.",
                    "context": "I sometimes feel out of place. I'm boring now because I'm not foreign enough for you. I wish I could share more unique experiences."
                },
                {
                    "original": "I want to learn English good for speak with other people.",
                    "corrected": "I want to learn English well to speak with other people.",
                    "explanation": "'Good' is an adjective; 'well' is the correct adverb to describe how one learns. 'For speak' should be 'to speak.'",
                    "context": "I have goals for my language learning. I want to learn English well to speak with other people. It's important for my communication."
                },
                {
                    "original": "They all speak English or Russian.",
                    "corrected": "They all speak either English or Russian.",
                    "explanation": "The word 'either' should be used to indicate a choice between two options.",
                    "context": "In my experience, communication has been easier. They all speak either English or Russian. This makes it convenient for conversations."
                },
                {
                    "original": "They are from the same language group.",
                    "corrected": "They are from the same language family.",
                    "explanation": "'Language family' is the correct term used in linguistics to categorize languages that share a common ancestry.",
                    "context": "Language connections are fascinating. They are from the same language family. This can sometimes make learning easier."
                },
                {
                    "original": "I know a lot of people from Russia.",
                    "corrected": "I know a lot of Russian people.",
                    "explanation": "The phrase 'Russian people' is more idiomatic than 'people from Russia.'",
                    "context": "My background influences my social circle. I know a lot of Russian people. This connection enriches my experiences."
                },
                {
                    "original": "I don't remember your birthday day.",
                    "corrected": "I don't remember your birthday.",
                    "explanation": "The word 'day' is redundant; 'birthday' already implies the day.",
                    "context": "I sometimes forget important dates. I don't remember your birthday. I should make a note to keep track."
                },
                {
                    "original": "I have a very terrible accent when you hear a French person speaking English.",
                    "corrected": "I have a very terrible accent when I hear a French person speaking English.",
                    "explanation": "The subject 'I' is needed to clarify who is hearing; the original sentence is confusing.",
                    "context": "Accents can be challenging to understand. I have a very terrible accent when I hear a French person speaking English. It makes communication difficult."
                },
                {
                    "original": "It's very hard to understand what they mean because like they speak like that.",
                    "corrected": "It's very hard to understand what they mean because they speak like that.",
                    "explanation": "The word 'like' is unnecessary and makes the sentence awkward.",
                    "context": "Understanding different accents can be tricky. It's very hard to understand what they mean because they speak like that. It requires extra effort."
                }
            ]
        },
        "mistakes_4": {
            "mistakes_list": [
                {
                    "original": "I will learn Spanish language.",
                    "corrected": "I will learn the Spanish language.",
                    "explanation": "The definite article 'the' is needed before 'Spanish language' to specify which language is being referred to.",
                    "context": "I have plans to expand my language skills. I will learn the Spanish language. I want to be able to communicate with more people."
                },
                {
                    "original": "it's very popular language",
                    "corrected": "it's a very popular language.",
                    "explanation": "The indefinite article 'a' is required before 'very popular language' to indicate that it is one of many popular languages.",
                    "context": "I find languages fascinating. It's a very popular language. Many people around the world speak it."
                },
                {
                    "original": "I can speak Chinese. And Russian, Russian language and because it's also hard language.",
                    "corrected": "I can speak Chinese and Russian because they are also hard languages.",
                    "explanation": "The sentence structure is awkward; 'and Russian, Russian language' is repetitive, and 'hard language' should be pluralized to match 'languages.'",
                    "context": "I feel proud of my language skills. I can speak Chinese and Russian because they are also hard languages. Learning them has been a challenge."
                },
                {
                    "original": "English is more easy than Russian.",
                    "corrected": "English is easier than Russian.",
                    "explanation": "'More easy' is incorrect; the comparative form of 'easy' is 'easier.'",
                    "context": "I often compare languages. English is easier than Russian. This makes learning it more enjoyable for me."
                },
                {
                    "original": "you need to convince your brain that is it like another bird, another car.",
                    "corrected": "you need to convince your brain that it is like another bird, another car.",
                    "explanation": "The phrase 'that is it' is incorrect; it should be 'that it is' for proper sentence structure.",
                    "context": "Learning a new language requires mental adjustment. You need to convince your brain that it is like another bird, another car. It can be a confusing process."
                },
                {
                    "original": "if you had a relative or a friend who speaks Spanish.",
                    "corrected": "if you have a relative or a friend who speaks Spanish.",
                    "explanation": "The verb tense should be present ('have') instead of past ('had') to refer to a current situation.",
                    "context": "Motivation is key in language learning. If you have a relative or a friend who speaks Spanish, it can inspire you to learn. This connection makes the process more meaningful."
                },
                {
                    "original": "my motivation is understand that I know and I learn another language like English.",
                    "corrected": "my motivation is to understand that I know and am learning another language like English.",
                    "explanation": "The infinitive form 'to understand' is needed, and 'I learn' should be 'I am learning' for correct tense usage.",
                    "context": "I often reflect on my reasons for studying languages. My motivation is to understand that I know and am learning another language like English. This realization drives me forward."
                },
                {
                    "original": "Before it, I never speak on this language.",
                    "corrected": "Before that, I never spoke in this language.",
                    "explanation": "The phrase 'before it' should be 'before that,' and the past tense 'spoke' is needed instead of 'speak.'",
                    "context": "Reflecting on my journey is important. Before that, I never spoke in this language. Now, I find it fascinating to communicate in English."
                },
                {
                    "original": "it's more simple that it was before before Internet.",
                    "corrected": "it's simpler than it was before the Internet.",
                    "explanation": "'More simple' should be 'simpler,' and 'that' should be 'than' for correct comparative structure. 'Before before Internet' is awkward; 'before the Internet' is clearer.",
                    "context": "I appreciate the advancements in language learning. It's simpler than it was before the Internet. Resources are now more accessible."
                },
                {
                    "original": "Change to learn a lot of languages.",
                    "corrected": "Change is necessary to learn a lot of languages.",
                    "explanation": "The sentence is incomplete; 'Change' needs a verb to clarify its meaning.",
                    "context": "Learning requires adaptation. Change is necessary to learn a lot of languages. Embracing new methods can enhance the experience."
                }
            ]
        }
    },
    "vocabulary": {
        "vocabulary_1": {
            "vocabulary_list": [
                {
                    "word": "Occupied",
                    "definition": "Being used or filled; not available for others.",
                    "context": {
                        "Context 1": "Today your room is occupied by your dog.",
                        "Context 2": "The conference room is occupied, so we need to find another place to meet.",
                        "Context 3": "The park was occupied by families enjoying a picnic on the sunny day."
                    }
                },
                {
                    "word": "Worry",
                    "definition": "To feel anxious or concerned about something.",
                    "context": {
                        "Context 1": "I feel more worry about this presentation.",
                        "Context 2": "She tends to worry too much about her grades.",
                        "Context 3": "He didn't worry about the storm because he was well-prepared."
                    }
                },
                {
                    "word": "Phenomena",
                    "definition": "Observable events or occurrences, especially those that are unusual or remarkable.",
                    "context": {
                        "Context 1": "Like phenomena, the birds singing in the morning is a beautiful experience.",
                        "Context 2": "The Northern Lights are one of nature's most stunning phenomena.",
                        "Context 3": "The phenomena of migration can be seen in many animal species."
                    }
                },
                {
                    "word": "Graduation",
                    "definition": "The ceremony of receiving a degree or diploma upon completion of a course of study.",
                    "context": {
                        "Context 1": "It is a prom, like graduation party.",
                        "Context 2": "Her graduation was a proud moment for her family.",
                        "Context 3": "Many students celebrate their graduation with a big party."
                    }
                },
                {
                    "word": "Presentation",
                    "definition": "A formal display or demonstration of information to an audience.",
                    "context": {
                        "Context 1": "I didn't have my presentation this week.",
                        "Context 2": "He prepared a great presentation on climate change for his class.",
                        "Context 3": "The presentation on the new product was very engaging."
                    }
                },
                {
                    "word": "Subtitles",
                    "definition": "Text displayed at the bottom of a screen that translates or transcribes the dialogue.",
                    "context": {
                        "Context 1": "On Google Meet we have subtitles.",
                        "Context 2": "I prefer watching movies with subtitles so I can understand better.",
                        "Context 3": "The subtitles helped me follow along with the foreign film."
                    }
                },
                {
                    "word": "Occupied",
                    "definition": "Being used or filled; not available for others.",
                    "context": {
                        "Context 1": "The bathroom is occupied, so you'll have to wait.",
                        "Context 2": "The hotel was fully occupied during the holiday season.",
                        "Context 3": "He occupied his time by reading books during the summer."
                    }
                },
                {
                    "word": "Phenomena",
                    "definition": "Observable events or occurrences, especially those that are unusual or remarkable.",
                    "context": {
                        "Context 1": "The phenomena of birds singing in the morning is a beautiful experience.",
                        "Context 2": "The solar eclipse is a rare astronomical phenomena.",
                        "Context 3": "Many natural phenomena can be explained by science."
                    }
                },
                {
                    "word": "Weather",
                    "definition": "The state of the atmosphere at a specific place and time, including temperature, humidity, and precipitation.",
                    "context": {
                        "Context 1": "Today is not very sunny; I want to see sunny weather.",
                        "Context 2": "The weather forecast predicts rain for the weekend.",
                        "Context 3": "He loves to go hiking, regardless of the weather."
                    }
                },
                {
                    "word": "Holidays",
                    "definition": "Days of celebration or observance, often marked by a break from work or school.",
                    "context": {
                        "Context 1": "In Russia, there are multiple holidays that go one after another.",
                        "Context 2": "We always travel during the holidays to visit family.",
                        "Context 3": "The holidays are a time for relaxation and family gatherings."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Worry",
                    "fact": "Did you know that worrying is like a rocking chair? It gives you something to do but gets you nowhere!"
                },
                {
                    "word": "Graduation",
                    "fact": "In some countries, graduation caps are thrown in the air to celebrate, but in others, they are just used to hold snacks!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "What do you call a teacher who never farts in public?",
                    "answer": "A private tutor!"
                }
            ]
        },
        "vocabulary_2": {
            "vocabulary_list": [
                {
                    "word": "Classmate",
                    "definition": "A person who is in the same class as another student.",
                    "context": {
                        "Context 1": "One of my classmates from my last school is now studying with me.",
                        "Context 2": "My classmate just won a scholarship to study abroad.",
                        "Context 3": "During the summer, my classmate and I volunteered at a local charity."
                    }
                },
                {
                    "word": "Convince",
                    "definition": "To persuade someone to do something.",
                    "context": {
                        "Context 1": "Was it him who convinced you to drop out of that last school?",
                        "Context 2": "She tried to convince her parents to let her go to the concert.",
                        "Context 3": "The advertisement aimed to convince customers to buy the new product."
                    }
                },
                {
                    "word": "Education",
                    "definition": "The process of receiving or giving systematic instruction, especially at a school or university.",
                    "context": {
                        "Context 1": "It's a more good education in my school where I study now.",
                        "Context 2": "He believes that education is the key to success.",
                        "Context 3": "Many countries invest heavily in education to improve their workforce."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "Practical contact with and observation of facts or events.",
                    "context": {
                        "Context 1": "It was a very good experience for me because I never talked with strangers.",
                        "Context 2": "Her experience in the field made her a valuable asset to the team.",
                        "Context 3": "Traveling abroad can be a life-changing experience."
                    }
                },
                {
                    "word": "Stranger",
                    "definition": "A person whom one does not know.",
                    "context": {
                        "Context 1": "It was very weird for me that I just started to speak with a stranger.",
                        "Context 2": "The stranger offered to help me find my way in the city.",
                        "Context 3": "She felt uneasy when a stranger approached her in the park."
                    }
                },
                {
                    "word": "Vocational School",
                    "definition": "An educational institution that prepares students for a specific trade or career.",
                    "context": {
                        "Context 1": "In Kalextan, after ninth grade, it's called a vocational school.",
                        "Context 2": "He decided to attend a vocational school to learn plumbing.",
                        "Context 3": "Vocational schools often have strong ties to local businesses for job placements."
                    }
                },
                {
                    "word": "Memories",
                    "definition": "The faculty by which the mind stores and remembers information.",
                    "context": {
                        "Context 1": "I love a lot of memories with my school and my classmates.",
                        "Context 2": "The photo album is filled with memories from our family vacations.",
                        "Context 3": "He often reminisces about the memories he made during his childhood."
                    }
                },
                {
                    "word": "Kind",
                    "definition": "Having a friendly, generous, and considerate nature.",
                    "context": {
                        "Context 1": "The teachers are very kind at my current school.",
                        "Context 2": "She has a kind heart and always helps those in need.",
                        "Context 3": "Being kind to others can improve your own happiness."
                    }
                },
                {
                    "word": "Troubles",
                    "definition": "Problems or difficulties that cause distress.",
                    "context": {
                        "Context 1": "Of course, I have a lot of troubles with my study.",
                        "Context 2": "He faced many troubles while trying to start his own business.",
                        "Context 3": "The car troubles delayed our trip by several hours."
                    }
                },
                {
                    "word": "International",
                    "definition": "Existing, occurring, or carried on between nations.",
                    "context": {
                        "Context 1": "In Almaty, I didn’t know that there are a lot of international people.",
                        "Context 2": "The international conference brought together experts from around the world.",
                        "Context 3": "She enjoys international cuisine and loves trying new dishes from different cultures."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Classmate",
                    "fact": "Did you know that in some schools, students are assigned to classes based on their favorite colors?"
                },
                {
                    "word": "Stranger",
                    "fact": "In some cultures, it’s considered polite to greet strangers with a dance instead of a handshake!"
                },
                {
                    "word": "Education",
                    "fact": "The world's oldest university, the University of Bologna, was founded in 1088 and still operates today!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the student bring a ladder to school?",
                    "answer": "Because they wanted to go to high school!"
                },
                {
                    "question": "Why did the math book look sad?",
                    "answer": "Because it had too many problems!"
                }
            ]
        },
        "vocabulary_3": {
            "vocabulary_list": [
                {
                    "word": "Polyglot",
                    "definition": "A person who knows and is able to use several languages.",
                    "context": {
                        "Context 1": "He was a polyglot, fluent in five languages, which amazed everyone at the conference.",
                        "Context 2": "The polyglot ordered food in three different languages during his travels.",
                        "Context 3": "She became a polyglot after years of studying various languages in school."
                    }
                },
                {
                    "word": "Hobby",
                    "definition": "An activity done regularly in one's leisure time for pleasure.",
                    "context": {
                        "Context 1": "He mentioned that participating in the Olympic games was just his hobby.",
                        "Context 2": "Her hobby of painting helps her relax after a long day at work.",
                        "Context 3": "Gardening became his favorite hobby during the pandemic."
                    }
                },
                {
                    "word": "Stranger",
                    "definition": "A person whom one does not know.",
                    "context": {
                        "Context 1": "After the event, I felt good talking to strangers on the street.",
                        "Context 2": "The stranger at the bus stop offered me his umbrella when it started to rain.",
                        "Context 3": "She felt nervous approaching a stranger to ask for directions."
                    }
                },
                {
                    "word": "Experience",
                    "definition": "Practical contact with and observation of facts or events.",
                    "context": {
                        "Context 1": "It was a very interesting experience to speak with international people.",
                        "Context 2": "His experience in the culinary arts led him to open his own restaurant.",
                        "Context 3": "Traveling abroad was an unforgettable experience for her."
                    }
                },
                {
                    "word": "Traditional",
                    "definition": "Existing in or as part of a tradition; long-established.",
                    "context": {
                        "Context 1": "It's interesting to learn about their traditional customs and lifestyles.",
                        "Context 2": "The traditional dance was performed at the cultural festival.",
                        "Context 3": "He prefers traditional books over e-books."
                    }
                },
                {
                    "word": "Foreigner",
                    "definition": "A person born in or coming from a country other than one's own.",
                    "context": {
                        "Context 1": "As a foreigner, I find it fascinating to learn about different cultures.",
                        "Context 2": "The foreigner struggled to understand the local dialect.",
                        "Context 3": "She felt like a foreigner when she moved to a new city."
                    }
                },
                {
                    "word": "Accent",
                    "definition": "A distinctive mode of pronunciation of a language, especially one associated with a particular nation, locality, or social class.",
                    "context": {
                        "Context 1": "He had a very terrible accent when speaking English, which made it hard to understand.",
                        "Context 2": "Her British accent was charming and drew compliments from her friends.",
                        "Context 3": "The actor worked hard to perfect his Southern accent for the role."
                    }
                },
                {
                    "word": "Materials",
                    "definition": "The substance or substances from which a thing is made or can be made.",
                    "context": {
                        "Context 1": "There are many more studying materials available for English speakers learning French.",
                        "Context 2": "The artist used various materials, including clay and paint, for her sculpture.",
                        "Context 3": "The school provided all the necessary materials for the science project."
                    }
                },
                {
                    "word": "Struggle",
                    "definition": "To make forceful or violent efforts to get free of restraint or constriction.",
                    "context": {
                        "Context 1": "German people struggle with English just as much as Russian people do.",
                        "Context 2": "He had to struggle against his fears to give the presentation.",
                        "Context 3": "The athlete's struggle to win the championship was inspiring."
                    }
                },
                {
                    "word": "Dabble",
                    "definition": "To take part in an activity in a casual or superficial way.",
                    "context": {
                        "Context 1": "When I wanted to dabble in Italian, I grabbed an Italian-English starter book.",
                        "Context 2": "She decided to dabble in photography as a new hobby.",
                        "Context 3": "He likes to dabble in different cooking styles but hasn't mastered any."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Polyglot",
                    "fact": "The word 'polyglot' comes from the Greek word 'polyglōttos,' meaning 'speaking many languages.'"
                },
                {
                    "word": "Accent",
                    "fact": "Did you know that there are over 160 different accents in the English language alone?"
                },
                {
                    "word": "Hobby",
                    "fact": "The most common hobby in the world is reading, but some people collect unusual things like rubber ducks!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the polyglot bring a ladder to the bar?",
                    "answer": "Because they heard the drinks were on the house!"
                },
                {
                    "question": "What did one language say to the other?",
                    "answer": "I think we need to have a conversation, but let's not get lost in translation!"
                }
            ]
        },
        "vocabulary_4": {
            "vocabulary_list": [
                {
                    "word": "Motivation",
                    "definition": "The reason or reasons one has for acting or behaving in a particular way.",
                    "context": {
                        "Context 1": "Learning a new language requires strong motivation to keep going.",
                        "Context 2": "His motivation for running marathons is to stay healthy and fit.",
                        "Context 3": "She found her motivation to paint again after visiting an art gallery."
                    }
                },
                {
                    "word": "Abandon",
                    "definition": "To leave behind or give up completely.",
                    "context": {
                        "Context 1": "You need to abandon your old habits to learn a new language effectively.",
                        "Context 2": "He decided to abandon his plans for a vacation due to work commitments.",
                        "Context 3": "The dog was abandoned at the shelter and needed a new home."
                    }
                },
                {
                    "word": "Complex",
                    "definition": "Consisting of many different and connected parts; complicated.",
                    "context": {
                        "Context 1": "Learning Chinese can be complex due to its characters and tones.",
                        "Context 2": "The plot of the movie was too complex for me to follow.",
                        "Context 3": "She explained the complex recipe step by step to make it easier."
                    }
                },
                {
                    "word": "Familiar",
                    "definition": "Well-known from long or close association.",
                    "context": {
                        "Context 1": "You need to become familiar with the new language's grammar rules.",
                        "Context 2": "The song sounded familiar, but I couldn't remember where I had heard it.",
                        "Context 3": "He felt familiar with the city after living there for several years."
                    }
                },
                {
                    "word": "Communicate",
                    "definition": "To share or exchange information, news, or ideas.",
                    "context": {
                        "Context 1": "Being able to communicate in multiple languages opens many doors.",
                        "Context 2": "They use gestures to communicate when they don’t share a common language.",
                        "Context 3": "The teacher encouraged students to communicate their thoughts openly."
                    }
                },
                {
                    "word": "Perspective",
                    "definition": "A particular attitude toward or way of regarding something; a point of view.",
                    "context": {
                        "Context 1": "Learning a new language can give you a different perspective on culture.",
                        "Context 2": "From her perspective, the project was a success despite the challenges.",
                        "Context 3": "His perspective on life changed after traveling abroad."
                    }
                },
                {
                    "word": "Challenge",
                    "definition": "A task or situation that tests someone's abilities.",
                    "context": {
                        "Context 1": "Learning a new language is a challenge that many people embrace.",
                        "Context 2": "The challenge of climbing the mountain excited the adventurers.",
                        "Context 3": "She faced the challenge of balancing work and study."
                    }
                },
                {
                    "word": "Choice",
                    "definition": "An act of selecting or making a decision when faced with two or more possibilities.",
                    "context": {
                        "Context 1": "Having the choice to learn different languages is a privilege.",
                        "Context 2": "He had to make a choice between studying abroad or starting a job.",
                        "Context 3": "The restaurant offered a choice of vegetarian or non-vegetarian dishes."
                    }
                },
                {
                    "word": "Understand",
                    "definition": "To grasp the meaning, significance, or nature of something.",
                    "context": {
                        "Context 1": "To learn a language, you must understand its structure and vocabulary.",
                        "Context 2": "I understand the importance of saving money for the future.",
                        "Context 3": "She couldn't understand why he was upset."
                    }
                },
                {
                    "word": "Explore",
                    "definition": "To travel through an unfamiliar area to learn about it.",
                    "context": {
                        "Context 1": "You can explore different cultures by learning their languages.",
                        "Context 2": "They plan to explore the national park this weekend.",
                        "Context 3": "He loves to explore new recipes in the kitchen."
                    }
                }
            ],
            "funny_facts": [
                {
                    "word": "Abandon",
                    "fact": "Did you know that the word 'abandon' comes from the Old French 'abandonner', which means 'to give up' or 'to yield'? So, if you abandon your diet, you're just yielding to your cravings!"
                },
                {
                    "word": "Motivation",
                    "fact": "Interestingly, the word 'motivation' is derived from the Latin 'movere', which means 'to move'. So, if you lack motivation, it might be time to get moving!"
                }
            ],
            "jokes": [
                {
                    "question": "Why did the language teacher go to jail?",
                    "answer": "Because she had too many sentences!"
                },
                {
                    "question": "Why did the student bring a ladder to class?",
                    "answer": "Because they wanted to go to high school!"
                }
            ]
        }
    },
    "dialogue": {
        "dialogue_1": {
            "dialogue_list": [
                {
                    "Person 1": "Hey, good morning! How's it going?"
                },
                {
                    "Person 2": "Morning! I'm doing well, just trying to wake up a bit. How about you?"
                },
                {
                    "Person 1": "Same here! Did you have breakfast yet?"
                },
                {
                    "Person 2": "Yeah, I had some toast and coffee. What about you?"
                },
                {
                    "Person 1": "I just had a smoothie. Trying to be healthy, you know?"
                },
                {
                    "Person 2": "Nice! I should probably start doing that instead of cereal every day."
                },
                {
                    "Person 1": "Cereal's good, but smoothies are a game changer. You can throw in anything!"
                },
                {
                    "Person 2": "True! I might give it a shot. By the way, how's your dog doing?"
                },
                {
                    "Person 1": "He's great! Just a bundle of energy, as usual. Keeps me on my toes."
                },
                {
                    "Person 2": "Haha, I can imagine! Do you take him for walks every day?"
                },
                {
                    "Person 1": "Yeah, usually in the evening. Mornings are too hectic for me."
                },
                {
                    "Person 2": "I get that. So, any plans for the weekend?"
                },
                {
                    "Person 1": "Thinking about going hiking if the weather's nice. How about you?"
                },
                {
                    "Person 2": "I might just relax and catch up on some shows. I need a chill weekend."
                },
                {
                    "Person 1": "Sounds good! Sometimes you just need to recharge."
                },
                {
                    "Person 2": "Exactly! Plus, I’ve got a few episodes of that new series to binge."
                },
                {
                    "Person 1": "Oh, which one? I’ve heard good things about it."
                },
                {
                    "Person 2": "It’s called 'The Last Stand.' Super intense!"
                },
                {
                    "Person 1": "I’ll have to check it out! I need something new to watch."
                },
                {
                    "Person 2": "For sure! Let me know what you think once you start it."
                },
                {
                    "Person 1": "Will do! Alright, I should get going. Catch you later!"
                },
                {
                    "Person 2": "See you later! Enjoy your day!"
                }
            ]
        },
        "dialogue_2": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! How's it going? Did you have a good weekend?"
                },
                {
                    "Person 2": "Hey! Yeah, it was pretty good. I went hiking with some friends. How about you?"
                },
                {
                    "Person 1": "Nice! I just relaxed at home and caught up on some shows. I finally started that series everyone’s been talking about."
                },
                {
                    "Person 2": "Oh, which one? The one with the dragons?"
                },
                {
                    "Person 1": "No, not that one! I started watching that new mystery show. It’s really gripping!"
                },
                {
                    "Person 2": "Cool! I’ve heard good things about that. How many episodes did you binge?"
                },
                {
                    "Person 1": "Just three, but I could have kept going! The cliffhangers are killer."
                },
                {
                    "Person 2": "I know the feeling! I did the same thing with that show last month. I ended up watching the whole season in two days."
                },
                {
                    "Person 1": "Wow, that’s impressive! I don’t know if I could do that. I’d feel guilty for not being productive."
                },
                {
                    "Person 2": "I get that! But sometimes you just need to unwind, you know? What else did you do?"
                },
                {
                    "Person 1": "I also tried cooking a new recipe. It turned out pretty well, surprisingly!"
                },
                {
                    "Person 2": "Awesome! What did you make?"
                },
                {
                    "Person 1": "I made a pasta dish with homemade sauce. It was a bit of a mess, but it tasted great!"
                },
                {
                    "Person 2": "Sounds delicious! I need to try cooking more. I usually just stick to easy stuff."
                },
                {
                    "Person 1": "Same here! But it’s fun to experiment sometimes. We should have a cooking night together!"
                },
                {
                    "Person 2": "Definitely! Let’s plan it. I’ll bring the ingredients!"
                },
                {
                    "Person 1": "Perfect! Can’t wait to see what we come up with."
                }
            ]
        },
        "dialogue_3": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Did you hear about that guy who’s training for the Olympics?"
                },
                {
                    "Person 2": "Yeah! I heard he’s on the swimming team. That’s pretty cool!"
                },
                {
                    "Person 1": "Right? I think it’s awesome how dedicated he is. I can barely swim a lap without getting tired."
                },
                {
                    "Person 2": "Same here! I can’t imagine the amount of work he puts in every day."
                },
                {
                    "Person 1": "And he’s a polyglot too! I heard he speaks several languages."
                },
                {
                    "Person 2": "Wow, that’s impressive! I struggle with just one language sometimes."
                },
                {
                    "Person 1": "I know what you mean! I tried learning Spanish, but I keep mixing it up with French."
                },
                {
                    "Person 2": "Haha, that happens! I’ve been thinking about picking up a new language too."
                },
                {
                    "Person 1": "Which one? Maybe we can learn together!"
                },
                {
                    "Person 2": "I was thinking about Italian. It sounds so beautiful!"
                },
                {
                    "Person 1": "Italian is great! Plus, it would be fun to practice with some Italian food recipes."
                },
                {
                    "Person 2": "Exactly! I could use more pasta in my life."
                },
                {
                    "Person 1": "So, when do we start? Maybe this weekend?"
                },
                {
                    "Person 2": "Sounds like a plan! Let’s grab some Italian food to celebrate our new learning journey!"
                },
                {
                    "Person 1": "Perfect! I’m already looking forward to it."
                }
            ]
        },
        "dialogue_4": {
            "dialogue_list": [
                {
                    "Person 1": "Hey! Have you thought about learning a new language?"
                },
                {
                    "Person 2": "Actually, yeah! I’ve been thinking about picking up Spanish. It seems really useful."
                },
                {
                    "Person 1": "Nice choice! Spanish is super popular. A lot of people speak it."
                },
                {
                    "Person 2": "Exactly! I feel like it would help me connect with more people."
                },
                {
                    "Person 1": "For sure! Plus, it’s a fun language to learn. Do you have any motivation for it?"
                },
                {
                    "Person 2": "Well, I have a friend who speaks Spanish fluently. I’d love to chat with him in his language."
                },
                {
                    "Person 1": "That’s a great reason! Having someone to practice with makes a big difference."
                },
                {
                    "Person 2": "Definitely! I’ve tried learning before, but I lost interest because I didn’t have anyone to talk to."
                },
                {
                    "Person 1": "Yeah, that’s tough. It helps to have a goal, like wanting to communicate with someone."
                },
                {
                    "Person 2": "Exactly! And I think it’s cool to be able to understand different cultures through their languages."
                },
                {
                    "Person 1": "Totally! Plus, with all the shows and apps available now, learning is easier than ever."
                },
                {
                    "Person 2": "Right? I’ve been watching some shows in Spanish to get the hang of it."
                },
                {
                    "Person 1": "That’s a smart move! I heard 'Friends' has a Spanish version. You should check it out!"
                },
                {
                    "Person 2": "Great idea! I’ll definitely give it a try. Thanks for the suggestion!"
                },
                {
                    "Person 1": "No problem! Let’s catch up later and see how it’s going."
                },
                {
                    "Person 2": "Sounds good! I’ll keep you posted. Bye for now!"
                }
            ]
        }
    }
}


            // Set parts_number from json_content
            let parts_number = json_content.parts_number || 0;

        // References to sections
        const partsSection = document.getElementById('partsSection');
        const contentSection = document.getElementById('contentSection');
        const displaySection = document.getElementById('displaySection');

        let activePart = null; // Track the active part

        // Function to create Part buttons
        function createPartButtons() {
            for (let i = 1; i <= parts_number; i++) {
                let button = document.createElement("button");
                button.textContent = "Part " + i;
                button.onclick = () => showContentButtons(i, button);
                partsSection.appendChild(button);
            }
        }

        // Function to show Mistakes, Vocabulary, and Dialogue buttons
        function showContentButtons(part, button) {
            // Reset previous part selection
            document.querySelectorAll(".part-buttons button").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Clear previous content buttons and displayed content
            contentSection.innerHTML = "";
            contentSection.classList.remove("hidden");
            displaySection.innerHTML = "";

            activePart = part; // Update active part

            let sections = ["Mistakes", "Vocabulary", "Dialogue"];
            sections.forEach(section => {
                let secButton = document.createElement("button");
                secButton.textContent = section;
                secButton.onclick = () => {
                    secButton.classList.add("loading"); // Add flashing effect
                    displayContent(section, part, secButton);
                };
                contentSection.appendChild(secButton);
            });
        }

        // Function to display selected content
        function displayContent(type, part, button) {
            let dataKey = type.toLowerCase(); // "mistakes", "vocabulary", "dialogue"
            let partKey = dataKey + "_" + part; // e.g., "mistakes_1"

            if (json_content[dataKey] && json_content[dataKey][partKey]) {
                let contentData = json_content[dataKey][partKey];

                if (dataKey === "mistakes") {
                    appendContent(displayMistakes(contentData), part, type, button);
                } else if (dataKey === "vocabulary") {
                    appendContent(displayVocabulary(contentData), part, type, button);
                } else if (dataKey === "dialogue") {
                    appendContent(displayDialogue(contentData), part, type, button);
                }
            }
        }

        // Append content while keeping existing sections
        function appendContent(html, part, type, button) {
            let sectionID = `part${part}-${type}`;
            let existingSection = document.getElementById(sectionID);

            if (!existingSection) {
                let newSection = document.createElement("div");
                newSection.id = sectionID;
                newSection.classList.add("section-content");
                newSection.innerHTML = html;
                displaySection.appendChild(newSection);

                // Remove animation, keep the button highlighted
                button.classList.remove("loading");
                button.classList.add("active");
            }
        }

        // Function to display Mistakes content
        function displayMistakes(data) {
            let html = "<h3>Mistakes</h3>";
            data.mistakes_list.forEach(mistake => {
                html += `<p><b>Original:</b> ${mistake.original}</p>`;
                html += `<p><b>Corrected:</b> <b> ${mistake.corrected}</b></p>`;
                html += `<p><b>Explanation:</b> ${mistake.explanation}</p>`;
                html += `<p><b>Context:</b> <i> ${mistake.context}</i></p>`;
                html += `<hr><br>`; /* Adds an extra blank line */
            });
            return html;
        }





        // Function to display Vocabulary content
        function displayVocabulary(data) {
            let html = "<h3>Vocabulary</h3>";

            // Helper function: Preserve case in context replacement
            function formatContextSentence(sentence, word) {
                const regex = new RegExp(`\\b${word}\\b`, "gi"); // Case-insensitive exact word match
                return sentence.replace(regex, (match) => {
                    return `<span class="bold-italic">${match}</span>`; // Keeps match's case
                });
            }

            // Vocabulary Section
            data.vocabulary_list.forEach((entry, index) => {
                // Word Entry
                html += `<p class="entry-box"> <span class="word">${index + 1}. ${entry.word}</span></p>`;

                // Definition Box
                html += `<div class="definition-box"><span class="bold">Definition:</span> ${entry.definition}</div>`;

                // Context Sentences
                html += "<p>";
                Object.values(entry.context).forEach((sentence, i) => {
                    const formattedSentence = formatContextSentence(sentence, entry.word);
                    html += `<br><span class="bold">Context ${i + 1}:</span> <span class="italic">${formattedSentence}</span>`;
                });
                html += "</p>";
            });

            // Funny Facts Section
            if (data.funny_facts.length > 0) {
                html += `<div class="section-title purple-section">Funny Facts</div>`;
                data.funny_facts.forEach((fact, index) => {
                    html += `<div class="fact-box">
                <p class="fact"><span class="bold">${index + 1}. ${fact.word}:</span> ${fact.fact}</p>
             </div>`;
                });
            }

            // Jokes Section
            if (data.jokes.length > 0) {
                html += `<div class="section-title purple-section">Jokes</div>`;
                data.jokes.forEach((joke, index) => {
                    html += `<div class="joke-box">
                <p class="joke-question">${index + 1}. ${joke.question}</p>
                <p class="italic joke">${joke.answer}</p>
             </div>`;
                });
            }

            return html; // Returning the generated HTML instead of inserting it directly
        }

        function displayDialogue(data) {
            let html = `<div class="dialogue-container">`;
            html += "<h3>Dialogue</h3>";

            data.dialogue_list.forEach(entry => {
                const speaker = Object.keys(entry)[0];
                const line = entry[speaker];

                html += `<div class="line ${speaker === "Person 1" ? 'person-1' : 'person-2'}">
                    <span class="speaker">${speaker}:</span> ${line}
                 </div>`;
            });

            html += `</div>`;
            return html;
        }





        // Initialize part buttons
        createPartButtons();
    </script>

</body>

</html>